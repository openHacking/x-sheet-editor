{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/svg/cell.png","webpack:///./assets/svg/s-resize.png","webpack:///./assets/svg/e-resize.png","webpack:///./src/config.js","webpack:///./src/utils/Utils.js","webpack:///./src/lib/Element.js","webpack:///./src/lib/Widget.js","webpack:///./src/lib/layer/VerticalLayer.js","webpack:///./src/lib/layer/VerticalLayerElement.js","webpack:///./src/core/work/tools/Icon.js","webpack:///./src/core/work/tools/base/Item.js","webpack:///./src/core/work/tools/Undo.js","webpack:///./src/core/work/tools/Redo.js","webpack:///./src/core/work/tools/PaintFormat.js","webpack:///./src/core/work/tools/ClearFormat.js","webpack:///./src/core/work/tools/base/DropDownItem.js","webpack:///./src/utils/Constant.js","webpack:///./src/utils/EventBind.js","webpack:///./src/component/scrollbar/ScrollBarX.js","webpack:///./src/component/scrollbar/ScrollBarY.js","webpack:///./src/lib/layer/HorizontalLayerElement.js","webpack:///./src/lib/layer/HorizontalLayer.js","webpack:///./src/component/elpopup/ElPopUp.js","webpack:///./src/component/elcontextmenu/ELContextMenu.js","webpack:///./src/component/elcontextmenu/ELContextMenuItem.js","webpack:///./src/core/work/contextmenu/format/FormatContextMenuItem.js","webpack:///./src/component/elcontextmenu/ELContextMenuDivider.js","webpack:///./src/core/work/contextmenu/format/FormatContextMenu.js","webpack:///./src/core/work/tools/Format.js","webpack:///./src/core/work/contextmenu/font/FontContextMenuItem.js","webpack:///./src/core/work/contextmenu/font/FontContextMenu.js","webpack:///./src/core/work/tools/Font.js","webpack:///./src/core/work/contextmenu/fontsize/FontSizeContextMenuItem.js","webpack:///./src/core/work/contextmenu/fontsize/FontSizeContextMenu.js","webpack:///./src/core/work/tools/FontSize.js","webpack:///./src/core/work/tools/FontBold.js","webpack:///./src/core/work/tools/FontItalic.js","webpack:///./src/core/work/tools/UnderLine.js","webpack:///./src/core/work/tools/FontStrike.js","webpack:///./src/core/work/contextmenu/fontcolor/FontColorContextMenuItem.js","webpack:///./src/component/dragpanel/DragPanel.js","webpack:///./src/component/colorpicker/ColorPicker.js","webpack:///./src/component/colorarray/ColorItem.js","webpack:///./src/component/colorarray/ColorArray.js","webpack:///./src/core/work/contextmenu/fontcolor/FontColorContextMenu.js","webpack:///./src/core/work/tools/FontColor.js","webpack:///./src/core/work/contextmenu/fillcolor/FillColorContextMenuItem.js","webpack:///./src/core/work/contextmenu/fillcolor/FillColorContextMenu.js","webpack:///./src/core/work/tools/FillColor.js","webpack:///./src/core/work/contextmenu/border/bordertype/BorderTypeContextMenuItem.js","webpack:///./src/core/work/tools/border/BorderIcon1.js","webpack:///./src/core/work/tools/border/BorderIcon2.js","webpack:///./src/core/work/tools/border/BorderIcon3.js","webpack:///./src/core/work/tools/border/BorderIcon4.js","webpack:///./src/core/work/tools/border/BorderIcon5.js","webpack:///./src/core/work/tools/border/BorderIcon6.js","webpack:///./src/core/work/tools/border/BorderIcon7.js","webpack:///./src/core/work/tools/border/BorderIcon8.js","webpack:///./src/core/work/tools/border/BorderIcon9.js","webpack:///./src/core/work/tools/border/BorderIcon10.js","webpack:///./src/core/work/tools/border/BorderColor.js","webpack:///./src/core/work/tools/border/BorderType.js","webpack:///./src/core/work/contextmenu/border/bordercolor/BorderColorContextMenuItem.js","webpack:///./src/core/work/contextmenu/border/bordercolor/BorderColorContextMenu.js","webpack:///./src/core/work/contextmenu/border/linetype/LineTypeContextMenuItem.js","webpack:///./src/core/work/contextmenu/border/linetype/LineTypeContextMenu.js","webpack:///./src/canvas/Line.js","webpack:///./src/core/work/contextmenu/border/bordertype/BorderTypeContextMenu.js","webpack:///./src/core/work/tools/border/Border.js","webpack:///./src/core/work/tools/Merge.js","webpack:///./src/core/work/tools/horizontal/HorizontalIcon1.js","webpack:///./src/core/work/tools/horizontal/HorizontalIcon2.js","webpack:///./src/core/work/tools/horizontal/HorizontalIcon3.js","webpack:///./src/core/work/contextmenu/horizontal/HorizontalContextMenuItem.js","webpack:///./src/canvas/Crop.js","webpack:///./src/canvas/Draw.js","webpack:///./src/canvas/Rect.js","webpack:///./src/canvas/DrawAngle.js","webpack:///./src/canvas/Font.js","webpack:///./src/core/work/contextmenu/horizontal/HorizontalContextMenu.js","webpack:///./src/core/work/tools/HorizontalAlign.js","webpack:///./src/core/work/contextmenu/vertical/VerticalContextMenuItem.js","webpack:///./src/core/work/tools/vertical/VerticalIcon1.js","webpack:///./src/core/work/tools/vertical/VerticalIcon2.js","webpack:///./src/core/work/tools/vertical/VerticalIcon3.js","webpack:///./src/core/work/contextmenu/vertical/VerticalContextMenu.js","webpack:///./src/core/work/tools/VerticalAlign.js","webpack:///./src/core/work/tools/textwrapping/TextWrappingIcon1.js","webpack:///./src/core/work/tools/textwrapping/TextWrappingIcon2.js","webpack:///./src/core/work/tools/textwrapping/TextWrappingIcon3.js","webpack:///./src/core/work/contextmenu/textwrapping/TextWrappingContextMenuItem.js","webpack:///./src/core/work/contextmenu/textwrapping/TextWrappingContextMenu.js","webpack:///./src/core/work/tools/TextWrapping.js","webpack:///./src/core/work/tools/Fixed.js","webpack:///./src/core/work/tools/Filter.js","webpack:///./src/core/work/tools/Functions.js","webpack:///./src/core/table/copystyle/CopyStyle.js","webpack:///./src/core/table/screen/ScreenWidget.js","webpack:///./src/core/table/RectRange.js","webpack:///./src/core/table/copystyle/ScreenCopyStyle.js","webpack:///./src/core/table/selector/Selector.js","webpack:///./src/core/table/selector/ScreenSelector.js","webpack:///./src/core/table/Cells.js","webpack:///./src/core/table/CellsBorder.js","webpack:///./src/core/work/TopMenu.js","webpack:///./src/core/work/WorkTop.js","webpack:///./src/lib/layer/center/VerticalCenterElement.js","webpack:///./src/lib/layer/center/VerticalCenter.js","webpack:///./src/core/table/Rows.js","webpack:///./src/core/table/Cols.js","webpack:///./src/core/table/Scroll.js","webpack:///./src/core/table/Fixed.js","webpack:///./src/core/table/Merges.js","webpack:///./src/core/table/screen/ScreenElement.js","webpack:///./src/core/table/screen/Screen.js","webpack:///./src/core/table/resizer/XReSizer.js","webpack:///./src/core/table/resizer/YReSizer.js","webpack:///./src/core/table/MousePoint.js","webpack:///./src/core/table/autofill/AutoFill.js","webpack:///./src/core/table/autofill/ScreenAutoFill.js","webpack:///./src/core/table/highlight/XHeightLight.js","webpack:///./src/core/table/highlight/YHeightLight.js","webpack:///./src/core/table/Edit.js","webpack:///./src/canvas/Grid.js","webpack:///./src/canvas/Box.js","webpack:///./src/utils/DateUtils.js","webpack:///./src/core/table/Format.js","webpack:///./src/core/table/GridLineHandle.js","webpack:///./src/core/table/History.js","webpack:///./src/core/table/DataSnapshot.js","webpack:///./src/core/table/BorderLineHandle.js","webpack:///./src/core/table/LineHandle.js","webpack:///./src/core/table/Table.js","webpack:///./src/core/work/Sheet.js","webpack:///./src/core/work/SheetView.js","webpack:///./src/core/work/Tab.js","webpack:///./src/core/work/WorkBody.js","webpack:///./src/core/work/TabView.js","webpack:///./src/core/work/BottomMenu.js","webpack:///./src/core/work/Work.js","webpack:///./src/core/work/WorkBottom.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","cssPrefix","alphabets","throttleHandle","DATA_TYPE","Utils","arg","type","toString","json","JSON","stringify","parse","isUnDef","sources","length","forEach","source","keys","v","Array","isArray","isPlainObject","mergeDeep","assign","test","navigator","userAgent","isEmptyObject","e","obj","getPrototypeOf","objOrAry","cb","total","size","min","max","val","isNumber","parseFloat","parseInt","index","str","idx","ret","charCodeAt","expoNet","src","x","y","charAt","indexAt","stringAt","xn","yn","expr2xy","xy2expr","initS","initV","ifv","getV","time","clearTimeout","setTimeout","target","result","sv","tv","equal","leftChain","rightChain","compare2Objects","isNaN","Date","RegExp","String","Number","isPrototypeOf","constructor","indexOf","push","pop","arguments","a1","a2","window","getSelection","focus","range","selectAllChildren","collapseToEnd","document","selection","createRange","moveToElementText","collapse","select","this","isBlank","trim","now","width","innerWidth","height","innerHeight","Element","tag","className","el","createElement","data","undefined","eventNames","handler","split","fen","oen","eventName","addEventListener","evt","k","button","stopPropagation","css","top","offsetTop","left","offsetLeft","offsetHeight","offsetWidth","scrollLeft","scrollTop","clientHeight","getBoundingClientRect","parentNode","args","childNodes","ele","child","firstChild","lastChild","removeChild","children","insertBefore","appendChild","previousSibling","nextSibling","createTextNode","contains","classList","add","remove","cls","toggleClass","toggle","flag","addClass","removeClass","active","setAttribute","getAttribute","removeAttribute","content","innerHTML","style","removeProperty","getComputedStyle","computedStyle","display","on","show","hide","innerText","sibling","previousElementSibling","nextElementSibling","position","replace","repeat","right","bottom","message","event","CustomEvent","detail","bubbles","cancelable","dispatchEvent","querySelectorAll","eleArray","item","targetEl","body","h","Widget","element","box","pageX","pageY","eleTop","eleLeft","VerticalLayer","options","layerElements","init","layerElement","VerticalLayerElement","flexGrow","Icon","iconNameEl","Item","Undo","icon","Redo","PaintFormat","sheets","sheet","splice","ClearFormat","DropDownItem","drop","title","text","html","px","cssRemoveKeys","Constant","SYSTEM_EVENT_TYPE","MOUSE_MOVE","toLocaleLowerCase","MOUSE_DOWN","MOUSE_UP","MOUSE_OVER","MOUSE_LEAVE","MOUSE_WHEEL","MOUSE_ENTER","CLICK","KEY_DOWN","KEY_UP","DRAG_START","SCROLL","RESIZE","CHANGE","INPUT","VISIBILITY_CHANGE","TABLE_EVENT_TYPE","CHANGE_HEIGHT","CHANGE_WIDTH","DATA_CHANGE","SELECT_CHANGE","SELECT_DOWN","WORK_BODY_TYPE","CHANGE_ACTIVE","EventBind","fn","removeEventListener","moveFunc","upFunc","xEvtUp","unbind","func","ScrollBarX","option","scroll","to","lastBut","nextBut","block","blockLeft","maxBlockLeft","blockWidth","minBlockWidth","scrollTo","contentWidth","viewPortWidth","isHide","evt1","downEventXy","computeEventXy","mouseMoveUp","evt2","computeScrollTo","preventDefault","contentBox","move","maxTo","ScrollBarY","blockTop","maxBlockTop","blockHeight","minBlockHeight","contentHeight","viewPortHeight","HorizontalLayerElement","HorizontalLayer","EL_POPUP_POSITION","TOP","LEFT","BOTTOM","RIGHT","POOL","ElPopUp","off","scrollBarX","scrollBarY","contentLayerHorizontalElement","scrollBarYLayerHorizontalElement","overflow","horizontalLayer","contentVerticalLayerElement","scrollBarXVerticalLayerElement","verticalLayer","filter","close","scrollbar","elBox","maxWidth","maxHeight","offset","setSize","ELContextMenu","menus","elPopUp","open","ELContextMenuItem","pool","FormatContextMenuItem","desc","iconElement","titleElement","descElement","ELContextMenuDivider","FormatContextMenu","onUpdate","items","update","setActive","addItem","first","setTitle","format","Format","copyProp","contextMenu","setWidth","setEllipsis","formatContextMenu","FontContextMenuItem","FontContextMenu","setActiveByType","Font","fontContextMenu","FontSizeContextMenuItem","FontSizeContextMenu","FontSize","fontSizeContextMenu","FontBold","FontItalic","UnderLine","FontStrike","FontColorContextMenuItem","DRAG_PANEL_POSITION","CENTER","DragPanel","mask","viewPort","ColorPicker","selectCb","dragPanel","color","preViewColorPoint","colorValueTips","colorInput","selectColorPoint","selectColorArea1","selectColorArea2","selectColorArea3","center","colorHuxTips","colorBar","colorBarPoint","cancelButton","selectButton","buttons","hex","len","join","hsx","Math","substring","g","b","rgbToHsb","hexToRgb","rgb","hsb","delta","t1","t2","t3","round","nr","rgbToHex","hsbToRgb","startsWith","match","isHex","parseRgb","e1","xy","centerBox","downSelect","e2","moveSelect","colorBarBox","downHue","moveHue","hexColor","fixHsx","colorValue","hsbToHex","isRgb","change","colorBarPointBox","colorBarPointLeft","selectColorPointBox","selectColorPointLeft","selectColorPointTop","areaColorValue","sliderPosition","hueChange","selectChange","hexToHsb","fixHex","ColorItem","isDark","checkedIcon","ColorArray","colors","activeColor","setActiveByColor","FontColorContextMenu","colorPicker","customizeColorArray","colorArray","reset","array","plus","customize","FontColor","fontColorContextMenu","setIcon","setColor","FillColorContextMenuItem","FillColorContextMenu","FillColor","fillColorContextMenu","BorderTypeContextMenuItem","BorderIcon1","BorderIcon2","BorderIcon3","BorderIcon4","BorderIcon5","BorderIcon6","BorderIcon7","BorderIcon8","BorderIcon9","BorderIcon10","BorderColor","BorderType","BorderColorContextMenuItem","BorderColorContextMenu","LineTypeContextMenuItem","typeIcon","LineTypeContextMenu","LINE_TYPE","SOLID_LINE","DOTTED_LINE","POINT_LINE","DOUBLE_LINE","SolidLine","draw","attr","sx","sy","ex","ey","beginPath","lineWidth","strokeStyle","setLineDash","line","DottedLine","dash","DoubleLine","padding","spacing","leftShow","topShow","rightShow","bottomShow","iFMerge","iFMergeFirstRow","iFMergeLastRow","iFMergeFirstCol","iFMergeLastCol","row","col","pos","external","ifMerge","firstRow","lastRow","firstCol","lastCol","sTopLeftCorner","sTop","sBottom","eBottomLeftCorner","eBottom","eTop","sLeft","sRight","eTopRightCorner","eRight","eLeft","sTopRightCorner","eBottomRightCorner","sBottomLeftCorner","internal","handleExternal","handleInternal","Line","solidLine","dottedLine","pointLine","doubleLine","drawLine","BorderTypeContextMenu","borderIcon1","borderIcon2","borderIcon3","borderIcon4","borderIcon5","div1","borderIcon6","borderIcon7","borderIcon8","borderIcon9","borderIcon10","div2","borderIcons","borderColor","borderType","div3","borderColorAndType","borderColorContextMenu","lineTypeContextMenu","closeAll","isOpen","Border","borderTypeContextMenu","Merge","HorizontalIcon1","HorizontalIcon2","HorizontalIcon3","HorizontalContextMenuItem","Crop","rect","save","clip","restore","dpr","devicePixelRatio","floor","npx","angleToRadian","angle","PI","Draw","ctx","getContext","offsetX","offsetY","rotate","clearRect","fill","measureText","moveTo","x1","y1","lineTo","stroke","w","fillRect","fillText","even","nx","ny","Rect","ANGLE_ORIGIN","TOP_LEFT","TOP_CENTER","TOP_RIGHT","MIDDLE_LEFT","MIDDLE_CENTER","MIDDLE_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT","DrawAngle","dw","origin","tx","ty","translate","cos","sin","abs","TrigonometricFunction","ALIGN","VERTICAL_ALIGN","TEXT_WRAP","OVER_FLOW","WORD_WRAP","TRUNCATE","TEXT_DIRECTION","HORIZONTAL","VERTICAL","ANGLE","HorizontalFontDraw","textWidth","verticalAlign","align","underline","strikethrough","crop","paddingH","paddingV","maxTextWidth","PADDING","textArray","textLine","start","hOffset","charWidth","bx","by","textWrap","textAlign","textBaseline","font","italic","bold","fillStyle","drawTextTruncate","drawTextWarp","drawTextOverFlow","VerticalFontDraw","char","boxHeight","textItem","textLen","wOffset","column","last","textHeight","verticalAlignValue","j","AngleFontDraw","trigonometric","trigonometricWidth","cosWidthAngle","trigonometricHeight","sinWidthAngle","rtx","rty","dwAngle","revert","textArrayLen","totalTextHeight","setHeight","textHypotenuseWidth","sinHeightAngle","lineHeight","totalWidth","rx","ry","ax","ay","direction","verticalFontDraw","horizontalFontDraw","angleFontDraw","setTextWrap","HorizontalContextMenu","horizontalIcon1","horizontalIcon2","horizontalIcon3","horizontalIcons","HorizontalAlign","horizontalContextMenu","VerticalContextMenuItem","VerticalIcon1","VerticalIcon2","VerticalIcon3","VerticalContextMenu","verticalIcon1","verticalIcon2","verticalIcon3","verticalIcons","VerticalAlign","verticalContextMenu","TextWrappingIcon1","TextWrappingIcon2","TextWrappingIcon3","TextWrappingContextMenuItem","TextWrappingContextMenu","textWrappingIcon1","textWrappingIcon2","textWrappingIcon3","textWrappingIcons","TextWrapping","textWrappingContextMenu","Fixed","Filter","Functions","svg","CopyStyle","find","ScreenWidget","screen","lt","br","RectRange","sri","sci","eri","eci","ref","refs","ri","ci","rowFilter","other","disjoint","addRet","dsr","dsc","der","dec","multiple","ScreenCopyStyle","selectorAttr","table","frozenLeftTop","cols","rows","grid","viewRange","getViewRange","empty","coincideRange","coincide","equals","sectionSumWidth","sectionSumHeight","expandSize","fixedTop","fixedLeft","setLTOffset","setTOffset","setLOffset","setBROffset","setOffset","Selector","cornerEl","areaEl","transfromData","ScreenSelector","onChangeStack","onSelectChangeStack","onSelectChangeOver","onDownSelectStack","mousePointType","downSelectAttr","getDownXYSelectorAttr","edgeType","moveSelectorAttr","getMoveXySelectorAttr","intersectsArea","edge","ltT","arrayIncludeArray","ltL","tBr","ltTBrL","lBr","ltTLBr","fixed","area","tlRange","fxTop","fxLeft","tRange","lRange","brRange","intersects","getIntersectsArea","setLTCorner","setTCorner","setLCorner","setBrCorner","getFixedWidth","getFixedHeight","merges","getRiCiByXy","merge","getFirstIncludes","selectRect","union","Cells","_","fontAttr","borderAttr","ID","background","cell","getDefaultAttr","getCell","getWidth","tmp","getHeight","checkAttributeIntegrity","rectRange","createNew","getCellOrNew","overFlow","getCellVerticalOverFlowRect","getCellHorizontalOverFlowRect","getCellInRectRange","minSri","maxSri","minSci","maxSci","TypeError","tri","tci","srcCell","getMergeCellOrCell","targetCell","srcBorderAttr","targetBorderAttr","srcTime","targetTime","Divider","TopMenu","workTop","sheetView","work","undo","redo","paintFormat","clearFormat","getActiveSheet","cells","dataSnapshot","findByClass","snapshot","render","fontSize","fontColor","fillColor","border","lineType","fontBold","fontItalic","underLine","fontStrike","horizontalAlign","textWrapping","functions","setStatus","setFormatStatus","setFontStatus","setFontSizeStatus","setFontBoldStatus","setFontItalicStatus","setUnderLineStatus","setFontStrikeStatus","setFontColorStatus","setFillColorStatus","setHorizontalAlignStatus","setVerticalAlignStatus","setTextWrappingStatus","screenCopyStyle","screenSelector","setShow","addSheet","addSelectChangeOverCb","setHide","removeSheet","removeSelectChangeOverCb","newSelectorAttr","clone","deleteIntersects","isEmpty","includeSheet","firstCell","setUndoStatus","setRedoStatus","setPaintFormatStatus","WorkTop","toolsMenu","VerticalCenterElement","VerticalCenter","centerElements","centerElement","Rows","minHeight","minIf","cacheTotalHeight","setData","getOrNew","ei","rowHeight","rangeSum","Cols","minWidth","cacheTotalWidth","colWidth","Scroll","fxRight","Merges","cr","it","within","includes","cellRange","deleteWithin","rn","cn","it1","cbWithin","map","valueOf","ScreenElement","widgets","widget","Screen","focusWidget","setDivideLayer","addWidget","getLT","getT","getL","getBR","settings","fixedWidth","fixedHeight","brLeft","brTop","clazz","XReSizer","hoverEl","lineEl","moveOff","set","getEventLeft","mx","visualHeight","newLeft","visualWidth","YReSizer","getEventTop","my","newTop","MousePointType","ignoreNames","ignoredNames","concat","sResize","eResize","AutoFill","ScreenAutoFill","mergeForceSplit","onBeforeAutoFill","onAfterAutoFill","autoFillAttr","moveAutoFill","getMoveAutoFillAttr","autoFillTo","selectorRect","autoFillSelectorRect","rSize","cSize","selectorSri","selectorSci","selectorEri","selectorEci","minRi","diff","maxRi","minCi","maxCi","autoFillRect","sIndexRi","tIndexRi","sIndexCi","tIndexCi","mergeRect","count","newMerge","mergeCellForceSplit","copyContent","copyMerge","alert","XHeightLight","sRect","tRect","ltViewRange","ltCoincideRange","tViewRange","tCoincideRange","lViewRange","lCoincideRange","cViewRange","cCoincideRange","addChangeCb","offsetHeightLight","YHeightLight","Edit","input","selector","editModel","setCell","dbClick","editOffset","keepLastIndex","getIndexHeight","getIndexWidth","ltWidth","ltHeight","ltTop","ltLeft","tWidth","tHeight","tTop","tLeft","cHeight","lWidth","lHeight","lTop","lLeft","cWidth","Grid","Error","Box","backgroundColor","DateUtils","fmt","date","getMonth","getDate","getHours","getMinutes","getSeconds","S","getMilliseconds","resultYear","exec","yearFormatPart","yearVal","getFullYear","substr","res","Val","formatPart","replaceVal","dateText","defaultVal","reg","year","month","day","hours","minutes","seconds","milliseconds","oneChar","onePart","onePartReg","dataInfo","parserToDate","lastIndex","lastIndexOf","isFraction","toExponential","dateFormat","GridLineHandle","breakpoint","lineHandle","hEach","newRow","jump","handle","endRow","vEach","newCol","endCol","gridHLine","notMerges","notBorderBottom","isDisplayBottomBorder","notBorderTop","isDisplayTopBorder","gridVLine","notBorderRight","isDisplayRightBorder","notBorderLeft","isDisplayLeftBorder","mergesBrink","view","History","onAdd","onPop","onClear","unshift","shift","DataSnapshot","cloneDeep","trigger","getData","clear","BorderLineHandle","drawOptimization","borderOptimization","ck1","borderEqual","ck2","ck3","borderHTLine","borderTop","borderBottom","borderDiff","borderComparisonOfTime","borderHBLine","borderVLLine","borderLeft","borderRight","borderVRLine","LineHandle","coincideView","brink","rectRangeSumHeight","rectRangeSumWidth","FrozenLeftTop","getCellInViewRange","drawBackgroundColor","getMergeCellInViewRange","gridLineHandle","globalAlpha","viewRangeAndMergeCoincideView","coincideViewBrink","hLine","vLine","horizontalLine","verticalLine","hMergeLine","vMergeLine","borderLineHandle","htLine","hbLine","vlLine","vrLine","setType","htMergeLine","hbMergeLine","vlMergeLine","vrMergeLine","getXOffset","getYOffset","drawBackGround","showGrid","drawGrid","drawBorder","drawCells","Content","fixedLeftWidth","fixedTopHeight","totalHeight","FixedLeft","FixedTop","FrozenLeftIndex","eachHeight","ch","FrozenTopIndex","eachWidth","cw","FixedTopIndex","FixedLeftIndex","FrozenRect","defaultSettings","tipsRenderTime","tipsScrollTime","bgColor","Table","canvas","fixedTopIndex","fixedLeftIndex","frozenLeftIndex","frozenTopIndex","frozenRect","xReSizer","yReSizer","xHeightLight","yHeightLight","edit","addSelectChangeCb","addDownSelectCb","screenAutoFill","copyStyle","initScreenWidget","resize","enable","openDrawOptimization","closeDrawOptimization","console","checkedEnableBorderDrawOptimization","log","timeEnd","rangeReduceIf","getContentWidth","getContentHeight","Sheet","tableConfig","SheetView","sheetList","activeIndex","number","Tab","setName","sheetViewLayerHorizontalElement","horizontalLayer1","scrollBarXLayerVerticalCenterElement","scrollBarXVerticalCenter","scrollBarXLayerHorizontalElement","sheetSwitchTabLayerHorizontalElement","horizontalLayer2","horizontalLayer1LayerVerticalElement","horizontalLayer2Layer1LayerVerticalElement","layerVerticalLayer","TabView","next","tabs","optiions","tab","onSwitch","tabList","addCurrent","current","WorkBody","workConfig","tabAndSheet","poweredBy","tabView","tabIndex","sheetIndex","setActiveTab","scrollX","scrollY","initSheet","initScroll","scrollMove","setActiveTabIndex","setActiveSheetIndex","setActiveSheet","deltaY","hidden","BottomMenu","sum","avg","topLayerVerticalElement","bodyLayerVerticalElement","bottomLayerVerticalElement","WorkBottom","bottomMenu","Work","setSum","setAvg","setNumber","XSheet","selectors","root","querySelector"],"mappings":"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","file":"XSheet.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = __webpack_public_path__ + \"c4ab8001e109540f7ae6a34181d695d3.png\";","module.exports = __webpack_public_path__ + \"42b436e7c64603182355d52d31ea49f1.png\";","module.exports = __webpack_public_path__ + \"9dfd8685ea7e1e5c025514eec46a4547.png\";","export const cssPrefix = 'x-sheet';\n","// eslint-disable-next-line no-unused-vars\n/* global navigator document window */\n\nconst alphabets = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n\nlet throttleHandle = null;\n\nconst DATA_TYPE = {\n  String: 1,\n  Boolean: 2,\n  Number: 3,\n  Object: 4,\n  Array: 5,\n  Function: 6,\n  Null: 7,\n  Undefined: 8,\n  Promise: 9,\n  GeneratorFunction: 10,\n  AsyncFunction: 11,\n  BigInt: 12,\n  Symbol: 13,\n  Un: 14,\n};\n\nclass Utils {\n  static type(arg) {\n    const type = Object.prototype.toString.call(arg);\n    switch (type) {\n      case '[object Null]':\n        return DATA_TYPE.Null;\n      case '[object Undefined]':\n        return DATA_TYPE.Undefined;\n      case '[object String]':\n        return DATA_TYPE.String;\n      case '[object Boolean]':\n        return DATA_TYPE.Boolean;\n      case '[object Number]':\n        return DATA_TYPE.Number;\n      case '[object Function]':\n        return DATA_TYPE.Function;\n      case '[object Array]':\n        return DATA_TYPE.Array;\n      case '[object Promise]':\n        return DATA_TYPE.Promise;\n      case '[object GeneratorFunction]':\n        return DATA_TYPE.GeneratorFunction;\n      case '[object AsyncFunction]':\n        return DATA_TYPE.AsyncFunction;\n      case '[object BigInt]':\n        return DATA_TYPE.BigInt;\n      case '[object Symbol]':\n        return DATA_TYPE.Symbol;\n      default:\n        return DATA_TYPE.Un;\n    }\n  }\n\n  static cloneDeep(object) {\n    const json = JSON.stringify(object);\n    return JSON.parse(json);\n  }\n\n  static mergeDeep(object = {}, ...sources) {\n    if (Utils.isUnDef(object)) {\n      return {};\n    }\n    if (Utils.isUnDef(sources) || sources.length === 0) {\n      return object;\n    }\n    sources.forEach((source) => {\n      if (Utils.isUnDef(source)) return;\n      Object.keys(source).forEach((key) => {\n        const v = source[key];\n        if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') {\n          object[key] = v;\n        } else if (typeof v !== 'function' && !Array.isArray(v) && Utils.isPlainObject(v)) {\n          object[key] = object[key] || {};\n          Utils.mergeDeep(object[key], v);\n        } else {\n          object[key] = v;\n        }\n      });\n    });\n    return object;\n  }\n\n  static copyProp(t, s) {\n    return Object.assign(t, s);\n  }\n\n  static isMac() {\n    return /macintosh|mac os x/i.test(navigator.userAgent);\n  }\n\n  static isWindows() {\n    return /windows|win32/i.test(navigator.userAgent);\n  }\n\n  static isEmptyObject(object) {\n    // eslint-disable-next-line no-restricted-syntax\n    for (const key in object) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (object.hasOwnProperty(key)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  static isNotEmptyObject(object) {\n    return !Utils.isEmptyObject(object);\n  }\n\n  static isUnDef(e) {\n    return e === undefined || e === null;\n  }\n\n  static isNumber(e) {\n    return /^(-?\\d+.\\d+)$|^(-?\\d+)$/.test(e);\n  }\n\n  static isFraction(e) {\n    return /^\\d+\\/\\d+$/.test(e);\n  }\n\n  static isFunction(e) {\n    const type = Utils.type(e);\n    return type === DATA_TYPE.Function;\n  }\n\n  static isArray(e) {\n    return Utils.type(e) === DATA_TYPE.Array;\n  }\n\n  static isBlank(s) {\n    if (Utils.isUnDef(s)) {\n      return true;\n    }\n    return s.toString() === '';\n  }\n\n  static isPlainObject(obj) {\n    if (Utils.isUnDef(obj)) {\n      return false;\n    }\n    return Object.getPrototypeOf(obj) === Object.getPrototypeOf({});\n  }\n\n  static sum(objOrAry, cb = value => value) {\n    let total = 0;\n    let size = 0;\n    Object.keys(objOrAry).forEach((key) => {\n      total += cb(objOrAry[key], key);\n      size += 1;\n    });\n    return [total, size];\n  }\n\n  static rangeSum(min, max, cb) {\n    let s = 0;\n    for (let i = min; i < max; i += 1) {\n      s += cb(i);\n    }\n    return s;\n  }\n\n  static parseFloat(val) {\n    if (Utils.isNumber(val)) return parseFloat(val);\n    return 0;\n  }\n\n  static parseInt(val) {\n    if (Utils.isNumber(val)) return parseInt(val, 10);\n    return 0;\n  }\n\n  static stringAt(index) {\n    let str = '';\n    let idx = index;\n    while (idx >= alphabets.length) {\n      idx /= alphabets.length;\n      idx -= 1;\n      str += alphabets[parseInt(idx, 10) % alphabets.length];\n    }\n    const last = index % alphabets.length;\n    str += alphabets[last];\n    return str;\n  }\n\n  static indexAt(str) {\n    let ret = 0;\n    for (let i = 0; i < str.length - 1; i += 1) {\n      const idx = str.charCodeAt(i) - 65;\n      const expoNet = str.length - 1 - i;\n      ret += (alphabets.length ** expoNet) + (alphabets.length * idx);\n    }\n    ret += str.charCodeAt(str.length - 1) - 65;\n    return ret;\n  }\n\n  static expr2xy(src) {\n    let x = '';\n    let y = '';\n    for (let i = 0; i < src.length; i += 1) {\n      if (src.charAt(i) >= '0' && src.charAt(i) <= '9') {\n        y += src.charAt(i);\n      } else {\n        x += src.charAt(i);\n      }\n    }\n    return [Utils.indexAt(x), parseInt(y, 10) - 1];\n  }\n\n  static xy2expr(x, y) {\n    return `${Utils.stringAt(x)}${y + 1}`;\n  }\n\n  static expr2expr(src, xn, yn) {\n    const [x, y] = Utils.expr2xy(src);\n    return Utils.xy2expr(x + xn, y + yn);\n  }\n\n  static rangeReduceIf(min, max, initS, initV, ifv, getV) {\n    let s = initS;\n    let v = initV;\n    let i = min;\n    for (; i < max; i += 1) {\n      if (s >= ifv) break;\n      v = getV(i);\n      s += v;\n    }\n    return [i, s - v, v];\n  }\n\n  static throttle(cb = () => {}, time = 500) {\n    if (throttleHandle) clearTimeout(throttleHandle);\n    throttleHandle = setTimeout(cb, time);\n  }\n\n  static contrastDifference(target, src) {\n    const result = {};\n    if (Utils.isUnDef(target) || Utils.isUnDef(src)) {\n      return result;\n    }\n    // eslint-disable-next-line no-restricted-syntax\n    for (const key in target) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (target.hasOwnProperty(key)) {\n        const sv = src[key];\n        const tv = target[key];\n        if (!Utils.isUnDef(sv) && !Utils.isUnDef(tv) && !Utils.equal(sv, tv)) {\n          result[key] = target[key];\n        }\n      }\n    }\n    return result;\n  }\n\n  static minIf(v, min) {\n    if (v < min) return min;\n    return v;\n  }\n\n  static maxIf(v, max) {\n    if (v > max) return max;\n    return v;\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  static equal(x, y) {\n    let i;\n    let l;\n    let leftChain;\n    let rightChain;\n    function compare2Objects(x, y) {\n      let p;\n      // eslint-disable-next-line no-restricted-globals\n      if (isNaN(x) && isNaN(y) && typeof x === 'number' && typeof y === 'number') {\n        return true;\n      }\n      if (x === y) {\n        return true;\n      }\n      if ((typeof x === 'function' && typeof y === 'function')\n        || (x instanceof Date && y instanceof Date)\n        || (x instanceof RegExp && y instanceof RegExp)\n        || (x instanceof String && y instanceof String)\n        || (x instanceof Number && y instanceof Number)) {\n        return x.toString() === y.toString();\n      }\n      if (!(x instanceof Object && y instanceof Object)) {\n        return false;\n      }\n      // eslint-disable-next-line no-prototype-builtins\n      if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {\n        return false;\n      }\n      if (x.constructor !== y.constructor) {\n        return false;\n      }\n      if (x.prototype !== y.prototype) {\n        return false;\n      }\n      if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\n        return false;\n      }\n      // eslint-disable-next-line guard-for-in,no-restricted-syntax\n      for (p in y) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n          return false;\n        }\n        if (typeof y[p] !== typeof x[p]) {\n          return false;\n        }\n      }\n      // eslint-disable-next-line guard-for-in,no-restricted-syntax\n      for (p in x) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n          return false;\n        } if (typeof y[p] !== typeof x[p]) {\n          return false;\n        }\n        switch (typeof (x[p])) {\n          case 'object':\n          case 'function':\n            leftChain.push(x);\n            rightChain.push(y);\n            if (!compare2Objects(x[p], y[p])) {\n              return false;\n            }\n            leftChain.pop();\n            rightChain.pop();\n            break;\n          default:\n            if (x[p] !== y[p]) {\n              return false;\n            }\n            break;\n        }\n      }\n      return true;\n    }\n    if (arguments.length < 1) {\n      return true;\n    }\n    // eslint-disable-next-line no-plusplus\n    for (i = 1, l = arguments.length; i < l; i++) {\n      leftChain = [];\n      rightChain = [];\n      // eslint-disable-next-line prefer-rest-params\n      if (!compare2Objects(arguments[0], arguments[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  static arrayIncludeArray(a1, a2) {\n    if (Utils.isUnDef(a1) || Utils.isUnDef(a2)) {\n      return false;\n    }\n    if (a1.length !== a2.length) {\n      return false;\n    }\n    for (let i = 0; i < a1.length; i += 1) {\n      if (a2.indexOf(a1[i]) === -1) return false;\n    }\n    return true;\n  }\n\n  static keepLastIndex(obj) {\n    if (window.getSelection) {\n      obj.focus();\n      const range = window.getSelection();\n      range.selectAllChildren(obj);\n      range.collapseToEnd();\n    } else if (document.selection) {\n      const range = document.selection.createRange();\n      range.moveToElementText(obj);\n      range.collapse(false);\n      range.select();\n    }\n  }\n\n  static trim(s) {\n    if (this.isBlank(s)) return '';\n    return s.trim();\n  }\n\n  static now() {\n    return Date.now().toString();\n  }\n\n  static viewPort() {\n    return {\n      width: window.innerWidth,\n      height: window.innerHeight,\n    };\n  }\n}\n\nexport { Utils };\n","/* global document CustomEvent window */\n\nimport { Utils } from '../utils/Utils';\n\nclass Element {\n  constructor(tag, className = '') {\n    if (typeof tag === 'string') {\n      this.el = document.createElement(tag);\n      this.el.className = className;\n    } else {\n      this.el = tag;\n    }\n    this.el.data = [];\n  }\n\n  data(key, value) {\n    if (value !== undefined) {\n      this.el.data[key] = value;\n      return this;\n    }\n    return this.el.data[key];\n  }\n\n  on(eventNames, handler) {\n    const [fen, ...oen] = eventNames.split('.');\n    let eventName = fen;\n    if (eventName === 'mousewheel' && /Firefox/i.test(window.navigator.userAgent)) {\n      eventName = 'DOMMouseScroll';\n    }\n    this.el.addEventListener(eventName, (evt) => {\n      handler(evt);\n      for (let i = 0; i < oen.length; i += 1) {\n        const k = oen[i];\n        if (k === 'left' && evt.button !== 0) {\n          return;\n        }\n        if (k === 'right' && evt.button !== 2) {\n          return;\n        }\n        if (k === 'stop') {\n          evt.stopPropagation();\n        }\n      }\n    });\n    return this;\n  }\n\n  offset(value) {\n    if (value !== undefined) {\n      Object.keys(value).forEach((k) => {\n        this.css(k, `${value[k]}px`);\n      });\n      return this;\n    }\n    const {\n      offsetTop, offsetLeft, offsetHeight, offsetWidth,\n    } = this.el;\n    return {\n      top: offsetTop,\n      left: offsetLeft,\n      height: offsetHeight,\n      width: offsetWidth,\n    };\n  }\n\n  scroll(v) {\n    const { el } = this;\n    if (v !== undefined) {\n      if (v.left !== undefined) {\n        el.scrollLeft = v.left;\n      }\n      if (v.top !== undefined) {\n        el.scrollTop = v.top;\n      }\n    }\n    return { left: el.scrollLeft, top: el.scrollTop };\n  }\n\n  scrollTop() {\n    return this.el.scrollTop;\n  }\n\n  clientHeight() {\n    return this.el.clientHeight;\n  }\n\n  box() {\n    return this.el.getBoundingClientRect();\n  }\n\n  parent() {\n    return new Element(this.el.parentNode);\n  }\n\n  children(...args) {\n    if (arguments.length === 0) {\n      return this.el.childNodes;\n    }\n    args.forEach(ele => this.child(ele));\n    return this;\n  }\n\n  first() {\n    return this.el.firstChild;\n  }\n\n  last() {\n    return this.el.lastChild;\n  }\n\n  remove(ele) {\n    return this.el.removeChild(ele.el || ele);\n  }\n\n  prepend(ele) {\n    const { el } = this;\n    if (el.children.length > 0) {\n      el.insertBefore(ele, el.firstChild);\n    } else {\n      el.appendChild(ele);\n    }\n    return this;\n  }\n\n  prev() {\n    return this.el.previousSibling;\n  }\n\n  next() {\n    return this.el.nextSibling;\n  }\n\n  child(arg) {\n    let ele = arg;\n    if (typeof arg === 'string') {\n      ele = document.createTextNode(arg);\n    } else if (arg instanceof Element) {\n      ele = arg.el;\n    }\n    this.el.appendChild(ele);\n    return this;\n  }\n\n  contains(ele) {\n    return this.el.contains(ele);\n  }\n\n  className(v) {\n    if (v !== undefined) {\n      this.el.className = v;\n      return this;\n    }\n    return this.el.className;\n  }\n\n  addClass(name) {\n    this.el.classList.add(name);\n    return this;\n  }\n\n  hasClass(name) {\n    return this.el.classList.contains(name);\n  }\n\n  removeClass(name) {\n    this.el.classList.remove(name);\n    return this;\n  }\n\n  toggle(cls = 'active') {\n    return this.toggleClass(cls);\n  }\n\n  toggleClass(name) {\n    return this.el.classList.toggle(name);\n  }\n\n  active(flag = true, cls = 'active') {\n    if (flag) this.addClass(cls);\n    else this.removeClass(cls);\n    return this;\n  }\n\n  checked(flag = true) {\n    this.active(flag, 'checked');\n    return this;\n  }\n\n  disabled(flag = true) {\n    if (flag) this.addClass('disabled');\n    else this.removeClass('disabled');\n    return this;\n  }\n\n  attr(key, value) {\n    if (value !== undefined) {\n      this.el.setAttribute(key, value);\n    } else {\n      if (typeof key === 'string') {\n        return this.el.getAttribute(key);\n      }\n      Object.keys(key).forEach((k) => {\n        this.el.setAttribute(k, key[k]);\n      });\n    }\n    return this;\n  }\n\n  removeAttr(key) {\n    this.el.removeAttribute(key);\n    return this;\n  }\n\n  html(content) {\n    if (content !== undefined) {\n      this.el.innerHTML = content;\n      return this;\n    }\n    return this.el.innerHTML;\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.el.value = v;\n      return this;\n    }\n    return this.el.value;\n  }\n\n  cssRemoveKeys(...keys) {\n    keys.forEach(k => this.el.style.removeProperty(k));\n    return this;\n  }\n\n  /**\n   * set or get style attr\n   * @param name\n   * @param value\n   * @returns {String|Element}\n   */\n  css(name, value) {\n    if (value === undefined && typeof name !== 'string') {\n      Object.keys(name).forEach((k) => {\n        this.el.style[k] = name[k];\n      });\n      return this;\n    }\n    if (value !== undefined) {\n      this.el.style[name] = value;\n      return this;\n    }\n    return this.el.style[name];\n  }\n\n  computedStyle() {\n    return window.getComputedStyle(this.el, null);\n  }\n\n  show() {\n    const style = this.computedStyle();\n    if (style && style.display !== 'block') {\n      this.css('display', 'block');\n    }\n    return this;\n  }\n\n  hide() {\n    const style = this.computedStyle();\n    if (style && style.display !== 'none') {\n      this.css('display', 'none');\n    }\n    return this;\n  }\n\n  display(on) {\n    if (on) this.show(); else this.hide();\n  }\n\n  text(val) {\n    if (val === undefined) return this.el.innerText;\n    this.el.innerText = val;\n    return val;\n  }\n\n  sibling() {\n    let sibling = this.el;\n    const result = [];\n    // eslint-disable-next-line no-cond-assign\n    while ((sibling = sibling.previousElementSibling) !== null) result.push(new Element(sibling));\n    sibling = this.el;\n    // eslint-disable-next-line no-cond-assign\n    while ((sibling = sibling.nextElementSibling) !== null) result.push(new Element(sibling));\n    return result;\n  }\n\n  position() {\n    let top = 0; let left = 0; const right = 0; const bottom = 0;\n    if (this.el.style.position) {\n      if (this.el.top) {\n        top = this.el.style.top\n          .replace('%', '')\n          .repeat('px', '');\n      }\n      if (this.el.left) {\n        left = this.el.style.left\n          .replace('%', '')\n          .repeat('px', '');\n      }\n      if (this.el.right) {\n        top = this.el.style.right\n          .replace('%', '')\n          .repeat('px', '');\n      }\n      if (this.el.bottom) {\n        top = this.el.style.bottom\n          .replace('%', '')\n          .repeat('px', '');\n      }\n    }\n    return {\n      top: Utils.parseFloat(top),\n      left: Utils.parseFloat(left),\n      right: Utils.parseFloat(right),\n      bottom: Utils.parseFloat(bottom),\n    };\n  }\n\n  trigger(type, message) {\n    const event = new CustomEvent(type, {\n      detail: message,\n      bubbles: true,\n      cancelable: false,\n    });\n    this.el.dispatchEvent(event);\n  }\n\n  focus() {\n    this.el.focus();\n  }\n\n  find(select) {\n    const result = this.el.querySelectorAll(select);\n    if (result && result.length === 1) {\n      return new Element(result[0]);\n    }\n    const eleArray = [];\n    if (result) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of result) {\n        eleArray.push(new Element(item));\n      }\n    }\n    return eleArray;\n  }\n\n  isChild(target) {\n    let targetEl = target || target.el;\n    while (targetEl !== undefined && targetEl !== null && targetEl !== document.body) {\n      if (targetEl === this.el) return true;\n      targetEl = targetEl.parentNode;\n    }\n    return false;\n  }\n}\n\nconst h = (tag, className = '') => new Element(tag, className);\n\nexport {\n  Element,\n  h,\n};\n","import { Element } from './Element';\nimport { cssPrefix } from '../config';\n\nclass Widget extends Element {\n  constructor(className = '') {\n    super('div', `${cssPrefix}-widget ${className}`);\n  }\n\n  computeEventXy(event, element = this) {\n    const { top, left } = element.box();\n    return {\n      x: event.pageX - left,\n      y: event.pageY - top,\n    };\n  }\n\n  computeWidgetXy(element) {\n    if (!element) {\n      return {\n        x: 0,\n        y: 0,\n      };\n    }\n    const { top: eleTop, left: eleLeft } = element.box();\n    const { top, left } = this.box();\n    return {\n      x: eleLeft - left,\n      y: eleTop - top,\n    };\n  }\n\n  init() {}\n}\n\nexport { Widget };\n","import { Element } from '../Element';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\n\nclass VerticalLayer extends Element {\n  constructor(options) {\n    super('div', `${cssPrefix}-vertical-layer`);\n    this.options = Utils.mergeDeep({\n      layerElements: [],\n      style: {},\n    }, options);\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    // eslint-disable-next-line no-restricted-syntax\n    for (const layerElement of this.options.layerElements) this.children(layerElement);\n  }\n}\n\nexport { VerticalLayer };\n","import { Element } from '../Element';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\n\nclass VerticalLayerElement extends Element {\n  constructor(element, options) {\n    super('div', `${cssPrefix}-vertical-layer-element`);\n    this.options = Utils.mergeDeep({\n      style: {\n        flexGrow: '0',\n      },\n    }, options);\n    this.element = element;\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    this.children(this.element);\n  }\n}\n\nexport { VerticalLayerElement };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\n\nclass Icon extends Widget {\n  constructor(className = '') {\n    super(`${cssPrefix}-icon`);\n    this.iconNameEl = h('div', `${cssPrefix}-icon-img ${className}`);\n    this.child(this.iconNameEl);\n  }\n\n  setWidth(width) {\n    this.iconNameEl.css('width', `${width}px`);\n  }\n\n  setHeight(height) {\n    this.iconNameEl.css('height', `${height}px`);\n  }\n}\n\nexport { Icon };\n","import { Widget } from '../../../../lib/Widget';\nimport { cssPrefix } from '../../../../config';\n\nclass Item extends Widget {\n  constructor(className) {\n    super(`${cssPrefix}-tools-item ${className}`);\n  }\n}\n\nexport { Item };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Undo extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-undo`);\n    this.icon = new Icon('undo');\n    this.children(this.icon);\n  }\n}\n\nexport { Undo };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Redo extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-redo`);\n    this.icon = new Icon('redo');\n    this.children(this.icon);\n  }\n}\n\nexport { Redo };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\n\nclass PaintFormat extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-point-format`);\n    this.icon = new Icon('point-format');\n    this.sheets = [];\n    this.children(this.icon);\n  }\n\n  addSheet(sheet) {\n    this.sheets.push(sheet);\n  }\n\n  removeSheet(sheet) {\n    for (let i = 0; i < this.sheets.length; i += 1) {\n      if (this.sheets[i] === sheet) {\n        this.sheets.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  includeSheet(sheet) {\n    for (let i = 0; i < this.sheets.length; i += 1) {\n      if (this.sheets[i] === sheet) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nexport { PaintFormat };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\n\nclass ClearFormat extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-clear-format`);\n    this.icon = new Icon('clear-format');\n    this.children(this.icon);\n  }\n}\n\nexport { ClearFormat };\n","import { Item } from './Item';\nimport { cssPrefix } from '../../../../config';\nimport { h } from '../../../../lib/Element';\nimport { Icon } from '../Icon';\n\nclass DropDownItem extends Item {\n  constructor(className) {\n    super(`${cssPrefix}-tools-drop-down-item ${className}`);\n    this.drop = h('div', `${cssPrefix}-tools-drop-down-item-mark`);\n    this.title = h('div', `${cssPrefix}-tools-drop-down-item-title`);\n    this.drop.children(new Icon('arrow-down'));\n    this.children(this.title);\n    this.children(this.drop);\n  }\n\n  setTitle(text) {\n    this.title.text(text);\n  }\n\n  setIcon(icon) {\n    this.title.html('');\n    this.title.children(icon);\n  }\n\n  setWidth(px) {\n    this.title.css('width', `${px}px`);\n  }\n\n  setEllipsis() {\n    this.title.css('overflow', 'hidden');\n    this.title.css('text-overflow', 'ellipsis');\n    this.title.css('white-space', 'nowrap');\n  }\n\n  removeEllipsis() {\n    this.title.cssRemoveKeys('overflow');\n    this.title.cssRemoveKeys('text-overflow');\n    this.title.cssRemoveKeys('white-space');\n  }\n}\n\nexport { DropDownItem };\n","class Constant {}\n\nConstant.SYSTEM_EVENT_TYPE = {\n  MOUSE_MOVE: 'mouseMove'.toLocaleLowerCase(),\n  MOUSE_DOWN: 'mouseDown'.toLocaleLowerCase(),\n  MOUSE_UP: 'mouseUp'.toLocaleLowerCase(),\n  MOUSE_OVER: 'mouseOver'.toLocaleLowerCase(),\n  MOUSE_LEAVE: 'mouseLeave'.toLocaleLowerCase(),\n  MOUSE_WHEEL: 'mouseWheel'.toLocaleLowerCase(),\n  MOUSE_ENTER: 'mouseEnter'.toLocaleLowerCase(),\n  CLICK: 'click'.toLocaleLowerCase(),\n  KEY_DOWN: 'keyDown'.toLocaleLowerCase(),\n  KEY_UP: 'keyUp'.toLocaleLowerCase(),\n  DRAG_START: 'dragStart'.toLocaleLowerCase(),\n  SCROLL: 'scroll'.toLocaleLowerCase(),\n  RESIZE: 'resize'.toLocaleLowerCase(),\n  CHANGE: 'change'.toLocaleLowerCase(),\n  INPUT: 'input'.toLocaleLowerCase(),\n  VISIBILITY_CHANGE: 'visibilityChange'.toLocaleLowerCase(),\n};\n\nConstant.TABLE_EVENT_TYPE = {\n  CHANGE_HEIGHT: 'tableChangeHeight'.toLocaleLowerCase(),\n  CHANGE_WIDTH: 'tableChangeWidth'.toLocaleLowerCase(),\n  DATA_CHANGE: 'tableDataChange'.toLocaleLowerCase(),\n  SELECT_CHANGE: 'tableSelectChange'.toLocaleLowerCase(),\n  SELECT_DOWN: 'tableSelectDown'.toLocaleLowerCase(),\n};\n\nConstant.WORK_BODY_TYPE = {\n  CHANGE_ACTIVE: 'workBodyChangeActive'.toLocaleLowerCase(),\n};\n\nexport { Constant };\n","import { Constant } from './Constant';\n\nclass EventBind {\n  static bind(target, name, fn) {\n    if (Array.isArray(target)) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of target) {\n        (item.el || item).addEventListener(name, fn);\n      }\n    } else {\n      (target.el || target).addEventListener(name, fn);\n    }\n  }\n\n  static unbind(target, name, fn) {\n    if (Array.isArray(target)) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of target) {\n        (item.el || item).addEventListener(name, fn);\n      }\n    } else {\n      (target.el || target).removeEventListener(name, fn);\n    }\n  }\n\n  static mouseMoveUp(target, moveFunc = () => {}, upFunc = () => {}) {\n    const xEvtUp = (evt) => {\n      EventBind.unbind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, moveFunc);\n      EventBind.unbind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_UP, xEvtUp);\n      upFunc(evt);\n    };\n    EventBind.bind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, moveFunc);\n    EventBind.bind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_UP, xEvtUp);\n  }\n\n  static dbClick(target, func = () => {}) {\n    let t = 0;\n    EventBind.bind(target, Constant.SYSTEM_EVENT_TYPE.CLICK, (e) => {\n      const n = Date.now();\n      if (n - t <= 300) {\n        func(e);\n        t = 0;\n      } else {\n        t = n;\n      }\n    });\n  }\n}\n\nexport { EventBind };\n","/* global document */\n\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { Utils } from '../../utils/Utils';\nimport { Constant } from '../../utils/Constant';\nimport { EventBind } from '../../utils/EventBind';\n\nclass ScrollBarX extends Widget {\n  constructor(option) {\n    super(`${cssPrefix}-scroll-bar-x`);\n    this.option = Utils.mergeDeep({\n      style: {},\n      scroll: to => to,\n    }, option);\n    this.lastBut = h('div', `${cssPrefix}-scroll-bar-x-last-but`);\n    this.nextBut = h('div', `${cssPrefix}-scroll-bar-x-next-but`);\n    this.content = h('div', `${cssPrefix}-scroll-bar-x-content`);\n    this.block = h('div', `${cssPrefix}-scroll-bar-x-block`);\n    this.content.children(this.block);\n    this.children(...[\n      this.lastBut,\n      this.nextBut,\n      this.content,\n    ]);\n    this.blockLeft = 0;\n    this.maxBlockLeft = 0;\n    this.blockWidth = 0;\n    this.minBlockWidth = 20;\n    this.scrollTo = 0;\n    this.contentWidth = 0;\n    this.viewPortWidth = 0;\n    this.isHide = true;\n    this.css(this.option.style);\n    this.hide();\n    this.bind();\n  }\n\n  bind() {\n    this.block.on(Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (evt1) => {\n      if (evt1.button !== 0) return;\n      const downEventXy = this.computeEventXy(evt1, this.block);\n      EventBind.mouseMoveUp(h(document), (evt2) => {\n        // 计算移动的距离\n        const moveEventXy = this.computeEventXy(evt2, this.content);\n        let left = moveEventXy.x - downEventXy.x;\n        if (left < 0) left = 0;\n        if (left > this.maxBlockLeft) left = this.maxBlockLeft;\n        // 计算滑动的距离\n        this.blockLeft = left;\n        this.scrollTo = this.computeScrollTo(this.blockLeft);\n        this.block.css('left', `${left}px`);\n        this.option.scroll(this.scrollTo);\n        evt2.stopPropagation();\n        evt2.preventDefault();\n      });\n      evt1.stopPropagation();\n      evt1.preventDefault();\n    });\n  }\n\n  setSize(viewPortWidth, contentWidth) {\n    if (viewPortWidth < contentWidth) {\n      this.isHide = false;\n      this.show();\n      // 计算滑块宽度\n      const contentBox = this.content.box();\n      const blockWidth = viewPortWidth / contentWidth * contentBox.width;\n      this.blockWidth = blockWidth < this.minBlockWidth ? this.minBlockWidth : blockWidth;\n      this.viewPortWidth = viewPortWidth;\n      this.contentWidth = contentWidth;\n      this.maxBlockLeft = contentBox.width - this.blockWidth;\n      this.block.css('width', `${this.blockWidth}px`);\n      // 计算滑块位置\n      const blockLeft = (this.scrollTo / (contentWidth - viewPortWidth)) * this.maxBlockLeft;\n      this.blockLeft = blockLeft > this.maxBlockLeft ? this.maxBlockLeft : blockLeft;\n      this.scrollTo = this.computeScrollTo(this.blockLeft);\n      this.block.css('left', `${this.blockLeft}px`);\n    } else {\n      this.isHide = true;\n      this.hide();\n      this.option.scroll(0);\n    }\n  }\n\n  scrollMove(move) {\n    let to = move;\n    const maxTo = this.contentWidth - this.viewPortWidth;\n    if (to > maxTo) to = maxTo; else if (to < 0) to = 0;\n    const blockLeft = (to / (this.contentWidth - this.viewPortWidth)) * this.maxBlockLeft;\n    this.blockLeft = blockLeft > this.maxBlockLeft ? this.maxBlockLeft : blockLeft;\n    if (this.scrollTo !== to) {\n      this.scrollTo = to;\n      this.block.css('left', `${this.blockLeft}px`);\n      this.option.scroll(this.scrollTo);\n    }\n  }\n\n  computeScrollTo(move) {\n    return (move / this.maxBlockLeft) * (this.contentWidth - this.viewPortWidth);\n  }\n}\n\nexport { ScrollBarX };\n","/* global document */\n\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { Constant } from '../../utils/Constant';\nimport { Utils } from '../../utils/Utils';\nimport { EventBind } from '../../utils/EventBind';\n\nclass ScrollBarY extends Widget {\n  constructor(option) {\n    super(`${cssPrefix}-scroll-bar-y`);\n    this.option = Utils.mergeDeep({\n      style: {},\n      scroll: to => to,\n    }, option);\n    this.lastBut = h('div', `${cssPrefix}-scroll-bar-y-last-but`);\n    this.nextBut = h('div', `${cssPrefix}-scroll-bar-y-next-but`);\n    this.content = h('div', `${cssPrefix}-scroll-bar-y-content`);\n    this.block = h('div', `${cssPrefix}-scroll-bar-y-block`);\n    this.content.children(this.block);\n    this.children(...[\n      this.lastBut,\n      this.nextBut,\n      this.content,\n    ]);\n    this.blockTop = 0;\n    this.maxBlockTop = 0;\n    this.blockHeight = 0;\n    this.minBlockHeight = 20;\n    this.scrollTo = 0;\n    this.contentHeight = 0;\n    this.viewPortHeight = 0;\n    this.isHide = true;\n    this.css(this.option.style);\n    this.hide();\n    this.bind();\n  }\n\n  bind() {\n    EventBind.bind(this.block, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (evt1) => {\n      if (evt1.button !== 0) return;\n      const downEventXy = this.computeEventXy(evt1, this.block);\n      EventBind.mouseMoveUp(h(document), (evt2) => {\n        // 计算移动的距离\n        const moveEventXy = this.computeEventXy(evt2, this.content);\n        let top = moveEventXy.y - downEventXy.y;\n        if (top < 0) top = 0;\n        if (top > this.maxBlockTop) top = this.maxBlockTop;\n        // 计算滑动的距离\n        this.blockTop = top;\n        this.scrollTo = this.computeScrollTo(this.blockTop);\n        this.block.css('top', `${top}px`);\n        this.option.scroll(this.scrollTo);\n        evt2.stopPropagation();\n        evt2.preventDefault();\n      });\n    });\n  }\n\n  setSize(viewPortHeight, contentHeight) {\n    if (viewPortHeight < contentHeight) {\n      this.isHide = false;\n      this.show();\n      // 计算滑块高度\n      const contentBox = this.content.box();\n      const blockHeight = viewPortHeight / contentHeight * contentBox.height;\n      this.blockHeight = blockHeight < this.minBlockHeight ? this.minBlockHeight : blockHeight;\n      this.viewPortHeight = viewPortHeight;\n      this.contentHeight = contentHeight;\n      this.maxBlockTop = contentBox.height - this.blockHeight;\n      this.block.css('height', `${this.blockHeight}px`);\n      // 计算滑块位置\n      const blockTop = (this.scrollTo / (contentHeight - viewPortHeight)) * this.maxBlockTop;\n      this.blockTop = blockTop > this.maxBlockTop ? this.maxBlockTop : blockTop;\n      this.scrollTo = this.computeScrollTo(this.blockTop);\n      this.block.css('top', `${this.blockTop}px`);\n    } else {\n      this.isHide = true;\n      this.hide();\n      this.option.scroll(0);\n    }\n  }\n\n  scrollMove(move) {\n    let to = move;\n    const maxTo = this.contentHeight - this.viewPortHeight;\n    if (to > maxTo) to = maxTo; else if (to < 0) to = 0;\n    const blockTop = (to / (this.contentHeight - this.viewPortHeight)) * this.maxBlockTop;\n    this.blockTop = blockTop > this.maxBlockTop ? this.maxBlockTop : blockTop;\n    if (this.scrollTo !== to) {\n      this.scrollTo = to;\n      this.block.css('top', `${this.blockTop}px`);\n      this.option.scroll(this.scrollTo);\n    }\n  }\n\n  computeScrollTo(move) {\n    return (move / this.maxBlockTop) * (this.contentHeight - this.viewPortHeight);\n  }\n}\n\nexport { ScrollBarY };\n","import { Element } from '../Element';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\n\nclass HorizontalLayerElement extends Element {\n  constructor(element, options) {\n    super('div', `${cssPrefix}-horizontal-layer-element`);\n    this.options = Utils.mergeDeep({\n      style: {\n        flexGrow: '0',\n      },\n    }, options);\n    this.element = element;\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    this.children(this.element);\n  }\n}\n\nexport { HorizontalLayerElement };\n","import { Element } from '../Element';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\n\nclass HorizontalLayer extends Element {\n  constructor(options) {\n    super('div', `${cssPrefix}-horizontal-layer`);\n    this.options = Utils.mergeDeep({\n      layerElements: [],\n      style: {},\n    }, options);\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    // eslint-disable-next-line no-restricted-syntax\n    for (const layerElement of this.options.layerElements) this.children(layerElement);\n  }\n}\n\nexport { HorizontalLayer };\n","/* global document window */\n\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { ScrollBarX } from '../scrollbar/ScrollBarX';\nimport { ScrollBarY } from '../scrollbar/ScrollBarY';\nimport { Utils } from '../../utils/Utils';\nimport { HorizontalLayerElement } from '../../lib/layer/HorizontalLayerElement';\nimport { HorizontalLayer } from '../../lib/layer/HorizontalLayer';\nimport { VerticalLayer } from '../../lib/layer/VerticalLayer';\nimport { VerticalLayerElement } from '../../lib/layer/VerticalLayerElement';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\n\nconst EL_POPUP_POSITION = {\n  TOP: 1,\n  LEFT: 2,\n  BOTTOM: 3,\n  RIGHT: 4,\n};\n\nconst POOL = [];\n\nclass ElPopUp extends Widget {\n\n  constructor(options) {\n    super(`${cssPrefix}-el-pop-up`);\n    this.options = Utils.mergeDeep({\n      position: EL_POPUP_POSITION.BOTTOM,\n      el: null,\n    }, options);\n    this.off = true;\n    this.content = h('div', `${cssPrefix}-el-pop-up-content`);\n    this.scrollBarX = new ScrollBarX();\n    this.scrollBarY = new ScrollBarY();\n    const contentLayerHorizontalElement = new HorizontalLayerElement(this.content, {\n      style: {\n        flexGrow: 1,\n      },\n    });\n    const scrollBarYLayerHorizontalElement = new HorizontalLayerElement(this.scrollBarY, {\n      style: {\n        overflow: 'inherit',\n      },\n    });\n    const horizontalLayer = new HorizontalLayer({\n      layerElements: [contentLayerHorizontalElement, scrollBarYLayerHorizontalElement],\n    });\n    const contentVerticalLayerElement = new VerticalLayerElement(horizontalLayer);\n    const scrollBarXVerticalLayerElement = new VerticalLayerElement(this.scrollBarX);\n    const verticalLayer = new VerticalLayer({\n      layerElements: [contentVerticalLayerElement, scrollBarXVerticalLayerElement],\n    });\n    super.children(verticalLayer);\n    this.bind();\n    POOL.push(this);\n  }\n\n  bind() {\n    EventBind.bind(window, Constant.SYSTEM_EVENT_TYPE.RESIZE, () => {\n      this.position();\n      this.scrollbar();\n    });\n  }\n\n  children(...args) {\n    this.content.children(...args);\n  }\n\n  position() {\n    const { content } = this;\n    const { el, position } = this.options;\n    const elBox = el.box();\n    const contentBox = content.box();\n    let { top, left } = elBox;\n    switch (position) {\n      case EL_POPUP_POSITION.TOP:\n        top = elBox.top - contentBox.height;\n        break;\n      case EL_POPUP_POSITION.LEFT:\n        left = elBox.left - contentBox.width;\n        break;\n      case EL_POPUP_POSITION.RIGHT:\n        left = elBox.left + elBox.width;\n        break;\n      case EL_POPUP_POSITION.BOTTOM:\n        top = elBox.top + elBox.height;\n        break;\n      default: break;\n    }\n    const maxWidth = window.innerWidth;\n    const maxHeight = window.innerHeight;\n    if (left < 0 || left + contentBox.width > maxWidth) {\n      // 左右颠倒\n      switch (position) {\n        case EL_POPUP_POSITION.LEFT:\n          left = elBox.left + elBox.width;\n          break;\n        case EL_POPUP_POSITION.RIGHT:\n          left = elBox.left - contentBox.width;\n          break;\n        default: break;\n      }\n    }\n    if (top < 0 || top + contentBox.height > maxHeight) {\n      // 上下颠倒\n      switch (position) {\n        case EL_POPUP_POSITION.TOP:\n          top = elBox.top + elBox.height;\n          break;\n        case EL_POPUP_POSITION.BOTTOM:\n          top = elBox.top - contentBox.height;\n          break;\n        default: break;\n      }\n    }\n    if (left < 0 || left + contentBox.width > maxWidth) {\n      top = elBox.top + elBox.height;\n      ({ left } = elBox);\n    }\n    if (top < 0 || top + contentBox.height > maxHeight) {\n      top = elBox.top + elBox.height;\n      ({ left } = elBox);\n    }\n    this.offset({\n      top,\n      left,\n    });\n  }\n\n  scrollbar() {\n    const { content } = this;\n    const contentBox = content.box();\n    const box = this.box();\n    this.scrollBarY.setSize(box.height, contentBox.height);\n    this.scrollBarX.setSize(box.width, contentBox.width);\n  }\n\n  open() {\n    if (this.off) {\n      h(document.body).children(this);\n      this.position();\n      this.scrollbar();\n      this.off = false;\n    }\n  }\n\n  close() {\n    if (this.off === false) {\n      h(document.body).remove(this);\n      this.off = true;\n    }\n  }\n\n  static closeAll(filter = []) {\n    POOL.forEach((item) => {\n      if (filter.indexOf(item) === -1) {\n        item.close();\n      }\n    });\n  }\n}\n\nexport { ElPopUp, EL_POPUP_POSITION };\n","/* global document */\nimport { cssPrefix } from '../../config';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { Widget } from '../../lib/Widget';\nimport { ElPopUp } from '../elpopup/ElPopUp';\nimport { Utils } from '../../utils/Utils';\n\nclass ELContextMenu extends Widget {\n\n  constructor(className = '', options = {}) {\n    super(`${cssPrefix}-el-context-menu ${className}`);\n    this.options = Utils.mergeDeep({}, options);\n    this.menus = [];\n    // 环绕元素弹层组件\n    this.elPopUp = new ElPopUp(this.options);\n    this.elPopUp.children(this);\n    this.bind();\n  }\n\n  bind() {\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n    });\n    EventBind.bind(document.body, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      this.close();\n    });\n  }\n\n  addItem(item) {\n    const { menus } = this;\n    menus.push(item);\n    this.children(item);\n    return this;\n  }\n\n  open() {\n    this.elPopUp.open();\n    return this;\n  }\n\n  close() {\n    this.elPopUp.close();\n    return this;\n  }\n\n  isOpen() {\n    return this.elPopUp.off;\n  }\n}\n\nexport { ELContextMenu };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\n\nclass ELContextMenuItem extends Widget {\n  constructor(className = '') {\n    super(`${cssPrefix}-el-context-menu-item hover ${className}`);\n  }\n}\n\nexport { ELContextMenuItem };\n","import { h } from '../../../../lib/Element';\nimport { cssPrefix } from '../../../../config';\nimport { ELContextMenuItem } from '../../../../component/elcontextmenu/ELContextMenuItem';\nimport { Icon } from '../../tools/Icon';\n\nconst pool = [];\n\nclass FormatContextMenuItem extends ELContextMenuItem {\n  constructor(title, desc) {\n    super(`${cssPrefix}-format-context-menu-item`);\n    this.title = title;\n    this.desc = desc;\n    this.icon = new Icon('checked');\n    this.iconElement = h('div', `${cssPrefix}-format-context-menu-item-icon`);\n    this.iconElement.children(this.icon);\n    this.titleElement = h('div', `${cssPrefix}-format-context-menu-item-title`);\n    this.descElement = h('div', `${cssPrefix}-format-context-menu-item-desc`);\n    this.titleElement.text(title);\n    this.descElement.text(desc);\n    this.children(this.iconElement);\n    this.children(this.titleElement);\n    this.children(this.descElement);\n    pool.push(this);\n  }\n\n  setTitle(title) {\n    this.titleElement.text(title);\n  }\n\n  setDesc(desc) {\n    this.descElement.text(desc);\n  }\n\n  setActive() {\n    pool.forEach((item) => {\n      item.removeClass('active');\n    });\n    this.addClass('active');\n  }\n}\n\nexport { FormatContextMenuItem };\n","import { cssPrefix } from '../../config';\nimport { Widget } from '../../lib/Widget';\n\nclass ELContextMenuDivider extends Widget {\n  constructor() {\n    super(`${cssPrefix}-el-context-menu-item-divider`);\n  }\n}\n\nexport { ELContextMenuDivider };\n","import { cssPrefix } from '../../../../config';\nimport { ELContextMenu } from '../../../../component/elcontextmenu/ELContextMenu';\nimport { FormatContextMenuItem } from './FormatContextMenuItem';\nimport { ELContextMenuDivider } from '../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { Constant } from '../../../../utils/Constant';\nimport { Utils } from '../../../../utils/Utils';\n\nclass FormatContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-format-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new FormatContextMenuItem('常规', '').data('type', 'default'),\n      new FormatContextMenuItem('文本', '').data('type', 'text'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('数值', '0.59').data('type', 'number'),\n      new FormatContextMenuItem('百分比', '90.00%').data('type', 'percentage'),\n      new FormatContextMenuItem('分数', '1/2').data('type', 'fraction'),\n      new FormatContextMenuItem('科学计数', '9.50e-01').data('type', 'ENotation'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('人民币', '￥5.00').data('type', 'rmb'),\n      new FormatContextMenuItem('港币', 'HK5.00').data('type', 'hk'),\n      new FormatContextMenuItem('美元', '$5.00').data('type', 'dollar'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('日期', '2018/4/18').data('type', 'date1'),\n      new FormatContextMenuItem('日期', '4月18日').data('type', 'date2'),\n      new FormatContextMenuItem('日期', '2018年4月').data('type', 'date3'),\n      new FormatContextMenuItem('日期', '2018年4月18日').data('type', 'date4'),\n      new FormatContextMenuItem('日期', '2018/4/18 14:30:30').data('type', 'date5'),\n      new FormatContextMenuItem('时间', '14:30:30').data('type', 'time'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('更多格式', ''),\n    ];\n    this.items.forEach((item) => {\n      if (item instanceof FormatContextMenuItem && item.data('type')) {\n        item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n          this.update(item.data('type'), item.title);\n          item.setActive();\n        });\n      }\n      this.addItem(item);\n    });\n    this.init();\n  }\n\n  init() {\n    const { options, items } = this;\n    const { el } = options;\n    const first = items[0];\n    el.setTitle(first.title);\n    first.setActive();\n  }\n\n  update(format, title) {\n    const { options } = this;\n    options.onUpdate(format, title);\n    this.close();\n  }\n\n  setActiveByType(type) {\n    this.items.forEach((item) => {\n      if (item.data('type') === type) {\n        item.setActive();\n      }\n    });\n  }\n}\n\nexport { FormatContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { FormatContextMenu } from '../contextmenu/format/FormatContextMenu';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { Utils } from '../../../utils/Utils';\n\nclass Format extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-format`);\n    this.options = Utils.copyProp({\n      contextMenu: {},\n    }, options);\n    this.setTitle('常规');\n    this.setWidth(50);\n    this.setEllipsis();\n    this.formatContextMenu = new FormatContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { Format };\n","import { ELContextMenuItem } from '../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../config';\nimport { h } from '../../../../lib/Element';\nimport { Icon } from '../../tools/Icon';\n\nconst pool = [];\n\nclass FontContextMenuItem extends ELContextMenuItem {\n  constructor(title) {\n    super(`${cssPrefix}-font-context-menu-item`);\n    this.title = title;\n    this.icon = new Icon('checked');\n    this.iconElement = h('div', `${cssPrefix}-font-context-menu-item-icon`);\n    this.iconElement.children(this.icon);\n    this.titleElement = h('div', `${cssPrefix}-font-context-menu-item-title`);\n    this.titleElement.text(title);\n    this.titleElement.css('font-family', title);\n    this.children(this.iconElement);\n    this.children(this.titleElement);\n    pool.push(this);\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.titleElement.text(title);\n  }\n\n  setActive() {\n    pool.forEach((item) => {\n      item.removeClass('active');\n    });\n    this.addClass('active');\n  }\n}\n\nexport { FontContextMenuItem };\n","import { ELContextMenu } from '../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../config';\nimport { Utils } from '../../../../utils/Utils';\nimport { FontContextMenuItem } from './FontContextMenuItem';\nimport { Constant } from '../../../../utils/Constant';\n\nclass FontContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new FontContextMenuItem('Arial'),\n      new FontContextMenuItem('Helvetica'),\n      new FontContextMenuItem('Source Sans Pro'),\n      new FontContextMenuItem('Comic Sans Ms'),\n      new FontContextMenuItem('Courier New'),\n      new FontContextMenuItem('Verdana'),\n      new FontContextMenuItem('Lalo'),\n    ];\n    this.items.forEach((item) => {\n      item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n        this.update(item.title);\n        item.setActive();\n      });\n      this.addItem(item);\n    });\n    this.setActiveByType(this.items[0].title);\n  }\n\n  update(type) {\n    const { options } = this;\n    options.onUpdate(type);\n    this.close();\n  }\n\n  setActiveByType(type) {\n    this.items.forEach((item) => {\n      if (item.title === type) {\n        item.setActive();\n      }\n    });\n  }\n}\n\nexport { FontContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { FontContextMenu } from '../contextmenu/font/FontContextMenu';\n\nclass Font extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-font`);\n    this.options = Utils.copyProp({\n      contextMenu: {},\n    }, options);\n    this.setTitle('Arial');\n    this.setWidth(50);\n    this.setEllipsis();\n    this.fontContextMenu = new FontContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { Font };\n","import { ELContextMenuItem } from '../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../config';\nimport { h } from '../../../../lib/Element';\n\nclass FontSizeContextMenuItem extends ELContextMenuItem {\n  constructor(size) {\n    super(`${cssPrefix}-font-size-context-menu-item`);\n    this.size = size;\n    this.titleElement = h('div', `${cssPrefix}-font-size-context-menu-item-title`);\n    this.titleElement.text(size);\n    this.titleElement.css('text-align', 'center');\n    this.children(this.titleElement);\n  }\n}\n\nexport { FontSizeContextMenuItem };\n","import { ELContextMenu } from '../../../../component/elcontextmenu/ELContextMenu';\nimport { Utils } from '../../../../utils/Utils';\nimport { cssPrefix } from '../../../../config';\nimport { FontSizeContextMenuItem } from './FontSizeContextMenuItem';\nimport { Constant } from '../../../../utils/Constant';\n\nclass FontSizeContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-size-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new FontSizeContextMenuItem(6),\n      new FontSizeContextMenuItem(7),\n      new FontSizeContextMenuItem(8),\n      new FontSizeContextMenuItem(9),\n      new FontSizeContextMenuItem(10),\n      new FontSizeContextMenuItem(11),\n      new FontSizeContextMenuItem(12),\n      new FontSizeContextMenuItem(14),\n      new FontSizeContextMenuItem(15),\n      new FontSizeContextMenuItem(18),\n      new FontSizeContextMenuItem(24),\n      new FontSizeContextMenuItem(36),\n    ];\n    this.items.forEach((item) => {\n      item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n        this.update(item.size);\n      });\n      this.addItem(item);\n    });\n  }\n\n  update(size) {\n    const { options } = this;\n    options.onUpdate(size);\n    this.close();\n  }\n}\n\nexport { FontSizeContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { FontSizeContextMenu } from '../contextmenu/fontsize/FontSizeContextMenu';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\n\nclass FontSize extends DropDownItem {\n  constructor(options = { contextMenu: {} }) {\n    super(`${cssPrefix}-tools-font-size`);\n    this.options = options;\n    this.setTitle('10');\n    this.setWidth(30);\n    this.setEllipsis();\n    this.fontSizeContextMenu = new FontSizeContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { FontSize };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass FontBold extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-font-bold`);\n    this.icon = new Icon('font-bold');\n    this.children(this.icon);\n  }\n}\n\nexport { FontBold };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass FontItalic extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-font-italic`);\n    this.icon = new Icon('font-italic');\n    this.children(this.icon);\n  }\n}\n\nexport { FontItalic };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass UnderLine extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-under-line`);\n    this.icon = new Icon('under-line');\n    this.children(this.icon);\n  }\n}\n\nexport { UnderLine };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\n\nclass FontStrike extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-font-strike`);\n    this.icon = new Icon('font-strike');\n    this.children(this.icon);\n  }\n}\n\nexport { FontStrike };\n","import { ELContextMenuItem } from '../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../config';\nimport { h } from '../../../../lib/Element';\n\nclass FontColorContextMenuItem extends ELContextMenuItem {\n  constructor(title, icon) {\n    super(`${cssPrefix}-font-color-context-menu-item`);\n    this.title = title;\n    this.icon = icon;\n    if (icon) {\n      this.iconElement = h('div', `${cssPrefix}-font-color-context-menu-item-icon`);\n      this.iconElement.children(this.icon);\n      this.children(this.iconElement);\n    }\n    if (title) {\n      this.titleElement = h('div', `${cssPrefix}-font-color-context-menu-item-title`);\n      this.titleElement.text(title);\n      this.children(this.titleElement);\n    }\n  }\n}\n\nexport { FontColorContextMenuItem };\n","/* global document */\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { h } from '../../lib/Element';\nimport { Utils } from '../../utils/Utils';\n\nconst POOL = [];\n\nconst DRAG_PANEL_POSITION = {\n  LEFT: 1,\n  TOP: 2,\n  RIGHT: 3,\n  CENTER: 4,\n};\n\nclass DragPanel extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-drag-panel`);\n    this.options = Utils.mergeDeep({\n      position: DRAG_PANEL_POSITION.CENTER,\n    }, options);\n    this.off = true;\n    this.mask = h('div', `${cssPrefix}-drag-panel-mask`);\n    this.content = h('div', `${cssPrefix}-drag-panel-content`);\n    super.children(this.content);\n    this.bind();\n    POOL.push(this);\n  }\n\n  bind() {\n    const { mask } = this;\n    EventBind.bind(mask, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.close();\n      e.stopPropagation();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (evt1) => {\n      if (evt1.button !== 0) return;\n      const downEventXy = this.computeEventXy(evt1, this);\n      EventBind.mouseMoveUp(h(document), (evt2) => {\n        // 计算移动的距离\n        const top = evt2.pageY - downEventXy.y;\n        const left = evt2.pageX - downEventXy.x;\n        this.offset({ top, left });\n        evt2.stopPropagation();\n        evt2.preventDefault();\n      });\n      evt1.stopPropagation();\n      evt1.preventDefault();\n    });\n  }\n\n  position() {\n    const { options } = this;\n    const { position } = options;\n    const { width, height } = Utils.viewPort();\n    const box = this.box();\n    switch (position) {\n      case DRAG_PANEL_POSITION.LEFT:\n        break;\n      case DRAG_PANEL_POSITION.RIGHT:\n        break;\n      case DRAG_PANEL_POSITION.TOP:\n        break;\n      case DRAG_PANEL_POSITION.CENTER:\n        this.offset({\n          left: width / 2 - box.width / 2,\n          top: height / 2 - box.height / 2,\n        });\n        break;\n      default: break;\n    }\n  }\n\n  open() {\n    if (this.off) {\n      const { mask } = this;\n      h(document.body).children(mask);\n      h(document.body).children(this);\n      this.position();\n      this.off = false;\n    }\n  }\n\n  close() {\n    if (this.off === false) {\n      const { mask } = this;\n      h(document.body).remove(this);\n      h(document.body).remove(mask);\n      this.off = true;\n    }\n  }\n\n  children(...args) {\n    this.content.children(...args);\n  }\n\n  static closeAll(filter = []) {\n    POOL.forEach((item) => {\n      if (filter.indexOf(item) === -1) {\n        item.close();\n      }\n    });\n  }\n}\n\nexport { DragPanel };\n","/* global document */\nimport { h } from '../../lib/Element';\nimport { cssPrefix } from '../../config';\nimport { Widget } from '../../lib/Widget';\nimport { DragPanel } from '../dragpanel/DragPanel';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { Utils } from '../../utils/Utils';\n\nclass ColorPicker extends Widget {\n\n  constructor(options) {\n    super(`${cssPrefix}-color-picker`);\n    this.options = Utils.mergeDeep({\n      selectCb: () => {},\n    }, options);\n    // 拖拽组件\n    this.dragPanel = new DragPanel();\n    this.color = [360, 0, 100];\n    // 头部\n    this.preViewColorPoint = h('div', `${cssPrefix}-color-picker-pre-view-color-point`);\n    this.colorValueTips = h('div', `${cssPrefix}-color-picker-color-value-tips`);\n    this.colorValueTips.text('十六进制颜色值');\n    this.colorInput = h('input', `${cssPrefix}-color-picker-color-input`);\n    this.top = h('div', `${cssPrefix}-color-picker-top`);\n    this.top.children(this.preViewColorPoint);\n    this.top.children(this.colorValueTips);\n    this.top.children(this.colorInput);\n    // 中间部分\n    this.selectColorPoint = h('div', `${cssPrefix}-color-picker-select-color-point`);\n    this.selectColorArea1 = h('div', `${cssPrefix}-color-picker-select-color-area area1`);\n    this.selectColorArea2 = h('div', `${cssPrefix}-color-picker-select-color-area area2`);\n    this.selectColorArea3 = h('div', `${cssPrefix}-color-picker-select-color-area area3`);\n    this.center = h('div', `${cssPrefix}-color-picker-center`);\n    this.center.children(this.selectColorArea1);\n    this.center.children(this.selectColorArea2);\n    this.center.children(this.selectColorArea3);\n    this.center.children(this.selectColorPoint);\n    // 底部\n    this.colorHuxTips = h('div', `${cssPrefix}-color-picker-color-hux-tips`);\n    this.colorBar = h('div', `${cssPrefix}-color-picker-color-bar`);\n    this.colorBarPoint = h('div', `${cssPrefix}-color-picker-bar-point`);\n    this.bottom = h('div', `${cssPrefix}-color-picker-bottom`);\n    this.colorHuxTips.text('HUE');\n    this.colorBar.children(this.colorBarPoint);\n    this.bottom.children(this.colorHuxTips);\n    this.bottom.children(this.colorBar);\n    // 按钮\n    this.cancelButton = h('div', `${cssPrefix}-color-picker-button cancel`);\n    this.selectButton = h('div', `${cssPrefix}-color-picker-button select`);\n    this.buttons = h('div', `${cssPrefix}-color-picker-buttons`);\n    this.cancelButton.text('取消');\n    this.selectButton.text('确定');\n    this.buttons.children(this.selectButton);\n    this.buttons.children(this.cancelButton);\n    this.children(this.top);\n    this.children(this.center);\n    this.children(this.bottom);\n    this.children(this.buttons);\n    this.dragPanel.children(this);\n    this.dragPanel.css('background', '#ffffff');\n    this.bind();\n  }\n\n  bind() {\n    const { selectColorPoint, center } = this;\n    const { colorBarPoint, colorBar } = this;\n    const { colorInput, cancelButton, selectButton } = this;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      e.stopPropagation();\n    });\n    EventBind.bind(selectColorPoint, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      const xy = this.computeEventXy(e1, center);\n      const centerBox = center.box();\n      if (xy.x < 0) xy.x = 0;\n      if (xy.x > centerBox.width) xy.x = centerBox.width;\n      if (xy.y < 0) xy.y = 0;\n      if (xy.y > centerBox.height) xy.y = centerBox.height;\n      this.downSelect(xy.x, xy.y, centerBox.width, centerBox.height);\n      EventBind.mouseMoveUp(h(document), (e2) => {\n        const xy = this.computeEventXy(e2, center);\n        if (xy.x < 0) xy.x = 0;\n        if (xy.x > centerBox.width) xy.x = centerBox.width;\n        if (xy.y < 0) xy.y = 0;\n        if (xy.y > centerBox.height) xy.y = centerBox.height;\n        this.moveSelect(xy.x, xy.y, centerBox.width, centerBox.height);\n      });\n    });\n    EventBind.bind(colorBarPoint, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      const xy = this.computeEventXy(e1, colorBar);\n      const colorBarBox = colorBar.box();\n      if (xy.x < 0) xy.x = 0;\n      if (xy.x > colorBarBox.width) xy.x = colorBarBox.width;\n      this.downHue(xy.x, colorBarBox.width);\n      EventBind.mouseMoveUp(h(document), (e2) => {\n        const xy = this.computeEventXy(e2, colorBar);\n        const colorBarBox = colorBar.box();\n        if (xy.x < 0) xy.x = 0;\n        if (xy.x > colorBarBox.width) xy.x = colorBarBox.width;\n        this.moveHue(xy.x, colorBarBox.width);\n      });\n    });\n    EventBind.bind(colorInput, Constant.SYSTEM_EVENT_TYPE.CHANGE, () => {\n      const value = colorInput.val();\n      if (value) {\n        this.hexColor(value);\n      }\n    });\n    EventBind.bind(cancelButton, Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.close();\n    });\n    EventBind.bind(selectButton, Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      const { color } = this;\n      const hsb = ColorPicker.fixHsx({\n        h: parseInt(color[0], 10),\n        s: parseInt(color[1], 10),\n        x: parseInt(color[2], 10),\n      });\n      const colorValue = ColorPicker.hsbToHex(hsb);\n      this.options.selectCb(`#${colorValue}`);\n      this.close();\n    });\n  }\n\n  open(hex) {\n    const { dragPanel } = this;\n    dragPanel.open();\n    if (hex) {\n      if (ColorPicker.isRgb(hex)) {\n        const rgb = ColorPicker.parseRgb(hex);\n        // eslint-disable-next-line no-param-reassign\n        hex = ColorPicker.rgbToHex(rgb);\n      }\n      this.hexColor(hex);\n    } else {\n      this.change();\n    }\n    return this;\n  }\n\n  close() {\n    const { dragPanel } = this;\n    dragPanel.close();\n    return this;\n  }\n\n  sliderPosition(hsb) {\n    // hue 滑块位置\n    const { colorBar, colorBarPoint } = this;\n    const colorBarPointBox = colorBarPoint.box();\n    const colorBarBox = colorBar.box();\n    let colorBarPointLeft = parseInt(colorBarBox.width - colorBarBox.width * hsb.h / 360, 10);\n    colorBarPointLeft -= colorBarPointBox.width / 2;\n    colorBarPoint.offset({\n      left: colorBarPointLeft,\n    });\n    // select color 滑块位置\n    const { center, selectColorPoint } = this;\n    const selectColorPointBox = selectColorPoint.box();\n    const centerBox = center.box();\n    let selectColorPointLeft = parseInt(centerBox.width * hsb.s / 100, 10);\n    let selectColorPointTop = parseInt(centerBox.height * (100 - hsb.x) / 100, 10);\n    selectColorPointLeft -= selectColorPointBox.width / 2;\n    selectColorPointTop -= selectColorPointBox.height / 2;\n    selectColorPoint.offset({\n      left: selectColorPointLeft,\n      top: selectColorPointTop,\n    });\n  }\n\n  hueChange() {\n    const { color } = this;\n    const hsb = ColorPicker.fixHsx({\n      h: parseInt(color[0], 10),\n      s: parseInt(color[1], 10),\n      x: parseInt(color[2], 10),\n    });\n    const {\n      colorBarPoint, selectColorPoint, preViewColorPoint, selectColorArea1, colorInput,\n    } = this;\n    const colorValue = ColorPicker.hsbToHex(hsb);\n    const areaColorValue = ColorPicker.hsbToHex({ h: hsb.h, s: 100, x: 100 });\n    selectColorPoint.css('backgroundColor', `#${colorValue}`);\n    preViewColorPoint.css('backgroundColor', `#${colorValue}`);\n    colorBarPoint.css('backgroundColor', `#${areaColorValue}`);\n    selectColorArea1.css('backgroundColor', `#${areaColorValue}`);\n    colorInput.val(`#${colorValue}`);\n    this.sliderPosition(hsb);\n  }\n\n  selectChange() {\n    const { color } = this;\n    const hsb = ColorPicker.fixHsx({\n      h: parseInt(color[0], 10),\n      s: parseInt(color[1], 10),\n      x: parseInt(color[2], 10),\n    });\n    const { preViewColorPoint, selectColorPoint, colorInput } = this;\n    const colorValue = ColorPicker.hsbToHex(hsb);\n    selectColorPoint.css('backgroundColor', `#${colorValue}`);\n    preViewColorPoint.css('backgroundColor', `#${colorValue}`);\n    colorInput.val(`#${colorValue}`);\n    this.sliderPosition(hsb);\n  }\n\n  change() {\n    this.hueChange();\n    this.selectChange();\n  }\n\n  downSelect(x, y, width, height) {\n    const { color } = this;\n    color[1] = parseInt(100 * x / width, 10);\n    color[2] = parseInt(100 * (height - y) / height, 10);\n    this.selectChange();\n  }\n\n  moveSelect(x, y, width, height) {\n    const { color } = this;\n    color[1] = parseInt(100 * (Math.max(0, Math.min(width, x))) / width, 10);\n    color[2] = parseInt(100 * (height - Math.max(0, Math.min(height, y))) / height, 10);\n    this.selectChange();\n  }\n\n  downHue(x, width) {\n    const { color } = this;\n    color[0] = parseInt(360 * (width - x) / width, 10);\n    this.hueChange();\n  }\n\n  moveHue(x, width) {\n    const { color } = this;\n    color[0] = parseInt(360 * (width - Math.max(0, Math.min(width, x))) / width, 10);\n    this.hueChange();\n  }\n\n  hexColor(hex) {\n    const { color } = this;\n    const result = ColorPicker.hexToHsb(ColorPicker.fixHex(hex));\n    color[0] = result.h;\n    color[1] = result.s;\n    color[2] = result.x;\n    this.change();\n  }\n\n  static fixHex(hex) {\n    const len = 6 - hex.length;\n    if (len > 0) {\n      const o = [];\n      for (let i = 0; i < len; i += 1) {\n        o.push('0');\n      }\n      o.push(hex);\n      // eslint-disable-next-line no-param-reassign\n      hex = o.join('');\n    }\n    return hex;\n  }\n\n  static fixHsx(hsx) {\n    return {\n      h: Math.min(360, Math.max(0, hsx.h)),\n      s: Math.min(100, Math.max(0, hsx.s)),\n      x: Math.min(100, Math.max(0, hsx.x)),\n    };\n  }\n\n  static hexToRgb(hex) {\n    // eslint-disable-next-line no-redeclare,no-param-reassign\n    hex = parseInt(((hex.indexOf('#') > -1) ? hex.substring(1) : hex), 16);\n    // eslint-disable-next-line no-bitwise\n    return { r: hex >> 16, g: (hex & 0x00FF00) >> 8, b: (hex & 0x0000FF) };\n  }\n\n  static hexToHsb(hex) {\n    return this.rgbToHsb(this.hexToRgb(hex));\n  }\n\n  static rgbToHsb(rgb) {\n    const hsb = { h: 0, s: 0, x: 0 };\n    const min = Math.min(rgb.r, rgb.g, rgb.b);\n    const max = Math.max(rgb.r, rgb.g, rgb.b);\n    const delta = max - min;\n    hsb.x = max;\n    hsb.s = max !== 0 ? 255 * delta / max : 0;\n    if (hsb.s !== 0) {\n      if (rgb.r === max) hsb.h = (rgb.g - rgb.b) / delta;\n      else if (rgb.g === max) hsb.h = 2 + (rgb.b - rgb.r) / delta;\n      else hsb.h = 4 + (rgb.r - rgb.g) / delta;\n    } else hsb.h = -1;\n    hsb.h *= 60;\n    if (hsb.h < 0) hsb.h += 360;\n    hsb.s *= 100 / 255;\n    hsb.x *= 100 / 255;\n    return hsb;\n  }\n\n  static hsbToRgb(hsb) {\n    const rgb = {};\n    let { h } = hsb;\n    const s = hsb.s * 255 / 100;\n    const v = hsb.x * 255 / 100;\n    if (s === 0) {\n      rgb.r = v;\n      rgb.g = v;\n      rgb.b = v;\n    } else {\n      const t1 = v;\n      const t2 = (255 - s) * v / 255;\n      const t3 = (t1 - t2) * (h % 60) / 60;\n      if (h === 360) h = 0;\n      if (h < 60) {\n        rgb.r = t1;\n        rgb.b = t2;\n        rgb.g = t2 + t3;\n      } else if (h < 120) {\n        rgb.g = t1;\n        rgb.b = t2;\n        rgb.r = t1 - t3;\n      } else if (h < 180) {\n        rgb.g = t1;\n        rgb.r = t2;\n        rgb.b = t2 + t3;\n      } else if (h < 240) {\n        rgb.b = t1;\n        rgb.r = t2;\n        rgb.g = t1 - t3;\n      } else if (h < 300) {\n        rgb.b = t1;\n        rgb.g = t2;\n        rgb.r = t2 + t3;\n      } else if (h < 360) {\n        rgb.r = t1;\n        rgb.g = t2;\n        rgb.b = t1 - t3;\n      } else {\n        rgb.r = 0;\n        rgb.g = 0;\n        rgb.b = 0;\n      }\n    }\n    return { r: Math.round(rgb.r), g: Math.round(rgb.g), b: Math.round(rgb.b) };\n  }\n\n  static rgbToHex(rgb) {\n    const hex = [\n      rgb.r.toString(16),\n      rgb.g.toString(16),\n      rgb.b.toString(16),\n    ];\n    hex.forEach((val, nr) => {\n      if (val.length === 1) {\n        hex[nr] = `0${val}`;\n      }\n    });\n    return hex.join('');\n  }\n\n  static hsbToHex(hsb) {\n    return this.rgbToHex(this.hsbToRgb(hsb));\n  }\n\n  static isRgb(rgb) {\n    return rgb.startsWith('rgb');\n  }\n\n  static isHex(hex) {\n    return hex.startsWith('#');\n  }\n\n  static parseRgb(rgb) {\n    const rxp = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/;\n    const result = rgb.match(rxp);\n    return {\n      r: result[1],\n      g: result[2],\n      b: result[3],\n    };\n  }\n\n  static isDark(rgb) {\n    if (Utils.isBlank(rgb)) {\n      return false;\n    }\n    if (this.isHex(rgb)) {\n      const v = ColorPicker.hexToRgb(rgb);\n      // eslint-disable-next-line no-param-reassign\n      rgb = `rgb(${v.r}, ${v.g}, ${v.b})`;\n    }\n    const result = ColorPicker.parseRgb(rgb);\n    return result.r * 0.299 + result.g * 0.578 + result.b * 0.114 >= 192;\n  }\n}\n\nexport { ColorPicker };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\nimport { Icon } from '../../core/work/tools/Icon';\nimport { ColorPicker } from '../colorpicker/ColorPicker';\n\nclass ColorItem extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-color-array-item`);\n    this.options = Utils.mergeDeep({\n      color: null,\n      icon: null,\n    }, options);\n    this.color = this.options.color;\n    this.icon = this.options.icon;\n    if (this.color) {\n      this.css('backgroundColor', this.color);\n      if (ColorPicker.isDark(this.options.color)) {\n        this.checkedIcon = new Icon('checked-dark');\n        this.children(this.checkedIcon);\n      } else {\n        this.checkedIcon = new Icon('checked-light');\n        this.children(this.checkedIcon);\n      }\n      this.checkedIcon.hide();\n    }\n    if (this.icon) {\n      this.children(this.options.icon);\n    }\n  }\n\n  setActive(active) {\n    if (this.checkedIcon) {\n      if (active) {\n        this.checkedIcon.show();\n      } else {\n        this.checkedIcon.hide();\n      }\n    }\n  }\n}\n\nexport { ColorItem };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { ColorItem } from './ColorItem';\nimport { Utils } from '../../utils/Utils';\nimport { Constant } from '../../utils/Constant';\n\nclass ColorArray extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-color-array`);\n    this.options = Utils.mergeDeep({\n      colors: [\n        new ColorItem({ color: 'rgb(0,0,0)' }),\n        new ColorItem({ color: 'rgb(67, 67, 67)' }),\n        new ColorItem({ color: 'rgb(102, 102, 102)' }),\n        new ColorItem({ color: 'rgb(153, 153, 153)' }),\n        new ColorItem({ color: 'rgb(183, 183, 183)' }),\n        new ColorItem({ color: 'rgb(204, 204, 204)' }),\n        new ColorItem({ color: 'rgb(217, 217, 217)' }),\n        new ColorItem({ color: 'rgb(239, 239, 239)' }),\n        new ColorItem({ color: 'rgb(255, 255, 255)' }),\n\n        new ColorItem({ color: 'rgb(152, 0, 0)' }),\n        new ColorItem({ color: 'rgb(255, 0, 0)' }),\n        new ColorItem({ color: 'rgb(255, 153, 0)' }),\n        new ColorItem({ color: 'rgb(255, 255, 0)' }),\n        new ColorItem({ color: 'rgb(0, 255, 0)' }),\n        new ColorItem({ color: 'rgb(0, 255, 255)' }),\n        new ColorItem({ color: 'rgb(74, 134, 232)' }),\n        new ColorItem({ color: 'rgb(0, 0, 255)' }),\n        new ColorItem({ color: 'rgb(153, 0, 255)' }),\n        new ColorItem({ color: 'rgb(255, 0, 255)' }),\n\n        new ColorItem({ color: 'rgb(230, 184, 175)' }),\n        new ColorItem({ color: 'rgb(244, 204, 204)' }),\n        new ColorItem({ color: 'rgb(252, 229, 205)' }),\n        new ColorItem({ color: 'rgb(255, 242, 204)' }),\n        new ColorItem({ color: 'rgb(217, 234, 211)' }),\n        new ColorItem({ color: 'rgb(208, 224, 227)' }),\n        new ColorItem({ color: 'rgb(201, 218, 248)' }),\n        new ColorItem({ color: 'rgb(207, 226, 243)' }),\n        new ColorItem({ color: 'rgb(217, 210, 233)' }),\n        new ColorItem({ color: 'rgb(234, 209, 220)' }),\n\n        new ColorItem({ color: 'rgb(221, 126, 107)' }),\n        new ColorItem({ color: 'rgb(234, 153, 153)' }),\n        new ColorItem({ color: 'rgb(249, 203, 156)' }),\n        new ColorItem({ color: 'rgb(255, 229, 153)' }),\n        new ColorItem({ color: 'rgb(182, 215, 168)' }),\n        new ColorItem({ color: 'rgb(162, 196, 201)' }),\n        new ColorItem({ color: 'rgb(164, 194, 244)' }),\n        new ColorItem({ color: 'rgb(159, 197, 232)' }),\n        new ColorItem({ color: 'rgb(180, 167, 214)' }),\n        new ColorItem({ color: 'rgb(213, 166, 189)' }),\n\n        new ColorItem({ color: 'rgb(204, 65, 37)' }),\n        new ColorItem({ color: 'rgb(224, 102, 102)' }),\n        new ColorItem({ color: 'rgb(246, 178, 107)' }),\n        new ColorItem({ color: 'rgb(255, 217, 102)' }),\n        new ColorItem({ color: 'rgb(147, 196, 125)' }),\n        new ColorItem({ color: 'rgb(118, 165, 175)' }),\n        new ColorItem({ color: 'rgb(109, 158, 235)' }),\n        new ColorItem({ color: 'rgb(111, 168, 220)' }),\n        new ColorItem({ color: 'rgb(142, 124, 195)' }),\n        new ColorItem({ color: 'rgb(194, 123, 160)' }),\n\n        new ColorItem({ color: 'rgb(166, 28, 0)' }),\n        new ColorItem({ color: 'rgb(204, 0, 0)' }),\n        new ColorItem({ color: 'rgb(230, 145, 56)' }),\n        new ColorItem({ color: 'rgb(241, 194, 50)' }),\n        new ColorItem({ color: 'rgb(106, 168, 79)' }),\n        new ColorItem({ color: 'rgb(69, 129, 142)' }),\n        new ColorItem({ color: 'rgb(60, 120, 216)' }),\n        new ColorItem({ color: 'rgb(61, 133, 198)' }),\n        new ColorItem({ color: 'rgb(103, 78, 167)' }),\n        new ColorItem({ color: 'rgb(166, 77, 121)' }),\n\n        new ColorItem({ color: 'rgb(133, 32, 12)' }),\n        new ColorItem({ color: 'rgb(153, 0, 0)' }),\n        new ColorItem({ color: 'rgb(180, 95, 6)' }),\n        new ColorItem({ color: 'rgb(191, 144, 0)' }),\n        new ColorItem({ color: 'rgb(56, 118, 29)' }),\n        new ColorItem({ color: 'rgb(19, 79, 92)' }),\n        new ColorItem({ color: 'rgb(17, 85, 204)' }),\n        new ColorItem({ color: 'rgb(11, 83, 148)' }),\n        new ColorItem({ color: 'rgb(53, 28, 117)' }),\n        new ColorItem({ color: 'rgb(116, 27, 71)' }),\n\n        new ColorItem({ color: 'rgb(91, 15, 0)' }),\n        new ColorItem({ color: 'rgb(102, 0, 0)' }),\n        new ColorItem({ color: 'rgb(120, 63, 4)' }),\n        new ColorItem({ color: 'rgb(127, 96, 0)' }),\n        new ColorItem({ color: 'rgb(39, 78, 19)' }),\n        new ColorItem({ color: 'rgb(12, 52, 61)' }),\n        new ColorItem({ color: 'rgb(28, 69, 135)' }),\n        new ColorItem({ color: 'rgb(7, 55, 99)' }),\n        new ColorItem({ color: 'rgb(32, 18, 77)' }),\n        new ColorItem({ color: 'rgb(76, 17, 48)' }),\n      ],\n      selectCb: () => {},\n    }, options);\n    this.colors = this.options.colors;\n    this.activeColor = null;\n    this.colors.forEach((item) => {\n      this.children(item);\n      item.on(Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n        this.options.selectCb(item);\n        if (item.options.color) {\n          this.setActiveByColor(item.options.color);\n        }\n      });\n    });\n    if (this.colors.length > 0) {\n      this.setActiveByColor(this.colors[0].options.color);\n    }\n  }\n\n  add(item) {\n    item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.selectCb(item);\n      if (item.options.color) {\n        this.setActiveByColor(item.options.color);\n      }\n    });\n    this.colors.push(item);\n    this.children(item);\n  }\n\n  setActiveByColor(color) {\n    this.colors.forEach((item) => {\n      const { options } = item;\n      if (options.color === color) {\n        item.setActive(true);\n        this.activeColor = options.color;\n      } else {\n        item.setActive(false);\n      }\n    });\n  }\n}\n\nexport { ColorArray };\n","import { ELContextMenu } from '../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../config';\nimport { FontColorContextMenuItem } from './FontColorContextMenuItem';\nimport { ColorArray } from '../../../../component/colorarray/ColorArray';\nimport { h } from '../../../../lib/Element';\nimport { ColorItem } from '../../../../component/colorarray/ColorItem';\nimport { ELContextMenuDivider } from '../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { Icon } from '../../tools/Icon';\nimport { Utils } from '../../../../utils/Utils';\nimport { Constant } from '../../../../utils/Constant';\nimport { ColorPicker } from '../../../../component/colorpicker/ColorPicker';\n\nclass FontColorContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-color-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.colorPicker = new ColorPicker({\n      selectCb: (color) => {\n        const item = new ColorItem({ color });\n        this.customizeColorArray.add(item);\n        this.customizeColorArray.setActiveByColor(color);\n        this.colorArray.setActiveByColor(null);\n        this.options.onUpdate(color);\n        this.close();\n      },\n    });\n    // 重置\n    this.reset = new FontColorContextMenuItem('重置', new Icon('clear-color'));\n    this.reset.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.onUpdate('rgb(0,0,0)');\n      this.customizeColorArray.setActiveByColor(null);\n      this.colorArray.setActiveByColor(null);\n    });\n    // 颜色筛选\n    this.array = new FontColorContextMenuItem();\n    this.array.removeClass('hover');\n    this.colorArray = new ColorArray({\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) this.options.onUpdate(color);\n        this.customizeColorArray.setActiveByColor(null);\n        this.close();\n      },\n    });\n    this.array.children(this.colorArray);\n    // 历史选中\n    this.title = h('div', `${cssPrefix}-font-color-context-menu-color-title`);\n    this.title.text('自定义');\n    this.plus = new Icon('plus');\n    this.customizeColorArray = new ColorArray({\n      colors: [\n        new ColorItem({ icon: this.plus }),\n      ],\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) {\n          this.options.onUpdate(color);\n          this.colorArray.setActiveByColor(null);\n          this.close();\n        } else {\n          this.colorPicker.open(this.customizeColorArray.activeColor);\n        }\n      },\n    });\n    this.customize = new FontColorContextMenuItem();\n    this.customize.removeClass('hover');\n    this.customize.children(this.title);\n    this.customize.children(this.customizeColorArray);\n    // 菜单元素追加子节点\n    this.addItem(this.reset);\n    this.addItem(this.array);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.customize);\n  }\n\n  setActiveByColor(color) {\n    this.customizeColorArray.setActiveByColor(color);\n    this.colorArray.setActiveByColor(color);\n  }\n}\n\nexport { FontColorContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { FontColorContextMenu } from '../contextmenu/fontcolor/FontColorContextMenu';\n\nclass FontColor extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-font-color`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('color');\n    this.fontColorContextMenu = new FontColorContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n    this.setIcon(this.icon);\n    this.setColor('rgb(0,0,0)');\n    this.fontColorContextMenu.setActiveByColor('rgb(0,0,0)');\n  }\n\n  setColor(color) {\n    this.icon.css('border-bottom', `3px solid ${color}`);\n  }\n}\n\nexport { FontColor };\n","import { ELContextMenuItem } from '../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../config';\nimport { h } from '../../../../lib/Element';\n\nclass FillColorContextMenuItem extends ELContextMenuItem {\n  constructor(title, icon) {\n    super(`${cssPrefix}-fill-color-context-menu-item`);\n    this.title = title;\n    this.icon = icon;\n    if (icon) {\n      this.iconElement = h('div', `${cssPrefix}-fill-color-context-menu-item-icon`);\n      this.iconElement.children(this.icon);\n      this.children(this.iconElement);\n    }\n    if (title) {\n      this.titleElement = h('div', `${cssPrefix}-fill-color-context-menu-item-title`);\n      this.titleElement.text(title);\n      this.children(this.titleElement);\n    }\n  }\n}\n\nexport { FillColorContextMenuItem };\n","import { ELContextMenu } from '../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../config';\nimport { ColorArray } from '../../../../component/colorarray/ColorArray';\nimport { h } from '../../../../lib/Element';\nimport { ColorItem } from '../../../../component/colorarray/ColorItem';\nimport { ELContextMenuDivider } from '../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { Icon } from '../../tools/Icon';\nimport { Utils } from '../../../../utils/Utils';\nimport { Constant } from '../../../../utils/Constant';\nimport { FillColorContextMenuItem } from './FillColorContextMenuItem';\nimport { ColorPicker } from '../../../../component/colorpicker/ColorPicker';\n\nclass FillColorContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-color-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.colorPicker = new ColorPicker({\n      selectCb: (color) => {\n        const item = new ColorItem({ color });\n        this.customizeColorArray.add(item);\n        this.customizeColorArray.setActiveByColor(color);\n        this.colorArray.setActiveByColor(null);\n        this.options.onUpdate(color);\n        this.close();\n      },\n    });\n    // 重置\n    this.reset = new FillColorContextMenuItem('重置', new Icon('clear-color'));\n    this.reset.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.onUpdate('rgb(0,0,0)');\n      this.customizeColorArray.setActiveByColor(null);\n      this.colorArray.setActiveByColor(null);\n    });\n    // 颜色筛选\n    this.array = new FillColorContextMenuItem();\n    this.array.removeClass('hover');\n    this.colorArray = new ColorArray({\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) this.options.onUpdate(color);\n        this.customizeColorArray.setActiveByColor(null);\n        this.close();\n      },\n    });\n    this.array.children(this.colorArray);\n    // 历史选中\n    this.title = h('div', `${cssPrefix}-font-color-context-menu-color-title`);\n    this.title.text('自定义');\n    this.plus = new Icon('plus');\n    this.customizeColorArray = new ColorArray({\n      colors: [\n        new ColorItem({ icon: this.plus }),\n      ],\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) {\n          this.options.onUpdate(color);\n          this.colorArray.setActiveByColor(null);\n          this.close();\n        } else {\n          this.colorPicker.open(this.customizeColorArray.activeColor);\n        }\n      },\n    });\n    this.customize = new FillColorContextMenuItem();\n    this.customize.removeClass('hover');\n    this.customize.children(this.title);\n    this.customize.children(this.customizeColorArray);\n    // 菜单元素追加子节点\n    this.addItem(this.reset);\n    this.addItem(this.array);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.customize);\n  }\n\n  setActiveByColor(color) {\n    this.customizeColorArray.setActiveByColor(color);\n    this.colorArray.setActiveByColor(color);\n  }\n}\n\nexport { FillColorContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { FillColorContextMenu } from '../contextmenu/fillcolor/FillColorContextMenu';\n\nclass FillColor extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-fill-color`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('fill-color');\n    this.fillColorContextMenu = new FillColorContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n    this.setIcon(this.icon);\n    this.setColor('rgb(255, 255, 255)');\n    this.fillColorContextMenu.setActiveByColor('rgb(255, 255, 255)');\n  }\n\n  setColor(color) {\n    this.icon.css('border-bottom', `3px solid ${color}`);\n  }\n}\n\nexport { FillColor };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\n\nclass BorderTypeContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-border-type-context-menu-item`);\n  }\n}\n\nexport { BorderTypeContextMenuItem };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass BorderIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border1`);\n    this.icon = new Icon('border1');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon1 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass BorderIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border2`);\n    this.icon = new Icon('border2');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon2 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass BorderIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border3`);\n    this.icon = new Icon('border3');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon3 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass BorderIcon4 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border4`);\n    this.icon = new Icon('border4');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon4 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass BorderIcon5 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border5`);\n    this.icon = new Icon('border5');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon5 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass BorderIcon6 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border6`);\n    this.icon = new Icon('border6');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon6 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass BorderIcon7 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border7`);\n    this.icon = new Icon('border7');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon7 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass BorderIcon8 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border8`);\n    this.icon = new Icon('border8');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon8 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass BorderIcon9 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border9`);\n    this.icon = new Icon('border9');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon9 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass BorderIcon10 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border10`);\n    this.icon = new Icon('border10');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon10 };\n","import { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\nimport { DropDownItem } from '../base/DropDownItem';\n\nclass BorderColor extends DropDownItem {\n  constructor() {\n    super(`${cssPrefix}-tools-border-color`);\n    this.icon = new Icon('border-color');\n    this.setIcon(this.icon);\n    this.setColor('#000000');\n  }\n\n  setColor(color) {\n    this.icon.css('border-bottom', `3px solid ${color}`);\n  }\n}\n\nexport { BorderColor };\n","import { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\nimport { DropDownItem } from '../base/DropDownItem';\n\nclass BorderType extends DropDownItem {\n  constructor() {\n    super(`${cssPrefix}-tools-border-type`);\n    this.icon = new Icon('border-type');\n    this.setIcon(this.icon);\n  }\n}\n\nexport { BorderType };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\nimport { h } from '../../../../../lib/Element';\n\nclass BorderColorContextMenuItem extends ELContextMenuItem {\n  constructor(title, icon) {\n    super(`${cssPrefix}-border-color-context-menu-item`);\n    this.title = title;\n    this.icon = icon;\n    if (icon) {\n      this.iconElement = h('div', `${cssPrefix}-border-color-context-menu-item-icon`);\n      this.iconElement.children(this.icon);\n      this.children(this.iconElement);\n    }\n    if (title) {\n      this.titleElement = h('div', `${cssPrefix}-border-color-context-menu-item-title`);\n      this.titleElement.text(title);\n      this.children(this.titleElement);\n    }\n  }\n}\n\nexport { BorderColorContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { Utils } from '../../../../../utils/Utils';\nimport { ColorPicker } from '../../../../../component/colorpicker/ColorPicker';\nimport { ColorItem } from '../../../../../component/colorarray/ColorItem';\nimport { Icon } from '../../../tools/Icon';\nimport { Constant } from '../../../../../utils/Constant';\nimport { ColorArray } from '../../../../../component/colorarray/ColorArray';\nimport { ELContextMenuDivider } from '../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { BorderColorContextMenuItem } from './BorderColorContextMenuItem';\nimport { h } from '../../../../../lib/Element';\n\nclass BorderColorContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-border-color-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.colorPicker = new ColorPicker({\n      selectCb: (color) => {\n        const item = new ColorItem({ color });\n        this.customizeColorArray.add(item);\n        this.customizeColorArray.setActiveByColor(color);\n        this.colorArray.setActiveByColor(null);\n        this.options.onUpdate(color);\n        this.close();\n      },\n    });\n    // 重置\n    this.reset = new BorderColorContextMenuItem('重置', new Icon('clear-color'));\n    this.reset.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.onUpdate('rgb(0,0,0)');\n      this.customizeColorArray.setActiveByColor(null);\n      this.colorArray.setActiveByColor(null);\n    });\n    // 颜色筛选\n    this.array = new BorderColorContextMenuItem();\n    this.array.removeClass('hover');\n    this.colorArray = new ColorArray({\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) this.options.onUpdate(color);\n        this.customizeColorArray.setActiveByColor(null);\n        this.close();\n      },\n    });\n    this.array.children(this.colorArray);\n    // 历史选中\n    this.title = h('div', `${cssPrefix}-border-color-context-menu-color-title`);\n    this.title.text('自定义');\n    this.plus = new Icon('plus');\n    this.customizeColorArray = new ColorArray({\n      colors: [\n        new ColorItem({ icon: this.plus }),\n      ],\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) {\n          this.options.onUpdate(color);\n          this.colorArray.setActiveByColor(null);\n          this.close();\n        } else {\n          this.colorPicker.open(this.customizeColorArray.activeColor);\n        }\n      },\n    });\n    this.customize = new BorderColorContextMenuItem();\n    this.customize.removeClass('hover');\n    this.customize.children(this.title);\n    this.customize.children(this.customizeColorArray);\n    // 菜单元素追加子节点\n    this.addItem(this.reset);\n    this.addItem(this.array);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.customize);\n  }\n\n  setActiveByColor(color) {\n    this.customizeColorArray.setActiveByColor(color);\n    this.colorArray.setActiveByColor(color);\n  }\n}\n\nexport { BorderColorContextMenu };\n","import { cssPrefix } from '../../../../../config';\nimport { Icon } from '../../../tools/Icon';\nimport { h } from '../../../../../lib/Element';\nimport { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\n\nconst pool = [];\n\nclass LineTypeContextMenuItem extends ELContextMenuItem {\n  constructor(type) {\n    super(`${cssPrefix}-font-context-menu-item`);\n    this.type = type;\n    this.icon = new Icon('checked');\n    this.typeIcon = new Icon(type);\n    this.typeIcon.setWidth(50);\n    this.iconElement = h('div', `${cssPrefix}-font-context-menu-item-icon`);\n    this.titleElement = h('div', `${cssPrefix}-font-context-menu-item-title`);\n    this.iconElement.children(this.icon);\n    this.titleElement.children(this.typeIcon);\n    this.children(this.iconElement);\n    this.children(this.titleElement);\n    pool.push(this);\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.titleElement.text(title);\n  }\n\n  setActive() {\n    pool.forEach((item) => {\n      item.removeClass('active');\n    });\n    this.addClass('active');\n  }\n}\n\nexport { LineTypeContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { Utils } from '../../../../../utils/Utils';\nimport { cssPrefix } from '../../../../../config';\nimport { LineTypeContextMenuItem } from './LineTypeContextMenuItem';\nimport { Constant } from '../../../../../utils/Constant';\n\nclass LineTypeContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-line-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new LineTypeContextMenuItem('line1'),\n      new LineTypeContextMenuItem('line2'),\n      new LineTypeContextMenuItem('line3'),\n      new LineTypeContextMenuItem('line4'),\n      new LineTypeContextMenuItem('line5'),\n      new LineTypeContextMenuItem('line6'),\n    ];\n    this.items.forEach((item) => {\n      item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n        this.update(item.type);\n        item.setActive();\n      });\n      this.addItem(item);\n    });\n    this.setActiveByType(this.items[0].type);\n  }\n\n  update(type) {\n    const { options } = this;\n    options.onUpdate(type);\n    this.close();\n  }\n\n  setActiveByType(type) {\n    this.items.forEach((item) => {\n      if (item.type === type) {\n        item.setActive();\n      }\n    });\n  }\n}\n\nexport { LineTypeContextMenu };\n","import { Utils } from '../utils/Utils';\n\nconst LINE_TYPE = {\n  SOLID_LINE: 0,\n  DOTTED_LINE: 1,\n  POINT_LINE: 2,\n  DOUBLE_LINE: 3,\n};\n\nclass SolidLine {\n\n  constructor(draw, attr) {\n    this.draw = draw;\n    Utils.mergeDeep(this, {\n      color: '#000000',\n      width: 1,\n    }, attr);\n  }\n\n  drawLine(sx, sy, ex, ey) {\n    const { draw } = this;\n    const { width, color } = this;\n    draw.beginPath();\n    draw.attr({\n      lineWidth: width,\n      strokeStyle: color,\n    });\n    draw.setLineDash([]);\n    draw.line([sx, sy], [ex, ey]);\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n}\n\nclass DottedLine {\n\n  constructor(draw, attr) {\n    this.draw = draw;\n    Utils.mergeDeep(this, {\n      color: '#000000',\n      width: 1,\n      dash: [5],\n    }, attr);\n  }\n\n  drawLine(sx, sy, ex, ey) {\n    const { draw, dash } = this;\n    const { width, color } = this;\n    draw.beginPath();\n    draw.attr({\n      lineWidth: width,\n      strokeStyle: color,\n    });\n    draw.setLineDash(dash);\n    draw.line([sx, sy], [ex, ey]);\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n}\n\nclass DoubleLine {\n\n  constructor(draw, attr) {\n    this.draw = draw;\n    Utils.mergeDeep(this, {\n      color: '#000000',\n      width: 1,\n      padding: 1,\n      spacing: 2,\n      leftShow: () => false,\n      topShow: () => false,\n      rightShow: () => false,\n      bottomShow: () => false,\n      iFMerge: () => false,\n      iFMergeFirstRow: () => false,\n      iFMergeLastRow: () => false,\n      iFMergeFirstCol: () => false,\n      iFMergeLastCol: () => false,\n    }, attr);\n  }\n\n  handleExternal(sx, sy, ex, ey, row, col, pos) {\n    const external = {};\n    const { leftShow, topShow, rightShow, bottomShow } = this;\n    const { iFMerge, iFMergeFirstRow, iFMergeLastRow, iFMergeFirstCol, iFMergeLastCol } = this;\n    const { spacing } = this;\n    let ifMerge = null;\n    let firstRow = null;\n    let lastRow = null;\n    let firstCol = null;\n    let lastCol = null;\n    switch (pos) {\n      case 'left':\n        ifMerge = iFMerge(row, col - 1);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row, col - 1);\n          lastRow = iFMergeLastRow(row, col - 1);\n          firstCol = iFMergeFirstCol(row, col - 1);\n          lastCol = iFMergeLastCol(row, col - 1);\n        }\n        break;\n      case 'top':\n        ifMerge = iFMerge(row - 1, col);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row - 1, col);\n          lastRow = iFMergeLastRow(row - 1, col);\n          firstCol = iFMergeFirstCol(row - 1, col);\n          lastCol = iFMergeLastCol(row - 1, col);\n        }\n        break;\n      case 'right':\n        ifMerge = iFMerge(row, col + 1);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row, col + 1);\n          lastRow = iFMergeLastRow(row, col + 1);\n          firstCol = iFMergeFirstCol(row, col + 1);\n          lastCol = iFMergeLastCol(row, col + 1);\n        }\n        break;\n      case 'bottom':\n        ifMerge = iFMerge(row + 1, col);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row + 1, col);\n          lastRow = iFMergeLastRow(row + 1, col);\n          firstCol = iFMergeFirstCol(row + 1, col);\n          lastCol = iFMergeLastCol(row + 1, col);\n        }\n        break;\n      default: break;\n    }\n    if (ifMerge) {\n      switch (pos) {\n        case 'left': {\n          external.sx = sx - spacing;\n          external.ex = ex - spacing;\n          // 检查顶边和上底边及左上角底边及左顶边\n          const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          external.sy = sy;\n          if (sTop || sBottom) external.sy = sy - spacing;\n          if (sTopLeftCorner && firstRow) external.sy = sy + spacing;\n          // 检查底边和下顶边及左下角顶边和左底边\n          const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          external.ey = ey;\n          if (eBottom || eTop) external.ey = ey + spacing;\n          if (eBottomLeftCorner && lastRow) external.ey = ey - spacing;\n          break;\n        }\n        case 'top': {\n          external.sy = sy - spacing;\n          external.ey = ey - spacing;\n          // 检查左边和左右边及左上角右边及上左边\n          const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          external.sx = sx;\n          if (sLeft || sRight) external.sx = sx - spacing;\n          if (sTopLeftCorner && firstCol) external.sx = sx + spacing;\n          // 检查右边和右左边及右上角左边及上右边\n          const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          external.ex = ex;\n          if (eRight || eLeft) external.ex = ex + spacing;\n          if (eTopRightCorner && lastCol) external.ex = ex - spacing;\n          break;\n        }\n        case 'right': {\n          external.sx = sx + spacing;\n          external.ex = ex + spacing;\n          // 检查顶边和上底边及右上角底边及右顶边\n          const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          external.sy = sy;\n          if (sTop || sBottom) external.sy = sy - spacing;\n          if (sTopRightCorner && firstRow) external.sy = sy + spacing;\n          // 检查底边和下顶边及右下角顶边及右底边\n          const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          external.ey = ey;\n          if (eBottom || eTop) external.ey = ey + spacing;\n          if (eBottomRightCorner && lastRow) external.ey = ey - spacing;\n          break;\n        }\n        case 'bottom': {\n          external.sy = sy + spacing;\n          external.ey = ey + spacing;\n          // 检查左边和左右边及左下角右边及下左边\n          const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          external.sx = sx;\n          if (sLeft || sRight) external.sx = sx - spacing;\n          if (sBottomLeftCorner && firstCol) external.sx = sx + spacing;\n          // 检查右边和右左边及右下角左边及下右边\n          const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          external.ex = ex;\n          if (eRight || eLeft) external.ex = ex + spacing;\n          if (eBottomRightCorner && lastCol) external.ex = ex - spacing;\n          break;\n        }\n        default: break;\n      }\n      return external;\n    }\n    switch (pos) {\n      case 'left': {\n        external.sx = sx - spacing;\n        external.ex = ex - spacing;\n        // 检查顶边和上底边及左上角底边及左顶边\n        const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        external.sy = sy;\n        if (sTop || sBottom) external.sy = sy - spacing;\n        if (sTopLeftCorner) external.sy = sy + spacing;\n        // 检查底边和下顶边及左下角顶边和左底边\n        const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        external.ey = ey;\n        if (eBottom || eTop) external.ey = ey + spacing;\n        if (eBottomLeftCorner) external.ey = ey - spacing;\n        break;\n      }\n      case 'top': {\n        external.sy = sy - spacing;\n        external.ey = ey - spacing;\n        // 检查左边和左右边及左上角右边及上左边\n        const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        external.sx = sx;\n        if (sLeft || sRight) external.sx = sx - spacing;\n        if (sTopLeftCorner) external.sx = sx + spacing;\n        // 检查右边和右左边及右上角左边及上右边\n        const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        external.ex = ex;\n        if (eRight || eLeft) external.ex = ex + spacing;\n        if (eTopRightCorner) external.ex = ex - spacing;\n        break;\n      }\n      case 'right': {\n        external.sx = sx + spacing;\n        external.ex = ex + spacing;\n        // 检查顶边和上底边及右上角底边及右顶边\n        const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        external.sy = sy;\n        if (sTop || sBottom) external.sy = sy - spacing;\n        if (sTopRightCorner) external.sy = sy + spacing;\n        // 检查底边和下顶边及右下角顶边及右底边\n        const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        external.ey = ey;\n        if (eBottom || eTop) external.ey = ey + spacing;\n        if (eBottomRightCorner) external.ey = ey - spacing;\n        break;\n      }\n      case 'bottom': {\n        external.sy = sy + spacing;\n        external.ey = ey + spacing;\n        // 检查左边和左右边及左下角右边及下左边\n        const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        external.sx = sx;\n        if (sLeft || sRight) external.sx = sx - spacing;\n        if (sBottomLeftCorner) external.sx = sx + spacing;\n        // 检查右边和右左边及右下角左边及下右边\n        const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        external.ex = ex;\n        if (eRight || eLeft) external.ex = ex + spacing;\n        if (eBottomRightCorner) external.ex = ex - spacing;\n        break;\n      }\n      default: break;\n    }\n    return external;\n  }\n\n  handleInternal(sx, sy, ex, ey, row, col, pos) {\n    const internal = {};\n    const { leftShow, topShow, rightShow, bottomShow } = this;\n    const { iFMerge, iFMergeFirstRow, iFMergeLastRow, iFMergeFirstCol, iFMergeLastCol } = this;\n    const { spacing } = this;\n    const ifMerge = iFMerge(row, col);\n    // merge\n    if (ifMerge) {\n      const firstRow = iFMergeFirstRow(row, col);\n      const lastRow = iFMergeLastRow(row, col);\n      const firstCol = iFMergeFirstCol(row, col);\n      const lastCol = iFMergeLastCol(row, col);\n      switch (pos) {\n        case 'left': {\n          internal.sx = sx + spacing;\n          internal.ex = ex + spacing;\n          // 检查顶边和上底边及左上角底边及左顶边\n          const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          internal.sy = sy;\n          if (sTopLeftCorner) internal.sy = sy - spacing;\n          if ((sTop || sBottom) && firstRow) internal.sy = sy + spacing;\n          // 检查底边和下顶边及左下角顶边和左底边\n          const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          internal.ey = ey;\n          if (eBottomLeftCorner) internal.ey = ey + spacing;\n          if ((eBottom || eTop) && lastRow) internal.ey = ey - spacing;\n          break;\n        }\n        case 'top': {\n          internal.sy = sy + spacing;\n          internal.ey = ey + spacing;\n          // 检查左边和左右边及左上角右边及上左边\n          const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          internal.sx = sx;\n          if (sTopLeftCorner) internal.sx = sx - spacing;\n          if ((sLeft || sRight) && firstCol) internal.sx = sx + spacing;\n          // 检查右边和右左边及右上角左边及上右边\n          const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          internal.ex = ex;\n          if (eTopRightCorner) internal.ex = ex + spacing;\n          if ((eRight || eLeft) && lastCol) internal.ex = ex - spacing;\n          break;\n        }\n        case 'right': {\n          internal.sx = sx - spacing;\n          internal.ex = ex - spacing;\n          // 检查顶边和上底边及右上角底边及右上边\n          const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          internal.sy = sy;\n          if (sTopRightCorner) internal.sy = sy - spacing;\n          if ((sTop || sBottom) && firstRow) internal.sy = sy + spacing;\n          // 检查底边和下顶边右下角顶边及右下边\n          const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          internal.ey = ey;\n          if (eBottomRightCorner) internal.ey = ey + spacing;\n          if ((eBottom || eTop) && lastRow) internal.ey = ey - spacing;\n          break;\n        }\n        case 'bottom': {\n          internal.sy = sy - spacing;\n          internal.ey = ey - spacing;\n          // 检查左边和左右边及左下角右边及下左边\n          const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          internal.sx = sx;\n          if (sBottomLeftCorner) internal.sx = sx - spacing;\n          if ((sLeft || sRight) && firstCol) internal.sx = sx + spacing;\n          // 检查右边和右左边及右下角左边及下右边\n          const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          internal.ex = ex;\n          if (eBottomRightCorner) internal.ex = ex + spacing;\n          if ((eRight || eLeft) && lastCol) internal.ex = ex - spacing;\n          break;\n        }\n        default: break;\n      }\n      return internal;\n    }\n    switch (pos) {\n      case 'left': {\n        internal.sx = sx + spacing;\n        internal.ex = ex + spacing;\n        // 检查顶边和上底边及左上角底边及左顶边\n        const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        internal.sy = sy;\n        if (sTopLeftCorner) internal.sy = sy - spacing;\n        if (sTop || sBottom) internal.sy = sy + spacing;\n        // 检查底边和下顶边及左下角顶边和左底边\n        const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        internal.ey = ey;\n        if (eBottomLeftCorner) internal.ey = ey + spacing;\n        if (eBottom || eTop) internal.ey = ey - spacing;\n        break;\n      }\n      case 'top': {\n        internal.sy = sy + spacing;\n        internal.ey = ey + spacing;\n        // 检查左边和左右边及左上角右边及上左边\n        const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        internal.sx = sx;\n        if (sTopLeftCorner) internal.sx = sx - spacing;\n        if (sLeft || sRight) internal.sx = sx + spacing;\n        // 检查右边和右左边及右上角左边及上右边\n        const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        internal.ex = ex;\n        if (eTopRightCorner) internal.ex = ex + spacing;\n        if (eRight || eLeft) internal.ex = ex - spacing;\n        break;\n      }\n      case 'right': {\n        internal.sx = sx - spacing;\n        internal.ex = ex - spacing;\n        // 检查顶边和上底边及右上角底边及右上边\n        const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        internal.sy = sy;\n        if (sTopRightCorner) internal.sy = sy - spacing;\n        if (sTop || sBottom) internal.sy = sy + spacing;\n        // 检查底边和下顶边右下角顶边及右下边\n        const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        internal.ey = ey;\n        if (eBottomRightCorner) internal.ey = ey + spacing;\n        if (eBottom || eTop) internal.ey = ey - spacing;\n        break;\n      }\n      case 'bottom': {\n        internal.sy = sy - spacing;\n        internal.ey = ey - spacing;\n        // 检查左边和左右边及左下角右边及下左边\n        const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        internal.sx = sx;\n        if (sBottomLeftCorner) internal.sx = sx - spacing;\n        if (sLeft || sRight) internal.sx = sx + spacing;\n        // 检查右边和右左边及右下角左边及下右边\n        const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        internal.ex = ex;\n        if (eBottomRightCorner) internal.ex = ex + spacing;\n        if (eRight || eLeft) internal.ex = ex - spacing;\n        break;\n      }\n      default: break;\n    }\n    return internal;\n  }\n\n  drawLine(sx, sy, ex, ey, row, col, pos) {\n    const { draw } = this;\n    const { width, color } = this;\n    draw.beginPath();\n    draw.attr({\n      lineWidth: width,\n      strokeStyle: color,\n    });\n    draw.setLineDash([]);\n    const external = this.handleExternal(sx, sy, ex, ey, row, col, pos);\n    const internal = this.handleInternal(sx, sy, ex, ey, row, col, pos);\n    if (!Utils.isEmptyObject(internal)) {\n      draw.line([internal.sx, internal.sy], [internal.ex, internal.ey]);\n    }\n    if (!Utils.isEmptyObject(external)) {\n      draw.line([external.sx, external.sy], [external.ex, external.ey]);\n    }\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n}\n\nclass Line {\n\n  constructor(draw, attr = {}) {\n    this.type = LINE_TYPE.SOLID_LINE;\n    this.solidLine = new SolidLine(draw, Utils.mergeDeep({}, attr));\n    this.dottedLine = new DottedLine(draw, Utils.mergeDeep({\n      dash: [5],\n    }, attr));\n    this.pointLine = new DottedLine(draw, Utils.mergeDeep({\n      dash: [2, 2],\n    }, attr));\n    this.doubleLine = new DoubleLine(draw, Utils.mergeDeep({}, attr));\n  }\n\n  drawLine(sx, sy, ex, ey, row, col, pos) {\n    const {\n      type,\n      solidLine,\n      dottedLine,\n      pointLine,\n      doubleLine,\n    } = this;\n    switch (type) {\n      case LINE_TYPE.SOLID_LINE:\n        solidLine.drawLine(sx, sy, ex, ey);\n        break;\n      case LINE_TYPE.DOTTED_LINE:\n        dottedLine.drawLine(sx, sy, ex, ey);\n        break;\n      case LINE_TYPE.POINT_LINE:\n        pointLine.drawLine(sx, sy, ex, ey);\n        break;\n      case LINE_TYPE.DOUBLE_LINE:\n        doubleLine.drawLine(sx, sy, ex, ey, row, col, pos);\n        break;\n      default: break;\n    }\n  }\n\n  setType(type) {\n    this.type = type;\n  }\n\n  setWidth(width) {\n    if (width) {\n      if (this.type === LINE_TYPE.SOLID_LINE) {\n        this.solidLine.setWidth(width);\n      }\n    }\n  }\n\n  setColor(color) {\n    if (color) {\n      this.solidLine.setColor(color);\n      this.dottedLine.setColor(color);\n      this.pointLine.setColor(color);\n      this.doubleLine.setColor(color);\n    }\n  }\n}\n\nexport { Line, LINE_TYPE };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { Utils } from '../../../../../utils/Utils';\nimport { BorderTypeContextMenuItem } from './BorderTypeContextMenuItem';\nimport { ELContextMenuDivider } from '../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { h } from '../../../../../lib/Element';\nimport { BorderIcon1 } from '../../../tools/border/BorderIcon1';\nimport { BorderIcon2 } from '../../../tools/border/BorderIcon2';\nimport { BorderIcon3 } from '../../../tools/border/BorderIcon3';\nimport { BorderIcon4 } from '../../../tools/border/BorderIcon4';\nimport { BorderIcon5 } from '../../../tools/border/BorderIcon5';\nimport { BorderIcon6 } from '../../../tools/border/BorderIcon6';\nimport { BorderIcon7 } from '../../../tools/border/BorderIcon7';\nimport { BorderIcon8 } from '../../../tools/border/BorderIcon8';\nimport { BorderIcon9 } from '../../../tools/border/BorderIcon9';\nimport { BorderIcon10 } from '../../../tools/border/BorderIcon10';\nimport { BorderColor } from '../../../tools/border/BorderColor';\nimport { BorderType } from '../../../tools/border/BorderType';\nimport { EventBind } from '../../../../../utils/EventBind';\nimport { Constant } from '../../../../../utils/Constant';\nimport { EL_POPUP_POSITION, ElPopUp } from '../../../../../component/elpopup/ElPopUp';\nimport { BorderColorContextMenu } from '../bordercolor/BorderColorContextMenu';\nimport { LineTypeContextMenu } from '../linetype/LineTypeContextMenu';\nimport { LINE_TYPE } from '../../../../../canvas/Line';\n\nclass BorderTypeContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-border-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.type = LINE_TYPE.SOLID_LINE;\n    this.color = '#000000';\n    // 边框样式\n    this.borderIcon1 = new BorderIcon1();\n    this.borderIcon2 = new BorderIcon2();\n    this.borderIcon3 = new BorderIcon3();\n    this.borderIcon4 = new BorderIcon4();\n    this.borderIcon5 = new BorderIcon5();\n    const div1 = h('div', `${cssPrefix}-border-type-context-menu-type-icon-line`);\n    div1.children(this.borderIcon1);\n    div1.children(this.borderIcon2);\n    div1.children(this.borderIcon3);\n    div1.children(this.borderIcon4);\n    div1.children(this.borderIcon5);\n    this.borderIcon6 = new BorderIcon6();\n    this.borderIcon7 = new BorderIcon7();\n    this.borderIcon8 = new BorderIcon8();\n    this.borderIcon9 = new BorderIcon9();\n    this.borderIcon10 = new BorderIcon10();\n    const div2 = h('div', `${cssPrefix}-border-type-context-menu-type-icon-line`);\n    div2.children(this.borderIcon6);\n    div2.children(this.borderIcon7);\n    div2.children(this.borderIcon8);\n    div2.children(this.borderIcon9);\n    div2.children(this.borderIcon10);\n    this.borderIcons = new BorderTypeContextMenuItem();\n    this.borderIcons.removeClass('hover');\n    this.borderIcons.children(div1);\n    this.borderIcons.children(div2);\n    // 子菜单\n    this.borderColor = new BorderColor();\n    this.borderType = new BorderType();\n    const div3 = h('div', `${cssPrefix}-border-type-context-menu-type-icon-line`);\n    div3.children(this.borderColor);\n    div3.children(this.borderType);\n    this.borderColorAndType = new BorderTypeContextMenuItem();\n    this.borderColorAndType.removeClass('hover');\n    this.borderColorAndType.children(div3);\n    // 追加子菜单\n    this.addItem(this.borderIcons);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.borderColorAndType);\n    // 边框颜色菜单\n    this.borderColorContextMenu = new BorderColorContextMenu(Utils.copyProp({\n      el: this.borderColor,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, {\n      onUpdate: (color) => {\n        this.color = color;\n        this.borderColor.setColor(color);\n      },\n    }));\n    // 边框类型\n    this.lineTypeContextMenu = new LineTypeContextMenu(Utils.copyProp({\n      el: this.borderType,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, {\n      onUpdate: (type) => {\n        this.type = type;\n      },\n    }));\n    // 添加事件\n    EventBind.bind(this.borderColor, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { borderColorContextMenu } = this;\n      const { elPopUp } = borderColorContextMenu;\n      ElPopUp.closeAll([elPopUp, this.elPopUp]);\n      if (borderColorContextMenu.isOpen()) {\n        borderColorContextMenu.open();\n      } else {\n        borderColorContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderType, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { lineTypeContextMenu } = this;\n      const { elPopUp } = lineTypeContextMenu;\n      ElPopUp.closeAll([elPopUp, this.elPopUp]);\n      if (lineTypeContextMenu.isOpen()) {\n        lineTypeContextMenu.open();\n      } else {\n        lineTypeContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border1', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border2', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border3', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon4, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border4', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon5, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border5', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon6, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border6', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon7, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border7', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon8, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border8', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon9, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border9', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon10, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border10', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { BorderTypeContextMenu };\n","import { DropDownItem } from '../base/DropDownItem';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\nimport { BorderTypeContextMenu } from '../../contextmenu/border/bordertype/BorderTypeContextMenu';\nimport { Utils } from '../../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../../component/elpopup/ElPopUp';\n\nclass Border extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-border`);\n    this.options = Utils.copyProp({\n      contextMenu: {},\n    }, options);\n    this.icon = new Icon('border');\n    this.setIcon(this.icon);\n    this.borderTypeContextMenu = new BorderTypeContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\nexport { Border };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Merge extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-merge`);\n    this.icon = new Icon('merge');\n    this.children(this.icon);\n  }\n}\n\nexport { Merge };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass HorizontalIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-horizontal1`);\n    this.icon = new Icon('align-left');\n    this.children(this.icon);\n  }\n}\n\nexport { HorizontalIcon1 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass HorizontalIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-horizontal2`);\n    this.icon = new Icon('align-center');\n    this.children(this.icon);\n  }\n}\n\nexport { HorizontalIcon2 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass HorizontalIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-horizontal3`);\n    this.icon = new Icon('align-right');\n    this.children(this.icon);\n  }\n}\n\nexport { HorizontalIcon3 };\n","import { ELContextMenuItem } from '../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../config';\n\nclass HorizontalContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-horizontal-type-context-menu-item`);\n  }\n}\n\nexport { HorizontalContextMenuItem };\n","class Crop {\n  constructor({\n    rect, draw, offset = 0,\n  }) {\n    this.rect = rect;\n    this.draw = draw;\n    this.offset = offset;\n  }\n\n  open() {\n    const { rect, draw, offset } = this;\n    const {\n      x, y, width, height,\n    } = rect;\n    draw.save();\n    draw.rect(x, y, width + offset, height + offset);\n    draw.clip();\n    return this;\n  }\n\n  close() {\n    const { draw } = this;\n    draw.restore();\n    return this;\n  }\n}\n\nexport { Crop };\n","/* global window */\n\nfunction dpr() {\n  return window.devicePixelRatio || 1;\n}\n\nfunction floor(n) {\n  // eslint-disable-next-line no-bitwise\n  return (0.5 + n) << 0;\n}\n\nfunction npx(px) {\n  return floor(px * dpr());\n}\n\nfunction angleToRadian(angle) {\n  return -angle * (Math.PI / 180);\n}\n\nclass Draw {\n  constructor(el) {\n    this.el = el;\n    this.ctx = el.getContext('2d');\n    this.width = el.width;\n    this.height = el.height;\n    this.offsetX = 0;\n    this.offsetY = 0;\n  }\n\n  rotate(angle) {\n    const { ctx } = this;\n    ctx.rotate(angleToRadian(angle));\n    return this;\n  }\n\n  offset(offsetX = 0, offsetY = 0) {\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n  }\n\n  resize(width, height) {\n    const { el } = this;\n    this.width = width;\n    this.height = height;\n    el.style.width = `${width}px`;\n    el.style.height = `${height}px`;\n    el.width = npx(width);\n    el.height = npx(height);\n    return this;\n  }\n\n  clear() {\n    const { width, height } = this;\n    this.clearRect(0, 0, width, height);\n    return this;\n  }\n\n  attr(options) {\n    // eslint-disable-next-line guard-for-in,no-restricted-syntax\n    for (const key in options) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (options.hasOwnProperty(key)) {\n        let value = options[key];\n        if (typeof value === 'string' || value instanceof String) {\n          value = value.trim();\n        }\n        if (this.ctx[key] !== value) {\n          this.ctx[key] = value;\n        }\n      }\n    }\n    return this;\n  }\n\n  beginPath() {\n    this.ctx.beginPath();\n    return this;\n  }\n\n  save() {\n    const { ctx } = this;\n    ctx.save();\n    this.beginPath();\n    return this;\n  }\n\n  restore() {\n    const { ctx } = this;\n    ctx.restore();\n    return this;\n  }\n\n  clip() {\n    const { ctx } = this;\n    ctx.clip();\n    return this;\n  }\n\n  fill() {\n    this.ctx.fill();\n  }\n\n  setLineDash(dash) {\n    this.ctx.setLineDash(dash);\n  }\n\n  measureText(text) {\n    return this.ctx.measureText(text);\n  }\n\n  line(...xys) {\n    const { ctx } = this;\n    if (xys.length > 1) {\n      const [x, y] = xys[0];\n      this.moveTo(x, y);\n      for (let i = 1, len = xys.length; i < len; i += 1) {\n        const [x1, y1] = xys[i];\n        this.lineTo(x1, y1);\n      }\n      ctx.stroke();\n    }\n    return this;\n  }\n\n  clearRect(x, y, w, h) {\n    const { offsetX, offsetY } = this;\n    this.ctx.clearRect(npx(x + offsetX), npx(y + offsetY), npx(w), npx(h));\n    return this;\n  }\n\n  rect(x, y, w, h) {\n    const { offsetX, offsetY } = this;\n    this.ctx.rect(npx(x + offsetX), npx(y + offsetY), npx(w), npx(h));\n    return this;\n  }\n\n  fillRect(x, y, w, h) {\n    const { offsetX, offsetY } = this;\n    this.ctx.fillRect(npx(x + offsetX), npx(y + offsetY), npx(w), npx(h));\n    return this;\n  }\n\n  fillText(text, x, y) {\n    const { offsetX, offsetY } = this;\n    this.ctx.fillText(text, npx(x + offsetX), npx(y + offsetY));\n    return this;\n  }\n\n  moveTo(x, y) {\n    const { ctx } = this;\n    const { offsetX, offsetY } = this;\n    const even = ctx.lineWidth % 2 === 0;\n    const nx = even ? npx(x + offsetX) : npx(x + offsetX) + 0.5;\n    const ny = even ? npx(y + offsetY) : npx(y + offsetY) + 0.5;\n    ctx.moveTo(nx, ny);\n  }\n\n  lineTo(x, y) {\n    const { ctx } = this;\n    const { offsetX, offsetY } = this;\n    const even = ctx.lineWidth % 2 === 0;\n    const nx = even ? npx(x + offsetX) : npx(x + offsetX) + 0.5;\n    const ny = even ? npx(y + offsetY) : npx(y + offsetY) + 0.5;\n    ctx.lineTo(nx, ny);\n  }\n}\n\nexport {\n  Draw, npx, dpr, floor, angleToRadian,\n};\n","class Rect {\n  constructor({\n    x, y, width, height,\n  }) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n\n  expandSize(size) {\n    this.width += size;\n    this.height += size;\n    return this;\n  }\n\n  clone() {\n    const { x, y, width, height } = this;\n    return new Rect({ x, y, width, height });\n  }\n}\n\n\nexport { Rect };\n","import { Rect } from './Rect';\nimport { angleToRadian, npx } from './Draw';\n\nconst ANGLE_ORIGIN = {\n  TOP_LEFT: 'top-left',\n  TOP_CENTER: 'top-center',\n  TOP_RIGHT: 'top-right',\n  MIDDLE_LEFT: 'middle-left',\n  MIDDLE_CENTER: 'middle-center',\n  MIDDLE_RIGHT: 'middle-right',\n  BOTTOM_LEFT: 'bottom-left',\n  BOTTOM_CENTER: 'bottom-center',\n  BOTTOM_RIGHT: 'bottom-right',\n};\n\nclass DrawAngle {\n  constructor({\n    dw,\n    angle,\n    origin = ANGLE_ORIGIN.MIDDLE_CENTER,\n    rect = new Rect({ x: 0, y: 0, width: 0, height: 0 }),\n  }) {\n    this.dw = dw;\n    this.origin = origin;\n    this.rect = rect;\n    this.angle = angle;\n  }\n\n  rotate() {\n    const { origin, dw, rect, angle } = this;\n    const { x, y, width, height } = rect;\n    dw.save();\n    let tx = 0;\n    let ty = 0;\n    switch (origin) {\n      case ANGLE_ORIGIN.TOP_LEFT:\n        tx = x;\n        ty = y;\n        break;\n      case ANGLE_ORIGIN.TOP_CENTER:\n        tx = x + width / 2;\n        ty = y;\n        break;\n      case ANGLE_ORIGIN.TOP_RIGHT:\n        tx = x + width;\n        ty = y;\n        break;\n      case ANGLE_ORIGIN.MIDDLE_LEFT:\n        tx = x;\n        ty = y + height / 2;\n        break;\n      case ANGLE_ORIGIN.MIDDLE_CENTER:\n        tx = x + width / 2;\n        ty = y + height / 2;\n        break;\n      case ANGLE_ORIGIN.MIDDLE_RIGHT:\n        tx = x + width;\n        ty = y + height / 2;\n        break;\n      case ANGLE_ORIGIN.BOTTOM_LEFT:\n        tx = x;\n        ty = y + height;\n        break;\n      case ANGLE_ORIGIN.BOTTOM_CENTER:\n        tx = x + width / 2;\n        ty = y + height;\n        break;\n      case ANGLE_ORIGIN.BOTTOM_RIGHT:\n        tx = x + width;\n        ty = y + height;\n        break;\n      default: break;\n    }\n    dw.ctx.translate(npx(tx + dw.offsetX), npx(ty + dw.offsetY));\n    dw.rotate(angle);\n    dw.ctx.translate(-npx(tx + dw.offsetX), -npx(ty + dw.offsetY));\n    return this;\n  }\n\n  revert() {\n    const { dw } = this;\n    dw.restore();\n    return this;\n  }\n\n  static triangleHypotenuse(angle, width) {\n    const cos = Math.cos(angleToRadian(angle));\n    const sin = Math.sin(angleToRadian(angle));\n    return {\n      width: Math.abs(cos * width), height: Math.abs(sin * width),\n    };\n  }\n\n  setOrigin(origin) {\n    this.origin = origin;\n    return this;\n  }\n\n  setRect(rect) {\n    this.rect = rect;\n    return this;\n  }\n}\n\nclass TrigonometricFunction {\n  constructor({ angle, width, height }) {\n    this.angle = angle;\n    this.width = width;\n    this.height = height;\n  }\n\n  // 斜边 + sin 角度\n  sinWidthAngle() {\n    const { angle, width, height } = this;\n    let h = Math.abs(Math.sin(angleToRadian(angle)) * width);\n    if (h < 1) h = height;\n    return h;\n  }\n\n  // 斜边 + cos 角度\n  cosWidthAngle() {\n    const { angle, width, height } = this;\n    let w = Math.abs(Math.cos(angleToRadian(angle)) * width);\n    if (w < 1) w = height;\n    return w;\n  }\n\n  // 对边 + sin角度\n  sinHeightAngle() {\n    const { angle, height, width } = this;\n    let h = Math.abs(height / Math.sin(angleToRadian(angle)));\n    if (h < 1) h = width;\n    return h;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n\n  setHeight(height) {\n    this.height = height;\n  }\n\n  setAngle(angle) {\n    this.angle = angle;\n  }\n}\n\nexport { DrawAngle, TrigonometricFunction, ANGLE_ORIGIN };\n","import { Crop } from './Crop';\nimport { dpr, npx } from './Draw';\nimport { Utils } from '../utils/Utils';\nimport { DrawAngle, TrigonometricFunction } from './DrawAngle';\nimport { Rect } from './Rect';\n\nconst PADDING = 8;\n\nconst HORIZONTAL_LIEN_HEIGHT = 4;\n\nconst VERTICAL_SPACING = 2;\n\nconst VERTICAL_LIEN_HEIGHT = 0;\n\nconst ALIGN = {\n  left: 'left',\n  center: 'center',\n  right: 'right',\n};\n\nconst VERTICAL_ALIGN = {\n  top: 'top',\n  center: 'middle',\n  bottom: 'bottom',\n};\n\nconst TEXT_WRAP = {\n  OVER_FLOW: 1,\n  WORD_WRAP: 2,\n  TRUNCATE: 3,\n};\n\nconst TEXT_DIRECTION = {\n  HORIZONTAL: 'horizontal',\n  VERTICAL: 'vertical',\n  ANGLE: 'angle',\n};\n\nclass HorizontalFontDraw {\n  constructor({\n    text, rect, dw, overflow, attr,\n  }) {\n    this.text = text;\n    this.dw = dw;\n    this.rect = rect;\n    this.overflow = overflow;\n    this.attr = attr;\n  }\n\n  textWidth(text) {\n    const { dw } = this;\n    return dw.measureText(text).width;\n  }\n\n  drawLine(type, tx, ty, textWidth) {\n    const { dw, attr } = this;\n    const { size, verticalAlign, align } = attr;\n    const s = [0, 0];\n    const e = [0, 0];\n    if (type === 'strike') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default: break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty - size / 2;\n          e[1] = ty - size / 2;\n          break;\n        default: break;\n      }\n    }\n    if (type === 'underline') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default: break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size;\n          e[1] = ty + size;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        default: break;\n      }\n    }\n    dw.line(s, e);\n  }\n\n  drawTextTruncate() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign,\n    } = attr;\n    const { width, height } = rect;\n    const textWidth = this.textWidth(text) / dpr();\n    let tx = rect.x;\n    let ty = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        tx += PADDING;\n        break;\n      case ALIGN.center:\n        tx += width / 2;\n        break;\n      case ALIGN.right:\n        tx += width - PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        ty += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        ty += height / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        ty += height - PADDING;\n        break;\n      default: break;\n    }\n    const crop = new Crop({ draw: dw, rect });\n    crop.open();\n    dw.fillText(text, tx, ty);\n    if (underline || strikethrough) {\n      dw.beginPath();\n    }\n    if (underline) {\n      this.drawLine('underline', tx, ty, textWidth);\n    }\n    if (strikethrough) {\n      this.drawLine('strike', tx, ty, textWidth);\n    }\n    crop.close();\n  }\n\n  drawTextOverFlow() {\n    const {\n      text, dw, attr, rect, overflow,\n    } = this;\n    const {\n      size, underline, strikethrough, align, verticalAlign,\n    } = attr;\n    const { width, height } = rect;\n    const textWidth = this.textWidth(text) / dpr();\n    let tx = rect.x;\n    let ty = rect.y;\n    let paddingH = 0;\n    let paddingV = 0;\n    switch (align) {\n      case ALIGN.left:\n        tx += PADDING;\n        paddingH = PADDING;\n        break;\n      case ALIGN.center:\n        tx += width / 2;\n        break;\n      case ALIGN.right:\n        tx += width - PADDING;\n        paddingH = PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        ty += PADDING;\n        paddingV = PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        ty += height / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        ty += height - PADDING;\n        paddingV = PADDING;\n        break;\n      default: break;\n    }\n    if (overflow && (textWidth + paddingH > overflow.width || size + paddingV > overflow.height)) {\n      const crop = new Crop({ draw: dw, rect: overflow });\n      crop.open();\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      crop.close();\n    } else {\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n    }\n  }\n\n  drawTextWarp() {\n    const { text, dw, attr, rect } = this;\n    const { size, underline, strikethrough, align, verticalAlign } = attr;\n    const { width, height } = rect;\n    const maxTextWidth = width - PADDING * 2;\n    const textArray = [];\n    const textLine = {\n      len: 0,\n      start: 0,\n    };\n    const len = text.length;\n    let hOffset = 0;\n    let i = 0;\n    while (i < len) {\n      const charWidth = this.textWidth(text.charAt(i)) / dpr();\n      const textWidth = textLine.len + charWidth;\n      if (textWidth > maxTextWidth) {\n        if (textLine.len === 0) {\n          textArray.push({\n            text: text.substring(i, i + 1),\n            len: textWidth,\n            tx: 0,\n            ty: hOffset,\n          });\n          i += 1;\n        } else {\n          textArray.push({\n            text: text.substring(textLine.start, i),\n            len: textLine.len,\n            tx: 0,\n            ty: hOffset,\n          });\n        }\n        hOffset += size + HORIZONTAL_LIEN_HEIGHT;\n        textLine.len = 0;\n        textLine.start = i;\n      } else {\n        textLine.len = textWidth;\n        i += 1;\n      }\n    }\n    if (textLine.len > 0) {\n      textArray.push({\n        text: text.substring(textLine.start),\n        len: textLine.len,\n        tx: 0,\n        ty: hOffset,\n      });\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2;\n        break;\n      case ALIGN.right:\n        bx += width - PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        by += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        by += height / 2 - hOffset / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        by += height - hOffset - PADDING;\n        break;\n      default: break;\n    }\n    const crop = new Crop({ draw: dw, rect });\n    crop.open();\n    for (let i = 0, len = textArray.length; i < len; i += 1) {\n      const item = textArray[i];\n      item.tx += bx;\n      item.ty += by;\n      dw.fillText(item.text, item.tx, item.ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', item.tx, item.ty, item.len);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', item.tx, item.ty, item.len);\n      }\n    }\n    crop.close();\n    return hOffset;\n  }\n\n  draw() {\n    const { dw, attr } = this;\n    const { textWrap } = attr;\n    dw.attr({\n      textAlign: attr.align,\n      textBaseline: attr.verticalAlign,\n      font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n      fillStyle: attr.color,\n      strokeStyle: attr.color,\n    });\n    switch (textWrap) {\n      case TEXT_WRAP.TRUNCATE:\n        return this.drawTextTruncate();\n      case TEXT_WRAP.WORD_WRAP:\n        return this.drawTextWarp();\n      case TEXT_WRAP.OVER_FLOW:\n      default:\n        return this.drawTextOverFlow();\n    }\n  }\n\n  setTextWrap(textWrap) {\n    this.attr.textWrap = textWrap;\n  }\n}\n\nclass VerticalFontDraw {\n  constructor({\n    text, rect, dw, overflow, attr,\n  }) {\n    this.text = text;\n    this.dw = dw;\n    this.rect = rect;\n    this.overflow = overflow;\n    this.attr = attr;\n  }\n\n  textWidth(text) {\n    const { dw } = this;\n    return dw.measureText(text).width;\n  }\n\n  drawLine(type, tx, ty, textWidth, align, verticalAlign) {\n    const { dw, attr } = this;\n    const { size } = attr;\n    const s = [0, 0];\n    const e = [0, 0];\n    if (type === 'strike') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default: break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty - size / 2;\n          e[1] = ty - size / 2;\n          break;\n        default: break;\n      }\n    }\n    if (type === 'underline') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default: break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size;\n          e[1] = ty + size;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        default: break;\n      }\n    }\n    dw.line(s, e);\n  }\n\n  drawTextTruncate() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    const { width, height } = rect;\n    const textArray = [];\n    let hOffset = 0;\n    for (let i = 0; i < text.length; i += 1) {\n      const char = text.charAt(i);\n      textArray.push({\n        len: this.textWidth(char) / dpr(),\n        text: char,\n        tx: 0,\n        ty: hOffset,\n      });\n      if (i < text.length - 1) {\n        hOffset += size + VERTICAL_SPACING;\n      } else {\n        hOffset += size;\n      }\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2;\n        break;\n      case ALIGN.right:\n        bx += width - PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        by += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        by += height / 2 - hOffset / 2 + PADDING;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        by += height - hOffset + PADDING;\n        break;\n      default: break;\n    }\n    const crop = new Crop({ draw: dw, rect });\n    crop.open();\n    for (let i = 0, len = textArray.length; i < len; i += 1) {\n      const item = textArray[i];\n      item.tx += bx;\n      item.ty += by;\n      dw.fillText(item.text, item.tx, item.ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlign);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlign);\n      }\n    }\n    crop.close();\n  }\n\n  drawTextOverFlow() {\n    const {\n      text, dw, attr, rect, overflow,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    const { width, height } = rect;\n    const textArray = [];\n    let hOffset = 0;\n    for (let i = 0; i < text.length; i += 1) {\n      const char = text.charAt(i);\n      textArray.push({\n        len: this.textWidth(char) / dpr(),\n        text: char,\n        tx: 0,\n        ty: hOffset,\n      });\n      if (i < text.length - 1) {\n        hOffset += size + VERTICAL_SPACING;\n      } else {\n        hOffset += size;\n      }\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    let paddingH = 0;\n    let paddingV = 0;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        paddingH = PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2;\n        break;\n      case ALIGN.right:\n        bx += width - PADDING;\n        paddingH = PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        by += PADDING;\n        paddingV = PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        by += height / 2 - hOffset / 2 + PADDING;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        by += height - hOffset + PADDING;\n        paddingV = PADDING;\n        break;\n      default: break;\n    }\n    if (overflow && (hOffset + paddingV > overflow.height || size + paddingH > overflow.width)) {\n      const crop = new Crop({ draw: dw, rect: overflow });\n      crop.open();\n      for (let i = 0, len = textArray.length; i < len; i += 1) {\n        const item = textArray[i];\n        item.tx += bx;\n        item.ty += by;\n        dw.fillText(item.text, item.tx, item.ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n      }\n      crop.close();\n    } else {\n      for (let i = 0, len = textArray.length; i < len; i += 1) {\n        const item = textArray[i];\n        item.tx += bx;\n        item.ty += by;\n        dw.fillText(item.text, item.tx, item.ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n      }\n    }\n  }\n\n  drawTextWarp() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    const { width, height } = rect;\n    const textArray = [];\n    const len = text.length;\n    const boxHeight = height - PADDING * 2;\n    let textItem = [];\n    let textLen = 0;\n    let hOffset = 0;\n    let wOffset = 0;\n    let column = 0;\n    let i = 0;\n    while (i < len) {\n      const last = i === len - 1;\n      const first = i === 0;\n      const char = text.charAt(i);\n      const charWidth = this.textWidth(char) / dpr();\n      let textHeight;\n      if (last) {\n        textHeight = textLen + size;\n      } else {\n        textHeight = textLen + size + VERTICAL_SPACING;\n      }\n      if (textHeight > boxHeight) {\n        if (textItem.length > 0) {\n          textArray.push(textItem);\n        }\n        textLen = 0;\n        hOffset = 0;\n        textItem = [];\n        if (!first) wOffset += size + VERTICAL_LIEN_HEIGHT;\n        column += 1;\n        textItem.push({\n          len: charWidth,\n          text: char,\n          tx: wOffset,\n          ty: hOffset,\n        });\n        if (last) {\n          textLen = size;\n        } else {\n          textLen = size + VERTICAL_SPACING;\n        }\n      } else {\n        textItem.push({\n          len: charWidth,\n          text: char,\n          tx: wOffset,\n          ty: hOffset,\n        });\n        textLen = textHeight;\n      }\n      if (last) {\n        hOffset += size;\n      } else {\n        hOffset += size + VERTICAL_SPACING;\n      }\n      i += 1;\n    }\n    if (textItem.length > 0) {\n      textArray.push(textItem);\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    let verticalAlignValue = verticalAlign;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2 - wOffset / 2;\n        break;\n      case ALIGN.right:\n        bx += width - wOffset - PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        dw.attr({\n          textBaseline: attr.verticalAlign,\n        });\n        by += PADDING;\n        verticalAlignValue = VERTICAL_ALIGN.top;\n        break;\n      case VERTICAL_ALIGN.center:\n        if (column === 0) {\n          dw.attr({\n            textBaseline: attr.verticalAlign,\n          });\n          by += height / 2 - hOffset / 2 + PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.center;\n        } else {\n          dw.attr({\n            textBaseline: VERTICAL_ALIGN.top,\n          });\n          by += PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.top;\n        }\n        break;\n      case VERTICAL_ALIGN.bottom:\n        if (column === 0) {\n          dw.attr({\n            textBaseline: VERTICAL_ALIGN.bottom,\n          });\n          by += height - hOffset + PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.bottom;\n        } else {\n          dw.attr({\n            textBaseline: VERTICAL_ALIGN.top,\n          });\n          by += PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.top;\n        }\n        break;\n      default: break;\n    }\n    const crop = new Crop({ draw: dw, rect });\n    crop.open();\n    for (let i = 0, len = textArray.length; i < len; i += 1) {\n      const textItem = textArray[i];\n      for (let j = 0; j < textItem.length; j += 1) {\n        const item = textItem[j];\n        item.tx += bx;\n        item.ty += by;\n        dw.fillText(item.text, item.tx, item.ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlignValue);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlignValue);\n        }\n      }\n    }\n    crop.close();\n  }\n\n  draw() {\n    const { dw, attr } = this;\n    const { textWrap } = attr;\n    switch (textWrap) {\n      case TEXT_WRAP.TRUNCATE:\n        dw.attr({\n          textAlign: attr.align,\n          textBaseline: attr.verticalAlign,\n          font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n          fillStyle: attr.color,\n          strokeStyle: attr.color,\n        });\n        return this.drawTextTruncate();\n      case TEXT_WRAP.WORD_WRAP:\n        dw.attr({\n          textAlign: attr.align,\n          font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n          fillStyle: attr.color,\n          strokeStyle: attr.color,\n        });\n        return this.drawTextWarp();\n      case TEXT_WRAP.OVER_FLOW:\n      default:\n        dw.attr({\n          textAlign: attr.align,\n          textBaseline: attr.verticalAlign,\n          font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n          fillStyle: attr.color,\n          strokeStyle: attr.color,\n        });\n        return this.drawTextOverFlow();\n    }\n  }\n\n  setTextWrap(textWrap) {\n    this.attr.textWrap = textWrap;\n  }\n}\n\nclass AngleFontDraw {\n  constructor({\n    text, rect, dw, overflow, attr,\n  }) {\n    this.text = text;\n    this.dw = dw;\n    this.rect = rect;\n    this.overflow = overflow;\n    this.attr = attr;\n  }\n\n  textWidth(text) {\n    const { dw } = this;\n    return dw.measureText(text).width;\n  }\n\n  drawLine(type, tx, ty, textWidth) {\n    const { dw, attr } = this;\n    const { size } = attr;\n    const s = [0, 0];\n    const e = [0, 0];\n    if (type === 'strike') {\n      s[0] = tx;\n      e[0] = tx + textWidth;\n      s[1] = ty + size / 2;\n      e[1] = ty + size / 2;\n    }\n    if (type === 'underline') {\n      s[0] = tx;\n      e[0] = tx + textWidth;\n      s[1] = ty + size;\n      e[1] = ty + size;\n    }\n    dw.line(s, e);\n  }\n\n  drawTextTruncate() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, angle, size,\n    } = attr;\n    const { width, height } = rect;\n    const textWidth = this.textWidth(text) / dpr();\n    const trigonometric = new TrigonometricFunction({ angle, width: textWidth, height: size });\n    const trigonometricWidth = trigonometric.cosWidthAngle();\n    const trigonometricHeight = trigonometric.sinWidthAngle();\n    let rtx = rect.x;\n    let rty = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        rtx += PADDING;\n        break;\n      case ALIGN.center:\n        rtx += width / 2 - trigonometricWidth / 2;\n        break;\n      case ALIGN.right:\n        rtx += width - trigonometricWidth - PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        rty += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        rty += height / 2 - trigonometricHeight / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        rty += height - trigonometricHeight - PADDING;\n        break;\n      default: break;\n    }\n    const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n    const ty = rty + (trigonometricHeight / 2 - size / 2);\n    const dwAngle = new DrawAngle({\n      dw,\n      angle,\n      rect: new Rect({\n        x: rtx, y: rty, width: trigonometricWidth, height: trigonometricHeight,\n      }),\n    });\n    const crop = new Crop({ draw: dw, rect });\n    crop.open();\n    dwAngle.rotate();\n    dw.fillText(text, tx, ty);\n    if (underline || strikethrough) {\n      dw.beginPath();\n    }\n    if (underline) {\n      this.drawLine('underline', tx, ty, textWidth);\n    }\n    if (strikethrough) {\n      this.drawLine('strike', tx, ty, textWidth);\n    }\n    dwAngle.revert();\n    crop.close();\n  }\n\n  drawTextOverFlow() {\n    const {\n      text, dw, attr, rect, overflow,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, angle, size,\n    } = attr;\n    const { width, height } = rect;\n    const textWidth = this.textWidth(text) / dpr();\n    const trigonometric = new TrigonometricFunction({ angle, width: textWidth, height: size });\n    const trigonometricWidth = trigonometric.cosWidthAngle();\n    const trigonometricHeight = trigonometric.sinWidthAngle();\n    let rtx = rect.x;\n    let rty = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        rtx += PADDING;\n        break;\n      case ALIGN.center:\n        rtx += width / 2 - trigonometricWidth / 2;\n        break;\n      case ALIGN.right:\n        rtx += width - trigonometricWidth - PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        rty += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        rty += height / 2 - trigonometricHeight / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        rty += height - trigonometricHeight - PADDING;\n        break;\n      default: break;\n    }\n    const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n    const ty = rty + (trigonometricHeight / 2 - size / 2);\n    const crop = new Crop({ draw: dw, rect: overflow });\n    const dwAngle = new DrawAngle({\n      dw,\n      angle,\n      rect: new Rect({\n        x: rtx, y: rty, width: trigonometricWidth, height: trigonometricHeight,\n      }),\n    });\n    const isOverFlow = overflow\n      && (trigonometricWidth > overflow.width || trigonometricHeight > overflow.height);\n    if (isOverFlow) {\n      crop.open();\n      dwAngle.rotate();\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n      crop.close();\n    } else {\n      const dwAngle = new DrawAngle({\n        dw,\n        angle,\n        rect: new Rect({\n          x: rtx, y: rty, width: trigonometricWidth, height: trigonometricHeight,\n        }),\n      });\n      dwAngle.rotate();\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n    }\n  }\n\n  drawTextWarp() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, angle, size,\n    } = attr;\n    const { width, height } = rect;\n    if (angle === 0) {\n      const maxTextWidth = width - PADDING * 2;\n      const textArray = [];\n      const textLine = {\n        len: 0,\n        start: 0,\n      };\n      const len = text.length;\n      let i = 0;\n      while (i < len) {\n        const charWidth = this.textWidth(text.charAt(i)) / dpr();\n        const textWidth = textLine.len + charWidth;\n        if (textWidth > maxTextWidth) {\n          if (textLine.len === 0) {\n            textArray.push({\n              text: text.substring(i, i + 1),\n              len: textWidth,\n              tx: 0,\n              ty: 0,\n            });\n            i += 1;\n          } else {\n            textArray.push({\n              text: text.substring(textLine.start, i),\n              len: textLine.len,\n              tx: 0,\n              ty: 0,\n            });\n          }\n          textLine.len = 0;\n          textLine.start = i;\n        } else {\n          textLine.len = textWidth;\n          i += 1;\n        }\n      }\n      if (textLine.len > 0) {\n        textArray.push({\n          text: text.substring(textLine.start),\n          len: textLine.len,\n          tx: 0,\n          ty: 0,\n        });\n      }\n      const textArrayLen = textArray.length;\n      let hOffset = 0;\n      for (let i = 0; i < textArrayLen; i += 1) {\n        const item = textArray[i];\n        item.ty = hOffset;\n        hOffset += size + HORIZONTAL_LIEN_HEIGHT;\n      }\n      const totalTextHeight = textArrayLen * (size + HORIZONTAL_LIEN_HEIGHT);\n      const crop = new Crop({ draw: dw, rect });\n      crop.open();\n      for (let i = 0; i < textArrayLen; i += 1) {\n        const item = textArray[i];\n        let tx = rect.x;\n        let ty = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            tx += PADDING;\n            break;\n          case ALIGN.center:\n            tx += width / 2 - item.len / 2;\n            break;\n          case ALIGN.right:\n            tx += width - item.len - PADDING;\n            break;\n          default: break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            ty += item.ty + PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            ty += item.ty + (height / 2 - totalTextHeight / 2);\n            break;\n          case VERTICAL_ALIGN.bottom:\n            ty += item.ty + (height - totalTextHeight - PADDING);\n            break;\n          default: break;\n        }\n        dw.fillText(item.text, tx, ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', tx, ty, item.len);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', tx, ty, item.len);\n        }\n      }\n      crop.close();\n    } else if (angle > 0) {\n      const trigonometric = new TrigonometricFunction({\n        angle,\n      });\n      trigonometric.setWidth(width);\n      trigonometric.setHeight(height - PADDING * 2);\n      const textHypotenuseWidth = trigonometric.sinHeightAngle();\n      trigonometric.setWidth(size + HORIZONTAL_LIEN_HEIGHT);\n      trigonometric.setHeight(size + HORIZONTAL_LIEN_HEIGHT);\n      const lineHeight = trigonometric.sinHeightAngle();\n      trigonometric.setWidth(textHypotenuseWidth);\n      trigonometric.setHeight(size);\n      const textWidth = trigonometric.cosWidthAngle();\n      const textHeight = trigonometric.sinWidthAngle();\n      const textArray = [];\n      const textLine = {\n        len: 0,\n        start: 0,\n      };\n      const len = text.length;\n      let i = 0;\n      while (i < len) {\n        const charWidth = this.textWidth(text.charAt(i)) / dpr();\n        const textWidth = textLine.len + charWidth;\n        if (textWidth > textHypotenuseWidth) {\n          if (textLine.len === 0) {\n            textArray.push({\n              text: text.substring(i, i + 1),\n              len: textWidth,\n              tx: 0,\n              ty: 0,\n            });\n            i += 1;\n          } else {\n            textArray.push({\n              text: text.substring(textLine.start, i),\n              len: textLine.len,\n              tx: 0,\n              ty: 0,\n            });\n          }\n          textLine.len = 0;\n          textLine.start = i;\n        } else {\n          textLine.len = textWidth;\n          i += 1;\n        }\n      }\n      if (textLine.len > 0) {\n        textArray.push({\n          text: text.substring(textLine.start),\n          len: textLine.len,\n          tx: 0,\n          ty: 0,\n        });\n      }\n      const textArrayLen = textArray.length;\n      let wOffset = 0;\n      for (let i = 0; i < textArrayLen; i += 1) {\n        const item = textArray[i];\n        item.tx = wOffset;\n        wOffset += lineHeight;\n      }\n      const crop = new Crop({ draw: dw, rect });\n      crop.open();\n      if (textArrayLen > 1) {\n        const totalWidth = textWidth + ((textArray.length - 1) * lineHeight);\n        let bx = rect.x;\n        let by = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            bx += PADDING;\n            break;\n          case ALIGN.center:\n            bx += width / 2 - totalWidth / 2;\n            break;\n          case ALIGN.right:\n            bx += width - totalWidth - PADDING;\n            break;\n          default: break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            by += PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            by += height / 2 - textHeight / 2;\n            break;\n          case VERTICAL_ALIGN.bottom:\n            by += height - textHeight - PADDING;\n            break;\n          default: break;\n        }\n        for (let i = 0; i < textArray.length; i += 1) {\n          const item = textArray[i];\n          const rx = item.tx + bx;\n          const ry = item.ty + by;\n          let ax = 0;\n          let ay = 0;\n          switch (align) {\n            case ALIGN.left: {\n              trigonometric.setWidth(item.len / 2);\n              trigonometric.setHeight(size);\n              const tw = trigonometric.cosWidthAngle();\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + tw;\n              ay += ry + textHeight - th;\n              break;\n            }\n            case ALIGN.center: {\n              ax = rx + textWidth / 2;\n              ay = ry + textHeight / 2;\n              break;\n            }\n            case ALIGN.right: {\n              trigonometric.setWidth(item.len / 2);\n              trigonometric.setHeight(size);\n              const tw = trigonometric.cosWidthAngle();\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + textWidth - tw;\n              ay += ry + th;\n              break;\n            }\n            default: break;\n          }\n          const tx = ax - item.len / 2;\n          const ty = ay - size / 2;\n          if (i === -1) {\n            dw.attr({ fillStyle: '#000000' });\n            dw.fillRect(rx, ry, textWidth, textHeight);\n            dw.attr({ fillStyle: 'red' });\n          }\n          const dwAngle = new DrawAngle({\n            dw,\n            angle,\n            rect: new Rect({\n              x: tx, y: ty, width: item.len, height: size,\n            }),\n          });\n          dwAngle.rotate();\n          dw.fillText(item.text, tx, ty);\n          if (underline || strikethrough) {\n            dw.beginPath();\n          }\n          if (underline) {\n            this.drawLine('underline', tx, ty, item.len);\n          }\n          if (strikethrough) {\n            this.drawLine('strike', tx, ty, item.len);\n          }\n          dwAngle.revert();\n        }\n      } else {\n        const textWidth = this.textWidth(text) / dpr();\n        trigonometric.setWidth(textWidth);\n        trigonometric.setHeight(size);\n        const trigonometricWidth = trigonometric.cosWidthAngle();\n        const trigonometricHeight = trigonometric.sinWidthAngle();\n        let rtx = rect.x;\n        let rty = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            rtx += PADDING;\n            break;\n          case ALIGN.center:\n            rtx += width / 2 - trigonometricWidth / 2;\n            break;\n          case ALIGN.right:\n            rtx += width - trigonometricWidth - PADDING;\n            break;\n          default: break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            rty += PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            rty += height / 2 - trigonometricHeight / 2;\n            break;\n          case VERTICAL_ALIGN.bottom:\n            rty += height - trigonometricHeight - PADDING;\n            break;\n          default: break;\n        }\n        const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n        const ty = rty + (trigonometricHeight / 2 - size / 2);\n        const dwAngle = new DrawAngle({\n          dw,\n          angle,\n          rect: new Rect({\n            x: rtx, y: rty, width: trigonometricWidth, height: trigonometricHeight,\n          }),\n        });\n        dwAngle.rotate();\n        dw.fillText(text, tx, ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', tx, ty, textWidth);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', tx, ty, textWidth);\n        }\n        dwAngle.revert();\n      }\n      crop.close();\n    } else if (angle < 0) {\n      const trigonometric = new TrigonometricFunction({\n        angle,\n      });\n      trigonometric.setWidth(width);\n      trigonometric.setHeight(height - PADDING * 2);\n      const textHypotenuseWidth = trigonometric.sinHeightAngle();\n      trigonometric.setWidth(size + HORIZONTAL_LIEN_HEIGHT);\n      trigonometric.setHeight(size + HORIZONTAL_LIEN_HEIGHT);\n      const lineHeight = trigonometric.sinHeightAngle();\n      trigonometric.setWidth(textHypotenuseWidth);\n      trigonometric.setHeight(size);\n      const textWidth = trigonometric.cosWidthAngle();\n      const textHeight = trigonometric.sinWidthAngle();\n      const textArray = [];\n      const textLine = {\n        len: 0,\n        start: 0,\n      };\n      const len = text.length;\n      let i = 0;\n      while (i < len) {\n        const charWidth = this.textWidth(text.charAt(i)) / dpr();\n        const textWidth = textLine.len + charWidth;\n        if (textWidth > textHypotenuseWidth) {\n          if (textLine.len === 0) {\n            textArray.push({\n              text: text.substring(i, i + 1),\n              len: textWidth,\n              tx: 0,\n              ty: 0,\n            });\n            i += 1;\n          } else {\n            textArray.push({\n              text: text.substring(textLine.start, i),\n              len: textLine.len,\n              tx: 0,\n              ty: 0,\n            });\n          }\n          textLine.len = 0;\n          textLine.start = i;\n        } else {\n          textLine.len = textWidth;\n          i += 1;\n        }\n      }\n      if (textLine.len > 0) {\n        textArray.push({\n          text: text.substring(textLine.start),\n          len: textLine.len,\n          tx: 0,\n          ty: 0,\n        });\n      }\n      const textArrayLen = textArray.length;\n      let wOffset = 0;\n      for (let i = textArrayLen - 1; i >= 0; i -= 1) {\n        const item = textArray[i];\n        item.tx = wOffset;\n        wOffset += lineHeight;\n      }\n      const crop = new Crop({ draw: dw, rect });\n      crop.open();\n      if (textArrayLen > 1) {\n        const totalWidth = textWidth + ((textArray.length - 1) * lineHeight);\n        let bx = rect.x;\n        let by = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            bx += PADDING;\n            break;\n          case ALIGN.center:\n            bx += width / 2 - totalWidth / 2;\n            break;\n          case ALIGN.right:\n            bx += width - totalWidth - PADDING;\n            break;\n          default: break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            by += PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            by += height / 2 - textHeight / 2;\n            break;\n          case VERTICAL_ALIGN.bottom:\n            by += height - textHeight - PADDING;\n            break;\n          default: break;\n        }\n        for (let i = 0; i < textArray.length; i += 1) {\n          const item = textArray[i];\n          const rx = item.tx + bx;\n          const ry = item.ty + by;\n          let ax = 0;\n          let ay = 0;\n          switch (align) {\n            case ALIGN.left: {\n              trigonometric.setWidth(item.len / 2);\n              trigonometric.setHeight(size);\n              const tw = trigonometric.cosWidthAngle();\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + tw;\n              ay += ry + th;\n              break;\n            }\n            case ALIGN.center: {\n              ax = rx + textWidth / 2;\n              ay = ry + textHeight / 2;\n              break;\n            }\n            case ALIGN.right: {\n              trigonometric.setWidth(item.len / 2);\n              trigonometric.setHeight(size);\n              const tw = trigonometric.cosWidthAngle();\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + textWidth - tw;\n              ay += ry + textHeight - th;\n              break;\n            }\n            default: break;\n          }\n          const tx = ax - item.len / 2;\n          const ty = ay - size / 2;\n          if (i === -1) {\n            dw.attr({ fillStyle: '#000000' });\n            dw.fillRect(rx, ry, textWidth, textHeight);\n            dw.attr({ fillStyle: 'red' });\n          }\n          const dwAngle = new DrawAngle({\n            dw,\n            angle,\n            rect: new Rect({\n              x: tx, y: ty, width: item.len, height: size,\n            }),\n          });\n          dwAngle.rotate();\n          dw.fillText(item.text, tx, ty);\n          if (underline || strikethrough) {\n            dw.beginPath();\n          }\n          if (underline) {\n            this.drawLine('underline', tx, ty, item.len);\n          }\n          if (strikethrough) {\n            this.drawLine('strike', tx, ty, item.len);\n          }\n          dwAngle.revert();\n        }\n      } else {\n        const textWidth = this.textWidth(text) / dpr();\n        trigonometric.setWidth(textWidth);\n        trigonometric.setHeight(size);\n        const trigonometricWidth = trigonometric.cosWidthAngle();\n        const trigonometricHeight = trigonometric.sinWidthAngle();\n        let rtx = rect.x;\n        let rty = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            rtx += PADDING;\n            break;\n          case ALIGN.center:\n            rtx += width / 2 - trigonometricWidth / 2;\n            break;\n          case ALIGN.right:\n            rtx += width - trigonometricWidth - PADDING;\n            break;\n          default: break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            rty += PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            rty += height / 2 - trigonometricHeight / 2;\n            break;\n          case VERTICAL_ALIGN.bottom:\n            rty += height - trigonometricHeight - PADDING;\n            break;\n          default: break;\n        }\n        const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n        const ty = rty + (trigonometricHeight / 2 - size / 2);\n        const dwAngle = new DrawAngle({\n          dw,\n          angle,\n          rect: new Rect({\n            x: rtx, y: rty, width: trigonometricWidth, height: trigonometricHeight,\n          }),\n        });\n        dwAngle.rotate();\n        dw.fillText(text, tx, ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', tx, ty, textWidth);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', tx, ty, textWidth);\n        }\n        dwAngle.revert();\n      }\n      crop.close();\n    }\n  }\n\n  draw() {\n    const { dw, attr } = this;\n    const { textWrap } = attr;\n    dw.attr({\n      textAlign: ALIGN.left,\n      textBaseline: VERTICAL_ALIGN.top,\n      font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n      fillStyle: attr.color,\n      strokeStyle: attr.color,\n    });\n    switch (textWrap) {\n      case TEXT_WRAP.TRUNCATE:\n        return this.drawTextTruncate();\n      case TEXT_WRAP.WORD_WRAP:\n        return this.drawTextWarp();\n      case TEXT_WRAP.OVER_FLOW:\n      default:\n        return this.drawTextOverFlow();\n    }\n  }\n}\n\nclass Font {\n  constructor({\n    text, rect, dw, overflow, attr,\n  }) {\n    this.attr = Utils.mergeDeep({}, {\n      name: 'Arial',\n      size: npx(13),\n      color: '#000000',\n      bold: false,\n      italic: false,\n      textWrap: false,\n      underline: false,\n      strikethrough: false,\n      align: ALIGN.left,\n      verticalAlign: VERTICAL_ALIGN.center,\n      direction: TEXT_DIRECTION.HORIZONTAL,\n      angle: 0,\n    }, attr);\n    this.verticalFontDraw = new VerticalFontDraw({\n      text, rect, dw, overflow, attr: this.attr,\n    });\n    this.horizontalFontDraw = new HorizontalFontDraw({\n      text, rect, dw, overflow, attr: this.attr,\n    });\n    this.angleFontDraw = new AngleFontDraw({\n      text, rect, dw, overflow, attr: this.attr,\n    });\n  }\n\n  draw() {\n    const { attr } = this;\n    switch (attr.direction) {\n      case TEXT_DIRECTION.VERTICAL: {\n        this.verticalFontDraw.draw();\n        break;\n      }\n      case TEXT_DIRECTION.HORIZONTAL: {\n        this.horizontalFontDraw.draw();\n        break;\n      }\n      case TEXT_DIRECTION.ANGLE: {\n        this.angleFontDraw.draw();\n        break;\n      }\n      default: break;\n    }\n  }\n\n  setTextWrap(textWrap) {\n    const { attr } = this;\n    switch (attr.direction) {\n      case TEXT_DIRECTION.VERTICAL:\n        this.verticalFontDraw.setTextWrap(textWrap);\n        break;\n      case TEXT_DIRECTION.HORIZONTAL:\n      default:\n        this.horizontalFontDraw.setTextWrap(textWrap);\n    }\n  }\n}\n\nexport { VERTICAL_ALIGN, ALIGN, TEXT_WRAP, TEXT_DIRECTION };\n\nexport { Font };\n","import { ELContextMenu } from '../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../config';\nimport { Utils } from '../../../../utils/Utils';\nimport { h } from '../../../../lib/Element';\nimport { HorizontalIcon1 } from '../../tools/horizontal/HorizontalIcon1';\nimport { HorizontalIcon2 } from '../../tools/horizontal/HorizontalIcon2';\nimport { HorizontalIcon3 } from '../../tools/horizontal/HorizontalIcon3';\nimport { HorizontalContextMenuItem } from './HorizontalContextMenuItem';\nimport { EventBind } from '../../../../utils/EventBind';\nimport { Constant } from '../../../../utils/Constant';\nimport { ALIGN } from '../../../../canvas/Font';\n\nclass HorizontalContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-horizontal-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.horizontalIcon1 = new HorizontalIcon1();\n    this.horizontalIcon2 = new HorizontalIcon2();\n    this.horizontalIcon3 = new HorizontalIcon3();\n    const div2 = h('div', `${cssPrefix}-horizontal-type-context-menu-type-icon-line`);\n    div2.children(this.horizontalIcon1);\n    div2.children(this.horizontalIcon2);\n    div2.children(this.horizontalIcon3);\n    this.horizontalIcons = new HorizontalContextMenuItem();\n    this.horizontalIcons.removeClass('hover');\n    this.horizontalIcons.children(div2);\n    this.addItem(this.horizontalIcons);\n    // 添加事件\n    EventBind.bind(this.horizontalIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(ALIGN.left);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.horizontalIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(ALIGN.center);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.horizontalIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(ALIGN.right);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { HorizontalContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { HorizontalContextMenu } from '../contextmenu/horizontal/HorizontalContextMenu';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\n\nclass HorizontalAlign extends DropDownItem {\n  constructor(options = {}) {\n    super(`${cssPrefix}-tools-horizontal-align`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('align-left');\n    this.setIcon(this.icon);\n    this.horizontalContextMenu = new HorizontalContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\nexport { HorizontalAlign };\n","import { ELContextMenuItem } from '../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../config';\n\nclass VerticalContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-vertical-type-context-menu-item`);\n  }\n}\n\nexport { VerticalContextMenuItem };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass VerticalIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-verticalIcon1`);\n    this.icon = new Icon('align-top');\n    this.children(this.icon);\n  }\n}\n\nexport { VerticalIcon1 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass VerticalIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-verticalIcon2`);\n    this.icon = new Icon('align-middle');\n    this.children(this.icon);\n  }\n}\n\nexport { VerticalIcon2 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass VerticalIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-verticalIcon3`);\n    this.icon = new Icon('align-bottom');\n    this.children(this.icon);\n  }\n}\n\nexport { VerticalIcon3 };\n","import { ELContextMenu } from '../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../config';\nimport { Utils } from '../../../../utils/Utils';\nimport { h } from '../../../../lib/Element';\nimport { VerticalContextMenuItem } from './VerticalContextMenuItem';\nimport { VerticalIcon1 } from '../../tools/vertical/VerticalIcon1';\nimport { VerticalIcon2 } from '../../tools/vertical/VerticalIcon2';\nimport { VerticalIcon3 } from '../../tools/vertical/VerticalIcon3';\nimport { EventBind } from '../../../../utils/EventBind';\nimport { Constant } from '../../../../utils/Constant';\nimport { VERTICAL_ALIGN } from '../../../../canvas/Font';\n\nclass VerticalContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-vertical-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.verticalIcon1 = new VerticalIcon1();\n    this.verticalIcon2 = new VerticalIcon2();\n    this.verticalIcon3 = new VerticalIcon3();\n    const div2 = h('div', `${cssPrefix}-vertical-type-context-menu-type-icon-line`);\n    div2.children(this.verticalIcon1);\n    div2.children(this.verticalIcon2);\n    div2.children(this.verticalIcon3);\n    this.verticalIcons = new VerticalContextMenuItem();\n    this.verticalIcons.removeClass('hover');\n    this.verticalIcons.children(div2);\n    this.addItem(this.verticalIcons);\n    // 添加事件\n    EventBind.bind(this.verticalIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(VERTICAL_ALIGN.top);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.verticalIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(VERTICAL_ALIGN.center);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.verticalIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(VERTICAL_ALIGN.bottom);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { VerticalContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { VerticalContextMenu } from '../contextmenu/vertical/VerticalContextMenu';\n\nclass VerticalAlign extends DropDownItem {\n  constructor(options = {}) {\n    super(`${cssPrefix}-tools-vertical-align`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('align-middle');\n    this.setIcon(this.icon);\n    this.verticalContextMenu = new VerticalContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { VerticalAlign };\n","import { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\nimport { Item } from '../base/Item';\n\nclass TextWrappingIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-text-wrapping1`);\n    this.icon = new Icon('truncate');\n    this.children(this.icon);\n  }\n}\n\nexport { TextWrappingIcon1 };\n","import { Item } from '../base/Item';\nimport { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\n\nclass TextWrappingIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-text-wrapping2`);\n    this.icon = new Icon('overflow');\n    this.children(this.icon);\n  }\n}\n\nexport { TextWrappingIcon2 };\n","import { cssPrefix } from '../../../../config';\nimport { Icon } from '../Icon';\nimport { Item } from '../base/Item';\n\nclass TextWrappingIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-text-wrapping3`);\n    this.icon = new Icon('wrap');\n    this.children(this.icon);\n  }\n}\n\nexport { TextWrappingIcon3 };\n","import { ELContextMenuItem } from '../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../config';\n\nclass TextWrappingContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-text-wrapping-context-menu-item`);\n  }\n}\n\nexport { TextWrappingContextMenuItem };\n","import { ELContextMenu } from '../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../config';\nimport { Utils } from '../../../../utils/Utils';\nimport { TextWrappingIcon1 } from '../../tools/textwrapping/TextWrappingIcon1';\nimport { TextWrappingIcon2 } from '../../tools/textwrapping/TextWrappingIcon2';\nimport { TextWrappingIcon3 } from '../../tools/textwrapping/TextWrappingIcon3';\nimport { h } from '../../../../lib/Element';\nimport { TextWrappingContextMenuItem } from './TextWrappingContextMenuItem';\nimport { EventBind } from '../../../../utils/EventBind';\nimport { Constant } from '../../../../utils/Constant';\nimport { TEXT_WRAP } from '../../../../canvas/Font';\n\nclass TextWrappingContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-text-wrapping-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.textWrappingIcon1 = new TextWrappingIcon1();\n    this.textWrappingIcon2 = new TextWrappingIcon2();\n    this.textWrappingIcon3 = new TextWrappingIcon3();\n    const div2 = h('div', `${cssPrefix}-text-wrapping-context-menu-type-icon-line`);\n    div2.children(this.textWrappingIcon1);\n    div2.children(this.textWrappingIcon2);\n    div2.children(this.textWrappingIcon3);\n    this.textWrappingIcons = new TextWrappingContextMenuItem();\n    this.textWrappingIcons.removeClass('hover');\n    this.textWrappingIcons.children(div2);\n    this.addItem(this.textWrappingIcons);\n    // 添加事件\n    EventBind.bind(this.textWrappingIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(TEXT_WRAP.TRUNCATE);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.textWrappingIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(TEXT_WRAP.OVER_FLOW);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.textWrappingIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(TEXT_WRAP.WORD_WRAP);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { TextWrappingContextMenu };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { DropDownItem } from './base/DropDownItem';\nimport { TextWrappingContextMenu } from '../contextmenu/textwrapping/TextWrappingContextMenu';\n\nclass TextWrapping extends DropDownItem {\n  constructor(options = {}) {\n    super(`${cssPrefix}-tools-text-wrapping`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('text-wrap');\n    this.setIcon(this.icon);\n    this.textWrappingContextMenu = new TextWrappingContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { TextWrapping };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Fixed extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-fixed`);\n    this.icon = new Icon('freeze');\n    this.children(this.icon);\n  }\n}\n\nexport { Fixed };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Filter extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-filter`);\n    this.icon = new Icon('filter');\n    this.children(this.icon);\n  }\n}\n\nexport { Filter };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\n\nclass Functions extends DropDownItem {\n  constructor() {\n    super(`${cssPrefix}-tools-format`);\n    this.icon = new Icon('functions');\n    this.setIcon(this.icon);\n  }\n}\nexport { Functions };\n","import { Widget } from '../../../lib/Widget';\nimport { Utils } from '../../../utils/Utils';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\n\nconst svg = `\n  <svg class=\"${cssPrefix}-copy-style-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\">\n    <line class=\"${cssPrefix}-copy-style-stroked-top\" x1=\"0\" y1=\"0\" x2=\"100%\" y2=\"0\"/>\n    <line class=\"${cssPrefix}-copy-style-stroked-left\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"100%\"/>\n    <line class=\"${cssPrefix}-copy-style-stroked-bottom\" x1=\"0\" y1=\"100%\" x2=\"100%\" y2=\"100%\"/>\n    <line class=\"${cssPrefix}-copy-style-stroked-right\" x1=\"100%\" y1=\"0\" x2=\"100%\" y2=\"100%\"/>\n  </svg>\n`;\n\nclass CopyStyle extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-copy-style`);\n    this.options = Utils.mergeDeep({}, options);\n    this.mask = h('div', `${cssPrefix}-copy-style-mask`);\n    this.html(svg);\n    this.children(this.mask);\n    this.top = this.find(`.${cssPrefix}-copy-style-stroked-top`);\n    this.left = this.find(`.${cssPrefix}-copy-style-stroked-left`);\n    this.bottom = this.find(`.${cssPrefix}-copy-style-stroked-bottom`);\n    this.right = this.find(`.${cssPrefix}-copy-style-stroked-right`);\n    this.hide();\n  }\n}\n\nexport { CopyStyle };\n","class ScreenWidget {\n  constructor(screen) {\n    this.screen = screen;\n    this.lt = null;\n    this.t = null;\n    this.l = null;\n    this.br = null;\n  }\n\n  getLT() {\n    return this.lt;\n  }\n\n  getT() {\n    return this.t;\n  }\n\n  getL() {\n    return this.l;\n  }\n\n  getBR() {\n    return this.br;\n  }\n}\n\nexport { ScreenWidget };\n","import { Utils } from '../../utils/Utils';\n\nclass RectRange {\n\n  /**\n   * RectRange\n   * @param {int} sri 起始行\n   * @param {int} sci 起始列\n   * @param {int} eri 结束行\n   * @param {int} eci 结束列\n   * @param {int} w 宽度\n   * @param {int} h 高度\n   */\n  constructor(sri, sci, eri, eci, w = 0, h = 0) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n    this.w = w;\n    this.h = h;\n  }\n\n  /**\n   * 设置区域\n   * @param {int} sri 起始行\n   * @param {int} sci 起始列\n   * @param {int} eri 结束行\n   * @param {int} eci 结束列\n   */\n  set(sri, sci, eri, eci) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n  }\n\n  /**\n   * 判断是否跨多个单元格\n   * @returns {boolean}\n   */\n  multiple() {\n    return this.eri - this.sri > 0 || this.eci - this.sci > 0;\n  }\n\n  /**\n   * 判断当前的区域是否包含指定的行和列\n   * 参数支持 ri, ci 和 A10 两种形式\n   * @param {[int, int] | String} args 行索引,列索引 或者 字符串\n   * @returns {boolean}\n   */\n  includes(...args) {\n    let [ri, ci] = [0, 0];\n    if (args.length === 1) {\n      [ci, ri] = Utils.expr2xy(args[0]);\n    } else if (args.length === 2) {\n      [ri, ci] = args;\n    }\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return sri <= ri && ri <= eri && sci <= ci && ci <= eci;\n  }\n\n  /**\n   * 循环过滤指定的行列\n   * @param {Function} cb 回调函数\n   * @param {Function} rowFilter 过滤使用的回调函数\n   */\n  each(cb, rowFilter = () => true) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    for (let i = sri; i <= eri; i += 1) {\n      if (rowFilter(i)) {\n        for (let j = sci; j <= eci; j += 1) {\n          cb(i, j);\n        }\n      }\n    }\n  }\n\n  /**\n   * 判断当前的区域是否包含指定的区域\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  contains(other) {\n    return this.sri <= other.sri\n      && this.sci <= other.sci\n      && this.eri >= other.eri\n      && this.eci >= other.eci;\n  }\n\n  /**\n   * 判断当前的区域是否被指定的区域包含\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  within(other) {\n    return this.sri >= other.sri\n      && this.sci >= other.sci\n      && this.eri <= other.eri\n      && this.eci <= other.eci;\n  }\n\n  /**\n   * 判断当前的区域和指定的区域不发生重合\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  disjoint(other) {\n    return this.sri > other.eri\n      || this.sci > other.eci\n      || other.sri > this.eri\n      || other.sci > this.eci;\n  }\n\n  /**\n   * 判断当前的区域和指定的区域发生重合\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  intersects(other) {\n    return this.sri <= other.eri\n      && this.sci <= other.eci\n      && other.sri <= this.eri\n      && other.sci <= this.eci;\n  }\n\n  /**\n   * 返回当前区域和指定区域合并后的新区域\n   * @param {RectRange} other 区域\n   * @returns {RectRange}\n   */\n  union(other) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return new RectRange(\n      other.sri < sri ? other.sri : sri,\n      other.sci < sci ? other.sci : sci,\n      other.eri > eri ? other.eri : eri,\n      other.eci > eci ? other.eci : eci,\n    );\n  }\n\n  /**\n   * 返回当前区域和指定区域合重合的新区域\n   * @param {RectRange} other\n   * @returns {RectRange}\n   */\n  coincide(other) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    if (this.disjoint(other)) {\n      return new RectRange(-1, -1, -1, -1);\n    }\n    return new RectRange(\n      other.sri > sri ? other.sri : sri,\n      other.sci > sci ? other.sci : sci,\n      other.eri < eri ? other.eri : eri,\n      other.eci < eci ? other.eci : eci,\n    );\n  }\n\n  /**\n   * 返回当前区域和指定区域不重合的部分\n   * @param {RectRange} other 区域\n   * @returns {Array}\n   */\n  difference(other) {\n    const ret = [];\n    const addRet = (sri, sci, eri, eci) => {\n      ret.push(new RectRange(sri, sci, eri, eci));\n    };\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    const dsr = other.sri - sri;\n    const dsc = other.sci - sci;\n    const der = eri - other.eri;\n    const dec = eci - other.eci;\n    if (dsr > 0) {\n      addRet(sri, sci, other.sri - 1, eci);\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, eci);\n        if (dsc > 0) {\n          addRet(other.sri, sci, other.eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, other.eri, eci);\n        }\n      } else {\n        if (dsc > 0) {\n          addRet(other.sri, sci, eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, eri, eci);\n        }\n      }\n    } else if (der > 0) {\n      addRet(other.eri + 1, sci, eri, eci);\n      if (dsc > 0) {\n        addRet(sri, sci, other.eri, other.sci - 1);\n      }\n      if (dec > 0) {\n        addRet(sri, other.eci + 1, other.eri, eci);\n      }\n    }\n    if (dsc > 0) {\n      addRet(sri, sci, eri, other.sci - 1);\n      if (dec > 0) {\n        addRet(sri, other.eri + 1, eri, eci);\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, other.eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, other.eci);\n        }\n      } else {\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, eci);\n        }\n      }\n    } else if (dec > 0) {\n      addRet(eri, other.eci + 1, eri, eci);\n      if (dsr > 0) {\n        addRet(sri, sci, other.sri - 1, other.eci);\n      }\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, other.eci);\n      }\n    }\n    return ret;\n  }\n\n  /**\n   * 当前区域跨的行列数\n   * @returns {number[]}\n   */\n  size() {\n    return [\n      this.eri - this.sri + 1,\n      this.eci - this.sci + 1,\n    ];\n  }\n\n  brink() {\n    const { sri, eri, sci, eci } = this;\n    const top = new RectRange(sri, sci, sri, eci);\n    const bottom = new RectRange(eri, sci, eri, eci);\n    const right = new RectRange(sri, eci, eri, eci);\n    const left = new RectRange(sri, sci, eri, sci);\n    return { top, right, bottom, left };\n  }\n\n  toString() {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    let ref = Utils.xy2expr(sci, sri);\n    if (this.multiple()) {\n      ref = `${ref}:${Utils.xy2expr(eci, eri)}`;\n    }\n    return ref;\n  }\n\n  clone() {\n    const {\n      sri, sci, eri, eci, w, h,\n    } = this;\n    return new RectRange(sri, sci, eri, eci, w, h);\n  }\n\n  /**\n   * equals\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  equals(other) {\n    return this.eri === other.eri\n      && this.eci === other.eci\n      && this.sri === other.sri\n      && this.sci === other.sci;\n  }\n\n  /**\n   * 将 B1:B8 或者 B1 参数转换成新的区域\n   * @param {String} ref 行列字符串\n   * @returns {RectRange}\n   */\n  static valueOf(ref) {\n    const refs = ref.split(':');\n    const [sci, sri] = Utils.expr2xy(refs[0]);\n    let [eri, eci] = [sri, sci];\n    if (refs.length > 1) {\n      [eci, eri] = Utils.expr2xy(refs[1]);\n    }\n    return new RectRange(sri, sci, eri, eci);\n  }\n}\n\nexport { RectRange };\n","\nimport { Utils } from '../../../utils/Utils';\nimport { CopyStyle } from './CopyStyle';\nimport { ScreenWidget } from '../screen/ScreenWidget';\nimport { RectRange } from '../RectRange';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { Rect } from '../../../canvas/Rect';\n\nclass ScreenCopyStyle extends ScreenWidget {\n  constructor(screen, options = {}) {\n    super(screen);\n    this.options = Utils.mergeDeep({}, options);\n    this.lt = new CopyStyle();\n    this.t = new CopyStyle();\n    this.l = new CopyStyle();\n    this.br = new CopyStyle();\n    this.selectorAttr = null;\n    this.bind();\n  }\n\n  setLTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      frozenLeftTop, cols, rows, grid,\n    } = table;\n    const viewRange = frozenLeftTop.getViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.lt.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.eci > viewRange.eci) {\n      this.lt.right.hide();\n      this.lt.mask.css('border-right', 'none');\n    } else {\n      this.lt.right.show();\n      this.lt.mask.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.lt.bottom.hide();\n      this.lt.mask.css('border-bottom', 'none');\n    } else {\n      this.lt.bottom.show();\n      this.lt.mask.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.lt.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedTop, cols, rows, grid,\n    } = table;\n    const viewRange = fixedTop.getViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.t.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.t.left.hide();\n      this.t.mask.css('border-left', 'none');\n    } else {\n      this.t.left.show();\n      this.t.mask.cssRemoveKeys('border-left');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.t.bottom.hide();\n      this.t.mask.css('border-bottom', 'none');\n    } else {\n      this.t.bottom.show();\n      this.t.mask.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.t.right.hide();\n      this.t.mask.css('border-right', 'none');\n    } else {\n      this.t.right.show();\n      this.t.mask.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.t.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setLOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedLeft, cols, rows, grid,\n    } = table;\n    const viewRange = fixedLeft.getViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.l.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sri < viewRange.sri) {\n      this.l.top.hide();\n      this.l.mask.css('border-top', 'none');\n    } else {\n      this.l.top.show();\n      this.l.mask.cssRemoveKeys('border-top');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.l.right.hide();\n      this.l.mask.css('border-right', 'none');\n    } else {\n      this.l.right.show();\n      this.l.mask.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.l.bottom.hide();\n      this.l.mask.css('border-bottom', 'none');\n    } else {\n      this.l.bottom.show();\n      this.l.mask.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.l.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setBROffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      cols, rows, grid,\n    } = table;\n    const viewRange = table.getViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.br.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.br.left.hide();\n      this.br.mask.css('border-left', 'none');\n    } else {\n      this.br.left.show();\n      this.br.mask.cssRemoveKeys('border-left');\n    }\n    if (rect.sri < viewRange.sri) {\n      this.br.top.hide();\n      this.br.mask.css('border-top', 'none');\n    } else {\n      this.br.top.show();\n      this.br.mask.cssRemoveKeys('border-top');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.br.bottom.hide();\n      this.br.mask.css('border-bottom', 'none');\n    } else {\n      this.br.bottom.show();\n      this.br.mask.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.br.right.hide();\n      this.br.mask.css('border-right', 'none');\n    } else {\n      this.br.right.show();\n      this.br.mask.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.br.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setOffset(selectorAttr) {\n    this.setLTOffset(selectorAttr);\n    this.setTOffset(selectorAttr);\n    this.setLOffset(selectorAttr);\n    this.setBROffset(selectorAttr);\n  }\n\n  bind() {\n    const { screen } = this;\n    const { table } = screen;\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n      e.stopPropagation();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n      e.stopPropagation();\n    });\n  }\n\n  setShow(selectorAttr) {\n    this.selectorAttr = selectorAttr;\n    this.setOffset(selectorAttr);\n  }\n\n  setHide() {\n    this.selectorAttr = null;\n    this.lt.hide();\n    this.t.hide();\n    this.l.hide();\n    this.br.hide();\n  }\n}\n\nexport { ScreenCopyStyle };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\n\nclass Selector extends Widget {\n  constructor() {\n    super(`${cssPrefix}-selector`);\n    this.cornerEl = h('div', `${cssPrefix}-selector-corner`);\n    this.areaEl = h('div', `${cssPrefix}-selector-area`);\n    this.transfromData = h('div', `${cssPrefix}-selector-transform-data`);\n    this.areaEl.children(this.cornerEl);\n    this.children(this.transfromData);\n    this.children(this.areaEl);\n    this.hide();\n  }\n}\n\nexport { Selector };\n","/* global document */\n\nimport { Selector } from './Selector';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { ScreenWidget } from '../screen/ScreenWidget';\nimport { RectRange } from '../RectRange';\nimport { Utils } from '../../../utils/Utils';\nimport { Rect } from '../../../canvas/Rect';\n\nclass ScreenSelector extends ScreenWidget {\n  constructor(screen, options = {}) {\n    super(screen);\n    this.options = options;\n    this.selectorAttr = null;\n    this.onChangeStack = [];\n    this.onSelectChangeStack = [];\n    this.onSelectChangeOver = [];\n    this.onDownSelectStack = [];\n    this.lt = new Selector();\n    this.t = new Selector();\n    this.l = new Selector();\n    this.br = new Selector();\n    this.bind();\n  }\n\n  bind() {\n    const { screen } = this;\n    const { table } = screen;\n    const { mousePointType } = table;\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      if (e1.button !== 0) return;\n      const { x, y } = table.computeEventXy(e1);\n      const downSelectAttr = this.getDownXYSelectorAttr(x, y);\n      // console.log('downSelectAttr >>>', downSelectAttr);\n      this.selectorAttr = downSelectAttr;\n      this.setOffset(downSelectAttr);\n      this.onDownSelectStack.forEach(cb => cb());\n      this.onChangeStack.forEach(cb => cb());\n      this.onSelectChangeStack.forEach(cb => cb());\n      const { edgeType } = downSelectAttr;\n      switch (edgeType) {\n        case 'left-top':\n          mousePointType.on(['table-cell']);\n          break;\n        case 'left':\n          mousePointType.on(['table-ri']);\n          break;\n        case 'top':\n          mousePointType.on(['table-ci']);\n          break;\n        default:\n          mousePointType.on(['table-cell']);\n          break;\n      }\n      EventBind.mouseMoveUp(document, (e2) => {\n        const { x, y } = table.computeEventXy(e2);\n        const moveSelectorAttr = this.getMoveXySelectorAttr(downSelectAttr, x, y);\n        this.selectorAttr = moveSelectorAttr;\n        this.setOffset(moveSelectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n        this.onSelectChangeStack.forEach(cb => cb());\n        e2.stopPropagation();\n        e2.preventDefault();\n      }, () => {\n        mousePointType.off();\n        this.onSelectChangeOver.forEach(cb => cb());\n      });\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n      }\n      e.stopPropagation();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n      }\n      e.stopPropagation();\n    });\n  }\n\n  setLTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      frozenLeftTop, cols, rows, grid,\n    } = table;\n    const viewRange = frozenLeftTop.getViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.lt.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.eci > viewRange.eci) {\n      this.lt.areaEl.css('border-right', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.lt.areaEl.css('border-bottom', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.lt.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedTop, cols, rows, grid,\n    } = table;\n    const viewRange = fixedTop.getViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.t.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.t.areaEl.css('border-left', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.t.areaEl.css('border-bottom', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.t.areaEl.css('border-right', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.t.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setLOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedLeft, cols, rows, grid,\n    } = table;\n    const viewRange = fixedLeft.getViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.l.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sri < viewRange.sri) {\n      this.l.areaEl.css('border-top', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.l.areaEl.css('border-right', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.l.areaEl.css('border-bottom', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.l.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setBROffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      cols, rows, grid,\n    } = table;\n    const viewRange = table.getViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.br.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.br.areaEl.css('border-left', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.sri < viewRange.sri) {\n      this.br.areaEl.css('border-top', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.br.areaEl.css('border-bottom', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.br.areaEl.css('border-right', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.br.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setLTCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const { frozenLeftTop } = table;\n    const viewRange = frozenLeftTop.getViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.lt.cornerEl.cssRemoveKeys('left');\n    this.lt.cornerEl.cssRemoveKeys('top');\n    this.lt.cornerEl.cssRemoveKeys('right');\n    this.lt.cornerEl.cssRemoveKeys('bottom');\n    this.lt.cornerEl.hide();\n\n    if (edge) {\n      const ltT = Utils.arrayIncludeArray(intersectsArea, ['lt', 't']);\n      const ltL = Utils.arrayIncludeArray(intersectsArea, ['lt', 'l']);\n      if (edgeType === 'left' && ltT) {\n        this.lt.cornerEl.show();\n        this.lt.cornerEl.css('left', '0px');\n        this.lt.cornerEl.css('bottom', '0px');\n      }\n      if (edgeType === 'top' && ltL) {\n        this.lt.cornerEl.show();\n        this.lt.cornerEl.css('right', '0px');\n        this.lt.cornerEl.css('top', '0px');\n      }\n    } else {\n      const lt = Utils.arrayIncludeArray(intersectsArea, ['lt']);\n      if (lt) {\n        this.lt.cornerEl.show();\n        this.lt.cornerEl.css('right', '0px');\n        this.lt.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eci > viewRange.eci) {\n        this.lt.cornerEl.hide();\n      }\n      if (rect.eri > viewRange.eri) {\n        this.lt.cornerEl.hide();\n      }\n    }\n  }\n\n  setTCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedTop } = table;\n    const viewRange = fixedTop.getViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.t.cornerEl.cssRemoveKeys('left');\n    this.t.cornerEl.cssRemoveKeys('top');\n    this.t.cornerEl.cssRemoveKeys('right');\n    this.t.cornerEl.cssRemoveKeys('bottom');\n    this.t.cornerEl.hide();\n\n    if (edge) {\n      const tBr = Utils.arrayIncludeArray(intersectsArea, ['t', 'br']);\n      const ltTBrL = Utils.arrayIncludeArray(intersectsArea, ['lt', 't', 'l', 'br']);\n      if (edgeType === 'top' && tBr) {\n        this.t.cornerEl.show();\n        this.t.cornerEl.css('right', '0px');\n        this.t.cornerEl.css('top', '0px');\n      }\n      if (edgeType === 'top' && ltTBrL) {\n        this.t.cornerEl.show();\n        this.t.cornerEl.css('right', '0px');\n        this.t.cornerEl.css('top', '0px');\n      }\n      if (edgeType === 'top' && rect.eci > viewRange.eci) {\n        this.t.cornerEl.hide();\n      }\n    } else {\n      const t = Utils.arrayIncludeArray(intersectsArea, ['t']);\n      const ltT = Utils.arrayIncludeArray(intersectsArea, ['lt', 't']);\n      if (t || ltT) {\n        this.t.cornerEl.show();\n        this.t.cornerEl.css('right', '0px');\n        this.t.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eci > viewRange.eci) {\n        this.t.cornerEl.hide();\n      }\n      if (rect.eri > viewRange.eri) {\n        this.t.cornerEl.hide();\n      }\n    }\n  }\n\n  setLCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedLeft } = table;\n    const viewRange = fixedLeft.getViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.l.cornerEl.cssRemoveKeys('left');\n    this.l.cornerEl.cssRemoveKeys('top');\n    this.l.cornerEl.cssRemoveKeys('right');\n    this.l.cornerEl.cssRemoveKeys('bottom');\n    this.l.cornerEl.hide();\n\n    if (edge) {\n      const lBr = Utils.arrayIncludeArray(intersectsArea, ['l', 'br']);\n      const ltTBrL = Utils.arrayIncludeArray(intersectsArea, ['lt', 't', 'l', 'br']);\n      if (edgeType === 'left' && lBr) {\n        this.l.cornerEl.show();\n        this.l.cornerEl.css('left', '0');\n        this.l.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left' && ltTBrL) {\n        this.l.cornerEl.show();\n        this.l.cornerEl.css('left', '0');\n        this.l.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left' && rect.eri > viewRange.eri) {\n        this.l.cornerEl.hide();\n      }\n    } else {\n      const l = Utils.arrayIncludeArray(intersectsArea, ['l']);\n      const ltL = Utils.arrayIncludeArray(intersectsArea, ['lt', 'l']);\n      if (l || ltL) {\n        this.l.cornerEl.show();\n        this.l.cornerEl.css('right', '0px');\n        this.l.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eci > viewRange.eci) {\n        this.l.cornerEl.hide();\n      }\n      if (rect.eri > viewRange.eri) {\n        this.l.cornerEl.hide();\n      }\n    }\n  }\n\n  setBrCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const viewRange = table.getViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.br.cornerEl.cssRemoveKeys('left');\n    this.br.cornerEl.cssRemoveKeys('top');\n    this.br.cornerEl.cssRemoveKeys('right');\n    this.br.cornerEl.cssRemoveKeys('bottom');\n    this.br.cornerEl.hide();\n\n    if (edge) {\n      const br = Utils.arrayIncludeArray(intersectsArea, ['br']);\n      const ltTLBr = Utils.arrayIncludeArray(intersectsArea, ['lt', 't', 'l', 'br']);\n      if (edgeType === 'left' && br) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('left', '0');\n        this.br.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'top' && br) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0');\n        this.br.cornerEl.css('top', '0');\n      }\n      if (edgeType === 'left-top' && ltTLBr) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0');\n        this.br.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left-top' && br) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0');\n        this.br.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left' && rect.eri > viewRange.eri) {\n        this.br.cornerEl.hide();\n      }\n      if (edgeType === 'top' && rect.eci > viewRange.eci) {\n        this.br.cornerEl.hide();\n      }\n    } else {\n      const br = Utils.arrayIncludeArray(intersectsArea, ['br']);\n      const tBr = Utils.arrayIncludeArray(intersectsArea, ['t', 'br']);\n      const lBr = Utils.arrayIncludeArray(intersectsArea, ['l', 'br']);\n      const ltTLBr = Utils.arrayIncludeArray(intersectsArea, ['lt', 't', 'l', 'br']);\n      if (br || tBr || lBr || lBr || ltTLBr) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0px');\n        this.br.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eri > viewRange.eri) {\n        this.br.cornerEl.hide();\n      }\n      if (rect.eci > viewRange.eci) {\n        this.br.cornerEl.hide();\n      }\n    }\n  }\n\n  getIntersectsArea(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixed, cols, rows } = table;\n    const { rect } = selectorAttr;\n    const area = [];\n\n    const tlRange = new RectRange(0, 0, fixed.fxTop, fixed.fxLeft);\n    const tRange = new RectRange(0, fixed.fxLeft + 1, fixed.fxTop, cols.len);\n    const lRange = new RectRange(fixed.fxTop + 1, 0, rows.len, fixed.fxLeft);\n    const brRange = new RectRange(fixed.fxTop + 1, fixed.fxLeft + 1, rows.len, cols.len);\n\n    if (rect.intersects(tlRange)) area.push('lt');\n    if (rect.intersects(tRange)) area.push('t');\n    if (rect.intersects(lRange)) area.push('l');\n    if (rect.intersects(brRange)) area.push('br');\n\n    return area;\n  }\n\n  setOffset(selectorAttr) {\n    const intersectsArea = this.getIntersectsArea(selectorAttr);\n    // console.log('intersectsArea', intersectsArea)\n\n    this.setLTOffset(selectorAttr);\n    this.setTOffset(selectorAttr);\n    this.setLOffset(selectorAttr);\n    this.setBROffset(selectorAttr);\n\n    this.setLTCorner(selectorAttr, intersectsArea);\n    this.setTCorner(selectorAttr, intersectsArea);\n    this.setLCorner(selectorAttr, intersectsArea);\n    this.setBrCorner(selectorAttr, intersectsArea);\n  }\n\n  getViewRange() {\n    const { screen } = this;\n    const { table } = screen;\n    const { cols, rows } = table;\n    const viewRange = table.getViewRange();\n    let { sri, sci } = viewRange;\n    const { eri, eci } = viewRange;\n\n    if (table.getFixedWidth() > 0) {\n      sri = 0;\n    }\n    if (table.getFixedHeight() > 0) {\n      sci = 0;\n    }\n\n    const width = cols.sectionSumWidth(sci, eci);\n    const height = rows.sectionSumHeight(sri, eri);\n\n    return new RectRange(sri, sci, eri, eci, width, height);\n  }\n\n  getDownXYSelectorAttr(x, y) {\n    const { screen } = this;\n    const { table } = screen;\n    const { merges, rows, cols } = table;\n    const { ri, ci } = table.getRiCiByXy(x, y);\n    if (ri === -1 && ci === -1) {\n      const rect = new RectRange(0, 0, rows.len - 1, cols.len - 1);\n      return {\n        rect, edge: true, edgeType: 'left-top',\n      };\n    }\n    if (ri === -1) {\n      const rect = new RectRange(0, ci, rows.len - 1, ci);\n      return {\n        rect, edge: true, edgeType: 'top',\n      };\n    }\n    if (ci === -1) {\n      const rect = new RectRange(ri, 0, ri, cols.len - 1);\n      return {\n        rect, edge: true, edgeType: 'left',\n      };\n    }\n    const merge = merges.getFirstIncludes(ri, ci);\n    let rect = new RectRange(ri, ci, ri, ci);\n    if (merge) {\n      rect = merge;\n    }\n    return { rect };\n  }\n\n  getMoveXySelectorAttr(selectorAttr, x, y) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      merges, rows, cols,\n    } = table;\n    const { rect: selectRect, edgeType } = selectorAttr;\n    const viewRange = this.getViewRange();\n    let { ri, ci } = table.getRiCiByXy(x, y);\n    if (ri === -1) ri = viewRange.sri;\n    if (ci === -1) ci = viewRange.sci;\n    switch (edgeType) {\n      case 'left-top': {\n        let rect = selectRect.union(new RectRange(0, 0, rows.len - 1, cols.len - 1));\n        rect = selectRect.union(rect);\n        return {\n          rect, edge: true, edgeType: 'left-top',\n        };\n      }\n      case 'top': {\n        let rect = selectRect.union(new RectRange(0, ci, 0, ci));\n        rect = selectRect.union(rect);\n        return {\n          rect, edge: true, edgeType: 'top',\n        };\n      }\n      case 'left': {\n        let rect = selectRect.union(new RectRange(ri, 0, ri, 0));\n        rect = selectRect.union(rect);\n        return {\n          rect, edge: true, edgeType: 'left',\n        };\n      }\n      default: break;\n    }\n    let rect = selectRect.union(new RectRange(ri, ci, ri, ci));\n    rect = merges.union(rect);\n    return { rect };\n  }\n\n  getSelectRange() {\n    const { rect } = this.selectorAttr;\n    return rect;\n  }\n\n  // ===========downSelectCb=============\n\n  addDownSelectCb(cb) {\n    this.onDownSelectStack.push(cb);\n  }\n\n  removeDownSelectCb(cb) {\n    for (let i = 0; i < this.onChangeStack.length; i += 1) {\n      const item = this.onDownSelectStack[i];\n      if (item === cb) {\n        this.onDownSelectStack.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  // ===========changeCb=============\n\n  addChangeCb(cb) {\n    this.onChangeStack.push(cb);\n  }\n\n  removeChangeCb(cb) {\n    for (let i = 0; i < this.onChangeStack.length; i += 1) {\n      const item = this.onChangeStack[i];\n      if (item === cb) {\n        this.onChangeStack.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  // ===========selectChangeCb=============\n\n  addSelectChangeCb(cb) {\n    this.onSelectChangeStack.push(cb);\n  }\n\n  removeSelectChangeCb(cb) {\n    for (let i = 0; i < this.onSelectChangeStack.length; i += 1) {\n      const item = this.onSelectChangeStack[i];\n      if (item === cb) {\n        this.onSelectChangeStack.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  // ===========selectChangeOverCb=============\n\n  addSelectChangeOverCb(cb) {\n    this.onSelectChangeOver.push(cb);\n  }\n\n  removeSelectChangeOverCb(cb) {\n    for (let i = 0; i < this.onSelectChangeOver.length; i += 1) {\n      const item = this.onSelectChangeOver[i];\n      if (item === cb) {\n        this.onSelectChangeOver.splice(i, 1);\n        return;\n      }\n    }\n  }\n}\n\nexport { ScreenSelector };\n","import { Utils } from '../../utils/Utils';\nimport { Rect } from '../../canvas/Rect';\nimport { CellsBorder } from './CellsBorder';\nimport { ALIGN, TEXT_DIRECTION, TEXT_WRAP, VERTICAL_ALIGN } from '../../canvas/Font';\n\nclass Cells extends CellsBorder {\n\n  constructor({\n    table, cols, rows, data = [],\n  }) {\n    super();\n    this.table = table;\n    this.cols = cols;\n    this.rows = rows;\n    this._ = data;\n  }\n\n  static getDefaultAttr() {\n    const fontAttr = {\n      align: ALIGN.left,\n      verticalAlign: VERTICAL_ALIGN.center,\n      textWrap: TEXT_WRAP.OVER_FLOW,\n      strikethrough: false,\n      underline: false,\n      color: 'rgb(0,0,0)',\n      name: 'Arial',\n      size: 14,\n      bold: false,\n      italic: false,\n      direction: TEXT_DIRECTION.HORIZONTAL,\n    };\n    const borderAttr = {\n      time: Utils.now(),\n      left: { display: false, width: 1, color: '#000000' },\n      top: { display: false, width: 1, color: '#000000' },\n      right: { display: false, width: 1, color: '#000000' },\n      bottom: { display: false, width: 1, color: '#000000' },\n    };\n    return {\n      ID: Utils.now(),\n      text: '',\n      format: 'default',\n      background: null,\n      fontAttr,\n      borderAttr,\n    };\n  }\n\n  checkAttributeIntegrity(cell) {\n    return Utils.isUnDef(cell.ID) ? Utils.mergeDeep(Cells.getDefaultAttr(), cell) : cell;\n  }\n\n  getCellHorizontalOverFlowRect(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    const { cols } = this;\n    const { fontAttr } = cell;\n    const { align } = fontAttr;\n    let width = 0;\n    let offset = 0;\n    if (align === ALIGN.left) {\n      for (let i = ci, { len } = cols; i <= len; i += 1) {\n        const cell = this.getCell(ri, i);\n        if (i === ci) {\n          width += cols.getWidth(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          width += cols.getWidth(i);\n        } else {\n          break;\n        }\n      }\n    }\n    if (align === ALIGN.center) {\n      for (let i = ci, { len } = cols; i <= len; i += 1) {\n        const cell = this.getCell(ri, i);\n        if (i === ci) {\n          width += cols.getWidth(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          width += cols.getWidth(i);\n        } else {\n          break;\n        }\n      }\n      for (let i = ci - 1; i >= 0; i -= 1) {\n        const cell = this.getCell(ri, i);\n        if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          const tmp = cols.getWidth(i);\n          width += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    if (align === ALIGN.right) {\n      for (let i = ci; i >= 0; i -= 1) {\n        const cell = this.getCell(ri, i);\n        if (i === ci) {\n          width += cols.getWidth(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          const tmp = cols.getWidth(i);\n          width += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    return { width, offset };\n  }\n\n  getCellVerticalOverFlowRect(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    const { rows } = this;\n    const { fontAttr } = cell;\n    const { verticalAlign } = fontAttr;\n    let height = 0;\n    let offset = 0;\n    if (verticalAlign === VERTICAL_ALIGN.top) {\n      for (let i = ri, { len } = rows; i <= len; i += 1) {\n        const cell = this.getCell(i, ci);\n        if (i === ci) {\n          height += rows.getHeight(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          height += rows.getHeight(i);\n        } else {\n          break;\n        }\n      }\n    }\n    if (verticalAlign === VERTICAL_ALIGN.center) {\n      for (let i = ri, { len } = rows; i <= len; i += 1) {\n        const cell = this.getCell(i, ci);\n        if (i === ci) {\n          height += rows.getHeight(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          height += rows.getHeight(i);\n        } else {\n          break;\n        }\n      }\n      for (let i = ri - 1; i >= 0; i -= 1) {\n        const cell = this.getCell(ri, i);\n        if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          const tmp = rows.getHeight(i);\n          height += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    if (verticalAlign === VERTICAL_ALIGN.bottom) {\n      for (let i = ri; i >= 0; i -= 1) {\n        const cell = this.getCell(ri, i);\n        if (i === ci) {\n          height += rows.getHeight(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          const tmp = rows.getHeight(i);\n          height += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    return { height, offset };\n  }\n\n  getCell(ri, ci) {\n    const row = this._[ri];\n    if (row && row[ci]) {\n      row[ci] = this.checkAttributeIntegrity(row[ci]);\n      return row[ci];\n    }\n    return null;\n  }\n\n  getMergeCellOrCell(ri, ci) {\n    const { table } = this;\n    const { merges } = table;\n    const merge = merges.getFirstIncludes(ri, ci);\n    if (merge) {\n      return this.getCell(merge.sri, merge.sci);\n    }\n    return this.getCell(ri, ci);\n  }\n\n  getCellOrNew(ri, ci) {\n    if (!this._[ri]) {\n      this._[ri] = [];\n    }\n    if (!this._[ri][ci]) {\n      this._[ri][ci] = {};\n    }\n    this._[ri][ci] = this.checkAttributeIntegrity(this._[ri][ci]);\n    return this._[ri][ci];\n  }\n\n  getCellInRectRange(rectRange, cb, createNew = false, { sy = 0, sx = 0 } = {}) {\n    const {\n      sri, eri, sci, eci,\n    } = rectRange;\n    let y = sy;\n    for (let i = sri; i <= eri; i += 1) {\n      const height = this.rows.getHeight(i);\n      let x = sx;\n      for (let j = sci; j <= eci; j += 1) {\n        const width = this.cols.getWidth(j);\n        let cell = null;\n        if (createNew) {\n          cell = this.getCellOrNew(i, j);\n        } else {\n          cell = this.getCell(i, j);\n        }\n        if (cell) {\n          const { fontAttr } = cell;\n          const { direction, textWrap } = fontAttr;\n          const rect = new Rect({\n            x,\n            y,\n            width,\n            height,\n          });\n          let overFlow = null;\n          if (textWrap === TEXT_WRAP.OVER_FLOW) {\n            if (direction === TEXT_DIRECTION.VERTICAL) {\n              const result = this.getCellVerticalOverFlowRect(i, j);\n              overFlow = new Rect({ x, y: y + result.offset, width, height: result.height });\n            } else {\n              const result = this.getCellHorizontalOverFlowRect(i, j);\n              overFlow = new Rect({ x: x + result.offset, y, width: result.width, height });\n            }\n          }\n          const result = cb(i, j, cell, rect, overFlow);\n          if (result === false) {\n            return;\n          }\n        }\n        x += width;\n      }\n      y += height;\n    }\n  }\n\n  getMergeCellInViewRange(viewRange, cb) {\n    const { table } = this;\n    const { merges, cols, rows } = table;\n    const filter = [];\n    this.getCellInRectRange(viewRange, (i, c) => {\n      const rectRange = merges.getFirstIncludes(i, c);\n      if (!rectRange || filter.find(item => item === rectRange)) return;\n      filter.push(rectRange);\n      const cell = this.getCell(rectRange.sri, rectRange.sci);\n      const minSri = Math.min(viewRange.sri, rectRange.sri);\n      let maxSri = Math.max(viewRange.sri, rectRange.sri);\n      const minSci = Math.min(viewRange.sci, rectRange.sci);\n      let maxSci = Math.max(viewRange.sci, rectRange.sci);\n      maxSri -= 1;\n      maxSci -= 1;\n      let x = cols.sectionSumWidth(minSci, maxSci);\n      let y = rows.sectionSumHeight(minSri, maxSri);\n      x = viewRange.sci > rectRange.sci ? x * -1 : x;\n      y = viewRange.sri > rectRange.sri ? y * -1 : y;\n      const width = cols.sectionSumWidth(rectRange.sci, rectRange.eci);\n      const height = rows.sectionSumHeight(rectRange.sri, rectRange.eri);\n      const rect = new Rect({\n        x,\n        y,\n        width,\n        height,\n      });\n      cb(rect, cell);\n    });\n  }\n\n  getCellInViewRange(rectRange, cb, createNew = false, { sy = 0, sx = 0 } = {}) {\n    const { table } = this;\n    const { merges } = table;\n    this.getCellInRectRange(rectRange, (i, j, cell, rect, overflow) => {\n      const merge = merges.getFirstIncludes(i, j);\n      if (merge === null) {\n        cb(i, j, cell, rect, overflow);\n      }\n    }, createNew, { sy, sx });\n  }\n\n  getData() {\n    return this._;\n  }\n\n  setData(data = []) {\n    this._ = data;\n    return this;\n  }\n}\n\nexport { Cells };\n","import { Utils } from '../../utils/Utils';\n\nclass CellsBorder {\n\n  // eslint-disable-next-line no-unused-vars\n  getMergeCellOrCell(ri, ci) {\n    throw new TypeError('child class implement');\n  }\n\n  borderEqual(src, target) {\n    const color = src.color === target.color;\n    const width = src.width === target.width;\n    const type = src.type === target.type;\n    return color && width && type;\n  }\n\n  borderComparisonOfTime(sri, sci, tri, tci) {\n    const srcCell = this.getMergeCellOrCell(sri, sci);\n    const targetCell = this.getMergeCellOrCell(tri, tci);\n    if (Utils.isUnDef(srcCell) || Utils.isUnDef(targetCell)) return -2;\n    const srcBorderAttr = srcCell.borderAttr;\n    const targetBorderAttr = targetCell.borderAttr;\n    const srcTime = srcBorderAttr.time;\n    const targetTime = targetBorderAttr.time;\n    if (srcTime > targetTime) return 1;\n    if (targetTime > srcTime) return -1;\n    return 0;\n  }\n\n  isDisplayLeftBorder(ri, ci) {\n    const cell = this.getMergeCellOrCell(ri, ci);\n    return !Utils.isUnDef(cell) && cell.borderAttr.left.display;\n  }\n\n  isDisplayTopBorder(ri, ci) {\n    const cell = this.getMergeCellOrCell(ri, ci);\n    return !Utils.isUnDef(cell) && cell.borderAttr.top.display;\n  }\n\n  isDisplayRightBorder(ri, ci) {\n    const cell = this.getMergeCellOrCell(ri, ci);\n    return !Utils.isUnDef(cell) && cell.borderAttr.right.display;\n  }\n\n  isDisplayBottomBorder(ri, ci) {\n    const cell = this.getMergeCellOrCell(ri, ci);\n    return !Utils.isUnDef(cell) && cell.borderAttr.bottom.display;\n  }\n\n  getLeftBorderType(ri, ci) {\n    const cell = this.getMergeCellOrCell(ri, ci);\n    return cell && cell.borderAttr.left.type;\n  }\n\n  getRightBorderType(ri, ci) {\n    const cell = this.getMergeCellOrCell(ri, ci);\n    return cell && cell.borderAttr.right.type;\n  }\n\n  getTopBorderType(ri, ci) {\n    const cell = this.getMergeCellOrCell(ri, ci);\n    return cell && cell.borderAttr.top.type;\n  }\n\n  getBottomBorderType(ri, ci) {\n    const cell = this.getMergeCellOrCell(ri, ci);\n    return cell && cell.borderAttr.bottom.type;\n  }\n}\n\nexport { CellsBorder };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { Undo } from './tools/Undo';\nimport { Redo } from './tools/Redo';\nimport { PaintFormat } from './tools/PaintFormat';\nimport { ClearFormat } from './tools/ClearFormat';\nimport { Format } from './tools/Format';\nimport { Font } from './tools/Font';\nimport { FontSize } from './tools/FontSize';\nimport { FontBold } from './tools/FontBold';\nimport { FontItalic } from './tools/FontItalic';\nimport { UnderLine } from './tools/UnderLine';\nimport { FontStrike } from './tools/FontStrike';\nimport { FontColor } from './tools/FontColor';\nimport { FillColor } from './tools/FillColor';\nimport { Border } from './tools/border/Border';\nimport { Merge } from './tools/Merge';\nimport { HorizontalAlign } from './tools/HorizontalAlign';\nimport { VerticalAlign } from './tools/VerticalAlign';\nimport { TextWrapping } from './tools/TextWrapping';\nimport { Fixed } from './tools/Fixed';\nimport { Filter } from './tools/Filter';\nimport { Functions } from './tools/Functions';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { ScreenCopyStyle } from '../table/copystyle/ScreenCopyStyle';\nimport { ScreenSelector } from '../table/selector/ScreenSelector';\nimport { Utils } from '../../utils/Utils';\nimport { ElPopUp } from '../../component/elpopup/ElPopUp';\nimport { Cells } from '../table/Cells';\nimport { LINE_TYPE } from '../../canvas/Line';\nimport { Icon } from './tools/Icon';\nimport { ALIGN, TEXT_WRAP, VERTICAL_ALIGN } from '../../canvas/Font';\n\nclass Divider extends Widget {\n  constructor() {\n    super(`${cssPrefix}-tools-divider`);\n  }\n}\n\nclass TopMenu extends Widget {\n\n  constructor(workTop) {\n    super(`${cssPrefix}-tools-menu`);\n    this.workTop = workTop;\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    // tools\n    this.undo = new Undo();\n    this.redo = new Redo();\n    this.paintFormat = new PaintFormat();\n    this.clearFormat = new ClearFormat();\n    this.format = new Format({\n      contextMenu: {\n        onUpdate: (format, title) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const { screen, cells, dataSnapshot } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.format.setTitle(title);\n          if (selectorAttr) {\n            cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n              cell.format = format;\n            }, true);\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.font = new Font({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const { screen, cells, dataSnapshot } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.font.setTitle(type);\n          if (selectorAttr) {\n            cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n              cell.fontAttr.name = type;\n            }, true);\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fontSize = new FontSize({\n      contextMenu: {\n        onUpdate: (size) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const { screen, cells, dataSnapshot } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.fontSize.setTitle(size);\n          if (selectorAttr) {\n            cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n              cell.fontAttr.size = size;\n            }, true);\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fontColor = new FontColor({\n      contextMenu: {\n        onUpdate: (color) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const { screen, cells, dataSnapshot } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.fontColor.setColor(color);\n          if (selectorAttr) {\n            cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n              cell.fontAttr.color = color;\n            }, true);\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fillColor = new FillColor({\n      contextMenu: {\n        onUpdate: (color) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const { screen, cells, dataSnapshot } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.fillColor.setColor(color);\n          if (selectorAttr) {\n            cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n              cell.background = color;\n            }, true);\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.border = new Border({\n      contextMenu: {\n        onUpdate: (borderType, color, lineType) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const { screen, cells, dataSnapshot } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          const now = Utils.now();\n          if (selectorAttr) {\n            let width = 1;\n            let type = LINE_TYPE.SOLID_LINE;\n            switch (lineType) {\n              case 'line1':\n                width = 1;\n                type = LINE_TYPE.SOLID_LINE;\n                break;\n              case 'line2':\n                width = 2;\n                type = LINE_TYPE.SOLID_LINE;\n                break;\n              case 'line3':\n                width = 3;\n                type = LINE_TYPE.SOLID_LINE;\n                break;\n              case 'line4':\n                type = LINE_TYPE.DOTTED_LINE;\n                break;\n              case 'line5':\n                type = LINE_TYPE.POINT_LINE;\n                break;\n              case 'line6':\n                type = LINE_TYPE.DOUBLE_LINE;\n                break;\n              default: break;\n            }\n            // display\n            switch (borderType) {\n              case 'border1':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.left.display = true;\n                  cell.borderAttr.top.display = true;\n                  cell.borderAttr.right.display = true;\n                  cell.borderAttr.bottom.display = true;\n                }, true);\n                break;\n              case 'border2':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sri === r) {\n                    cell.borderAttr.bottom.display = true;\n                  } else if (selectorAttr.rect.eri === r) {\n                    cell.borderAttr.top.display = true;\n                  } else {\n                    cell.borderAttr.bottom.display = true;\n                    cell.borderAttr.top.display = true;\n                  }\n                  if (selectorAttr.rect.sci === c) {\n                    cell.borderAttr.right.display = true;\n                  } else if (selectorAttr.rect.eci === c) {\n                    cell.borderAttr.left.display = true;\n                  } else {\n                    cell.borderAttr.right.display = true;\n                    cell.borderAttr.left.display = true;\n                  }\n                }, true);\n                break;\n              case 'border3':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sri === r) {\n                    cell.borderAttr.bottom.display = true;\n                  } else if (selectorAttr.rect.eri === r) {\n                    cell.borderAttr.top.display = true;\n                  } else {\n                    cell.borderAttr.bottom.display = true;\n                    cell.borderAttr.top.display = true;\n                  }\n                }, true);\n                break;\n              case 'border4':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sci === c) {\n                    cell.borderAttr.right.display = true;\n                  } else if (selectorAttr.rect.eci === c) {\n                    cell.borderAttr.left.display = true;\n                  } else {\n                    cell.borderAttr.right.display = true;\n                    cell.borderAttr.left.display = true;\n                  }\n                }, true);\n                break;\n              case 'border5':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sci === c) {\n                    cell.borderAttr.left.display = true;\n                  } else if (selectorAttr.rect.eci === c) {\n                    cell.borderAttr.right.display = true;\n                  }\n                  if (selectorAttr.rect.sri === r) {\n                    cell.borderAttr.top.display = true;\n                  } else if (selectorAttr.rect.eri === r) {\n                    cell.borderAttr.bottom.display = true;\n                  }\n                }, true);\n                break;\n              case 'border6':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  if (c === selectorAttr.rect.sci) {\n                    cell.borderAttr.time = now;\n                    cell.borderAttr.left.display = true;\n                  }\n                }, true);\n                break;\n              case 'border7':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  if (r === selectorAttr.rect.sri) {\n                    cell.borderAttr.time = now;\n                    cell.borderAttr.top.display = true;\n                  }\n                }, true);\n                break;\n              case 'border8':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  if (c === selectorAttr.rect.eci) {\n                    cell.borderAttr.time = now;\n                    cell.borderAttr.right.display = true;\n                  }\n                }, true);\n                break;\n              case 'border9':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  if (r === selectorAttr.rect.eri) {\n                    cell.borderAttr.time = now;\n                    cell.borderAttr.bottom.display = true;\n                  }\n                }, true);\n                break;\n              case 'border10':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c) => {\n                  const cell = cells.getCellOrNew(r, c);\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sri === r) {\n                    const top = cells.getCellOrNew(r - 1, c);\n                    top.borderAttr.time = now;\n                    top.borderAttr.bottom.display = false;\n                  }\n                  if (selectorAttr.rect.eri === r) {\n                    const bottom = cells.getCellOrNew(r + 1, c);\n                    bottom.borderAttr.time = now;\n                    bottom.borderAttr.top.display = false;\n                  }\n                  if (selectorAttr.rect.sci === c) {\n                    const left = cells.getCellOrNew(r, c - 1);\n                    left.borderAttr.time = now;\n                    left.borderAttr.right.display = false;\n                  }\n                  if (selectorAttr.rect.eci === c) {\n                    const right = cells.getCellOrNew(r, c + 1);\n                    right.borderAttr.time = now;\n                    right.borderAttr.left.display = false;\n                  }\n                  cell.borderAttr.left.display = false;\n                  cell.borderAttr.top.display = false;\n                  cell.borderAttr.right.display = false;\n                  cell.borderAttr.bottom.display = false;\n                }, true);\n                break;\n              default: break;\n            }\n            // color\n            switch (borderType) {\n              case 'border1':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.left.color = color;\n                  cell.borderAttr.top.color = color;\n                  cell.borderAttr.right.color = color;\n                  cell.borderAttr.bottom.color = color;\n                }, true);\n                break;\n              case 'border2':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sri === r) {\n                    cell.borderAttr.bottom.color = color;\n                  } else if (selectorAttr.rect.eri === r) {\n                    cell.borderAttr.top.color = color;\n                  } else {\n                    cell.borderAttr.bottom.color = color;\n                    cell.borderAttr.top.color = color;\n                  }\n                  if (selectorAttr.rect.sci === c) {\n                    cell.borderAttr.right.color = color;\n                  } else if (selectorAttr.rect.eci === c) {\n                    cell.borderAttr.left.color = color;\n                  } else {\n                    cell.borderAttr.right.color = color;\n                    cell.borderAttr.left.color = color;\n                  }\n                }, true);\n                break;\n              case 'border3':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sri === r) {\n                    cell.borderAttr.bottom.color = color;\n                  } else if (selectorAttr.rect.eri === r) {\n                    cell.borderAttr.top.color = color;\n                  } else {\n                    cell.borderAttr.bottom.color = color;\n                    cell.borderAttr.top.color = color;\n                  }\n                }, true);\n                break;\n              case 'border4':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sci === c) {\n                    cell.borderAttr.right.color = color;\n                  } else if (selectorAttr.rect.eci === c) {\n                    cell.borderAttr.left.color = color;\n                  } else {\n                    cell.borderAttr.right.color = color;\n                    cell.borderAttr.left.color = color;\n                  }\n                }, true);\n                break;\n              case 'border5':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sci === c) {\n                    cell.borderAttr.left.color = color;\n                  } else if (selectorAttr.rect.eci === c) {\n                    cell.borderAttr.right.color = color;\n                  }\n                  if (selectorAttr.rect.sri === r) {\n                    cell.borderAttr.top.color = color;\n                  } else if (selectorAttr.rect.eri === r) {\n                    cell.borderAttr.bottom.color = color;\n                  }\n                }, true);\n                break;\n              case 'border6':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.left.color = color;\n                }, true);\n                break;\n              case 'border7':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.top.color = color;\n                }, true);\n                break;\n              case 'border8':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.right.color = color;\n                }, true);\n                break;\n              case 'border9':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.bottom.color = color;\n                }, true);\n                break;\n              case 'border10':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.left.color = false;\n                  cell.borderAttr.top.color = false;\n                  cell.borderAttr.right.color = false;\n                  cell.borderAttr.bottom.color = false;\n                }, true);\n                break;\n              default: break;\n            }\n            // width\n            switch (borderType) {\n              case 'border1':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.left.width = width;\n                  cell.borderAttr.top.width = width;\n                  cell.borderAttr.right.width = width;\n                  cell.borderAttr.bottom.width = width;\n                }, true);\n                break;\n              case 'border2':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sri === r) {\n                    cell.borderAttr.bottom.width = width;\n                  } else if (selectorAttr.rect.eri === r) {\n                    cell.borderAttr.top.width = width;\n                  } else {\n                    cell.borderAttr.bottom.width = width;\n                    cell.borderAttr.top.width = width;\n                  }\n                  if (selectorAttr.rect.sci === c) {\n                    cell.borderAttr.right.width = width;\n                  } else if (selectorAttr.rect.eci === c) {\n                    cell.borderAttr.left.width = width;\n                  } else {\n                    cell.borderAttr.right.width = width;\n                    cell.borderAttr.left.width = width;\n                  }\n                }, true);\n                break;\n              case 'border3':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sri === r) {\n                    cell.borderAttr.bottom.width = width;\n                  } else if (selectorAttr.rect.eri === r) {\n                    cell.borderAttr.top.width = width;\n                  } else {\n                    cell.borderAttr.bottom.width = width;\n                    cell.borderAttr.top.width = width;\n                  }\n                }, true);\n                break;\n              case 'border4':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sci === c) {\n                    cell.borderAttr.right.width = width;\n                  } else if (selectorAttr.rect.eci === c) {\n                    cell.borderAttr.left.width = width;\n                  } else {\n                    cell.borderAttr.right.width = width;\n                    cell.borderAttr.left.width = width;\n                  }\n                }, true);\n                break;\n              case 'border5':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sci === c) {\n                    cell.borderAttr.left.width = width;\n                  } else if (selectorAttr.rect.eci === c) {\n                    cell.borderAttr.right.width = width;\n                  }\n                  if (selectorAttr.rect.sri === r) {\n                    cell.borderAttr.top.width = width;\n                  } else if (selectorAttr.rect.eri === r) {\n                    cell.borderAttr.bottom.width = width;\n                  }\n                }, true);\n                break;\n              case 'border6':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.left.width = width;\n                }, true);\n                break;\n              case 'border7':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.top.width = width;\n                }, true);\n                break;\n              case 'border8':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.right.width = width;\n                }, true);\n                break;\n              case 'border9':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.bottom.width = width;\n                }, true);\n                break;\n              case 'border10':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.left.width = false;\n                  cell.borderAttr.top.width = false;\n                  cell.borderAttr.right.width = false;\n                  cell.borderAttr.bottom.width = false;\n                }, true);\n                break;\n              default: break;\n            }\n            // type\n            switch (borderType) {\n              case 'border1':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.left.type = type;\n                  cell.borderAttr.top.type = type;\n                  cell.borderAttr.right.type = type;\n                  cell.borderAttr.bottom.type = type;\n                }, true);\n                break;\n              case 'border2':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sri === r) {\n                    cell.borderAttr.bottom.type = type;\n                  } else if (selectorAttr.rect.eri === r) {\n                    cell.borderAttr.top.type = type;\n                  } else {\n                    cell.borderAttr.bottom.type = type;\n                    cell.borderAttr.top.type = type;\n                  }\n                  if (selectorAttr.rect.sci === c) {\n                    cell.borderAttr.right.type = type;\n                  } else if (selectorAttr.rect.eci === c) {\n                    cell.borderAttr.left.type = type;\n                  } else {\n                    cell.borderAttr.right.type = type;\n                    cell.borderAttr.left.type = type;\n                  }\n                }, true);\n                break;\n              case 'border3':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sri === r) {\n                    cell.borderAttr.bottom.type = type;\n                  } else if (selectorAttr.rect.eri === r) {\n                    cell.borderAttr.top.type = type;\n                  } else {\n                    cell.borderAttr.bottom.type = type;\n                    cell.borderAttr.top.type = type;\n                  }\n                }, true);\n                break;\n              case 'border4':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sci === c) {\n                    cell.borderAttr.right.type = type;\n                  } else if (selectorAttr.rect.eci === c) {\n                    cell.borderAttr.left.type = type;\n                  } else {\n                    cell.borderAttr.right.type = type;\n                    cell.borderAttr.left.type = type;\n                  }\n                }, true);\n                break;\n              case 'border5':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  if (selectorAttr.rect.sci === c) {\n                    cell.borderAttr.left.type = type;\n                  } else if (selectorAttr.rect.eci === c) {\n                    cell.borderAttr.right.type = type;\n                  }\n                  if (selectorAttr.rect.sri === r) {\n                    cell.borderAttr.top.type = type;\n                  } else if (selectorAttr.rect.eri === r) {\n                    cell.borderAttr.bottom.type = type;\n                  }\n                }, true);\n                break;\n              case 'border6':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.left.type = type;\n                }, true);\n                break;\n              case 'border7':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.top.type = type;\n                }, true);\n                break;\n              case 'border8':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.right.type = type;\n                }, true);\n                break;\n              case 'border9':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.bottom.type = type;\n                }, true);\n                break;\n              case 'border10':\n                cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n                  cell.borderAttr.time = now;\n                  cell.borderAttr.left.type = false;\n                  cell.borderAttr.top.type = false;\n                  cell.borderAttr.right.type = false;\n                  cell.borderAttr.bottom.type = false;\n                }, true);\n                break;\n              default: break;\n            }\n            // 快照\n            dataSnapshot.snapshot();\n            // render\n            table.render();\n          }\n        },\n      },\n    });\n    this.fontBold = new FontBold();\n    this.fontItalic = new FontItalic();\n    this.underLine = new UnderLine();\n    this.fontStrike = new FontStrike();\n    this.merge = new Merge();\n    this.horizontalAlign = new HorizontalAlign({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const { screen, cells, dataSnapshot } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          switch (type) {\n            case ALIGN.left:\n              this.horizontalAlign.setIcon(new Icon('align-left'));\n              break;\n            case ALIGN.center:\n              this.horizontalAlign.setIcon(new Icon('align-center'));\n              break;\n            case ALIGN.right:\n              this.horizontalAlign.setIcon(new Icon('align-right'));\n              break;\n            default: break;\n          }\n          if (selectorAttr) {\n            cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n              cell.fontAttr.align = type;\n            }, true);\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.verticalAlign = new VerticalAlign({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const { screen, cells, dataSnapshot } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          switch (type) {\n            case VERTICAL_ALIGN.top:\n              this.verticalAlign.setIcon(new Icon('align-top'));\n              break;\n            case VERTICAL_ALIGN.center:\n              this.verticalAlign.setIcon(new Icon('align-middle'));\n              break;\n            case VERTICAL_ALIGN.bottom:\n              this.verticalAlign.setIcon(new Icon('align-bottom'));\n              break;\n            default: break;\n          }\n          if (selectorAttr) {\n            cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n              cell.fontAttr.verticalAlign = type;\n            }, true);\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.textWrapping = new TextWrapping({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const { screen, cells, dataSnapshot } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          let icon;\n          switch (type) {\n            case TEXT_WRAP.TRUNCATE:\n              icon = new Icon('truncate');\n              break;\n            case TEXT_WRAP.WORD_WRAP:\n              icon = new Icon('text-wrap');\n              break;\n            case TEXT_WRAP.OVER_FLOW:\n            default:\n              icon = new Icon('overflow');\n              break;\n          }\n          this.textWrapping.setIcon(icon);\n          if (selectorAttr) {\n            cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n              cell.fontAttr.textWrap = type;\n            }, true);\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fixed = new Fixed();\n    this.filter = new Filter();\n    this.functions = new Functions();\n    this.children(this.undo);\n    this.children(this.redo);\n    this.children(this.paintFormat);\n    this.children(this.clearFormat);\n    this.children(new Divider());\n    this.children(this.format);\n    this.children(new Divider());\n    this.children(this.font);\n    this.children(this.fontSize);\n    this.children(new Divider());\n    this.children(this.fontBold);\n    this.children(this.fontItalic);\n    this.children(this.underLine);\n    this.children(this.fontStrike);\n    this.children(this.fontColor);\n    this.children(new Divider());\n    this.children(this.fillColor);\n    this.children(this.border);\n    this.children(this.merge);\n    this.children(this.horizontalAlign);\n    this.children(this.verticalAlign);\n    this.children(this.textWrapping);\n    this.children(this.fixed);\n    this.children(this.filter);\n    this.children(this.functions);\n    this.bind();\n  }\n\n  bind() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    EventBind.bind(body, Constant.WORK_BODY_TYPE.CHANGE_ACTIVE, () => {\n      this.setStatus();\n    });\n    EventBind.bind(body, Constant.TABLE_EVENT_TYPE.DATA_CHANGE, () => {\n      this.setStatus();\n    });\n    EventBind.bind(body, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, () => {\n      // console.log('TABLE_EVENT_TYPE.SELECT_DOWN');\n      this.setFormatStatus();\n      this.setFontStatus();\n      this.setFontSizeStatus();\n      this.setFontBoldStatus();\n      this.setFontItalicStatus();\n      this.setUnderLineStatus();\n      this.setFontStrikeStatus();\n      this.setFontColorStatus();\n      this.setFillColorStatus();\n      this.setHorizontalAlignStatus();\n      this.setVerticalAlignStatus();\n      this.setTextWrappingStatus();\n    });\n    EventBind.bind(this.undo, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { dataSnapshot } = table;\n      if (dataSnapshot.undo.length() > 1) dataSnapshot.undo.pop();\n    });\n    EventBind.bind(this.redo, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { dataSnapshot } = table;\n      dataSnapshot.redo.pop();\n    });\n    EventBind.bind(this.paintFormat, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, cells, dataSnapshot } = table;\n      const screenCopyStyle = screen.findByClass(ScreenCopyStyle);\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        screenCopyStyle.setShow(selectorAttr);\n        this.paintFormat.active(true);\n        this.paintFormat.addSheet(sheet);\n        const cb = () => {\n          // 清除复制\n          screenCopyStyle.setHide();\n          this.paintFormat.active(false);\n          this.paintFormat.removeSheet(sheet);\n          screenSelector.removeSelectChangeOverCb(cb);\n          // 复制样式\n          const { selectorAttr: newSelectorAttr } = screenSelector;\n          const src = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n          cells.getCellInRectRange(newSelectorAttr.rect, (r, c, cell) => {\n            const { text } = cell;\n            Utils.mergeDeep(cell, src);\n            cell.text = text;\n          }, true);\n          dataSnapshot.snapshot();\n          table.render();\n        };\n        screenSelector.addSelectChangeOverCb(cb);\n      }\n    });\n    EventBind.bind(this.clearFormat, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, cells } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n          const { text } = cell;\n          Utils.mergeDeep(cell, Cells.getDefaultAttr());\n          cell.text = text;\n        });\n        table.render();\n      }\n    });\n    EventBind.bind(this.format, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { format } = this;\n      const { formatContextMenu } = format;\n      const { elPopUp } = formatContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (formatContextMenu.isOpen()) {\n        formatContextMenu.open();\n      } else {\n        formatContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.font, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { font } = this;\n      const { fontContextMenu } = font;\n      const { elPopUp } = fontContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fontContextMenu.isOpen()) {\n        fontContextMenu.open();\n      } else {\n        fontContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.fontSize, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { fontSize } = this;\n      const { fontSizeContextMenu } = fontSize;\n      const { elPopUp } = fontSizeContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fontSizeContextMenu.isOpen()) {\n        fontSizeContextMenu.open();\n      } else {\n        fontSizeContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.fontBold, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, cells, dataSnapshot } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const bold = !firstCell.fontAttr.bold;\n        cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n          cell.fontAttr.bold = bold;\n        }, true);\n        dataSnapshot.snapshot();\n        table.render();\n      }\n    });\n    EventBind.bind(this.fontItalic, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, cells, dataSnapshot } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const italic = !firstCell.fontAttr.italic;\n        cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n          cell.fontAttr.italic = italic;\n        }, true);\n        dataSnapshot.snapshot();\n        table.render();\n      }\n    });\n    EventBind.bind(this.underLine, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, cells, dataSnapshot } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const underline = !firstCell.fontAttr.underline;\n        cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n          cell.fontAttr.underline = underline;\n        }, true);\n        dataSnapshot.snapshot();\n        table.render();\n      }\n    });\n    EventBind.bind(this.fontStrike, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, cells, dataSnapshot } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const strikethrough = !firstCell.fontAttr.strikethrough;\n        cells.getCellInRectRange(selectorAttr.rect, (r, c, cell) => {\n          cell.fontAttr.strikethrough = strikethrough;\n        }, true);\n        dataSnapshot.snapshot();\n        table.render();\n      }\n    });\n    EventBind.bind(this.fontColor, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { fontColor } = this;\n      const { fontColorContextMenu } = fontColor;\n      const { elPopUp } = fontColorContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fontColorContextMenu.isOpen()) {\n        fontColorContextMenu.open();\n      } else {\n        fontColorContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.fillColor, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { fillColor } = this;\n      const { fillColorContextMenu } = fillColor;\n      const { elPopUp } = fillColorContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fillColorContextMenu.isOpen()) {\n        fillColorContextMenu.open();\n      } else {\n        fillColorContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.border, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { border } = this;\n      const { borderTypeContextMenu } = border;\n      const { elPopUp } = borderTypeContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (borderTypeContextMenu.isOpen()) {\n        borderTypeContextMenu.open();\n      } else {\n        borderTypeContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.merge, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, dataSnapshot, merges } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const merge = selectorAttr.rect.clone();\n        const find = merges.getFirstIncludes(merge.sri, merge.sci);\n        if (find !== null) {\n          merges.deleteIntersects(find);\n        } else if (merge.multiple()) {\n          merges.add(merge);\n        }\n        dataSnapshot.snapshot();\n        table.render();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.horizontalAlign, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { horizontalAlign } = this;\n      const { horizontalContextMenu } = horizontalAlign;\n      const { elPopUp } = horizontalContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (horizontalContextMenu.isOpen()) {\n        horizontalContextMenu.open();\n      } else {\n        horizontalContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.verticalAlign, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { verticalAlign } = this;\n      const { verticalContextMenu } = verticalAlign;\n      const { elPopUp } = verticalContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (verticalContextMenu.isOpen()) {\n        verticalContextMenu.open();\n      } else {\n        verticalContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.textWrapping, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { textWrapping } = this;\n      const { textWrappingContextMenu } = textWrapping;\n      const { elPopUp } = textWrappingContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (textWrappingContextMenu.isOpen()) {\n        textWrappingContextMenu.open();\n      } else {\n        textWrappingContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n\n  setUndoStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { dataSnapshot } = table;\n    this.undo.active(dataSnapshot.undo.length() > 1);\n  }\n\n  setRedoStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { dataSnapshot } = table;\n    this.redo.active(!dataSnapshot.redo.isEmpty());\n  }\n\n  setPaintFormatStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    this.paintFormat.active(this.paintFormat.includeSheet(sheet));\n  }\n\n  setFormatStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let text = '常规';\n    let format = 'default';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      format = firstCell.format;\n      switch (format) {\n        case 'default':\n          text = '常规';\n          break;\n        case 'text':\n          text = '文本';\n          break;\n        case 'number':\n          text = '数字';\n          break;\n        case 'percentage':\n          text = '百分比';\n          break;\n        case 'fraction':\n          text = '分数';\n          break;\n        case 'ENotation':\n          text = '科学计数';\n          break;\n        case 'rmb':\n          text = '人民币';\n          break;\n        case 'hk':\n          text = '港币';\n          break;\n        case 'dollar':\n          text = '美元';\n          break;\n        case 'date1':\n        case 'date2':\n        case 'date3':\n        case 'date4':\n        case 'date5':\n          text = '日期';\n          break;\n        case 'time':\n          text = '时间';\n          break;\n        default: break;\n      }\n    }\n    this.format.setTitle(text);\n    this.format.formatContextMenu.setActiveByType(format);\n  }\n\n  setFontStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let name = 'Arial';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      name = firstCell.fontAttr.name;\n    }\n    this.font.setTitle(name);\n    this.font.fontContextMenu.setActiveByType(name);\n  }\n\n  setFontSizeStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let size = '12';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      size = firstCell.fontAttr.size;\n    }\n    this.fontSize.setTitle(size);\n  }\n\n  setFontBoldStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let bold = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      bold = firstCell.fontAttr.bold;\n    }\n    this.fontBold.active(bold);\n  }\n\n  setFontItalicStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let italic = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      italic = firstCell.fontAttr.italic;\n    }\n    this.fontItalic.active(italic);\n  }\n\n  setUnderLineStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let underline = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      underline = firstCell.fontAttr.underline;\n    }\n    this.underLine.active(underline);\n  }\n\n  setFontStrikeStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let strikethrough = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      strikethrough = firstCell.fontAttr.strikethrough;\n    }\n    this.fontStrike.active(strikethrough);\n  }\n\n  setFontColorStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let color = 'rgb(0, 0, 0)';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      color = firstCell.fontAttr.color;\n    }\n    this.fontColor.setColor(color);\n    this.fontColor.fontColorContextMenu.setActiveByColor(color);\n  }\n\n  setFillColorStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let color = 'rgb(255, 255, 255)';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      if (firstCell.background) {\n        color = firstCell.background;\n      }\n    }\n    this.fillColor.setColor(color);\n    this.fillColor.fillColorContextMenu.setActiveByColor(color);\n  }\n\n  setHorizontalAlignStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let icon = new Icon('align-left');\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      switch (firstCell.fontAttr.align) {\n        case ALIGN.left:\n          icon = new Icon('align-left');\n          break;\n        case ALIGN.center:\n          icon = new Icon('align-center');\n          break;\n        case ALIGN.right:\n          icon = new Icon('align-right');\n          break;\n        default: break;\n      }\n    }\n    this.horizontalAlign.setIcon(icon);\n  }\n\n  setVerticalAlignStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let icon = new Icon('align-middle');\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      switch (firstCell.fontAttr.verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          icon = new Icon('align-top');\n          break;\n        case VERTICAL_ALIGN.center:\n          icon = new Icon('align-middle');\n          break;\n        case VERTICAL_ALIGN.bottom:\n          icon = new Icon('align-bottom');\n          break;\n        default: break;\n      }\n    }\n    this.verticalAlign.setIcon(icon);\n  }\n\n  setTextWrappingStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let icon = new Icon('text-wrap');\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      switch (firstCell.fontAttr.textWrap) {\n        case TEXT_WRAP.TRUNCATE:\n          icon = new Icon('truncate');\n          break;\n        case TEXT_WRAP.WORD_WRAP:\n          icon = new Icon('text-wrap');\n          break;\n        case TEXT_WRAP.OVER_FLOW:\n        default:\n          icon = new Icon('overflow');\n          break;\n      }\n    }\n    this.textWrapping.setIcon(icon);\n  }\n\n  setStatus() {\n    this.setUndoStatus();\n    this.setRedoStatus();\n    this.setPaintFormatStatus();\n    this.setFormatStatus();\n    this.setFontStatus();\n    this.setFontSizeStatus();\n    this.setFontBoldStatus();\n    this.setFontItalicStatus();\n    this.setUnderLineStatus();\n    this.setFontStrikeStatus();\n    this.setFontColorStatus();\n    this.setFillColorStatus();\n    this.setHorizontalAlignStatus();\n    this.setVerticalAlignStatus();\n    this.setTextWrappingStatus();\n  }\n}\n\nexport { TopMenu };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { TopMenu } from './TopMenu';\n\nclass WorkTop extends Widget {\n  constructor(work) {\n    super(`${cssPrefix}-work-top`);\n    this.work = work;\n    this.toolsMenu = new TopMenu(this);\n    this.children(this.toolsMenu);\n  }\n}\n\nexport { WorkTop };\n","import { Element } from '../../Element';\nimport { cssPrefix } from '../../../config';\nimport { Utils } from '../../../utils/Utils';\n\nclass VerticalCenterElement extends Element {\n  constructor(element, options) {\n    super('div', `${cssPrefix}-vertical-center-element`);\n    this.options = Utils.mergeDeep({\n      style: {},\n    }, options);\n    this.element = element;\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    this.children(this.element);\n  }\n}\n\nexport { VerticalCenterElement };\n","import { Element } from '../../Element';\nimport { cssPrefix } from '../../../config';\nimport { Utils } from '../../../utils/Utils';\n\nclass VerticalCenter extends Element {\n  constructor(options) {\n    super('div', `${cssPrefix}-vertical-center`);\n    this.options = Utils.mergeDeep({\n      centerElements: [],\n      style: {},\n    }, options);\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    // eslint-disable-next-line no-restricted-syntax\n    for (const centerElement of this.options.centerElements) this.children(centerElement);\n  }\n}\n\nexport { VerticalCenter };\n","import { Utils } from '../../utils/Utils';\n\nclass Rows {\n\n  constructor({ data = [], len = 10, height }) {\n    this._ = [];\n    this.minHeight = 5;\n    this.height = Utils.minIf(height, this.minHeight);\n    this.len = len;\n    this.cacheTotalHeight = -1;\n    this.setData(data);\n  }\n\n  get(ri) {\n    return this._[ri];\n  }\n\n  getOrNew(ri) {\n    this._[ri] = this._[ri] || {};\n    return this._[ri];\n  }\n\n  getHeight(ri) {\n    const row = this.get(ri);\n    if (row && row.height) {\n      return row.height;\n    }\n    return this.height;\n  }\n\n  setHeight(ri, height) {\n    const row = this.getOrNew(ri);\n    row.height = Utils.minIf(height, this.minHeight);\n    this.cacheTotalHeight = -1;\n  }\n\n  eachHeight(ri, ei, cb, sy = 0) {\n    let y = sy;\n    for (let i = ri; i <= ei; i += 1) {\n      const rowHeight = this.getHeight(i);\n      cb(i, rowHeight, y);\n      y += rowHeight;\n    }\n  }\n\n  sectionSumHeight(sri, eri) {\n    return Utils.rangeSum(sri, eri + 1, i => this.getHeight(i));\n  }\n\n  rectRangeSumHeight(rectRange) {\n    return this.sectionSumHeight(rectRange.sri, rectRange.eri);\n  }\n\n  totalHeight() {\n    if (this.cacheTotalHeight === -1) {\n      this.cacheTotalHeight = Utils.rangeSum(0, this.len, i => this.getHeight(i));\n    }\n    return this.cacheTotalHeight;\n  }\n\n  getData() {\n    return this._;\n  }\n\n  setData(data) {\n    this._ = data;\n  }\n}\n\nexport { Rows };\n","import { Utils } from '../../utils/Utils';\n\nclass Cols {\n\n  constructor({ data = [], len = 10, width }) {\n    this._ = [];\n    this.minWidth = 5;\n    this.width = Utils.minIf(width, this.minWidth);\n    this.len = len;\n    this.cacheTotalWidth = -1;\n    this.setData(data);\n  }\n\n  get(ci) {\n    return this._[ci];\n  }\n\n  getOrNew(ci) {\n    this._[ci] = this._[ci] || {};\n    return this._[ci];\n  }\n\n  getWidth(i) {\n    const col = this._[i];\n    if (col && col.width) {\n      return col.width;\n    }\n    return this.width;\n  }\n\n  setWidth(i, width) {\n    const col = this.getOrNew(i);\n    col.width = Utils.minIf(width, this.minWidth);\n    this.cacheTotalWidth = -1;\n  }\n\n  eachWidth(ci, ei, cb, sx = 0) {\n    let x = sx;\n    for (let i = ci; i <= ei; i += 1) {\n      const colWidth = this.getWidth(i);\n      cb(i, colWidth, x);\n      x += colWidth;\n    }\n  }\n\n  sectionSumWidth(sci, eci) {\n    return Utils.rangeSum(sci, eci + 1, i => this.getWidth(i));\n  }\n\n  rectRangeSumWidth(rectRange) {\n    return this.sectionSumWidth(rectRange.sci, rectRange.eci);\n  }\n\n  totalWidth() {\n    if (this.cacheTotalWidth === -1) {\n      this.cacheTotalWidth = Utils.rangeSum(0, this.len, i => this.getWidth(i));\n    }\n    return this.cacheTotalWidth;\n  }\n\n  getData() {\n    return this._;\n  }\n\n  setData(data) {\n    this._ = data;\n  }\n}\n\nexport { Cols };\n","class Scroll {\n\n  constructor(table) {\n    this.table = table;\n    this.x = 0; // left\n    this.y = 0; // top\n    this.ri = table.fixed.fxTop + 1; // cell row-index\n    this.ci = table.fixed.fxLeft + 1; // cell col-index\n  }\n}\n\nexport { Scroll };\n","class Fixed {\n\n  constructor(fixed = { fxTop: -1, fxLeft: -1, fxRight: -1 }) {\n    this.fxTop = fixed.fxTop;\n    this.fxLeft = fixed.fxLeft;\n    this.fxRight = fixed.fxRight;\n  }\n}\n\nexport { Fixed };\n","import { RectRange } from './RectRange';\n\nclass Merges {\n\n  /**\n   *  Merges\n   * @param {RectRange[]} data 区域数组\n   */\n  constructor({ data = [] }) {\n    this._ = [];\n    this.setData(data);\n  }\n\n  /**\n   * 遍历所有区域\n   * @param {Function} cb 回调函数\n   */\n  forEach(cb) {\n    this._.forEach(cb);\n  }\n\n  /**\n   * 删除区域数组中被指定区域包含的区域\n   * @param {RectRange} cr 区域\n   */\n  deleteWithin(cr) {\n    this._ = this._.filter(it => !it.within(cr));\n  }\n\n  /**\n   * 返回区域数组中第一个包含指定行和列的区域\n   * @param {int} ri 行索引\n   * @param {int} ci  列索引\n   * @returns {*}\n   */\n  getFirstIncludes(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.includes(ri, ci)) {\n        return it;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * 返回新的合并实例,同时剔除原来的合并实例区域数组中不和指定区域发生重合的区域\n   * @param {RectRange} cellRange 区域\n   * @returns {Merges}\n   */\n  filterIntersects(cellRange) {\n    return new Merges(this._.filter(it => it.intersects(cellRange)));\n  }\n\n  /**\n   * 判断区域数组中是否存在和指定区域发生重合的区域\n   * @param {RectRange} cellRange 区域\n   * @returns {boolean}\n   */\n  intersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        // console.log('intersects');\n        return true;\n      }\n    }\n    return false;\n  }\n\n  deleteIntersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        this._.splice(i, 1);\n      }\n    }\n  }\n\n  /**\n   * 返回区域数组中和指定区域发生重合的新区域\n   * @param {RectRange} cellRange 区域\n   * @returns {*}\n   */\n  union(cellRange) {\n    let cr = cellRange;\n    const filter = [];\n    for (let i = 0; i < this._.length; i += 1) {\n      const item = this._[i];\n      if (filter.find(e => e === item)) {\n        continue;\n      }\n      if (item.intersects(cr)) {\n        filter.push(item);\n        cr = item.union(cr);\n        i = -1;\n      }\n    }\n    return cr;\n  }\n\n  /**\n   * 添加一个新的区域, 并且删除区域数组中被新区域包含的区域\n   * @param {RectRange} cr 区域\n   */\n  add(cr) {\n    this.deleteWithin(cr);\n    this._.push(cr);\n  }\n\n  /**\n   * 区域数组中和指定区域发生重合的区域移动指定的行和列\n   * @param {RectRange} cellRange 区域\n   * @param {int} rn 增加的行索引\n   * @param {int} cn 增加的列索引\n   */\n  move(cellRange, rn, cn) {\n    this._.forEach((it1) => {\n      const it = it1;\n      if (it.within(cellRange)) {\n        it.eri += rn;\n        it.sri += rn;\n        it.sci += cn;\n        it.eci += cn;\n      }\n    });\n  }\n\n  // type: row | column\n  shift(type, index, n, cbWithin) {\n    this._.forEach((cellRange) => {\n      const {\n        sri, sci, eri, eci,\n      } = cellRange;\n      const range = cellRange;\n      if (type === 'row') {\n        if (sri >= index) {\n          range.sri += n;\n          range.eri += n;\n        } else if (sri < index && index <= eri) {\n          range.eri += n;\n          cbWithin(sri, sci, n, 0);\n        }\n      } else if (type === 'column') {\n        if (sci >= index) {\n          range.sci += n;\n          range.eci += n;\n        } else if (sci < index && index <= eci) {\n          range.eci += n;\n          cbWithin(sri, sci, 0, n);\n        }\n      }\n    });\n  }\n\n  setData(merges = []) {\n    this._ = merges.map(merge => RectRange.valueOf(merge));\n    return this;\n  }\n\n  getData() {\n    return this._.map(merge => merge.toString());\n  }\n}\n\nexport { Merges };\n\nexport default Merges;\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\n\nclass ScreenElement extends Widget {\n  constructor(className) {\n    super(`${cssPrefix}-screen-element ${className}`);\n    this.widgets = [];\n  }\n\n  addWidget(widget) {\n    this.widgets.push(widget);\n    this.children(widget);\n  }\n}\n\nexport { ScreenElement };\n","/* global window */\n\nimport { ScreenElement } from './ScreenElement';\nimport { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { Constant } from '../../../utils/Constant';\nimport { EventBind } from '../../../utils/EventBind';\n\nclass Screen extends Widget {\n  constructor(table) {\n    super(`${cssPrefix}-screen`);\n    this.table = table;\n    this.lt = new ScreenElement(`${cssPrefix}-screen-element-lt`);\n    this.t = new ScreenElement(`${cssPrefix}-screen-element-t`);\n    this.l = new ScreenElement(`${cssPrefix}-screen-element-l`);\n    this.br = new ScreenElement(`${cssPrefix}-screen-element-br`);\n    this.focusWidget = null;\n    this.children(this.lt, this.t, this.l, this.br);\n    this.widgets = [];\n  }\n\n  init() {\n    this.setDivideLayer();\n    this.bind();\n  }\n\n  bind() {\n    const { table } = this;\n    EventBind.bind(window, Constant.SYSTEM_EVENT_TYPE.RESIZE, () => {\n      this.setDivideLayer();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      this.setDivideLayer();\n      e.stopPropagation();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      this.setDivideLayer();\n      e.stopPropagation();\n    });\n  }\n\n  addWidget(widget) {\n    this.widgets.push(widget);\n    this.lt.addWidget(widget.getLT(this));\n    this.t.addWidget(widget.getT(this));\n    this.l.addWidget(widget.getL(this));\n    this.br.addWidget(widget.getBR(this));\n  }\n\n  setDivideLayer() {\n    const { table } = this;\n    const { settings, grid } = table;\n    const { index } = settings;\n    const fixedWidth = table.getFixedWidth();\n    const fixedHeight = table.getFixedHeight();\n    const brLeft = index.width + fixedWidth;\n    const brTop = index.height + fixedHeight;\n    this.br.offset({ left: brLeft, top: brTop });\n    if (fixedWidth > 0 && fixedHeight > 0) {\n      this.lt.offset({\n        left: index.width, top: index.height, width: fixedWidth, height: fixedHeight,\n      }).show();\n      this.lt.css('border-width', `${grid.lineWidth()}px`);\n    } else {\n      this.lt.hide();\n    }\n    if (fixedWidth > 0) {\n      this.l.offset({ left: index.width, top: brTop, width: fixedWidth }).show();\n      this.l.css('border-width', `${grid.lineWidth()}px`);\n    } else {\n      this.l.hide();\n    }\n    if (fixedHeight > 0) {\n      this.t.offset({ left: brLeft, top: index.height, height: fixedHeight }).show();\n      this.t.css('border-width', `${grid.lineWidth()}px`);\n    } else {\n      this.t.hide();\n    }\n  }\n\n  findByClass(clazz) {\n    let find = null;\n    this.widgets.forEach((item) => {\n      if (item instanceof clazz) {\n        find = item;\n        return false;\n      }\n      return true;\n    });\n    return find;\n  }\n}\n\nexport { Screen };\n","/* global document */\n\nimport { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { Utils } from '../../../utils/Utils';\nimport { floor } from '../../../canvas/Draw';\n\nclass XReSizer extends Widget {\n  constructor(table, options = { width: 5 }) {\n    super(`${cssPrefix}-re-sizer-horizontal`);\n    this.table = table;\n    this.options = options;\n    this.width = options.width;\n    this.hoverEl = h('div', `${cssPrefix}-re-sizer-hover`);\n    this.lineEl = h('div', `${cssPrefix}-re-sizer-line`);\n    this.children(...[\n      this.hoverEl,\n      this.lineEl,\n    ]);\n    this.bind();\n  }\n\n  getEventLeft(event) {\n    const { table } = this;\n    const {\n      settings, cols, fixed, scroll,\n    } = table;\n    const { index } = settings;\n    const { x, y } = table.computeEventXy(event);\n    const { ri, ci } = table.getRiCiByXy(x, y);\n    if (ri !== -1) {\n      return {\n        left: -1,\n        x,\n        y,\n        ri,\n        ci,\n      };\n    }\n    let left = index.width + cols.sectionSumWidth(0, ci);\n    if (ci > fixed.fxLeft) {\n      left -= scroll.x;\n    }\n    return {\n      left,\n      x,\n      y,\n      ri,\n      ci,\n    };\n  }\n\n  bind() {\n    const { table } = this;\n    const { settings, cols, mousePointType } = table;\n    const { index } = settings;\n    let moveOff = false;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      mousePointType.set('col-resize', 'XReSizer');\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      moveOff = true;\n      mousePointType.on(['XReSizer']);\n      mousePointType.set('col-resize', 'XReSizer');\n      const { left, ci } = this.getEventLeft(e);\n      const min = left - cols.getWidth(ci) + cols.minWidth;\n      let { x: mx } = table.computeEventXy(e);\n      // console.log('left >>>', left + index.width);\n      // console.log('min >>>', min);\n      EventBind.mouseMoveUp(document, (e) => {\n        ({ x: mx } = table.computeEventXy(e));\n        // console.log('mx >>>', mx);\n        mx -= this.width / 2;\n        mx = floor(Utils.minIf(mx, min));\n        this.css('left', `${mx}px`);\n        this.lineEl.css('height', `${table.visualHeight()}px`);\n        this.lineEl.show();\n        e.stopPropagation();\n        e.preventDefault();\n      }, (e) => {\n        moveOff = false;\n        mousePointType.off();\n        this.lineEl.hide();\n        this.css('left', `${mx}px`);\n        const { y } = table.computeEventXy(e);\n        if (y <= 0) {\n          this.hide();\n        }\n        const newLeft = mx - (left - cols.getWidth(ci)) + this.width;\n        table.setWidth(ci, newLeft);\n      });\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      if (moveOff) return;\n      // eslint-disable-next-line prefer-const\n      let { left, ci } = this.getEventLeft(e);\n      const min = left - cols.getWidth(ci) + cols.minWidth;\n      const visualWidth = table.visualWidth();\n      // console.log('left >>>', left);\n      // console.log('visualWidth', visualWidth);\n      if (left > visualWidth) {\n        left = visualWidth;\n      }\n      if (left === -1 || min > visualWidth || ci === -1) {\n        this.hide();\n      } else {\n        this.show();\n        this.css('left', `${left - this.width}px`);\n        this.hoverEl.css('width', `${this.width}px`);\n        this.hoverEl.css('height', `${index.height}px`);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_LEAVE, () => {\n      if (moveOff) return;\n      this.hide();\n    });\n  }\n}\n\nexport { XReSizer };\n","/* global document */\n\nimport { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { Utils } from '../../../utils/Utils';\nimport { floor } from '../../../canvas/Draw';\n\nclass YReSizer extends Widget {\n  constructor(table, options = { height: 5 }) {\n    super(`${cssPrefix}-re-sizer-vertical`);\n    this.table = table;\n    this.options = options;\n    this.height = options.height;\n    this.hoverEl = h('div', `${cssPrefix}-re-sizer-hover`);\n    this.lineEl = h('div', `${cssPrefix}-re-sizer-line`);\n    this.children(...[\n      this.hoverEl,\n      this.lineEl,\n    ]);\n    this.bind();\n  }\n\n  getEventTop(event) {\n    const { table } = this;\n    const {\n      settings, rows, fixed, scroll,\n    } = table;\n    const { index } = settings;\n    const { x, y } = table.computeEventXy(event);\n    const { ri, ci } = table.getRiCiByXy(x, y);\n    if (ci !== -1) {\n      return {\n        top: -1,\n        x,\n        y,\n        ri,\n        ci,\n      };\n    }\n    let top = index.height + rows.sectionSumHeight(0, ri);\n    if (ri > fixed.fxTop) {\n      top -= scroll.y;\n    }\n    return {\n      top,\n      x,\n      y,\n      ri,\n      ci,\n    };\n  }\n\n  bind() {\n    const { table } = this;\n    const { settings, rows, mousePointType } = table;\n    const { index } = settings;\n    let moveOff = false;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      mousePointType.set('row-resize', 'YReSizer');\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      moveOff = true;\n      mousePointType.on(['YReSizer']);\n      mousePointType.set('row-resize', 'YReSizer');\n      const { top, ri } = this.getEventTop(e);\n      const min = top - rows.getHeight(ri) + rows.minHeight;\n      let { y: my } = table.computeEventXy(e);\n      EventBind.mouseMoveUp(document, (e) => {\n        ({ y: my } = table.computeEventXy(e));\n        // console.log('my >>>', my);\n        my -= this.height / 2;\n        my = floor(Utils.minIf(my, min));\n        this.css('top', `${my}px`);\n        this.lineEl.css('width', `${table.visualWidth()}px`);\n        this.lineEl.show();\n        e.stopPropagation();\n        e.preventDefault();\n      }, (e) => {\n        moveOff = false;\n        mousePointType.off();\n        this.lineEl.hide();\n        this.css('top', `${my}px`);\n        const { x } = table.computeEventXy(e);\n        if (x <= 0) {\n          this.hide();\n        }\n        const newTop = my - (top - rows.getHeight(ri)) + this.height;\n        table.setHeight(ri, newTop);\n      });\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      if (moveOff) return;\n      // eslint-disable-next-line prefer-const\n      let { top, ri } = this.getEventTop(e);\n      const min = top - rows.getHeight(ri) + rows.minHeight;\n      const visualHeight = table.visualHeight();\n      // console.log('top >>>', top);\n      // console.log('visualHeight >>>', visualHeight);\n      // console.log('min >>>', min);\n      if (top > visualHeight) {\n        top = visualHeight;\n      }\n      if (top === -1 || min > visualHeight || ri === -1) {\n        this.hide();\n      } else {\n        this.show();\n        this.css('top', `${top - this.height}px`);\n        this.hoverEl.css('width', `${index.width}px`);\n        this.hoverEl.css('height', `${this.height}px`);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_LEAVE, () => {\n      if (moveOff) return;\n      this.hide();\n    });\n  }\n}\n\nexport { YReSizer };\n","import cell from '../../../assets/svg/cell.png';\nimport sResize from '../../../assets/svg/s-resize.png';\nimport eResize from '../../../assets/svg/e-resize.png';\n\nclass MousePointType {\n\n  constructor(table) {\n    this.table = table;\n    this.switch = false;\n    this.ignoreNames = [];\n  }\n\n  on(ignoredNames) {\n    this.switch = true;\n    this.ignoreNames = this.ignoreNames.concat(ignoredNames);\n  }\n\n  set(type, name) {\n    if (this.switch && this.ignoreNames.indexOf(name) === -1) return;\n    const { table } = this;\n    switch (type) {\n      case 'cell':\n        table.css('cursor', `url(${cell}) 7.5 7.5,auto`);\n        break;\n      case 's-resize':\n        table.css('cursor', `url(${sResize}) 2.5 7.5,auto`);\n        break;\n      case 'e-resize':\n        table.css('cursor', `url(${eResize}) 7.5 2.5,auto`);\n        break;\n      default:\n        table.css('cursor', type);\n        break;\n    }\n  }\n\n  off() {\n    this.switch = false;\n    this.ignoreNames = [];\n  }\n}\n\nexport { MousePointType };\n","import { cssPrefix } from '../../../config';\nimport { Widget } from '../../../lib/Widget';\nimport { h } from '../../../lib/Element';\n\nclass AutoFill extends Widget {\n  constructor() {\n    super(`${cssPrefix}-autofill`);\n    this.areaEl = h('div', `${cssPrefix}-autofill-area`);\n    this.children(this.areaEl);\n    this.hide();\n  }\n}\n\nexport { AutoFill };\n","/* global document */\n\nimport { ScreenWidget } from '../screen/ScreenWidget';\nimport { AutoFill } from './AutoFill';\nimport { ScreenSelector } from '../selector/ScreenSelector';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { RectRange } from '../RectRange';\nimport { Utils } from '../../../utils/Utils';\n\nclass ScreenAutoFill extends ScreenWidget {\n  constructor(screen, options = {}) {\n    super(screen);\n    this.options = Utils.mergeDeep({\n      mergeForceSplit: false,\n      onBeforeAutoFill: () => {},\n      onAfterAutoFill: () => {},\n    }, options);\n    this.lt = new AutoFill();\n    this.t = new AutoFill();\n    this.l = new AutoFill();\n    this.br = new AutoFill();\n    this.autoFillAttr = null;\n    this.screenSelector = screen.findByClass(ScreenSelector);\n    this.bind();\n  }\n\n  bind() {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { mousePointType } = table;\n    EventBind.bind([\n      screenSelector.lt.cornerEl,\n      screenSelector.t.cornerEl,\n      screenSelector.l.cornerEl,\n      screenSelector.br.cornerEl,\n    ], Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      mousePointType.on(['autoFill']);\n      mousePointType.set('crosshair', 'autoFill');\n      EventBind.mouseMoveUp(document, (e2) => {\n        const { x, y } = table.computeEventXy(e2);\n        const moveAutoFill = this.getMoveAutoFillAttr(x, y);\n        if (moveAutoFill) {\n          // console.log('moveAutoFill>>>', moveAutoFill);\n          this.setOffset(moveAutoFill);\n        } else {\n          this.lt.hide();\n          this.t.hide();\n          this.l.hide();\n          this.br.hide();\n        }\n        this.autoFillAttr = moveAutoFill;\n        e2.stopPropagation();\n        e2.preventDefault();\n      }, () => {\n        mousePointType.off();\n        this.lt.hide();\n        this.t.hide();\n        this.l.hide();\n        this.br.hide();\n        if (this.autoFillAttr) {\n          this.autoFillTo();\n          table.render();\n        }\n      });\n      e1.stopPropagation();\n      e1.preventDefault();\n    });\n    EventBind.bind([\n      screenSelector.lt.cornerEl,\n      screenSelector.t.cornerEl,\n      screenSelector.l.cornerEl,\n      screenSelector.br.cornerEl,\n    ], Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      mousePointType.set('crosshair', 'autoFill');\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n\n  setLTOffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { frozenLeftTop, cols, rows } = table;\n    const viewRange = frozenLeftTop.getViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.lt.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.eci > viewRange.eci) {\n      this.lt.areaEl.css('border-right', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.lt.areaEl.css('border-bottom', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-bottom');\n    }\n    this.lt.offset({\n      width,\n      height,\n      left,\n      top,\n    }).show();\n  }\n\n  setTOffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedTop, cols, rows } = table;\n    const viewRange = fixedTop.getViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.t.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.sci < viewRange.sci) {\n      this.t.areaEl.css('border-left', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.t.areaEl.css('border-bottom', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.t.areaEl.css('border-right', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-right');\n    }\n    this.t.offset({\n      width,\n      height,\n      left,\n      top,\n    }).show();\n  }\n\n  setLOffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedLeft, cols, rows } = table;\n    const viewRange = fixedLeft.getViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.l.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.sri < viewRange.sri) {\n      this.l.areaEl.css('border-top', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.l.areaEl.css('border-right', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.l.areaEl.css('border-bottom', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-bottom');\n    }\n    this.l.offset({\n      width,\n      height,\n      left,\n      top,\n    }).show();\n  }\n\n  setBROffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      cols, rows,\n    } = table;\n    const viewRange = table.getViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.br.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.sci < viewRange.sci) {\n      this.br.areaEl.css('border-left', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.sri < viewRange.sri) {\n      this.br.areaEl.css('border-top', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.br.areaEl.css('border-bottom', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.br.areaEl.css('border-right', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-right');\n    }\n    this.br.offset({\n      width,\n      height,\n      left,\n      top,\n    }).show();\n  }\n\n  setOffset(autoFillAttr) {\n    this.setLTOffset(autoFillAttr);\n    this.setTOffset(autoFillAttr);\n    this.setLOffset(autoFillAttr);\n    this.setBROffset(autoFillAttr);\n  }\n\n  getMoveAutoFillAttr(x, y) {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { selectorAttr } = screenSelector;\n    const { cols, rows, merges } = table;\n    const { rect: selectorRect, edge, edgeType } = selectorAttr;\n    const autoFillSelectorRect = edge || merges.intersects(selectorRect);\n    const [rSize, cSize] = selectorRect.size();\n    let { ri, ci } = table.getRiCiByXy(x, y);\n    // console.log('autoFillSelectorRect >>>', autoFillSelectorRect);\n    if (ri < 0) ri = 0; else if (ri > rows.len) ri = rows.len - 1;\n    if (ci < 0) ci = 0; else if (ci > cols.len) ci = cols.len - 1;\n    const { sri: selectorSri, sci: selectorSci } = selectorRect;\n    let { eri: selectorEri, eci: selectorEci } = selectorRect;\n    if (edgeType === 'left') selectorEci = cols.len - 1;\n    if (edgeType === 'top') selectorEri = rows.len - 1;\n    let rect = null;\n    let direction = 'un';\n    if (ri < selectorSri || ri > selectorEri) {\n      if (ri < selectorSri) {\n        direction = 'top';\n        if (autoFillSelectorRect) {\n          let minRi = selectorSri - rSize;\n          if (minRi >= 0) {\n            const diff = (selectorSri - 1) - ri;\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % rSize === 0 && minRi - rSize >= 0) minRi -= rSize;\n            }\n            rect = new RectRange(minRi, selectorSci, selectorSri - 1, selectorEci);\n          }\n        } else {\n          rect = new RectRange(ri, selectorSci, selectorSri - 1, selectorEci);\n        }\n      }\n      if (ri > selectorEri) {\n        direction = 'bottom';\n        if (autoFillSelectorRect) {\n          let maxRi = selectorEri + rSize;\n          if (maxRi <= rows.len - 1) {\n            const diff = ri - (selectorEri + 1);\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % rSize === 0 && maxRi + rSize <= rows.len - 1) maxRi += rSize;\n            }\n            rect = new RectRange(selectorEri + 1, selectorSci, maxRi, selectorEci);\n          }\n        } else {\n          rect = new RectRange(selectorEri + 1, selectorSci, ri, selectorEci);\n        }\n      }\n    } else if (ci < selectorSci || ci > selectorEci) {\n      if (ci < selectorSci) {\n        direction = 'left';\n        if (autoFillSelectorRect) {\n          let minCi = selectorSci - cSize;\n          if (minCi >= 0) {\n            const diff = (selectorSci - 1) - ci;\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % cSize === 0 && minCi - cSize >= 0) minCi -= cSize;\n            }\n            rect = new RectRange(selectorSri, minCi, selectorEri, selectorSci - 1);\n          }\n        } else {\n          rect = new RectRange(selectorSri, ci, selectorEri, selectorSci - 1);\n        }\n      }\n      if (ci > selectorEci) {\n        direction = 'right';\n        if (autoFillSelectorRect) {\n          let maxCi = selectorEci + cSize;\n          if (maxCi <= cols.len - 1) {\n            const diff = ci - (selectorEci + 1);\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % cSize === 0 && maxCi + cSize <= cols.len - 1) maxCi += cSize;\n            }\n            rect = new RectRange(selectorSri, selectorEci + 1, selectorEri, maxCi);\n          }\n        } else {\n          rect = new RectRange(selectorSri, selectorEci + 1, selectorEri, ci);\n        }\n      }\n    }\n    if (rect !== null) {\n      const width = cols.sectionSumWidth(rect.sci, rect.eci);\n      const height = rows.sectionSumHeight(rect.sri, rect.eri);\n      rect.w = width;\n      rect.h = height;\n      return {\n        rect, direction,\n      };\n    }\n    return null;\n  }\n\n  mergeCellForceSplit() {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { merges } = table;\n    const { autoFillAttr } = this;\n    const { selectorAttr } = screenSelector;\n    const { rect: autoFillRect } = autoFillAttr;\n    const { rect: selectorRect } = selectorAttr;\n    let sIndexRi = selectorRect.sri;\n    let tIndexRi = autoFillRect.sri;\n    while (tIndexRi <= autoFillRect.eri) {\n      let sIndexCi = selectorRect.sci;\n      let tIndexCi = autoFillRect.sci;\n      while (tIndexCi <= autoFillRect.eci) {\n        const rect = new RectRange(tIndexRi, tIndexCi, tIndexRi, tIndexCi);\n        const mergeRect = merges.getFirstIncludes(tIndexRi, tIndexCi);\n        if (!mergeRect || !selectorRect.intersects(mergeRect)) {\n          merges.deleteIntersects(rect);\n        }\n        sIndexCi += 1;\n        tIndexCi += 1;\n        if (sIndexCi > selectorRect.eci) sIndexCi = selectorRect.sci;\n      }\n      sIndexRi += 1;\n      tIndexRi += 1;\n      if (sIndexRi > selectorRect.eri) sIndexRi = selectorRect.sri;\n    }\n  }\n\n  copyContent() {\n    let count = 0;\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { cells } = table;\n    const { autoFillAttr } = this;\n    const { selectorAttr } = screenSelector;\n    const { rect: autoFillRect } = autoFillAttr;\n    const { rect: selectorRect } = selectorAttr;\n    let sIndexRi = selectorRect.sri;\n    let tIndexRi = autoFillRect.sri;\n    while (tIndexRi <= autoFillRect.eri) {\n      let sIndexCi = selectorRect.sci;\n      let tIndexCi = autoFillRect.sci;\n      while (tIndexCi <= autoFillRect.eci) {\n        const src = cells.getCell(sIndexRi, sIndexCi);\n        const target = cells.getCellOrNew(tIndexRi, tIndexCi);\n        if (src) {\n          Utils.mergeDeep(target, src);\n          if (!Utils.isBlank(src.text)) {\n            count += 1;\n          }\n        }\n        sIndexCi += 1;\n        tIndexCi += 1;\n        if (sIndexCi > selectorRect.eci) sIndexCi = selectorRect.sci;\n      }\n      sIndexRi += 1;\n      tIndexRi += 1;\n      if (sIndexRi > selectorRect.eri) sIndexRi = selectorRect.sri;\n    }\n    return count;\n  }\n\n  copyMerge() {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { merges } = table;\n    const { autoFillAttr } = this;\n    const { selectorAttr } = screenSelector;\n    const { rect: autoFillRect, direction } = autoFillAttr;\n    const { rect: selectorRect, edge } = selectorAttr;\n    let sIndexRi = selectorRect.sri;\n    let tIndexRi = autoFillRect.sri;\n    if (edge && (direction === 'top' || direction === 'left')) return;\n    while (tIndexRi <= autoFillRect.eri) {\n      let sIndexCi = selectorRect.sci;\n      let tIndexCi = autoFillRect.sci;\n      while (tIndexCi <= autoFillRect.eci) {\n        const mergeRect = merges.getFirstIncludes(sIndexRi, sIndexCi);\n        if (mergeRect) {\n          const isOrigin = mergeRect.sri === sIndexRi && mergeRect.sci === sIndexCi;\n          if (isOrigin) {\n            let [rSize, cSize] = mergeRect.size();\n            rSize -= 1;\n            cSize -= 1;\n            const newMerge = new RectRange(tIndexRi, tIndexCi, tIndexRi + rSize, tIndexCi + cSize);\n            if (!merges.intersects(newMerge)) {\n              merges.add(newMerge);\n            }\n          }\n        }\n        sIndexCi += 1;\n        tIndexCi += 1;\n        if (sIndexCi > selectorRect.eci) sIndexCi = selectorRect.sci;\n      }\n      sIndexRi += 1;\n      tIndexRi += 1;\n      if (sIndexRi > selectorRect.eri) sIndexRi = selectorRect.sri;\n    }\n  }\n\n  autoFillTo() {\n    const { screen, options } = this;\n    const { mergeForceSplit } = options;\n    const { table } = screen;\n    const { merges } = table;\n    const { autoFillAttr } = this;\n    const { rect: autoFillRect } = autoFillAttr;\n    const mergeRect = merges.getFirstIncludes(autoFillRect.sri, autoFillRect.sci);\n    if (mergeRect && mergeRect.equals(autoFillRect)) {\n      this.options.onBeforeAutoFill();\n      this.mergeCellForceSplit();\n      const count = this.copyContent();\n      this.copyMerge();\n      this.options.onAfterAutoFill(count);\n    } else {\n      if (merges.intersects(autoFillRect) && mergeForceSplit === false) {\n        // eslint-disable-next-line no-undef,no-alert\n        alert('此操作要求合并单元格都具有相同大小');\n        return;\n      }\n      this.options.onBeforeAutoFill();\n      this.mergeCellForceSplit();\n      const count = this.copyContent();\n      this.copyMerge();\n      this.options.onAfterAutoFill(count);\n    }\n  }\n}\n\nexport { ScreenAutoFill };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { ScreenSelector } from '../selector/ScreenSelector';\nimport { Utils } from '../../../utils/Utils';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { RectRange } from '../RectRange';\n\nclass XHeightLight extends Widget {\n  constructor(table) {\n    super(`${cssPrefix}-table-x-height-light`);\n    this.table = table;\n    this.hide();\n  }\n\n  init() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    this.css('height', `${index.height}px`);\n    this.bind();\n  }\n\n  disjoint(sRect, tRect) {\n    return sRect.sci > tRect.eci || tRect.sci > sRect.eci;\n  }\n\n  coincide(sRect, tRect) {\n    if (this.disjoint(sRect, tRect)) {\n      return new RectRange(0, -1, 0, -1);\n    }\n    return new RectRange(\n      0,\n      tRect.sci > sRect.sci ? tRect.sci : sRect.sci,\n      0,\n      tRect.eci < sRect.eci ? tRect.eci : sRect.eci,\n    );\n  }\n\n  offsetHeightLight(selectorAttr, intersectsArea) {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const empty = new RectRange(0, -1, 0, -1);\n    this.hide();\n    if (Utils.arrayIncludeArray(intersectsArea, ['lt'])) {\n      const { rect } = selectorAttr;\n      const { frozenLeftTop, cols } = table;\n      const ltViewRange = frozenLeftTop.getViewRange();\n      const ltCoincideRange = this.coincide(rect, ltViewRange);\n      if (!empty.equals(ltCoincideRange)) {\n        const width = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n      }\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['t'])) {\n      const { rect } = selectorAttr;\n      const { fixedTop, cols } = table;\n      const tViewRange = fixedTop.getViewRange();\n      const tCoincideRange = this.coincide(rect, tViewRange);\n      if (!empty.equals(tCoincideRange)) {\n        const width = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        const left = cols.sectionSumWidth(tViewRange.sci, tCoincideRange.sci - 1)\n          + table.getFixedWidth() + index.width;\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n      }\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['l'])) {\n      const { rect } = selectorAttr;\n      const { fixedLeft, cols } = table;\n      const lViewRange = fixedLeft.getViewRange();\n      const lCoincideRange = this.coincide(rect, lViewRange);\n      if (!empty.equals(lCoincideRange)) {\n        const width = cols.sectionSumWidth(lCoincideRange.sci, lCoincideRange.eci);\n        const left = cols.sectionSumWidth(lViewRange.sci, lCoincideRange.sci - 1) + index.width;\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n      }\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['br'])) {\n      const { rect } = selectorAttr;\n      const { cols } = table;\n      const cViewRange = table.getViewRange();\n      const cCoincideRange = this.coincide(rect, cViewRange);\n      if (!empty.equals(cCoincideRange)) {\n        const width = cols.sectionSumWidth(cCoincideRange.sci, cCoincideRange.eci);\n        const left = cols.sectionSumWidth(cViewRange.sci, cCoincideRange.sci - 1)\n          + table.getFixedWidth() + index.width;\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n      }\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['lt', 't'])) {\n      const { rect } = selectorAttr;\n      const { frozenLeftTop, fixedTop, cols } = table;\n      const ltViewRange = frozenLeftTop.getViewRange();\n      const tViewRange = fixedTop.getViewRange();\n      const ltCoincideRange = this.coincide(rect, ltViewRange);\n      const tCoincideRange = this.coincide(rect, tViewRange);\n      let width = 0;\n      const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n      if (!empty.equals(ltCoincideRange)) {\n        width += cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n      }\n      if (!empty.equals(tCoincideRange)) {\n        width += cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n      }\n      if (`${width}px` !== this.css('width')) {\n        this.css('width', `${width}px`);\n      }\n      if (`${left}px` !== this.css('left')) {\n        this.css('left', `${left}px`);\n      }\n      this.show();\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['lt', 'l'])) {\n      const { rect } = selectorAttr;\n      const { frozenLeftTop, cols } = table;\n      const ltViewRange = frozenLeftTop.getViewRange();\n      const ltCoincideRange = this.coincide(rect, ltViewRange);\n      if (!empty.equals(ltCoincideRange)) {\n        const width = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n      }\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['t', 'br'])) {\n      const { rect } = selectorAttr;\n      const { fixedTop, cols } = table;\n      const tViewRange = fixedTop.getViewRange();\n      const tCoincideRange = this.coincide(rect, tViewRange);\n      if (!empty.equals(tCoincideRange)) {\n        const width = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        const left = cols.sectionSumWidth(tViewRange.sci, tCoincideRange.sci - 1)\n          + table.getFixedWidth() + index.width;\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n      }\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['l', 'br'])) {\n      const { rect } = selectorAttr;\n      const { fixedLeft, cols } = table;\n      const lViewRange = fixedLeft.getViewRange();\n      const cViewRange = table.getViewRange();\n      const lCoincideRange = this.coincide(rect, lViewRange);\n      const cCoincideRange = this.coincide(rect, cViewRange);\n      let width = 0;\n      const left = cols.sectionSumWidth(lViewRange.sci, lCoincideRange.sci - 1) + index.width;\n      if (!empty.equals(lCoincideRange)) {\n        width += cols.sectionSumWidth(lCoincideRange.sci, lCoincideRange.eci);\n      }\n      if (!empty.equals(cCoincideRange)) {\n        width += cols.sectionSumWidth(cCoincideRange.sci, cCoincideRange.eci);\n      }\n      if (`${width}px` !== this.css('width')) {\n        this.css('width', `${width}px`);\n      }\n      if (`${left}px` !== this.css('left')) {\n        this.css('left', `${left}px`);\n      }\n      this.show();\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['lt', 't', 'l', 'br'])) {\n      const { rect } = selectorAttr;\n      const { frozenLeftTop, fixedTop, cols } = table;\n      const ltViewRange = frozenLeftTop.getViewRange();\n      const tViewRange = fixedTop.getViewRange();\n      const ltCoincideRange = this.coincide(rect, ltViewRange);\n      const tCoincideRange = this.coincide(rect, tViewRange);\n      let width = 0;\n      const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n      if (!empty.equals(ltCoincideRange)) {\n        width += cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n      }\n      if (!empty.equals(tCoincideRange)) {\n        width += cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n      }\n      if (`${width}px` !== this.css('width')) {\n        this.css('width', `${width}px`);\n      }\n      if (`${left}px` !== this.css('left')) {\n        this.css('left', `${left}px`);\n      }\n      this.show();\n    }\n  }\n\n  bind() {\n    const { table } = this;\n    const { screen } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    screenSelector.addChangeCb(() => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n  }\n}\n\nexport { XHeightLight };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { RectRange } from '../RectRange';\nimport { Utils } from '../../../utils/Utils';\nimport { ScreenSelector } from '../selector/ScreenSelector';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\n\nclass YHeightLight extends Widget {\n  constructor(table) {\n    super(`${cssPrefix}-table-y-height-light`);\n    this.table = table;\n    this.hide();\n  }\n\n  init() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    this.css('width', `${index.width}px`);\n    this.bind();\n  }\n\n  disjoint(sRect, tRect) {\n    return sRect.sri > tRect.eri || tRect.sri > sRect.eri;\n  }\n\n  coincide(sRect, tRect) {\n    if (this.disjoint(sRect, tRect)) {\n      return new RectRange(-1, 0, -1, 0);\n    }\n    return new RectRange(\n      tRect.sri > sRect.sri ? tRect.sri : sRect.sri,\n      0,\n      tRect.eri < sRect.eri ? tRect.eri : sRect.eri,\n      0,\n    );\n  }\n\n  offsetHeightLight(selectorAttr, intersectsArea) {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const empty = new RectRange(-1, 0, -1, 0);\n    this.hide();\n    if (Utils.arrayIncludeArray(intersectsArea, ['lt'])) {\n      const { rect } = selectorAttr;\n      const { frozenLeftTop, rows } = table;\n      const ltViewRange = frozenLeftTop.getViewRange();\n      const ltCoincideRange = this.coincide(rect, ltViewRange);\n      if (!empty.equals(ltCoincideRange)) {\n        const height = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n      }\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['t'])) {\n      const { rect } = selectorAttr;\n      const { fixedTop, rows } = table;\n      const tViewRange = fixedTop.getViewRange();\n      const tCoincideRange = this.coincide(rect, tViewRange);\n      // console.log('tCoincideRange>>>', tCoincideRange);\n      if (!empty.equals(tCoincideRange)) {\n        const height = rows.sectionSumHeight(tCoincideRange.sri, tCoincideRange.eri);\n        const top = rows.sectionSumHeight(tViewRange.sri, tCoincideRange.sri - 1) + index.height;\n        // console.log('height>>>', height);\n        // console.log('top>>>', top);\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n      }\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['l'])) {\n      const { rect } = selectorAttr;\n      const { fixedLeft, rows } = table;\n      const lViewRange = fixedLeft.getViewRange();\n      const lCoincideRange = this.coincide(rect, lViewRange);\n      if (!empty.equals(lCoincideRange)) {\n        const height = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        const top = rows.sectionSumHeight(lViewRange.sri, lCoincideRange.sri - 1)\n          + table.getFixedHeight() + index.height;\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n      }\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['br'])) {\n      const { rect } = selectorAttr;\n      const { rows } = table;\n      const cViewRange = table.getViewRange();\n      const cCoincideRange = this.coincide(rect, cViewRange);\n      // console.log('cCoincideRange>>>', cCoincideRange);\n      if (!empty.equals(cCoincideRange)) {\n        const height = rows.sectionSumHeight(cCoincideRange.sri, cCoincideRange.eri);\n        const top = rows.sectionSumHeight(cViewRange.sri, cCoincideRange.sri - 1)\n          + table.getFixedHeight() + index.height;\n        // console.log('height>>>', height);\n        // console.log('top>>>', top);\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n      }\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['lt', 't'])) {\n      const { rect } = selectorAttr;\n      const { frozenLeftTop, rows } = table;\n      const ltViewRange = frozenLeftTop.getViewRange();\n      const ltCoincideRange = this.coincide(rect, ltViewRange);\n      if (!empty.equals(ltCoincideRange)) {\n        const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n        const height = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n      }\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['lt', 'l'])) {\n      const { rect } = selectorAttr;\n      const { frozenLeftTop, fixedLeft, rows } = table;\n      const ltViewRange = frozenLeftTop.getViewRange();\n      const lViewRange = fixedLeft.getViewRange();\n      const ltCoincideRange = this.coincide(rect, ltViewRange);\n      const lCoincideRange = this.coincide(rect, lViewRange);\n      const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n      let height = 0;\n      if (!empty.equals(ltCoincideRange)) {\n        height += rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n      }\n      if (!empty.equals(lCoincideRange)) {\n        height += rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n      }\n      if (`${height}px` !== this.css('height')) {\n        this.css('height', `${height}px`);\n      }\n      if (`${top}px` !== this.css('top')) {\n        this.css('top', `${top}px`);\n      }\n      this.show();\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['t', 'br'])) {\n      const { rect } = selectorAttr;\n      const { fixedTop, rows } = table;\n      const tViewRange = fixedTop.getViewRange();\n      const cViewRange = table.getViewRange();\n      const tCoincideRange = this.coincide(rect, tViewRange);\n      const cCoincideRange = this.coincide(rect, cViewRange);\n      const top = rows.sectionSumHeight(tViewRange.sri, tCoincideRange.sri - 1) + index.height;\n      let height = 0;\n      if (!empty.equals(tCoincideRange)) {\n        height += rows.sectionSumHeight(tCoincideRange.sri, tCoincideRange.eri);\n      }\n      if (!empty.equals(cCoincideRange)) {\n        height += rows.sectionSumHeight(cCoincideRange.sri, cCoincideRange.eri);\n      }\n      // console.log('tCoincideRange>>>', tCoincideRange);\n      // console.log('cCoincideRange>>>', cCoincideRange);\n      // console.log('top>>>', top);\n      // console.log('height>>>', height);\n      if (`${height}px` !== this.css('height')) {\n        this.css('height', `${height}px`);\n      }\n      if (`${top}px` !== this.css('top')) {\n        this.css('top', `${top}px`);\n      }\n      this.show();\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['l', 'br'])) {\n      const { rect } = selectorAttr;\n      const { fixedLeft, rows } = table;\n      const lViewRange = fixedLeft.getViewRange();\n      const lCoincideRange = this.coincide(rect, lViewRange);\n      if (!empty.equals(lCoincideRange)) {\n        const height = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        const top = rows.sectionSumHeight(lViewRange.sri, lCoincideRange.sri - 1)\n          + table.getFixedHeight() + index.height;\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n      }\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['lt', 't', 'l', 'br'])) {\n      const { rect } = selectorAttr;\n      const { frozenLeftTop, fixedLeft, rows } = table;\n      const ltViewRange = frozenLeftTop.getViewRange();\n      const lViewRange = fixedLeft.getViewRange();\n      const ltCoincideRange = this.coincide(rect, ltViewRange);\n      const lCoincideRange = this.coincide(rect, lViewRange);\n      let height = 0;\n      const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n      if (!empty.equals(ltCoincideRange)) {\n        height += rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n      }\n      if (!empty.equals(lCoincideRange)) {\n        height += rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n      }\n      if (`${height}px` !== this.css('height')) {\n        this.css('height', `${height}px`);\n      }\n      if (`${top}px` !== this.css('top')) {\n        this.css('top', `${top}px`);\n      }\n      this.show();\n    }\n  }\n\n  bind() {\n    const { table } = this;\n    const { screen } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    screenSelector.addChangeCb(() => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n  }\n}\n\nexport { YHeightLight };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { ScreenSelector } from './selector/ScreenSelector';\nimport { Utils } from '../../utils/Utils';\n\nclass Edit extends Widget {\n\n  constructor(table) {\n    super(`${cssPrefix}-table-edit`);\n    this.input = h('div', `${cssPrefix}-table-edit-input`);\n    this.input.attr('contenteditable', true);\n    this.input.html('<p>&nbsp;</p>');\n    this.table = table;\n    this.children(this.input);\n    this.hide();\n  }\n\n  init() {\n    this.bind();\n  }\n\n  bind() {\n    const { table } = this;\n    const { screen, cells } = table;\n    const selector = screen.findByClass(ScreenSelector);\n    let text = '';\n    let selectRect = null;\n    let editModel = false;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      e.stopPropagation();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      e.stopPropagation();\n    });\n    EventBind.bind(this.input, Constant.SYSTEM_EVENT_TYPE.INPUT, () => {\n      if (Utils.isBlank(this.input.text())) {\n        this.input.html('<p>&nbsp;</p>');\n      }\n      text = this.input.text();\n    });\n    EventBind.bind([\n      selector.lt.cornerEl,\n      selector.t.cornerEl,\n      selector.l.cornerEl,\n      selector.br.cornerEl,\n      table,\n    ], Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const { selectorAttr } = selector;\n      if (editModel) {\n        text = Utils.trim(text);\n        const cell = cells.getCellOrNew(selectRect.sri, selectRect.sci);\n        if (cell.text !== text) {\n          table.setCell(selectRect.sri, selectRect.sci, {\n            text,\n          });\n        }\n      }\n      if (selectorAttr) {\n        const { rect } = selectorAttr;\n        selectRect = rect;\n      }\n      this.hide();\n      editModel = false;\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      this.hide();\n    });\n    EventBind.dbClick(table, () => {\n      const { screen } = table;\n      const selector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = selector;\n      if (selectorAttr && selectRect) {\n        const { rect } = selectorAttr;\n        const cell = table.getCell(rect.sri, rect.sci);\n        if (rect.equals(selectRect)) {\n          editModel = true;\n          this.editOffset(rect);\n          if (cell) {\n            ({ text } = cell);\n            if (Utils.isBlank(text)) {\n              this.input.html('<p>&nbsp;</p>');\n            } else {\n              this.input.text(text);\n            }\n            Utils.keepLastIndex(this.input.el);\n          }\n        }\n      }\n    });\n  }\n\n  editOffset() {\n    const { table } = this;\n    const { screen } = table;\n    const selector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = selector;\n    const { rect } = selectorAttr;\n    const { cols, rows } = table;\n    const offset = 4;\n    const intersectsArea = selector.getIntersectsArea(selectorAttr);\n    if (Utils.arrayIncludeArray(intersectsArea, ['lt'])) {\n      // console.log('lt');\n      const { frozenLeftTop } = table;\n      const viewRange = frozenLeftTop.getViewRange();\n      const coincideRange = rect.coincide(viewRange);\n\n      const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n      const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n\n      let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n      let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n      top += table.getIndexHeight() + offset;\n      left += table.getIndexWidth() + offset;\n\n      this.offset({\n        width,\n        height,\n        top,\n        left,\n      }).show();\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['t'])) {\n      // console.log('t');\n      const { fixedTop } = table;\n      const viewRange = fixedTop.getViewRange();\n      const coincideRange = rect.coincide(viewRange);\n\n      const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n      const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n\n      let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n      let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n      top += table.getIndexHeight() + offset;\n      left += table.getFixedWidth() + table.getIndexWidth() + offset;\n\n      this.offset({\n        width,\n        height,\n        top,\n        left,\n      }).show();\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['br'])) {\n      // console.log('br');\n      const viewRange = table.getViewRange();\n      const coincideRange = rect.coincide(viewRange);\n\n      const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n      const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n\n      let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n      let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n      top += table.getFixedHeight() + table.getIndexHeight() + offset;\n      left += table.getFixedWidth() + table.getIndexWidth() + offset;\n\n      this.offset({\n        width,\n        height,\n        top,\n        left,\n      }).show();\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['l'])) {\n      // console.log('l');\n      const { fixedLeft } = table;\n      const viewRange = fixedLeft.getViewRange();\n      const coincideRange = rect.coincide(viewRange);\n\n      const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n      const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n\n      let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n      let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n      top += table.getFixedHeight() + table.getIndexHeight() + offset;\n      left += table.getIndexWidth() + offset;\n\n      this.offset({\n        width,\n        height,\n        top,\n        left,\n      }).show();\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['lt', 't'])) {\n      // console.log('lt t');\n      const { frozenLeftTop, fixedTop } = table;\n\n      const ltViewRange = frozenLeftTop.getViewRange();\n      const ltCoincideRange = rect.coincide(ltViewRange);\n\n      const tViewRange = fixedTop.getViewRange();\n      const tCoincideRange = rect.coincide(tViewRange);\n\n      const ltWidth = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n      const ltHeight = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n      const ltTop = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1);\n      const ltLeft = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1);\n      const tWidth = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n\n      this.offset({\n        width: (ltWidth + tWidth) - offset * 2,\n        height: ltHeight - offset * 2,\n        top: ltTop + table.getIndexHeight() + offset,\n        left: ltLeft + table.getIndexWidth() + offset,\n      }).show();\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['t', 'br'])) {\n      // console.log('t, br');\n      const { fixedTop } = table;\n\n      const cViewRange = table.getViewRange();\n      const cCoincideRange = rect.coincide(cViewRange);\n\n      const tViewRange = fixedTop.getViewRange();\n      const tCoincideRange = rect.coincide(tViewRange);\n\n      const tWidth = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n      const tHeight = rows.sectionSumHeight(tCoincideRange.sri, tCoincideRange.eri);\n      const tTop = rows.sectionSumHeight(tViewRange.sri, tCoincideRange.sri - 1);\n      const tLeft = cols.sectionSumWidth(tViewRange.sci, tCoincideRange.sci - 1);\n\n      const cHeight = rows.sectionSumHeight(cCoincideRange.sri, cCoincideRange.eri);\n\n      this.offset({\n        width: tWidth - offset * 2,\n        height: (cHeight + tHeight) - offset * 2,\n        top: tTop + table.getIndexHeight() + offset,\n        left: tLeft + table.getFixedWidth() + table.getIndexWidth() + offset,\n      }).show();\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['br', 'l'])) {\n      // console.log('br, l');\n      const { fixedLeft } = table;\n\n      const cViewRange = table.getViewRange();\n      const cCoincideRange = rect.coincide(cViewRange);\n\n      const lViewRange = fixedLeft.getViewRange();\n      const lCoincideRange = rect.coincide(lViewRange);\n\n      const lWidth = cols.sectionSumWidth(lCoincideRange.sci, lCoincideRange.eci);\n      const lHeight = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n      const lTop = rows.sectionSumHeight(lViewRange.sri, lCoincideRange.sri - 1);\n      const lLeft = cols.sectionSumWidth(lViewRange.sci, lCoincideRange.sci - 1);\n\n      const cWidth = cols.sectionSumWidth(cCoincideRange.sci, cCoincideRange.eci);\n\n      this.offset({\n        width: (lWidth + cWidth) - offset * 2,\n        height: lHeight - offset * 2,\n        top: lTop + table.getFixedHeight() + table.getIndexHeight() + offset,\n        left: lLeft + table.getIndexWidth() + offset,\n      }).show();\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['l', 'lt'])) {\n      // console.log('l, lt');\n      const { frozenLeftTop, fixedLeft } = table;\n\n      const ltViewRange = frozenLeftTop.getViewRange();\n      const ltCoincideRange = rect.coincide(ltViewRange);\n\n      const lViewRange = fixedLeft.getViewRange();\n      const lCoincideRange = rect.coincide(lViewRange);\n\n      const ltWidth = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n      const ltHeight = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n      const lHeight = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n\n      let ltTop = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1);\n      let ltLeft = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1);\n\n      ltTop += table.getIndexHeight() + offset;\n      ltLeft += table.getIndexWidth() + offset;\n\n      this.offset({\n        width: ltWidth - offset * 2,\n        height: (ltHeight + lHeight) - offset * 2,\n        top: ltTop,\n        left: ltLeft,\n      }).show();\n    } else if (Utils.arrayIncludeArray(intersectsArea, ['lt', 't', 'br', 'l'])) {\n      // console.log('lt t br l');\n      const { frozenLeftTop } = table;\n      const ltViewRange = frozenLeftTop.getViewRange();\n      const ltCoincideRange = rect.coincide(ltViewRange);\n\n      const { fixedTop } = table;\n      const tViewRange = fixedTop.getViewRange();\n      const tCoincideRange = rect.coincide(tViewRange);\n\n      const { fixedLeft } = table;\n      const lViewRange = fixedLeft.getViewRange();\n      const lCoincideRange = rect.coincide(lViewRange);\n\n      const ltWidth = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n      const ltHeight = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n      const tWidth = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n      const lHeight = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n\n      const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1);\n      const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1);\n\n      this.offset({\n        width: (ltWidth + tWidth) - offset * 2,\n        height: (ltHeight + lHeight) - offset * 2,\n        top: top + table.getIndexHeight() + offset,\n        left: left + table.getIndexWidth() + offset,\n      }).show();\n    }\n  }\n}\n\nexport { Edit };\n","import { dpr } from './Draw';\nimport { Utils } from '../utils/Utils';\n\nclass Grid {\n  constructor(draw, attr = {}) {\n    this.draw = draw;\n    this.color = '#000000';\n    Utils.mergeDeep(this, attr);\n  }\n\n  lineWidth() {\n    const width = Math.floor(dpr());\n    return width > 2 ? width : 1;\n  }\n\n  verticalLine(sx, sy, ex, ey) {\n    if (sx !== ex) {\n      throw new Error('coordinate errors sx should be equal to ex !!!');\n    }\n    const { draw, color } = this;\n    const width = this.lineWidth();\n    draw.attr({\n      fillStyle: color,\n    });\n    const diff = ey - sy;\n    draw.fillRect(sx, sy, width, diff);\n  }\n\n  horizontalLine(sx, sy, ex, ey) {\n    if (sy !== ey) {\n      throw new Error('coordinate errors sy should be equal to ey !!!');\n    }\n    const { draw, color } = this;\n    const width = this.lineWidth();\n    draw.attr({\n      fillStyle: color,\n    });\n    const diff = ex - sx;\n    draw.fillRect(sx, sy, diff, width);\n  }\n}\n\nexport { Grid };\n","class Box {\n  constructor({ rect, draw }) {\n    this.draw = draw;\n    this.rect = rect;\n    this.backgroundColor = null;\n  }\n\n  drawBackgroundColor(color) {\n    if (color) {\n      this.backgroundColor = color;\n      const { draw, rect } = this;\n      draw.attr({\n        fillStyle: color,\n      });\n      draw.fillRect(rect.x, rect.y, rect.width, rect.height);\n    }\n  }\n}\n\nexport { Box };\n","class DateUtils {\n  static dateFormat(fmt, date) {\n    const o = {\n      'M+': date.getMonth() + 1,\n      'd+': date.getDate(),\n      'h+': date.getHours(),\n      'm+': date.getMinutes(),\n      's+': date.getSeconds(),\n      'q+': Math.floor((date.getMonth() + 3) / 3),\n      S: date.getMilliseconds(),\n    };\n    const reYear = /(y+)/;\n    const resultYear = reYear.exec(fmt);\n    if (resultYear) {\n      const yearFormatPart = resultYear[0];\n      const yearVal = (date.getFullYear().toString()).substr(4 - yearFormatPart.length);\n      // eslint-disable-next-line no-param-reassign\n      fmt = fmt.replace(yearFormatPart, yearVal);\n    }\n    // eslint-disable-next-line guard-for-in,no-restricted-syntax\n    for (const k in o) {\n      const re = new RegExp(`(${k})`);\n      const res = re.exec(fmt);\n      if (res) {\n        const Val = o[k].toString();\n        const formatPart = res[0];\n        const replaceVal = (formatPart.length === 1) ? (Val) : ((`00${Val}`).substr(Val.length));\n        // eslint-disable-next-line no-param-reassign\n        fmt = fmt.replace(formatPart, replaceVal);\n      }\n    }\n    return fmt;\n  }\n\n  static parserToDate(dateText, format) {\n    if (!dateText) {\n      return null;\n    }\n    const defaultVal = new Date('1970/01/01 00:00:00');\n    const o = [{\n      reg: 'y+',\n    }, {\n      reg: 'M+',\n    }, {\n      reg: 'd+',\n    }, {\n      reg: 'h+',\n    }, {\n      reg: 'm+',\n    }, {\n      reg: 's+',\n    }, {\n      reg: 'S',\n    }];\n    let year = defaultVal.getFullYear();\n    let month = defaultVal.getMonth() + 1;\n    let day = defaultVal.getDate();\n    let hours = defaultVal.getHours();\n    let minutes = defaultVal.getMinutes();\n    let seconds = defaultVal.getSeconds();\n    let milliseconds = defaultVal.getMilliseconds();\n    let index = 1;\n    for (let j = 0; j < format.length; j += 1) {\n      const oneChar = format[j];\n      for (let i = 0; i < o.length; i += 1) {\n        const onePart = o[i];\n        const onePartReg = onePart.reg;\n        if (onePartReg[0] === oneChar) {\n          if (!onePart.index) {\n            onePart.index = index;\n            index += 1;\n          }\n          break;\n        }\n      }\n    }\n    for (let i = 0; i < o.length; i += 1) {\n      const onePart = o[i];\n      const onePartReg = onePart.reg;\n      const re = new RegExp(`(${onePartReg})`);\n      const res = re.exec(format);\n      if (res) {\n        const formatPart = res[0];\n        const replaceVal = `([0-9]{1,${formatPart.length}})`;\n        // eslint-disable-next-line no-param-reassign\n        format = format.replace(formatPart, replaceVal);\n      }\n    }\n    const dataInfo = {};\n    const re = new RegExp(format);\n    const res = re.exec(dateText);\n    if (res) {\n      for (let i = 1; i < res.length; i += 1) {\n        dataInfo[i] = res[i];\n      }\n    } else {\n      return null;\n    }\n    if (o[0].index) {\n      const { index } = o[0];\n      year = dataInfo[index];\n    }\n    if (o[1].index) {\n      const { index } = o[1];\n      month = dataInfo[index];\n    }\n    if (o[2].index) {\n      const { index } = o[2];\n      day = dataInfo[index];\n    }\n    if (o[3].index) {\n      const { index } = o[3];\n      hours = dataInfo[index];\n    }\n    if (o[4].index) {\n      const { index } = o[4];\n      minutes = dataInfo[index];\n    }\n    if (o[5].index) {\n      const { index } = o[5];\n      seconds = dataInfo[index];\n    }\n    if (o[6].index) {\n      const { index } = o[6];\n      milliseconds = dataInfo[index];\n    }\n    return new Date(year, month - 1, day, hours, minutes, seconds, milliseconds);\n  }\n}\n\nexport { DateUtils };\n","import { Utils } from '../../utils/Utils';\nimport { DateUtils } from '../../utils/DateUtils';\n\nfunction parserToDate(text) {\n  let result = DateUtils.parserToDate(text, 'yyyy/MM/dd hh:mm:ss');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'yyyy/MM/dd');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'hh:mm:ss');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'MM月dd日');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'yyyy年MM月');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'yyyy年MM月dd日');\n  if (result) return result;\n  return null;\n}\n\nclass Format {\n  default(value) {\n    return value;\n  }\n\n  text(value) {\n    return value;\n  }\n\n  number(value) {\n    if (Utils.isNumber(value)) {\n      if (value.toString().indexOf('.') !== -1) {\n        const lastIndex = value.toString().lastIndexOf('.') + 1;\n        return value.toString().substring(0, lastIndex + 2);\n      }\n      return `${value}.00`;\n    }\n    return value;\n  }\n\n  percentage(value) {\n    if (Utils.isNumber(value)) {\n      return `${value}%`;\n    }\n    return value;\n  }\n\n  fraction(value) {\n    if (Utils.isFraction(value)) {\n      const left = value.split('/')[0];\n      const right = value.split('/')[1];\n      return Utils.parseInt(left) / Utils.parseInt(right);\n    }\n    return value;\n  }\n\n  ENotation(value) {\n    if (Utils.isNumber(value)) {\n      const number = Utils.parseFloat(value);\n      return number.toExponential(2);\n    }\n    return value;\n  }\n\n  rmb(value) {\n    if (Utils.isNumber(value)) {\n      return `￥${value}`;\n    }\n    return value;\n  }\n\n  hk(value) {\n    if (Utils.isNumber(value)) {\n      return `HK${value}`;\n    }\n    return value;\n  }\n\n  dollar(value) {\n    if (Utils.isNumber(value)) {\n      return `$${value}`;\n    }\n    return value;\n  }\n\n  date1(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy/MM/dd', result);\n    return value;\n  }\n\n  date2(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('MM月dd日', result);\n    return value;\n  }\n\n  date3(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy年MM月', result);\n    return value;\n  }\n\n  date4(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy年MM月dd日', result);\n    return value;\n  }\n\n  date5(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy/MM/dd hh:mm:ss', result);\n    return value;\n  }\n\n  time(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('hh:mm:ss', result);\n    return value;\n  }\n}\n\nconst format = new Format();\n\nexport default (type, value) => format[type](value);\n","\nclass GridLineHandle {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  gridHLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table } = this;\n    const { lineHandle, cols, rows } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    let breakpoint;\n    lineHandle.hEach({\n      viewRange,\n      newRow: (row, y) => {\n        const height = rows.getHeight(row);\n        sx = bx;\n        sy = by + y + height;\n        ex = sx;\n        ey = sy;\n        breakpoint = false;\n      },\n      filter,\n      jump: (row, col) => {\n        if (breakpoint) {\n          breakpoint = false;\n          line.push({ sx, sy, ex, ey });\n        }\n        const width = cols.getWidth(col);\n        sx = ex + width;\n        ex = sx;\n      },\n      handle: (row, col) => {\n        breakpoint = true;\n        const width = cols.getWidth(col);\n        ex += width;\n      },\n      endRow: () => {\n        if (breakpoint) {\n          line.push({ sx, sy, ex, ey });\n        }\n      },\n    });\n    return line;\n  }\n\n  gridVLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table } = this;\n    const { lineHandle, cols, rows } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    let breakpoint;\n    lineHandle.vEach({\n      viewRange,\n      newCol: (col, x) => {\n        const width = cols.getWidth(col);\n        sx = bx + x + width;\n        sy = by;\n        ex = sx;\n        ey = sy;\n        breakpoint = false;\n      },\n      filter,\n      jump: (col, row) => {\n        if (breakpoint) {\n          breakpoint = false;\n          line.push({ sx, sy, ex, ey });\n        }\n        const height = rows.getHeight(row);\n        sy = ey + height;\n        ey = sy;\n      },\n      handle: (col, row) => {\n        breakpoint = true;\n        const height = rows.getHeight(row);\n        ey += height;\n      },\n      endCol: () => {\n        if (breakpoint) {\n          line.push({ sx, sy, ex, ey });\n        }\n      },\n    });\n    return line;\n  }\n\n  hLine(viewRange) {\n    const { table } = this;\n    const { merges, cells } = table;\n    return this.gridHLine(viewRange, 0, 0, (row, col) => {\n      const notMerges = merges.getFirstIncludes(row, col) === null;\n      const notBorderBottom = cells.isDisplayBottomBorder(row, col) === false;\n      const notBorderTop = cells.isDisplayTopBorder(row + 1, col) === false;\n      return notMerges && notBorderBottom && notBorderTop;\n    });\n  }\n\n  vLine(viewRange) {\n    const { table } = this;\n    const { merges, cells } = table;\n    return this.gridVLine(viewRange, 0, 0, (col, row) => {\n      const notMerges = merges.getFirstIncludes(row, col) === null;\n      const notBorderRight = cells.isDisplayRightBorder(row, col) === false;\n      const notBorderLeft = cells.isDisplayLeftBorder(row, col + 1) === false;\n      return notMerges && notBorderRight && notBorderLeft;\n    });\n  }\n\n  hMergeLine(mergesBrink) {\n    const { table } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { bottom } = brink;\n      if (bottom) {\n        result = result.concat(this.gridHLine(bottom.view, bottom.x, bottom.y, (row, col) => {\n          const notBorderBottom = cells.isDisplayBottomBorder(row, col) === false;\n          const notBorderTop = cells.isDisplayTopBorder(row + 1, col) === false;\n          return notBorderBottom && notBorderTop;\n        }));\n      }\n    }\n    return result;\n  }\n\n  vMergeLine(mergesBrink) {\n    const { table } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { right } = brink;\n      if (right) {\n        result = result.concat(this.gridVLine(right.view, right.x, right.y, (col, row) => {\n          const notBorderRight = cells.isDisplayRightBorder(row, col) === false;\n          const notBorderLeft = cells.isDisplayLeftBorder(row, col + 1) === false;\n          return notBorderRight && notBorderLeft;\n        }));\n      }\n    }\n    return result;\n  }\n}\n\nexport { GridLineHandle };\n","import { Utils } from '../../utils/Utils';\n\nclass History {\n\n  constructor(option) {\n    this._ = [];\n    this.option = Utils.mergeDeep({}, {\n      onAdd: () => {},\n      onPop: () => {},\n      onClear: () => {},\n    }, option);\n  }\n\n  add(ele) {\n    this._.unshift(ele);\n    this.option.onAdd(ele);\n  }\n\n  pop() {\n    if (!this.isEmpty()) {\n      const result = this._.shift();\n      this.option.onPop(result);\n    }\n  }\n\n  get() {\n    return this._[0];\n  }\n\n  clear() {\n    this._ = [];\n    this.option.onClear();\n  }\n\n  isEmpty() {\n    return this._.length === 0;\n  }\n\n  length() {\n    return this._.length;\n  }\n}\n\nexport { History };\n","import { History } from './History';\nimport { Utils } from '../../utils/Utils';\nimport { Constant } from '../../utils/Constant';\n\nclass DataSnapshot {\n\n  constructor(table) {\n    this.table = table;\n    const { cells, merges } = table;\n    this.undo = new History({\n      onPop: (e) => {\n        this.redo.add(Utils.cloneDeep(e));\n        const top = this.undo.get();\n        cells.setData(Utils.cloneDeep(top.cells));\n        merges.setData(Utils.cloneDeep(top.merges));\n        table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n        table.render();\n      },\n    });\n    this.redo = new History({\n      onPop: (e) => {\n        this.undo.add(Utils.cloneDeep(e));\n        const top = this.undo.get();\n        cells.setData(Utils.cloneDeep(top.cells));\n        merges.setData(Utils.cloneDeep(top.merges));\n        table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n        table.render();\n      },\n    });\n    this.undo.add({\n      cells: Utils.cloneDeep(cells.getData()),\n      merges: Utils.cloneDeep(merges.getData()),\n    });\n  }\n\n  snapshot(clear = false) {\n    const { table } = this;\n    const { cells, merges } = table;\n    if (clear) {\n      this.redo.clear();\n    }\n    this.undo.add({\n      cells: Utils.cloneDeep(cells.getData()),\n      merges: Utils.cloneDeep(merges.getData()),\n    });\n    table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n  }\n}\n\nexport { DataSnapshot };\n","class BorderLineHandle {\n\n  constructor(table) {\n    this.table = table;\n    this.drawOptimization = true;\n    this.borderOptimization = true;\n  }\n\n  borderHTLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, cols, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.hEach({\n      viewRange,\n      newRow: (row, y) => {\n        sx = bx;\n        sy = by + y;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (row, col) => {\n        const width = cols.getWidth(col);\n        sx = ex + width;\n        ex = sx;\n      },\n      handle: (row, col) => {\n        const width = cols.getWidth(col);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ex += width;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sx = ex;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = cells.borderEqual(item.borderAttr.bottom, last.borderAttr.bottom);\n        const ck2 = item.col - last.col === 1;\n        const ck3 = item.row === last.row;\n        if (ck1 && ck2 && ck3) {\n          last.ex = item.ex;\n          last.col = item.col;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  borderHBLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, cols, rows, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.hEach({\n      viewRange,\n      newRow: (row, y) => {\n        const height = rows.getHeight(row);\n        sx = bx;\n        sy = by + y + height;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (row, col) => {\n        const width = cols.getWidth(col);\n        sx = ex + width;\n        ex = sx;\n      },\n      handle: (row, col) => {\n        const width = cols.getWidth(col);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ex += width;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sx = ex;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = cells.borderEqual(item.borderAttr.bottom, last.borderAttr.bottom);\n        const ck2 = item.col - last.col === 1;\n        const ck3 = item.row === last.row;\n        if (ck1 && ck2 && ck3) {\n          last.ex = item.ex;\n          last.col = item.col;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  borderVLLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, rows, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.vEach({\n      viewRange,\n      newCol: (col, x) => {\n        sx = bx + x;\n        sy = by;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (col, row) => {\n        const height = rows.getHeight(row);\n        sy = ey + height;\n        ey = sy;\n      },\n      handle: (col, row) => {\n        const height = rows.getHeight(row);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ey += height;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sy = ey;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = cells.borderEqual(item.borderAttr.left, last.borderAttr.left);\n        const ck2 = item.row - last.row === 1;\n        const ck3 = item.col === last.col;\n        if (ck1 && ck2 && ck3) {\n          last.ey = item.ey;\n          last.row = item.row;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  borderVRLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, rows, cols, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.vEach({\n      viewRange,\n      newCol: (col, x) => {\n        const width = cols.getWidth(col);\n        sx = bx + x + width;\n        sy = by;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (col, row) => {\n        const height = rows.getHeight(row);\n        sy = ey + height;\n        ey = sy;\n      },\n      handle: (col, row) => {\n        const height = rows.getHeight(row);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ey += height;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sy = ey;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = cells.borderEqual(item.borderAttr.right, last.borderAttr.right);\n        const ck2 = item.row - last.row === 1;\n        const ck3 = item.col === last.col;\n        if (ck1 && ck2 && ck3) {\n          last.ey = item.ey;\n          last.row = item.row;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  htLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells } = table;\n    return this.borderHTLine(viewRange, 0, 0, (row, col) => {\n      const merge = merges.getFirstIncludes(row, col);\n      const borderTop = cells.isDisplayTopBorder(row, col);\n      const borderBottom = cells.isDisplayBottomBorder(row - 1, col);\n      const borderDiff = cells.borderComparisonOfTime(row, col, row - 1, col);\n      if (merge) {\n        return false;\n      }\n      if (borderOptimization) {\n        if (borderTop && borderBottom) {\n          return borderDiff === 1;\n        }\n      }\n      return borderTop;\n    });\n  }\n\n  hbLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells } = table;\n    return this.borderHBLine(viewRange, 0, 0, (row, col) => {\n      const merge = merges.getFirstIncludes(row, col);\n      const borderBottom = cells.isDisplayBottomBorder(row, col);\n      const borderTop = cells.isDisplayTopBorder(row + 1, col);\n      const borderDiff = cells.borderComparisonOfTime(row, col, row + 1, col);\n      if (merge) {\n        return false;\n      }\n      if (borderOptimization) {\n        if (borderBottom && borderTop) {\n          return borderDiff === 1 || borderDiff === 0;\n        }\n      }\n      return borderBottom;\n    });\n  }\n\n  vlLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells } = table;\n    return this.borderVLLine(viewRange, 0, 0, (col, row) => {\n      const merge = merges.getFirstIncludes(row, col);\n      const borderLeft = cells.isDisplayLeftBorder(row, col);\n      const borderRight = cells.isDisplayRightBorder(row, col - 1);\n      const borderDiff = cells.borderComparisonOfTime(row, col, row, col - 1);\n      if (merge) {\n        return false;\n      }\n      if (borderOptimization) {\n        if (borderLeft && borderRight) {\n          return borderDiff === 1;\n        }\n      }\n      return borderLeft;\n    });\n  }\n\n  vrLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells } = table;\n    return this.borderVRLine(viewRange, 0, 0, (col, row) => {\n      const merge = merges.getFirstIncludes(row, col);\n      const borderRight = cells.isDisplayRightBorder(row, col);\n      const borderLeft = cells.isDisplayLeftBorder(row, col + 1);\n      const borderDiff = cells.borderComparisonOfTime(row, col, row, col + 1);\n      if (merge) {\n        return false;\n      }\n      if (borderOptimization) {\n        if (borderRight && borderLeft) {\n          return borderDiff === 1 || borderDiff === 0;\n        }\n      }\n      return borderRight;\n    });\n  }\n\n  htMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { top } = brink;\n      if (top) {\n        result = result.concat(this.borderHTLine(top.view, top.x, top.y, (row, col) => {\n          const borderTop = cells.isDisplayTopBorder(row, col);\n          const borderBottom = cells.isDisplayBottomBorder(row - 1, col);\n          const borderDiff = cells.borderComparisonOfTime(row, col, row - 1, col);\n          if (borderOptimization) {\n            if (borderTop && borderBottom) {\n              return borderDiff === 1;\n            }\n          }\n          return borderTop;\n        }));\n      }\n    }\n    return result;\n  }\n\n  hbMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { bottom } = brink;\n      if (bottom) {\n        result = result.concat(this.borderHBLine(bottom.view, bottom.x, bottom.y, (row, col) => {\n          const borderBottom = cells.isDisplayBottomBorder(row, col);\n          const borderTop = cells.isDisplayTopBorder(row + 1, col);\n          const borderDiff = cells.borderComparisonOfTime(row, col, row + 1, col);\n          if (borderOptimization) {\n            if (borderBottom && borderTop) {\n              return borderDiff === 1 || borderDiff === 0;\n            }\n          }\n          return borderBottom;\n        }));\n      }\n    }\n    return result;\n  }\n\n  vlMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { left } = brink;\n      if (left) {\n        result = result.concat(this.borderVLLine(left.view, left.x, left.y, (col, row) => {\n          const borderLeft = cells.isDisplayLeftBorder(row, col);\n          const borderRight = cells.isDisplayRightBorder(row, col - 1);\n          const borderDiff = cells.borderComparisonOfTime(row, col, row, col - 1);\n          if (borderOptimization) {\n            if (borderLeft && borderRight) {\n              return borderDiff === 1;\n            }\n          }\n          return borderLeft;\n        }));\n      }\n    }\n    return result;\n  }\n\n  vrMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { right } = brink;\n      if (right) {\n        result = result.concat(this.borderVRLine(right.view, right.x, right.y, (col, row) => {\n          const borderRight = cells.isDisplayRightBorder(row, col);\n          const borderLeft = cells.isDisplayLeftBorder(row, col + 1);\n          const borderDiff = cells.borderComparisonOfTime(row, col, row, col + 1);\n          if (borderOptimization) {\n            if (borderRight && borderLeft) {\n              return borderDiff === 1 || borderDiff === 0;\n            }\n          }\n          return borderRight;\n        }));\n      }\n    }\n    return result;\n  }\n\n  openDrawOptimization() {\n    this.drawOptimization = true;\n  }\n\n  closeDrawOptimization() {\n    this.drawOptimization = false;\n  }\n\n  openBorderOptimization() {\n    this.borderOptimization = true;\n  }\n\n  closeBorderOptimization() {\n    this.borderOptimization = false;\n  }\n}\n\nexport { BorderLineHandle };\n","import { RectRange } from './RectRange';\nimport { Rect } from '../../canvas/Rect';\n\nclass LineHandle {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  hEach({\n    viewRange = new RectRange(0, 0, 0, 0),\n    newRow = () => true,\n    filter = () => true,\n    jump = () => true,\n    handle = () => true,\n    endRow = () => true,\n    bx = 0,\n    by = 0,\n  }) {\n    const { table } = this;\n    const { cols, rows } = table;\n    const {\n      sri, eri, sci, eci,\n    } = viewRange;\n    let y = by;\n    for (let i = sri; i <= eri; i += 1) {\n      const height = rows.getHeight(i);\n      let x = bx;\n      newRow(i, y);\n      for (let j = sci; j <= eci; j += 1) {\n        const width = cols.getWidth(j);\n        const result = filter(i, j, x, y);\n        if (result) {\n          handle(i, j, x, y);\n        } else {\n          jump(i, j, x, y);\n        }\n        x += width;\n      }\n      endRow();\n      y += height;\n    }\n  }\n\n  vEach({\n    viewRange = new RectRange(0, 0, 0, 0),\n    newCol = () => true,\n    filter = () => true,\n    jump = () => true,\n    handle = () => true,\n    endCol = () => true,\n    bx = 0,\n    by = 0,\n  }) {\n    const { table } = this;\n    const { cols, rows } = table;\n    const {\n      sri, eri, sci, eci,\n    } = viewRange;\n    let x = bx;\n    for (let i = sci; i <= eci; i += 1) {\n      const width = cols.getWidth(i);\n      let y = by;\n      newCol(i, x);\n      for (let j = sri; j <= eri; j += 1) {\n        const height = rows.getHeight(j);\n        const result = filter(i, j, x, y);\n        if (result) {\n          handle(i, j, x, y);\n        } else {\n          jump(i, j, x, y);\n        }\n        y += height;\n      }\n      endCol();\n      x += width;\n    }\n  }\n\n  viewRangeAndMergeCoincideView({\n    viewRange = new RectRange(0, 0, 0, 0),\n  }) {\n    const { table } = this;\n    const { merges, cols, rows } = table;\n    const filter = [];\n    const result = [];\n    this.hEach({\n      viewRange,\n      handle: (row, col, x, y) => {\n        const merge = merges.getFirstIncludes(row, col);\n        if (merge && filter.indexOf(merge) === -1) {\n          filter.push(merge);\n          const view = viewRange.coincide(merge);\n          const width = cols.sectionSumWidth(view.sci, view.eci);\n          const height = rows.sectionSumHeight(view.sri, view.eri);\n          const rect = new Rect({ x, y, width, height });\n          result.push({ rect, view, merge });\n        }\n      },\n    });\n    return result;\n  }\n\n  coincideViewBrink({\n    coincideView,\n  }) {\n    const { table } = this;\n    const { cols, rows } = table;\n    const result = [];\n    for (let i = 0; i < coincideView.length; i += 1) {\n      const { view, rect, merge } = coincideView[i];\n      const brink = view.brink();\n      const top = {\n        view: brink.top,\n        x: rect.x,\n        y: rect.y,\n      };\n      const left = {\n        view: brink.left,\n        x: rect.x,\n        y: rect.y,\n      };\n      const bottom = {\n        view: brink.bottom,\n        x: rect.x,\n        y: rect.y + rect.height - rows.rectRangeSumHeight(brink.bottom),\n      };\n      const right = {\n        view: brink.right,\n        x: rect.x + rect.width - cols.rectRangeSumWidth(brink.right),\n        y: rect.y,\n      };\n      const item = {};\n      if (merge.sri === view.sri) {\n        item.top = top;\n      }\n      if (merge.sci === view.sci) {\n        item.left = left;\n      }\n      if (merge.eri === view.eri) {\n        item.bottom = bottom;\n      }\n      if (merge.eci === view.eci) {\n        item.right = right;\n      }\n      result.push(item);\n    }\n    return result;\n  }\n}\n\nexport { LineHandle };\n","import { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\nimport { Rows } from './Rows';\nimport { Cols } from './Cols';\nimport { Scroll } from './Scroll';\nimport { Fixed } from './Fixed';\nimport { h } from '../../lib/Element';\nimport { Widget } from '../../lib/Widget';\nimport { RectRange } from './RectRange';\nimport { Merges } from './Merges';\nimport { Constant } from '../../utils/Constant';\nimport { EventBind } from '../../utils/EventBind';\nimport { Screen } from './screen/Screen';\nimport { ScreenSelector } from './selector/ScreenSelector';\nimport { ScreenCopyStyle } from './copystyle/ScreenCopyStyle';\nimport { XReSizer } from './resizer/XReSizer';\nimport { YReSizer } from './resizer/YReSizer';\nimport { MousePointType } from './MousePoint';\nimport { ScreenAutoFill } from './autofill/ScreenAutoFill';\nimport { XHeightLight } from './highlight/XHeightLight';\nimport { YHeightLight } from './highlight/YHeightLight';\nimport { Edit } from './Edit';\nimport { Cells } from './Cells';\nimport { Draw, floor, npx } from '../../canvas/Draw';\nimport { Font, TEXT_WRAP } from '../../canvas/Font';\nimport { Rect } from '../../canvas/Rect';\nimport { Crop } from '../../canvas/Crop';\nimport { Grid } from '../../canvas/Grid';\nimport { Box } from '../../canvas/Box';\nimport Format from './Format';\nimport { GridLineHandle } from './GridLineHandle';\nimport { DataSnapshot } from './DataSnapshot';\nimport { BorderLineHandle } from './BorderLineHandle';\nimport { Line, LINE_TYPE } from '../../canvas/Line';\nimport { LineHandle } from './LineHandle';\n\nclass FrozenLeftTop {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { fixed, cols } = table;\n    const { fxLeft } = fixed;\n    return cols.sectionSumWidth(0, fxLeft);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { fixed, rows } = table;\n    const { fxTop } = fixed;\n    return rows.sectionSumHeight(0, fxTop);\n  }\n\n  getViewRange() {\n    const width = this.getWidth();\n    const height = this.getHeight();\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop, fxLeft } = fixed;\n    return new RectRange(0, 0, fxTop, fxLeft, width, height);\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cells,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    cells.getCellInViewRange(viewRange, (i, c, cell, rect) => {\n      // 绘制背景\n      rect.expandSize(grid.lineWidth());\n      const box = new Box({ draw, rect });\n      box.drawBackgroundColor(cell.background);\n    });\n    cells.getMergeCellInViewRange(viewRange, (rect, cell) => {\n      // 绘制背景\n      rect.expandSize(grid.lineWidth());\n      const box = new Box({ draw, rect });\n      box.drawBackgroundColor(cell.background);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    draw.attr({\n      globalAlpha: 0.3,\n    });\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cells, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    cells.getCellInViewRange(viewRange, (i, c, cell, rect, overflow) => {\n      // 绘制文字\n      const font = new Font({\n        text: Format(cell.format, cell.text),\n        rect: rect.expandSize(grid.lineWidth()),\n        dw: draw,\n        overflow,\n        attr: cell.fontAttr,\n      });\n      font.draw();\n    });\n    cells.getMergeCellInViewRange(viewRange, (rect, cell) => {\n      // 绘制文字\n      const font = new Font({\n        text: Format(cell.format, cell.text),\n        rect: rect.expandSize(grid.lineWidth()),\n        dw: draw,\n        overflow: null,\n        attr: cell.fontAttr,\n      });\n      font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n      font.draw();\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const viewRange = this.getViewRange();\n    const rect = new Rect({\n      x: offsetX,\n      y: offsetY,\n      width: viewRange.w,\n      height: viewRange.h,\n    });\n    const crop = new Crop({ draw, rect, offset: grid.lineWidth() });\n    crop.open();\n    this.drawBackGround(viewRange, offsetX, offsetY);\n    if (settings.table.showGrid) {\n      this.drawGrid(viewRange, offsetX, offsetY);\n    }\n    this.drawBorder(viewRange, offsetX, offsetY);\n    this.drawCells(viewRange, offsetX, offsetY);\n    crop.close();\n  }\n}\n\nclass Content {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxLeft } = fixed;\n    const { width } = index;\n    const fixedLeftWidth = table.cols.sectionSumWidth(0, fxLeft);\n    return fixedLeftWidth + width;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxTop } = fixed;\n    const { height } = index;\n    const fixedTopHeight = table.rows.sectionSumHeight(0, fxTop);\n    return height + fixedTopHeight;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxLeft } = fixed;\n    const { width } = index;\n    const fixedLeftWidth = table.cols.sectionSumWidth(0, fxLeft);\n    return table.visualWidth() - (fixedLeftWidth + width);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxTop } = fixed;\n    const { height } = index;\n    const fixedTopHeight = table.rows.sectionSumHeight(0, fxTop);\n    return table.visualHeight() - (height + fixedTopHeight);\n  }\n\n  getContentWidth() {\n    const { table } = this;\n    const { cols, fixed } = table;\n    const total = cols.totalWidth();\n    const fixedWidth = cols.sectionSumWidth(0, fixed.fxLeft);\n    return total - fixedWidth;\n  }\n\n  getContentHeight() {\n    const { table } = this;\n    const { rows, fixed } = table;\n    const total = rows.totalHeight();\n    const fixedHeight = rows.sectionSumHeight(0, fixed.fxTop);\n    return total - fixedHeight;\n  }\n\n  getViewRange() {\n    const { table } = this;\n    return table.getViewRange();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cells,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    cells.getCellInViewRange(viewRange, (i, c, cell, rect) => {\n      // 绘制背景\n      rect.expandSize(grid.lineWidth());\n      const box = new Box({ draw, rect });\n      box.drawBackgroundColor(cell.background);\n    });\n    cells.getMergeCellInViewRange(viewRange, (rect, cell) => {\n      // 绘制背景\n      rect.expandSize(grid.lineWidth());\n      const box = new Box({ draw, rect });\n      box.drawBackgroundColor(cell.background);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    draw.attr({\n      globalAlpha: 0.3,\n    });\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cells, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    cells.getCellInViewRange(viewRange, (i, c, cell, rect, overflow) => {\n      // 绘制文字\n      const font = new Font({\n        text: Format(cell.format, cell.text),\n        rect: rect.expandSize(grid.lineWidth()),\n        dw: draw,\n        overflow,\n        attr: cell.fontAttr,\n      });\n      font.draw();\n    });\n    cells.getMergeCellInViewRange(viewRange, (rect, cell) => {\n      // 绘制文字\n      const font = new Font({\n        text: Format(cell.format, cell.text),\n        rect: rect.expandSize(grid.lineWidth()),\n        dw: draw,\n        overflow: null,\n        attr: cell.fontAttr,\n      });\n      font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n      font.draw();\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const viewRange = this.getViewRange();\n    const width = viewRange.w;\n    const height = viewRange.h;\n    const rect = new Rect({\n      x: offsetX,\n      y: offsetY,\n      width,\n      height,\n    });\n    const crop = new Crop({ draw, rect, offset: grid.lineWidth() });\n    crop.open();\n    this.drawBackGround(viewRange, offsetX, offsetY);\n    if (settings.table.showGrid) {\n      this.drawGrid(viewRange, offsetX, offsetY);\n    }\n    this.drawBorder(viewRange, offsetX, offsetY);\n    this.drawCells(viewRange, offsetX, offsetY);\n    crop.close();\n  }\n}\n\nclass FixedLeft {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const { width } = index;\n    return width;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { content } = table;\n    return content.getYOffset();\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    // console.log('table.cols >>>', table.cols);\n    return table.cols.sectionSumWidth(0, fxLeft);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const viewRange = table.getViewRange();\n    return viewRange.h;\n  }\n\n  getViewRange() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    const viewRange = table.getViewRange();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sci = 0;\n    viewRange.eci = fxLeft;\n    viewRange.w = width;\n    viewRange.h = height;\n    return viewRange;\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cells,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    cells.getCellInViewRange(viewRange, (i, c, cell, rect) => {\n      // 绘制背景\n      rect.expandSize(grid.lineWidth());\n      const box = new Box({ draw, rect });\n      box.drawBackgroundColor(cell.background);\n    });\n    cells.getMergeCellInViewRange(viewRange, (rect, cell) => {\n      // 绘制背景\n      rect.expandSize(grid.lineWidth());\n      const box = new Box({ draw, rect });\n      box.drawBackgroundColor(cell.background);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    draw.attr({\n      globalAlpha: 0.3,\n    });\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cells, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    cells.getCellInViewRange(viewRange, (i, c, cell, rect, overflow) => {\n      // 绘制文字\n      const font = new Font({\n        text: Format(cell.format, cell.text),\n        rect: rect.expandSize(grid.lineWidth()),\n        dw: draw,\n        overflow,\n        attr: cell.fontAttr,\n      });\n      font.draw();\n    });\n    cells.getMergeCellInViewRange(viewRange, (rect, cell) => {\n      // 绘制文字\n      const font = new Font({\n        text: Format(cell.format, cell.text),\n        rect: rect.expandSize(grid.lineWidth()),\n        dw: draw,\n        overflow: null,\n        attr: cell.fontAttr,\n      });\n      font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n      font.draw();\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, settings } = table;\n    const viewRange = this.getViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const rect = new Rect({\n      x: offsetX,\n      y: offsetY,\n      width: viewRange.w,\n      height: viewRange.h,\n    });\n    const crop = new Crop({ draw, rect });\n    crop.open();\n    this.drawBackGround(viewRange, offsetX, offsetY);\n    if (settings.table.showGrid) {\n      this.drawGrid(viewRange, offsetX, offsetY);\n    }\n    this.drawBorder(viewRange, offsetX, offsetY);\n    this.drawCells(viewRange, offsetX, offsetY);\n    crop.close();\n  }\n}\n\nclass FixedTop {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { content } = table;\n    return content.getXOffset();\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const { height } = index;\n    return height;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const viewRange = table.getViewRange();\n    return viewRange.w;\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    return table.rows.sectionSumHeight(0, fxTop);\n  }\n\n  getViewRange() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const viewRange = table.getViewRange();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sri = 0;\n    viewRange.eri = fxTop;\n    viewRange.w = width;\n    viewRange.h = height;\n    return viewRange;\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cells,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    cells.getCellInViewRange(viewRange, (i, c, cell, rect) => {\n      // 绘制背景\n      rect.expandSize(grid.lineWidth());\n      const box = new Box({ draw, rect });\n      box.drawBackgroundColor(cell.background);\n    });\n    cells.getMergeCellInViewRange(viewRange, (rect, cell) => {\n      // 绘制背景\n      rect.expandSize(grid.lineWidth());\n      const box = new Box({ draw, rect });\n      box.drawBackgroundColor(cell.background);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    draw.attr({\n      globalAlpha: 0.3,\n    });\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cells, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    cells.getCellInViewRange(viewRange, (i, c, cell, rect, overflow) => {\n      // 绘制文字\n      const font = new Font({\n        text: Format(cell.format, cell.text),\n        rect: rect.expandSize(grid.lineWidth()),\n        dw: draw,\n        overflow,\n        attr: cell.fontAttr,\n      });\n      font.draw();\n    });\n    cells.getMergeCellInViewRange(viewRange, (rect, cell) => {\n      // 绘制文字\n      const font = new Font({\n        text: Format(cell.format, cell.text),\n        rect: rect.expandSize(grid.lineWidth()),\n        dw: draw,\n        overflow: null,\n        attr: cell.fontAttr,\n      });\n      font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n      font.draw();\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const viewRange = this.getViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const rect = new Rect({\n      x: offsetX,\n      y: offsetY,\n      width: viewRange.w,\n      height: viewRange.h,\n    });\n    const crop = new Crop({ draw, rect, offset: grid.lineWidth() });\n    crop.open();\n    this.drawBackGround(viewRange, offsetX, offsetY);\n    if (settings.table.showGrid) {\n      this.drawGrid(viewRange, offsetX, offsetY);\n    }\n    this.drawBorder(viewRange, offsetX, offsetY);\n    this.drawCells(viewRange, offsetX, offsetY);\n    crop.close();\n  }\n}\n\nclass FrozenLeftIndex {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    return 0;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    return table.rows.sectionSumHeight(0, fxTop);\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, rows, settings,\n    } = table;\n    const { sri, eri } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      draw.fillText(i + 1, width / 2, y + (ch / 2));\n    });\n    // 绘制边框\n    let lineHeight = 0;\n    draw.attr({\n      globalAlpha: 0.3,\n      strokeStyle: settings.table.borderColor,\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      lineHeight += ch;\n      grid.horizontalLine(0, y, width, y);\n    });\n    grid.verticalLine(width, 0, width, lineHeight);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    const viewRange = new RectRange(0, 0, fxTop, 0, width, height);\n    this.draw(viewRange, offsetX, offsetY, width, height);\n  }\n}\n\nclass FrozenTopIndex {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getYOffset() {\n    return 0;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    return table.cols.sectionSumWidth(0, fxLeft);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, cols, settings,\n    } = table;\n    const { sci, eci } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      draw.fillText(Utils.stringAt(i), x + (cw / 2), height / 2);\n    });\n    // 绘制边框\n    let lineWidth = 0;\n    draw.attr({\n      globalAlpha: 0.3,\n      strokeStyle: settings.table.borderColor,\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      lineWidth += cw;\n      grid.verticalLine(x, 0, x, height);\n    });\n    grid.horizontalLine(0, height, lineWidth, height);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    const viewRange = new RectRange(0, 0, 0, fxLeft, width, height);\n    this.draw(viewRange, offsetX, offsetY, width, height);\n  }\n}\n\nclass FixedTopIndex {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { content } = table;\n    return content.getXOffset();\n  }\n\n  getYOffset() {\n    return 0;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const viewRange = table.getViewRange();\n    const { sci, eci } = viewRange;\n    return table.cols.sectionSumWidth(sci, eci);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, cols, settings,\n    } = table;\n    const { sci, eci } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      draw.fillText(Utils.stringAt(i), x + (cw / 2), height / 2);\n    });\n    // 绘制边框\n    let lineWidth = 0;\n    draw.attr({\n      globalAlpha: 0.3,\n      strokeStyle: settings.table.borderColor,\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      lineWidth += cw;\n      grid.verticalLine(x, 0, x, height);\n      if (i === eci) grid.verticalLine(x + cw, 0, x + cw, height);\n    });\n    grid.horizontalLine(0, height, lineWidth, height);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const viewRange = table.getViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sri = 0;\n    viewRange.eri = 0;\n    this.draw(viewRange, offsetX, offsetY, width, height);\n  }\n}\n\nclass FixedLeftIndex {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    return 0;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { content } = table;\n    return content.getYOffset();\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getHeight() {\n    const { table } = this;\n    const viewRange = table.getViewRange();\n    const { sri, eri } = viewRange;\n    return table.rows.sectionSumHeight(sri, eri);\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, rows, settings,\n    } = table;\n    const { sri, eri } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      draw.fillText(i + 1, width / 2, y + (ch / 2));\n    });\n    // 绘制边框\n    let lineHeight = 0;\n    draw.attr({\n      globalAlpha: 0.3,\n      strokeStyle: settings.table.borderColor,\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      lineHeight += ch;\n      grid.horizontalLine(0, y, width, y);\n      if (i === eri) grid.horizontalLine(0, y + ch, width, y + ch);\n    });\n    grid.verticalLine(width, 0, width, lineHeight);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const viewRange = table.getViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sci = 0;\n    viewRange.eci = 0;\n    this.draw(viewRange, offsetX, offsetY, width, height);\n  }\n}\n\nclass FrozenRect {\n  constructor(table) {\n    this.table = table;\n  }\n\n  draw(offsetX, offsetY, width, height) {\n    const { table } = this;\n    const { draw } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f4f5f8',\n    });\n    draw.fillRect(0, 0, width, height);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    this.draw(0, 0, index.width, index.height);\n  }\n}\n\nconst defaultSettings = {\n  tipsRenderTime: false,\n  tipsScrollTime: false,\n  index: {\n    height: 30,\n    width: 50,\n    bgColor: '#f4f5f8',\n    color: '#000000',\n  },\n  table: {\n    background: '#ffffff',\n    borderColor: '#a7a7a7',\n    showGrid: true,\n  },\n  data: [],\n  rows: {\n    len: 1000,\n    height: 30,\n  },\n  cols: {\n    len: 26,\n    width: 137,\n  },\n  merges: [],\n  fixed: {\n    fxTop: -1,\n    fxLeft: -1,\n    fxRight: -1,\n  },\n};\n\nclass Table extends Widget {\n\n  constructor(settings) {\n    super(`${cssPrefix}-table`);\n    this.viewRange = null;\n    this.canvas = h('canvas', `${cssPrefix}-table-canvas`);\n    this.settings = Utils.mergeDeep({}, defaultSettings, settings);\n    this.fixed = new Fixed(this.settings.fixed);\n    this.rows = new Rows(this.settings.rows);\n    this.cols = new Cols(this.settings.cols);\n    this.cells = new Cells({\n      table: this,\n      rows: this.rows,\n      cols: this.cols,\n      data: this.settings.data,\n    });\n    this.merges = new Merges(this.settings.merges);\n    this.scroll = new Scroll(this);\n    // 表格线段处理\n    this.lineHandle = new LineHandle(this);\n    this.gridLineHandle = new GridLineHandle(this);\n    this.borderLineHandle = new BorderLineHandle(this);\n    // 撤销/反撤销\n    this.dataSnapshot = new DataSnapshot(this);\n    // 鼠标指针\n    this.mousePointType = new MousePointType(this);\n    // canvas 绘制资源\n    this.draw = new Draw(this.canvas.el);\n    this.line = new Line(this.draw, {\n      leftShow: (row, col) => this.cells.isDisplayLeftBorder(row, col),\n      topShow: (row, col) => this.cells.isDisplayTopBorder(row, col),\n      rightShow: (row, col) => this.cells.isDisplayRightBorder(row, col),\n      bottomShow: (row, col) => this.cells.isDisplayBottomBorder(row, col),\n      iFMerge: (row, col) => this.merges.getFirstIncludes(row, col) !== null,\n      iFMergeFirstRow: (row, col) => this.merges.getFirstIncludes(row, col).sri === row,\n      iFMergeLastRow: (row, col) => this.merges.getFirstIncludes(row, col).eri === row,\n      iFMergeFirstCol: (row, col) => this.merges.getFirstIncludes(row, col).sci === col,\n      iFMergeLastCol: (row, col) => this.merges.getFirstIncludes(row, col).eci === col,\n    });\n    this.grid = new Grid(this.draw, {\n      color: this.settings.table.borderColor,\n    });\n    // table表绘制的各个部分\n    this.content = new Content(this);\n    this.fixedLeft = new FixedLeft(this);\n    this.fixedTop = new FixedTop(this);\n    this.fixedTopIndex = new FixedTopIndex(this);\n    this.fixedLeftIndex = new FixedLeftIndex(this);\n    this.frozenLeftTop = new FrozenLeftTop(this);\n    this.frozenLeftIndex = new FrozenLeftIndex(this);\n    this.frozenTopIndex = new FrozenTopIndex(this);\n    this.frozenRect = new FrozenRect(this);\n    // table基础组件\n    this.screen = new Screen(this);\n    this.xReSizer = new XReSizer(this);\n    this.yReSizer = new YReSizer(this);\n    this.xHeightLight = new XHeightLight(this);\n    this.yHeightLight = new YHeightLight(this);\n    this.edit = new Edit(this);\n    this.children(this.canvas);\n    this.children(this.screen);\n    this.children(this.xReSizer);\n    this.children(this.yReSizer);\n    this.children(this.xHeightLight);\n    this.children(this.yHeightLight);\n    this.children(this.edit);\n    this.bind();\n  }\n\n  initScreenWidget() {\n    const { dataSnapshot } = this;\n    // 单元格筛选组件\n    const screenSelector = new ScreenSelector(this.screen);\n    screenSelector.addSelectChangeCb(() => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE);\n    });\n    screenSelector.addDownSelectCb(() => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN);\n    });\n    this.screen.addWidget(screenSelector);\n    // 自动填充组件\n    const screenAutoFill = new ScreenAutoFill(this.screen, {\n      onAfterAutoFill: (count) => {\n        if (count > 0) {\n          dataSnapshot.snapshot(true);\n        }\n      },\n    });\n    this.screen.addWidget(screenAutoFill);\n    // 样式复制\n    const copyStyle = new ScreenCopyStyle(this.screen, {});\n    this.screen.addWidget(copyStyle);\n  }\n\n  init() {\n    this.initScreenWidget();\n    this.screen.init();\n    this.xReSizer.init();\n    this.yReSizer.init();\n    this.xHeightLight.init();\n    this.yHeightLight.init();\n    this.edit.init();\n    this.resize();\n  }\n\n  checkedEnableBorderDrawOptimization() {\n    const viewRange = this.getViewRange();\n    let enable = true;\n    this.cells.getCellInRectRange(viewRange, (r, c, cell) => {\n      const { borderAttr } = cell;\n      const { top, left, right, bottom } = borderAttr;\n      if (top.type === LINE_TYPE.DOUBLE_LINE) {\n        enable = false;\n        return enable;\n      }\n      if (left.type === LINE_TYPE.DOUBLE_LINE) {\n        enable = false;\n        return enable;\n      }\n      if (right.type === LINE_TYPE.DOUBLE_LINE) {\n        enable = false;\n        return enable;\n      }\n      if (bottom.type === LINE_TYPE.DOUBLE_LINE) {\n        enable = false;\n        return enable;\n      }\n      return true;\n    });\n    if (enable) {\n      this.borderLineHandle.openDrawOptimization();\n    } else {\n      this.borderLineHandle.closeDrawOptimization();\n    }\n  }\n\n  bind() {\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      const { x, y } = this.computeEventXy(e);\n      const { ri, ci } = this.getRiCiByXy(x, y);\n      if (ri === -1 && ci === -1) {\n        this.mousePointType.set('cell', 'table-cell');\n      } else if (ri === -1) {\n        this.mousePointType.set('s-resize', 'table-ci');\n      } else if (ci === -1) {\n        this.mousePointType.set('e-resize', 'table-ri');\n      } else {\n        this.mousePointType.set('cell', 'table-cell');\n      }\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      this.viewRange = null;\n      this.render();\n    });\n    EventBind.bind(this, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, () => {\n      this.viewRange = null;\n      this.render();\n    });\n    EventBind.bind(this, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, () => {\n      this.viewRange = null;\n      this.render();\n    });\n  }\n\n  resize() {\n    const { draw } = this;\n    const [width, height] = [this.visualWidth(), this.visualHeight()];\n    draw.resize(width, height);\n    this.viewRange = null;\n    this.render();\n  }\n\n  clear() {\n    const { draw, settings } = this;\n    const { width, height } = draw;\n    draw.attr({\n      fillStyle: settings.table.background,\n    });\n    draw.fillRect(0, 0, width, height);\n  }\n\n  render() {\n    const { settings, fixed } = this;\n    if (settings.tipsRenderTime) {\n      // eslint-disable-next-line no-console\n      console.time();\n    }\n    this.checkedEnableBorderDrawOptimization();\n    this.clear();\n    this.frozenRect.render();\n    // 渲染固定冻结的内容\n    if (fixed.fxLeft > -1 && fixed.fxTop > -1) {\n      this.frozenLeftTop.render();\n    }\n    if (fixed.fxTop > -1) {\n      this.fixedTop.render();\n    }\n    if (fixed.fxLeft > -1) {\n      this.fixedLeft.render();\n    }\n    // 表格内容渲染\n    this.content.render();\n    // 冻结索引渲染\n    if (fixed.fxTop > -1) {\n      this.frozenTopIndex.render();\n    }\n    if (fixed.fxLeft > -1) {\n      this.frozenLeftIndex.render();\n    }\n    // 固定索引渲染\n    this.fixedLeftIndex.render();\n    this.fixedTopIndex.render();\n    if (settings.tipsRenderTime) {\n      // eslint-disable-next-line no-console\n      console.log('渲染界面耗时:');\n      // eslint-disable-next-line no-console\n      console.timeEnd();\n    }\n  }\n\n  scrollX(x) {\n    const {\n      cols, fixed, settings, scroll,\n    } = this;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.time();\n    }\n    let { fxLeft } = fixed;\n    fxLeft += 1;\n    const [\n      ci, left, width,\n    ] = Utils.rangeReduceIf(fxLeft, cols.len, 0, 0, x, i => cols.getWidth(i));\n    let x1 = left;\n    if (x > 0) x1 += width;\n    scroll.ci = ci;\n    scroll.x = x1;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.log('滚动条计算耗时:');\n      // eslint-disable-next-line no-console\n      console.timeEnd();\n    }\n    this.trigger(Constant.SYSTEM_EVENT_TYPE.SCROLL);\n  }\n\n  scrollY(y) {\n    const {\n      rows, fixed, settings, scroll,\n    } = this;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.time();\n    }\n    let { fxTop } = fixed;\n    fxTop += 1;\n    const [\n      ri, top, height,\n    ] = Utils.rangeReduceIf(fxTop, rows.len, 0, 0, y, i => rows.getHeight(i));\n    let y1 = top;\n    if (y > 0) y1 += height;\n    scroll.ri = ri;\n    scroll.y = y1;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.log('滚动条计算耗时:');\n      // eslint-disable-next-line no-console\n      console.timeEnd();\n    }\n    this.trigger(Constant.SYSTEM_EVENT_TYPE.SCROLL);\n  }\n\n  visualHeight() {\n    return this.box().height;\n  }\n\n  visualWidth() {\n    return this.box().width;\n  }\n\n  getRiCiByXy(x, y) {\n    const {\n      settings, fixed, rows, cols,\n    } = this;\n    const { index } = settings;\n    const fixedHeight = this.fixedTop.getHeight();\n    const fixedWidth = this.fixedLeft.getWidth();\n\n    let [left, top] = [x, y];\n    let [ci, ri] = [-1, -1];\n\n    left -= index.width;\n    top -= index.height;\n\n    // left\n    if (left <= fixedWidth && x > index.width) {\n      let total = 0;\n      for (let i = 0; i <= fixed.fxLeft; i += 1) {\n        const width = cols.getWidth(i);\n        total += width;\n        ci = i;\n        if (total > left) break;\n      }\n    } else if (x > index.width) {\n      let total = fixedWidth;\n      const viewRange = this.getViewRange();\n      for (let i = viewRange.sci; i <= viewRange.eci; i += 1) {\n        const width = cols.getWidth(i);\n        total += width;\n        ci = i;\n        if (total > left) break;\n      }\n      // console.log('ci >>', ci);\n    }\n\n    // top\n    if (top < fixedHeight && y > index.height) {\n      let total = 0;\n      for (let i = 0; i <= fixed.fxTop; i += 1) {\n        const height = rows.getHeight(i);\n        total += height;\n        ri = i;\n        if (total > top) break;\n      }\n    } else if (y > index.height) {\n      let total = fixedHeight;\n      const viewRange = this.getViewRange();\n      for (let i = viewRange.sri; i <= viewRange.eri; i += 1) {\n        const height = rows.getHeight(i);\n        total += height;\n        ri = i;\n        if (total > top) break;\n      }\n      // console.log('ri >>', ri);\n    }\n\n    return {\n      ri, ci,\n    };\n  }\n\n  getViewRange() {\n    if (this.viewRange === null) {\n      const {\n        rows, cols, scroll, content,\n      } = this;\n      let [width, height] = [0, 0];\n      const { ri, ci } = scroll;\n      let [eri, eci] = [rows.len, cols.len];\n      for (let i = ri; i < rows.len; i += 1) {\n        height += rows.getHeight(i);\n        eri = i;\n        if (height > content.getHeight()) break;\n      }\n      for (let j = ci; j < cols.len; j += 1) {\n        width += cols.getWidth(j);\n        eci = j;\n        if (width > content.getWidth()) break;\n      }\n      this.viewRange = new RectRange(ri, ci, eri, eci, width, height);\n    }\n    return this.viewRange.clone();\n  }\n\n  getFixedWidth() {\n    return this.fixedLeft.getWidth();\n  }\n\n  getFixedHeight() {\n    return this.fixedTop.getHeight();\n  }\n\n  getIndexWidth() {\n    const { settings } = this;\n    return settings.index.width;\n  }\n\n  getIndexHeight() {\n    const { settings } = this;\n    return settings.index.height;\n  }\n\n  getContentWidth() {\n    return this.content.getContentWidth();\n  }\n\n  getContentHeight() {\n    return this.content.getContentHeight();\n  }\n\n  getCell(ri, ci) {\n    const { cells } = this;\n    return Utils.mergeDeep({}, cells.getCell(ri, ci));\n  }\n\n  setCell(ri, ci, cell) {\n    const { cells, dataSnapshot } = this;\n    Utils.mergeDeep(cells.getCellOrNew(ri, ci), cell);\n    dataSnapshot.snapshot(true);\n    this.render();\n  }\n\n  setWidth(ci, width) {\n    const { cols } = this;\n    cols.setWidth(ci, floor(width));\n    this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH);\n  }\n\n  setHeight(ri, height) {\n    const { rows } = this;\n    rows.setHeight(ri, floor(height));\n    this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT);\n  }\n\n  toString() {\n    const data = {\n      rows: {\n        data: this.rows.getData(),\n      },\n      cols: {\n        data: this.cols.getData(),\n      },\n      merges: {\n        data: this.merges.getData(),\n      },\n    };\n    return JSON.stringify(data);\n  }\n}\n\nexport { Table };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { Table } from '../table/Table';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\n\nclass Sheet extends Widget {\n  constructor(options = {\n    tableConfig: {\n      data: [],\n      merges: [],\n    },\n  }) {\n    super(`${cssPrefix}-sheet`);\n    this.options = options;\n    // console.log('this.options.tableConfig >>>', this.options.tableConfig);\n    this.table = new Table(this.options.tableConfig);\n    this.children(this.table);\n    this.bind();\n  }\n\n  init() {\n    this.table.init();\n  }\n\n  bind() {\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      // console.log('change width');\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, this);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, this);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, this);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN, this);\n      e.stopPropagation();\n    });\n  }\n}\n\nexport { Sheet };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { Sheet } from './Sheet';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\n\nclass SheetView extends Widget {\n  constructor() {\n    super(`${cssPrefix}-sheet-view`);\n    this.sheetList = [];\n    this.activeIndex = -1;\n  }\n\n  add(sheet = new Sheet()) {\n    this.sheetList.push(sheet);\n    this.children(sheet);\n    sheet.init();\n    sheet.hide();\n    // console.log(sheet);\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      // console.log('e>>>', e);\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH);\n      e.stopPropagation();\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      // console.log('e>>>', e);\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT);\n      e.stopPropagation();\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.DATA_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN, this);\n      e.stopPropagation();\n    });\n    return this.sheetList.length - 1;\n  }\n\n  getActiveSheet() {\n    return this.sheetList[this.activeIndex];\n  }\n\n  setActiveSheet(index) {\n    const { sheetList } = this;\n    if (sheetList[index]) {\n      this.activeIndex = index;\n      return this.setActive(sheetList[index]);\n    }\n    return null;\n  }\n\n  setActive(sheet) {\n    sheet.show();\n    sheet.sibling().forEach((item) => {\n      item.hide();\n    });\n    return sheet;\n  }\n}\n\nexport { SheetView };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\n\nlet number = 0;\n\nclass Tab extends Widget {\n  constructor(name = `${number += 1}-tab`) {\n    super(`${cssPrefix}-sheet-tab`);\n    this.setName(name);\n  }\n\n  setName(name) {\n    this.name = name;\n    this.text(this.name);\n  }\n}\n\nexport { Tab };\n","/* global window document */\n\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { VerticalLayer } from '../../lib/layer/VerticalLayer';\nimport { HorizontalLayer } from '../../lib/layer/HorizontalLayer';\nimport { VerticalLayerElement } from '../../lib/layer/VerticalLayerElement';\nimport { ScrollBarX } from '../../component/scrollbar/ScrollBarX';\nimport { ScrollBarY } from '../../component/scrollbar/ScrollBarY';\nimport { HorizontalLayerElement } from '../../lib/layer/HorizontalLayerElement';\nimport { VerticalCenterElement } from '../../lib/layer/center/VerticalCenterElement';\nimport { VerticalCenter } from '../../lib/layer/center/VerticalCenter';\nimport { Constant } from '../../utils/Constant';\nimport { SheetView } from './SheetView';\nimport { TabView } from './TabView';\nimport { Utils } from '../../utils/Utils';\nimport { Sheet } from './Sheet';\nimport { Tab } from './Tab';\nimport { EventBind } from '../../utils/EventBind';\nimport { h } from '../../lib/Element';\n\n// sheet表和垂直滚动条\nlet sheetViewLayerHorizontalElement;\nlet scrollBarYLayerHorizontalElement;\nlet horizontalLayer1;\n\n// sheetTab选修卡和水平滚动条\nlet scrollBarXLayerVerticalCenterElement;\nlet scrollBarXVerticalCenter;\nlet scrollBarXLayerHorizontalElement;\nlet sheetSwitchTabLayerHorizontalElement;\nlet horizontalLayer2;\n\n// 根布局\nlet horizontalLayer1LayerVerticalElement;\nlet horizontalLayer2Layer1LayerVerticalElement;\nlet layerVerticalLayer;\n\nclass WorkBody extends Widget {\n  constructor(work, options = { sheets: [] }) {\n    super(`${cssPrefix}-work-body`);\n    this.work = work;\n    this.workConfig = options;\n    this.sheets = this.workConfig.sheets;\n    this.tabAndSheet = [];\n    // 产品标识\n    this.poweredBy = h('div', `${cssPrefix}-powered-by-tips`);\n    this.poweredBy.text('X-Sheet Powered by ©深为科技(Svell)');\n    this.children(this.poweredBy);\n    // 组件\n    this.sheetView = new SheetView();\n    this.tabView = new TabView({\n      onAdd: (tab, tabIndex) => {\n        const { sheetView } = this;\n        const sheet = new Sheet();\n        const sheetIndex = sheetView.add(sheet);\n        this.tabAndSheet.push({\n          tab,\n          sheet,\n          tabIndex,\n          sheetIndex,\n        });\n      },\n      onSwitch: (tab) => {\n        this.setActiveTab(tab);\n      },\n    });\n    this.scrollBarX = new ScrollBarX({\n      scroll: (move) => {\n        const sheet = this.sheetView.getActiveSheet();\n        sheet.table.scrollX(move);\n      },\n    });\n    this.scrollBarY = new ScrollBarY({\n      scroll: (move) => {\n        const sheet = this.sheetView.getActiveSheet();\n        sheet.table.scrollY(move);\n      },\n    });\n    // sheet表和垂直滚动条\n    sheetViewLayerHorizontalElement = new HorizontalLayerElement(this.sheetView, {\n      style: {\n        flexGrow: 1,\n      },\n    });\n    scrollBarYLayerHorizontalElement = new HorizontalLayerElement(this.scrollBarY, {\n      style: {\n        overflow: 'inherit',\n      },\n    });\n    horizontalLayer1 = new HorizontalLayer({\n      layerElements: [sheetViewLayerHorizontalElement, scrollBarYLayerHorizontalElement],\n    });\n    // sheetTab选修卡和水平滚动条\n    scrollBarXLayerVerticalCenterElement = new VerticalCenterElement(this.scrollBarX);\n    scrollBarXVerticalCenter = new VerticalCenter({\n      centerElements: [scrollBarXLayerVerticalCenterElement],\n    });\n    scrollBarXLayerHorizontalElement = new HorizontalLayerElement(scrollBarXVerticalCenter, {\n      style: {\n        flexGrow: 2,\n      },\n    });\n    sheetSwitchTabLayerHorizontalElement = new HorizontalLayerElement(this.tabView, {\n      style: {\n        flexGrow: 3,\n      },\n    });\n    horizontalLayer2 = new HorizontalLayer({\n      layerElements: [sheetSwitchTabLayerHorizontalElement, scrollBarXLayerHorizontalElement],\n    });\n    // 根布局\n    horizontalLayer1LayerVerticalElement = new VerticalLayerElement(horizontalLayer1, {\n      style: {\n        flexGrow: 1,\n      },\n    });\n    horizontalLayer2Layer1LayerVerticalElement = new VerticalLayerElement(horizontalLayer2);\n    layerVerticalLayer = new VerticalLayer({\n      layerElements: [horizontalLayer1LayerVerticalElement,\n        horizontalLayer2Layer1LayerVerticalElement],\n    });\n    // 添加布局\n    this.children(layerVerticalLayer);\n    this.bind();\n  }\n\n  init() {\n    this.sheetView.init();\n    this.tabView.init();\n    this.scrollBarX.init();\n    this.scrollBarY.init();\n    this.initSheet();\n    this.initScroll();\n  }\n\n  initScroll() {\n    const sheet = this.sheetView.getActiveSheet();\n    if (Utils.isUnDef(sheet)) return;\n    const { table } = sheet;\n    const { content, scroll } = table;\n    scrollBarXLayerHorizontalElement.display(content.getWidth() < content.getContentWidth());\n    this.scrollBarY.setSize(content.getHeight(), content.getContentHeight());\n    this.scrollBarX.setSize(content.getWidth(), content.getContentWidth());\n    this.scrollBarY.scrollMove(scroll.y);\n    this.scrollBarX.scrollMove(scroll.x);\n  }\n\n  initSheet() {\n    const { sheetView, tabView } = this;\n    // eslint-disable-next-line no-restricted-syntax\n    for (const item of this.sheets) {\n      // console.log(item);\n      // eslint-disable-next-line no-restricted-syntax\n      const { name } = item;\n      const sheet = new Sheet(item);\n      const tab = new Tab(name);\n      const sheetIndex = sheetView.add(sheet);\n      const tabIndex = tabView.add(tab);\n      this.tabAndSheet.push({\n        tab,\n        sheet,\n        tabIndex,\n        sheetIndex,\n      });\n    }\n    const first = this.tabAndSheet[0];\n    if (first) {\n      this.setActiveTabIndex(first.tabIndex);\n      this.setActiveSheetIndex(first.sheetIndex);\n    }\n  }\n\n  setActiveSheetIndex(index) {\n    const { sheetView } = this;\n    sheetView.setActiveSheet(index);\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    table.resize();\n    this.initScroll();\n  }\n\n  setActiveTabIndex(index) {\n    const { tabView } = this;\n    tabView.setActiveTab(index);\n  }\n\n  setActiveTab(tab) {\n    this.tabAndSheet.forEach((item) => {\n      if (item.tab === tab) {\n        this.setActiveTabIndex(item.tabIndex);\n        this.setActiveSheetIndex(item.sheetIndex);\n        this.trigger(Constant.WORK_BODY_TYPE.CHANGE_ACTIVE);\n      }\n    });\n  }\n\n  bind() {\n    this.on(Constant.SYSTEM_EVENT_TYPE.MOUSE_WHEEL, (evt) => {\n      const sheet = this.sheetView.getActiveSheet();\n      if (Utils.isUnDef(sheet)) return;\n      const { table } = sheet;\n      const { rows, scroll } = table;\n      const { scrollTo } = this.scrollBarY;\n      let { deltaY } = evt;\n      if (evt.detail) deltaY = evt.detail * 40;\n      if (deltaY > 0) {\n        // down\n        this.scrollBarY.scrollMove(scrollTo + rows.getHeight(scroll.ri));\n      } else {\n        // up\n        this.scrollBarY.scrollMove(scrollTo - rows.getHeight(scroll.ri - 1));\n      }\n      if (scroll.blockTop < scroll.maxBlockTop && scroll.blockTop > 0) {\n        evt.preventDefault();\n        evt.stopPropagation();\n      }\n    });\n    EventBind.bind(window, Constant.SYSTEM_EVENT_TYPE.RESIZE, () => {\n      const { sheetView } = this;\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      table.resize();\n      this.initScroll();\n    });\n    EventBind.bind(document, Constant.SYSTEM_EVENT_TYPE.VISIBILITY_CHANGE, () => {\n      const { sheetView } = this;\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      if (!document.hidden) {\n        table.resize();\n      }\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, () => {\n      // console.log('change height');\n      this.initScroll();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, () => {\n      // console.log('change width');\n      this.initScroll();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.DATA_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN, this);\n      e.stopPropagation();\n    });\n  }\n}\n\nexport { WorkBody };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { Utils } from '../../utils/Utils';\nimport { Tab } from './Tab';\n\nclass TabView extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-sheet-switch-tab`);\n    this.last = h('div', `${cssPrefix}-switch-tab-last-btn`);\n    this.next = h('div', `${cssPrefix}-switch-tab-next-btn`);\n    this.content = h('div', `${cssPrefix}-sheet-tab-content`);\n    this.tabs = h('div', `${cssPrefix}-sheet-tab-tabs`);\n    this.plus = h('div', `${cssPrefix}-sheet-tab-plus`);\n    this.content.children(this.tabs);\n    this.children(...[\n      this.last,\n      this.next,\n      this.content,\n      this.plus,\n    ]);\n    this.optiions = Utils.mergeDeep({\n      onAdd(tab) { return tab; },\n      onSwitch(tab) { return tab; },\n    }, options);\n    this.number = 0;\n    this.left = null;\n    this.tabList = [];\n  }\n\n  setActiveTab(index) {\n    const { tabList } = this;\n    if (tabList[index]) {\n      this.setActive(tabList[index]);\n      return tabList[index];\n    }\n    return null;\n  }\n\n  setActive(tab) {\n    tab.addClass('active');\n    tab.sibling().forEach((item) => {\n      item.removeClass('active');\n    });\n  }\n\n  init() {\n    this.bind();\n  }\n\n  bind() {\n    this.plus.on('click', () => {\n      const tab = new Tab();\n      const index = this.addCurrent(tab);\n      this.optiions.onAdd(tab, index);\n    });\n    this.last.on('click', () => {\n      let left = this.left || 0;\n      left += 30;\n      if (left > 0) left = 0;\n      this.left = left;\n      this.tabs.css('marginLeft', `${this.left}px`);\n    });\n    this.next.on('click', () => {\n      const maxWidth = this.content.offset().width;\n      const current = this.tabs.offset().width;\n      const min = -(current - maxWidth);\n      let left = this.left || 0;\n      left -= 30;\n      if (left < min) left = min;\n      this.left = left;\n      this.tabs.css('marginLeft', `${this.left}px`);\n    });\n  }\n\n  add(tab) {\n    this.tabList.push(tab);\n    this.tabs.children(tab);\n    tab.on('click', () => {\n      this.setActive(tab);\n      this.optiions.onSwitch(tab);\n    });\n    return this.tabList.length - 1;\n  }\n\n  addCurrent(tab) {\n    const result = this.add(tab);\n    const maxWidth = this.content.offset().width;\n    const current = this.tabs.offset().width;\n    if (current > maxWidth) {\n      this.left = -(current - maxWidth);\n      this.tabs.css('marginLeft', `${this.left}px`);\n    }\n    return result;\n  }\n}\n\nexport { TabView };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\n\nclass BottomMenu extends Widget {\n  constructor() {\n    super(`${cssPrefix}-bottom-menu`);\n    this.sum = h('div', `${cssPrefix}-bottom-sum`);\n    this.avg = h('div', `${cssPrefix}-bottom-avg`);\n    this.number = h('div', `${cssPrefix}-bottom-number`);\n    this.children(this.sum);\n    this.children(this.avg);\n    this.children(this.number);\n  }\n\n  setSum(val) {\n    this.sum.text(`求和: ${val}`);\n  }\n\n  setAvg(val) {\n    this.avg.text(`平均数: ${val}`);\n  }\n\n  setNumber(val) {\n    this.number.text(`数量: ${val}`);\n  }\n}\n\nexport { BottomMenu };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { VerticalLayer } from '../../lib/layer/VerticalLayer';\nimport { VerticalLayerElement } from '../../lib/layer/VerticalLayerElement';\nimport { WorkTop } from './WorkTop';\nimport { WorkBody } from './WorkBody';\nimport { WorkBottom } from './WorkBottom';\n\nlet topLayerVerticalElement;\nlet bodyLayerVerticalElement;\nlet bottomLayerVerticalElement;\nlet verticalLayer;\n\nclass Work extends Widget {\n  constructor(options = { body: {} }) {\n    super(`${cssPrefix}-work`);\n    this.options = options.workConfig;\n    // 组件\n    this.body = new WorkBody(this, this.options.body);\n    this.bottom = new WorkBottom(this);\n    this.top = new WorkTop(this);\n    // 布局\n    topLayerVerticalElement = new VerticalLayerElement(this.top);\n    bodyLayerVerticalElement = new VerticalLayerElement(this.body, {\n      style: {\n        flexGrow: 1,\n      },\n    });\n    bottomLayerVerticalElement = new VerticalLayerElement(this.bottom);\n    verticalLayer = new VerticalLayer({\n      layerElements: [topLayerVerticalElement,\n        bodyLayerVerticalElement, bottomLayerVerticalElement],\n    });\n    this.children(verticalLayer);\n    this.bottom.bottomMenu.setSum(0);\n    this.bottom.bottomMenu.setAvg(0);\n    this.bottom.bottomMenu.setNumber(0);\n  }\n\n  init() {\n    this.body.init();\n    this.top.init();\n    this.bottom.init();\n  }\n}\n\nexport { Work };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { BottomMenu } from './BottomMenu';\n\nclass WorkBottom extends Widget {\n  constructor(work) {\n    super(`${cssPrefix}-work-bottom`);\n    this.work = work;\n    this.bottomMenu = new BottomMenu();\n    this.children(this.bottomMenu);\n  }\n}\n\nexport { WorkBottom };\n","/* global window, document */\n\nimport { cssPrefix } from './config';\nimport { h } from './lib/Element';\nimport { Work } from './core/work/Work';\nimport { Widget } from './lib/Widget';\nimport './base.less';\nimport './index.less';\n\nclass XSheet extends Widget {\n  constructor(selectors, options = {\n    workConfig: {\n      body: {\n        sheets: [\n          {\n            name: 'default',\n          },\n        ],\n      },\n    },\n  }) {\n    super(`${cssPrefix}`);\n    let root = selectors;\n    if (typeof selectors === 'string') {\n      root = document.querySelector(selectors);\n    }\n    root = h(root);\n    root.children(this);\n    this.work = new Work(options);\n    this.children(this.work);\n    this.work.init();\n  }\n}\n\nif (window) {\n  window.XSheet = XSheet;\n}\n\nexport { XSheet };\n"],"sourceRoot":""}