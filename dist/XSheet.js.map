{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/svg/cell.png","webpack:///./assets/svg/s-resize.png","webpack:///./assets/svg/e-resize.png","webpack:///./src/config.js","webpack:///./src/utils/Utils.js","webpack:///./src/lib/Element.js","webpack:///./src/lib/Widget.js","webpack:///./src/lib/layer/VerticalLayer.js","webpack:///./src/lib/layer/VerticalLayerElement.js","webpack:///./src/core/work/tools/Icon.js","webpack:///./src/core/work/tools/base/Item.js","webpack:///./src/core/work/tools/Undo.js","webpack:///./src/core/work/tools/Redo.js","webpack:///./src/core/work/tools/PaintFormat.js","webpack:///./src/core/work/tools/ClearFormat.js","webpack:///./src/core/work/tools/base/DropDownItem.js","webpack:///./src/utils/Constant.js","webpack:///./src/utils/EventBind.js","webpack:///./src/component/scrollbar/ScrollBarX.js","webpack:///./src/component/scrollbar/ScrollBarY.js","webpack:///./src/lib/layer/HorizontalLayerElement.js","webpack:///./src/lib/layer/HorizontalLayer.js","webpack:///./src/component/elpopup/ElPopUp.js","webpack:///./src/component/elcontextmenu/ELContextMenu.js","webpack:///./src/component/elcontextmenu/ELContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/format/FormatContextMenuItem.js","webpack:///./src/component/elcontextmenu/ELContextMenuDivider.js","webpack:///./src/core/work/tools/contextmenu/format/FormatContextMenu.js","webpack:///./src/core/work/tools/Format.js","webpack:///./src/core/work/tools/contextmenu/font/FontContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/font/FontContextMenu.js","webpack:///./src/core/work/tools/Font.js","webpack:///./src/core/work/tools/contextmenu/fontsize/FontSizeContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/fontsize/FontSizeContextMenu.js","webpack:///./src/core/work/tools/FontSize.js","webpack:///./src/core/work/tools/FontBold.js","webpack:///./src/core/work/tools/FontItalic.js","webpack:///./src/core/work/tools/UnderLine.js","webpack:///./src/core/work/tools/FontStrike.js","webpack:///./src/core/work/tools/contextmenu/fontcolor/FontColorContextMenuItem.js","webpack:///./src/component/dragpanel/DragPanel.js","webpack:///./src/component/colorpicker/ColorPicker.js","webpack:///./src/component/colorarray/ColorItem.js","webpack:///./src/component/colorarray/ColorArray.js","webpack:///./src/core/work/tools/contextmenu/fontcolor/FontColorContextMenu.js","webpack:///./src/core/work/tools/FontColor.js","webpack:///./src/core/work/tools/contextmenu/fillcolor/FillColorContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/fillcolor/FillColorContextMenu.js","webpack:///./src/core/work/tools/FillColor.js","webpack:///./src/core/work/tools/contextmenu/border/bordertype/BorderTypeContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon1.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon2.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon3.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon4.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon5.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon6.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon7.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon8.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon9.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon10.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderColor.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderType.js","webpack:///./src/core/work/tools/contextmenu/border/bordercolor/BorderColorContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/border/bordercolor/BorderColorContextMenu.js","webpack:///./src/core/work/tools/contextmenu/border/linetype/LineTypeContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/border/linetype/LineTypeContextMenu.js","webpack:///./src/canvas/Line.js","webpack:///./src/core/work/tools/contextmenu/border/bordertype/BorderTypeContextMenu.js","webpack:///./src/core/work/tools/contextmenu/icon/border/Border.js","webpack:///./src/core/work/tools/Merge.js","webpack:///./src/core/work/tools/contextmenu/icon/horizontal/HorizontalIcon1.js","webpack:///./src/core/work/tools/contextmenu/icon/horizontal/HorizontalIcon2.js","webpack:///./src/core/work/tools/contextmenu/icon/horizontal/HorizontalIcon3.js","webpack:///./src/core/work/tools/contextmenu/horizontal/HorizontalContextMenuItem.js","webpack:///./src/canvas/Crop.js","webpack:///./src/canvas/Draw.js","webpack:///./src/canvas/Rect.js","webpack:///./src/canvas/DrawAngle.js","webpack:///./src/canvas/Font.js","webpack:///./src/core/work/tools/contextmenu/horizontal/HorizontalContextMenu.js","webpack:///./src/core/work/tools/HorizontalAlign.js","webpack:///./src/core/work/tools/contextmenu/vertical/VerticalContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/icon/vertical/VerticalIcon1.js","webpack:///./src/core/work/tools/contextmenu/icon/vertical/VerticalIcon2.js","webpack:///./src/core/work/tools/contextmenu/icon/vertical/VerticalIcon3.js","webpack:///./src/core/work/tools/contextmenu/vertical/VerticalContextMenu.js","webpack:///./src/core/work/tools/VerticalAlign.js","webpack:///./src/core/work/tools/contextmenu/icon/textwrapping/TextWrappingIcon1.js","webpack:///./src/core/work/tools/contextmenu/icon/textwrapping/TextWrappingIcon2.js","webpack:///./src/core/work/tools/contextmenu/icon/textwrapping/TextWrappingIcon3.js","webpack:///./src/core/work/tools/contextmenu/textwrapping/TextWrappingContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/textwrapping/TextWrappingContextMenu.js","webpack:///./src/core/work/tools/TextWrapping.js","webpack:///./src/core/work/tools/Fixed.js","webpack:///./src/core/work/tools/Filter.js","webpack:///./src/core/work/tools/Functions.js","webpack:///./src/core/table/copystyle/CopyStyle.js","webpack:///./src/core/table/screen/ScreenWidget.js","webpack:///./src/core/table/RectRange.js","webpack:///./src/core/table/copystyle/ScreenCopyStyle.js","webpack:///./src/core/table/selector/Selector.js","webpack:///./src/core/table/selector/ScreenSelector.js","webpack:///./src/core/table/cells/CellFont.js","webpack:///./src/core/table/cells/Border.js","webpack:///./src/core/table/cells/CellBorder.js","webpack:///./src/core/table/cells/Cell.js","webpack:///./src/core/work/TopMenu.js","webpack:///./src/core/work/options/base/Item.js","webpack:///./src/core/work/options/File.js","webpack:///./src/core/work/options/ForMart.js","webpack:///./src/core/work/options/Insert.js","webpack:///./src/core/work/options/Look.js","webpack:///./src/core/work/options/Update.js","webpack:///./src/core/work/TopOption.js","webpack:///./src/core/work/WorkTop.js","webpack:///./src/lib/layer/center/VerticalCenterElement.js","webpack:///./src/lib/layer/center/VerticalCenter.js","webpack:///./src/utils/DateUtils.js","webpack:///./src/core/table/Format.js","webpack:///./src/core/table/Rows.js","webpack:///./src/core/table/Cols.js","webpack:///./src/core/table/Scroll.js","webpack:///./src/core/table/Fixed.js","webpack:///./src/core/table/Merges.js","webpack:///./src/core/table/screen/ScreenElement.js","webpack:///./src/core/table/screen/Screen.js","webpack:///./src/core/table/resizer/XReSizer.js","webpack:///./src/core/table/resizer/YReSizer.js","webpack:///./src/core/table/MousePoint.js","webpack:///./src/core/table/autofill/AutoFill.js","webpack:///./src/core/table/autofill/ScreenAutoFill.js","webpack:///./src/core/table/highlight/XHeightLight.js","webpack:///./src/core/table/highlight/YHeightLight.js","webpack:///./src/core/table/Edit.js","webpack:///./src/canvas/Grid.js","webpack:///./src/canvas/Box.js","webpack:///./src/core/table/gridborder/LineHandle.js","webpack:///./src/core/table/KeyboardManage.js","webpack:///./src/core/table/cells/Cells.js","webpack:///./src/core/table/CellsHelper.js","webpack:///./src/core/table/gridborder/GridLineHandle.js","webpack:///./src/core/table/gridborder/BorderLineHandle.js","webpack:///./src/core/table/datasnapshot/proxy/TableCellDataProxy.js","webpack:///./src/core/table/datasnapshot/record/CellDataRecord.js","webpack:///./src/core/table/datasnapshot/record/MergeDataRecord.js","webpack:///./src/core/table/datasnapshot/proxy/TableMergeDataProxy.js","webpack:///./src/core/table/datasnapshot/TableDataSnapshot.js","webpack:///./src/core/table/Table.js","webpack:///./src/core/work/Sheet.js","webpack:///./src/core/work/SheetView.js","webpack:///./src/core/work/Tab.js","webpack:///./src/core/work/WorkBody.js","webpack:///./src/core/work/TabView.js","webpack:///./src/core/work/BottomMenu.js","webpack:///./src/core/work/Work.js","webpack:///./src/core/work/WorkBottom.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","cssPrefix","alphabets","throttleHandle","DATA_TYPE","Utils","arg","type","toString","json","JSON","stringify","parse","isUnDef","sources","length","forEach","source","keys","v","Array","isArray","isPlainObject","mergeDeep","assign","test","navigator","userAgent","isEmptyObject","e","obj","getPrototypeOf","objOrAry","cb","total","size","min","max","val","isNumber","parseFloat","parseInt","index","str","idx","ret","charCodeAt","expoNet","src","x","y","charAt","indexAt","stringAt","xn","yn","expr2xy","xy2expr","initS","initV","ifv","getV","time","clearTimeout","setTimeout","target","result","sv","tv","equal","leftChain","rightChain","compare2Objects","isNaN","Date","RegExp","String","Number","isPrototypeOf","constructor","indexOf","push","pop","arguments","a1","a2","window","getSelection","focus","range","selectAllChildren","collapseToEnd","document","selection","createRange","moveToElementText","collapse","select","this","isBlank","trim","now","width","innerWidth","height","innerHeight","EMPTY","Nul","Undef","undefined","Element","tag","className","el","createElement","data","eventNames","handler","split","fen","oen","eventName","addEventListener","evt","k","button","stopPropagation","css","top","offsetTop","left","offsetLeft","offsetHeight","offsetWidth","scrollLeft","scrollTop","clientHeight","getBoundingClientRect","parentNode","args","childNodes","ele","child","firstChild","lastChild","removeChild","children","insertBefore","appendChild","previousSibling","nextSibling","createTextNode","contains","classList","add","remove","cls","toggleClass","toggle","flag","addClass","removeClass","active","setAttribute","getAttribute","removeAttribute","content","innerHTML","style","removeProperty","getComputedStyle","computedStyle","display","on","show","hide","innerText","sibling","previousElementSibling","nextElementSibling","position","replace","repeat","right","bottom","message","event","CustomEvent","detail","bubbles","cancelable","dispatchEvent","querySelectorAll","eleArray","item","targetEl","body","h","Widget","element","box","pageX","pageY","eleTop","eleLeft","VerticalLayer","options","layerElements","init","layerElement","VerticalLayerElement","flexGrow","Icon","iconNameEl","Item","Undo","icon","Redo","PaintFormat","sheets","sheet","splice","ClearFormat","DropDownItem","drop","title","text","html","px","cssRemoveKeys","Constant","SYSTEM_EVENT_TYPE","MOUSE_MOVE","toLocaleLowerCase","MOUSE_DOWN","MOUSE_UP","MOUSE_OVER","MOUSE_LEAVE","MOUSE_WHEEL","MOUSE_ENTER","CLICK","KEY_DOWN","KEY_UP","DRAG_START","SCROLL","RESIZE","CHANGE","INPUT","VISIBILITY_CHANGE","TABLE_EVENT_TYPE","CHANGE_HEIGHT","CHANGE_WIDTH","DATA_CHANGE","SELECT_CHANGE","SELECT_DOWN","WORK_BODY_TYPE","CHANGE_ACTIVE","EventBind","fn","removeEventListener","moveFunc","upFunc","xEvtUp","unbind","func","ScrollBarX","option","scroll","to","lastBut","nextBut","block","blockLeft","maxBlockLeft","blockWidth","minBlockWidth","scrollTo","contentWidth","viewPortWidth","isHide","evt1","downEventXy","computeEventXy","mouseMoveUp","evt2","computeScrollTo","preventDefault","contentBox","move","maxTo","ScrollBarY","blockTop","maxBlockTop","blockHeight","minBlockHeight","contentHeight","viewPortHeight","HorizontalLayerElement","HorizontalLayer","EL_POPUP_POSITION","TOP","LEFT","BOTTOM","RIGHT","POOL","ElPopUp","off","scrollBarX","scrollBarY","contentLayerHorizontalElement","scrollBarYLayerHorizontalElement","overflow","horizontalLayer","contentVerticalLayerElement","scrollBarXVerticalLayerElement","verticalLayer","filter","close","scrollbar","elBox","maxWidth","maxHeight","offset","setSize","ELContextMenu","menus","elPopUp","open","ELContextMenuItem","pool","FormatContextMenuItem","desc","iconElement","titleElement","descElement","ELContextMenuDivider","FormatContextMenu","onUpdate","items","update","setActive","addItem","first","setTitle","format","Format","copyProp","contextMenu","setWidth","setEllipsis","formatContextMenu","FontContextMenuItem","FontContextMenu","setActiveByType","Font","fontContextMenu","FontSizeContextMenuItem","FontSizeContextMenu","FontSize","fontSizeContextMenu","FontBold","FontItalic","UnderLine","FontStrike","FontColorContextMenuItem","DRAG_PANEL_POSITION","CENTER","DragPanel","mask","viewPort","ColorPicker","selectCb","dragPanel","color","preViewColorPoint","colorValueTips","colorInput","selectColorPoint","selectColorArea1","selectColorArea2","selectColorArea3","center","colorHuxTips","colorBar","colorBarPoint","cancelButton","selectButton","buttons","hex","len","join","hsx","Math","substring","g","b","rgbToHsb","hexToRgb","rgb","hsb","delta","t1","t2","t3","round","nr","rgbToHex","hsbToRgb","startsWith","match","isHex","parseRgb","e1","xy","centerBox","downSelect","e2","moveSelect","colorBarBox","downHue","moveHue","hexColor","fixHsx","colorValue","hsbToHex","isRgb","change","colorBarPointBox","colorBarPointLeft","selectColorPointBox","selectColorPointLeft","selectColorPointTop","areaColorValue","sliderPosition","hueChange","selectChange","hexToHsb","fixHex","ColorItem","isDark","checkedIcon","ColorArray","colors","activeColor","setActiveByColor","FontColorContextMenu","colorPicker","customizeColorArray","colorArray","reset","array","plus","customize","FontColor","fontColorContextMenu","setIcon","setColor","FillColorContextMenuItem","FillColorContextMenu","FillColor","fillColorContextMenu","BorderTypeContextMenuItem","BorderIcon1","BorderIcon2","BorderIcon3","BorderIcon4","BorderIcon5","BorderIcon6","BorderIcon7","BorderIcon8","BorderIcon9","BorderIcon10","BorderColor","BorderType","BorderColorContextMenuItem","BorderColorContextMenu","LineTypeContextMenuItem","typeIcon","LineTypeContextMenu","LINE_TYPE","SOLID_LINE","DOTTED_LINE","POINT_LINE","DOUBLE_LINE","SolidLine","draw","attr","sx","sy","ex","ey","beginPath","lineWidth","strokeStyle","setLineDash","line","DottedLine","dash","DoubleLine","padding","spacing","leftShow","topShow","rightShow","bottomShow","iFMerge","iFMergeFirstRow","iFMergeLastRow","iFMergeFirstCol","iFMergeLastCol","row","col","pos","external","ifMerge","firstRow","lastRow","firstCol","lastCol","sTopLeftCorner","sTop","sBottom","eBottomLeftCorner","eBottom","eTop","sLeft","sRight","eTopRightCorner","eRight","eLeft","sTopRightCorner","eBottomRightCorner","sBottomLeftCorner","internal","handleExternal","handleInternal","Line","solidLine","dottedLine","pointLine","doubleLine","drawLine","BorderTypeContextMenu","borderIcon1","borderIcon2","borderIcon3","borderIcon4","borderIcon5","div1","borderIcon6","borderIcon7","borderIcon8","borderIcon9","borderIcon10","div2","borderIcons","borderColor","borderType","div3","borderColorAndType","borderColorContextMenu","lineTypeContextMenu","closeAll","isOpen","Border","borderTypeContextMenu","Merge","HorizontalIcon1","HorizontalIcon2","HorizontalIcon3","HorizontalContextMenuItem","Crop","rect","save","clip","restore","dpr","devicePixelRatio","floor","npx","angleToRadian","angle","PI","Draw","ctx","getContext","offsetX","offsetY","rotate","clearRect","fill","measureText","moveTo","x1","y1","lineTo","stroke","w","fillRect","fillText","even","nx","ny","Rect","ANGLE_ORIGIN","TOP_LEFT","TOP_CENTER","TOP_RIGHT","MIDDLE_LEFT","MIDDLE_CENTER","MIDDLE_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT","DrawAngle","dw","origin","tx","ty","translate","cos","sin","abs","TrigonometricFunction","ALIGN","VERTICAL_ALIGN","TEXT_WRAP","OVER_FLOW","WORD_WRAP","TRUNCATE","TEXT_DIRECTION","HORIZONTAL","VERTICAL","ANGLE","HorizontalFontDraw","overflowCrop","textWidth","verticalAlign","align","underline","strikethrough","PADDING","crop","paddingH","paddingV","maxTextWidth","textArray","textLine","start","hOffset","maxLen","charWidth","bx","by","textWrap","textAlign","textBaseline","font","italic","bold","fillStyle","drawTextTruncate","drawTextWarp","drawTextOverFlow","VerticalFontDraw","char","boxHeight","textItem","textLen","wOffset","column","last","textHeight","verticalAlignValue","j","AngleFontDraw","trigonometric","trigonometricWidth","cosWidthAngle","trigonometricHeight","sinWidthAngle","rtx","rty","dwAngle","revert","setHeight","textHypotenuseWidth","sinHeightAngle","lineHeight","textArrayLen","totalWidth","rx","ry","ax","ay","totalTextHeight","direction","verticalFontDraw","horizontalFontDraw","angleFontDraw","setTextWrap","setOverflowCrop","HorizontalContextMenu","horizontalIcon1","horizontalIcon2","horizontalIcon3","horizontalIcons","HorizontalAlign","horizontalContextMenu","VerticalContextMenuItem","VerticalIcon1","VerticalIcon2","VerticalIcon3","VerticalContextMenu","verticalIcon1","verticalIcon2","verticalIcon3","verticalIcons","VerticalAlign","verticalContextMenu","TextWrappingIcon1","TextWrappingIcon2","TextWrappingIcon3","TextWrappingContextMenuItem","TextWrappingContextMenu","textWrappingIcon1","textWrappingIcon2","textWrappingIcon3","textWrappingIcons","TextWrapping","textWrappingContextMenu","Fixed","Filter","Functions","svg","CopyStyle","find","ScreenWidget","screen","lt","br","RectRange","sri","sci","eri","eci","ref","refs","ri","ci","rowFilter","other","disjoint","addRet","dsr","dsc","der","dec","multiple","ScreenCopyStyle","selectorAttr","table","frozenLeftTop","cols","rows","grid","viewRange","getScrollViewRange","empty","coincideRange","coincide","equals","sectionSumWidth","sectionSumHeight","expandSize","fixedTop","fixedLeft","setLTOffset","setTOffset","setLOffset","setBROffset","setOffset","Selector","cornerEl","areaEl","transfromData","ScreenSelector","downSelectorAttr","onChangeStack","onSelectChangeStack","onSelectChangeOver","onDownSelectStack","mousePointType","keyboardManage","edit","merges","downSelectAttr","getDownXYSelectorAttr","setSelectAttr","setDownSelectAttr","edgeType","moveSelectorAttr","getMoveXySelectorAttr","tabId","tabNext","register","code","callback","hideEdit","id","clone","cLen","rLen","srcMerges","getFirstIncludes","targetMerges","showEdit","intersectsArea","edge","ltL","ltTBrL","ltTLBr","lBr","fixed","tlRange","fxTop","fxLeft","tRange","lRange","brRange","intersects","getIntersectsArea","setLTCorner","setTCorner","setLCorner","setBrCorner","getFixedWidth","getFixedHeight","getRiCiByXy","merge","selectRect","getViewRange","union","CellFont","$time","$display","$width","$color","$type","srcTime","targetTime","CellBorder","Cell","background","fontAttr","borderAttr","Divider","TopMenu","workTop","sheetView","work","undo","redo","paintFormat","clearFormat","getActiveSheet","cellsHelper","tableDataSnapshot","findByClass","begin","cellDataProxy","getCellOrNewCellByViewRange","rectRange","cell","setCell","end","render","fontSize","fontColor","fillColor","border","lineType","cells","getCellOrNew","fontBold","fontItalic","underLine","fontStrike","horizontalAlign","textWrapping","functions","setStatus","setFormatStatus","setFontStatus","setFontSizeStatus","setFontBoldStatus","setFontItalicStatus","setUnderLineStatus","setFontStrikeStatus","setFontColorStatus","setFillColorStatus","setHorizontalAlignStatus","setVerticalAlignStatus","setTextWrappingStatus","canBack","back","canGo","go","screenCopyStyle","screenSelector","setShow","addSheet","addSelectChangeOverCb","setHide","removeSheet","removeSelectChangeOverCb","newSelectorAttr","mergeDataProxy","deleteMerge","addMerge","includeSheet","firstCell","setUndoStatus","setRedoStatus","setPaintFormatStatus","File","ForMart","Insert","Look","Update","TopOption","logoEle","titleEle","optionsEle","leftEle","rightEle","file","insert","look","WorkTop","toolsMenu","VerticalCenterElement","VerticalCenter","centerElements","centerElement","DateUtils","fmt","date","getMonth","getDate","getHours","getMinutes","getSeconds","S","getMilliseconds","resultYear","exec","yearFormatPart","yearVal","getFullYear","substr","res","Val","formatPart","replaceVal","dateText","defaultVal","reg","year","month","day","hours","minutes","seconds","milliseconds","oneChar","onePart","onePartReg","dataInfo","parserToDate","lastIndex","lastIndexOf","isFraction","toExponential","dateFormat","Rows","_","minHeight","minIf","cacheTotalHeight","setData","getOrNew","ei","rowHeight","getHeight","rangeSum","Cols","minWidth","cacheTotalWidth","colWidth","getWidth","Scroll","Merges","cr","it","within","includes","cellRange","deleteWithin","rn","cn","it1","cbWithin","map","valueOf","ScreenElement","widgets","widget","Screen","focusWidget","setDivideLayer","addWidget","getLT","getT","getL","getBR","settings","fixedWidth","fixedHeight","brLeft","brTop","clazz","XReSizer","hoverEl","lineEl","moveOff","set","getEventLeft","mx","visualHeight","newLeft","visualWidth","YReSizer","getEventTop","my","newTop","MousePointType","ignoreNames","ignoredNames","concat","sResize","eResize","AutoFill","ScreenAutoFill","mergeForceSplit","onBeforeAutoFill","onAfterAutoFill","autoFillAttr","moveAutoFill","getMoveAutoFillAttr","autoFillTo","selectorRect","autoFillSelectorRect","rSize","cSize","selectorSri","selectorSci","selectorEri","selectorEci","minRi","diff","maxRi","minCi","maxCi","autoFillRect","sIndexRi","tIndexRi","sIndexCi","tIndexCi","mergeRect","deleteIntersects","count","getCell","newMerge","mergeCellForceSplit","copyContent","copyMerge","alert","XHeightLight","sRect","tRect","ltViewRange","ltCoincideRange","tViewRange","tCoincideRange","cViewRange","cCoincideRange","lViewRange","lCoincideRange","addChangeCb","offsetHeightLight","YHeightLight","Edit","input","selector","dbClick","editOffset","keepLastIndex","getIndexHeight","getIndexWidth","ltWidth","ltHeight","ltTop","ltLeft","tWidth","lHeight","tHeight","tTop","tLeft","cHeight","lWidth","lTop","lLeft","cWidth","Grid","Error","Box","backgroundColor","LineHandle","master","getMergeCellOrCell","next","checkedRight","checkedLeft","checked","getCellContentWidth","leftWidth","masterBlank","nextBlank","rightWidth","newRow","jump","handle","endRow","newCol","endCol","hEach","view","coincideView","brink","rectRangeSumHeight","rectRangeSumWidth","KeyboardManage","keyCode","Cells","isString","CellsHelper","tmp","getCellTextMaxHeight","getCellTextMaxWidth","startX","startY","getCellOverFlow","minSri","minSci","maxSri","maxSci","getCellByViewRange","GridLineHandle","nextCell","breakpoint","lineHandle","vEach","gridHLine","hLineBorderChecked","gridVLine","vLineBorderChecked","vLineRightOverFlowChecked","mergesBrink","BorderLineHandle","drawOptimization","borderOptimization","ck1","ck2","ck3","borderHTLine","compareTime","borderHBLine","borderVLLine","vLineLeftOverFlowChecked","borderVRLine","TableCellDataProxy","newCell","setCellOrNew","CellDataRecord","oldCell","MERGE_RECORD_TYPE","ADD","DELETE","MergeDataRecord","recordType","TableMergeDataProxy","TableDataSnapshot","record","backLayerStack","goLayerStack","recordLayer","layer","trigger","FrozenLeftTop","gridLineHandle","globalAlpha","viewRangeAndMergeCoincideView","coincideViewBrink","hLine","vLine","horizontalLine","verticalLine","hMergeLine","vMergeLine","borderLineHandle","htLine","hbLine","vlLine","vrLine","setType","htMergeLine","hbMergeLine","vlMergeLine","vrMergeLine","drawBackgroundColor","getMergeCellByViewRange","getCellSkipMergeCellByViewRange","setContentWidth","getXOffset","getYOffset","drawBackGround","drawCells","showGrid","drawGrid","drawBorder","FixedLeft","getContentViewRange","Content","fixedLeftWidth","fixedTopHeight","totalHeight","scrollViewXOffset","getScrollViewXOffset","scrollViewRange","contentViewRange","FixedTop","FrozenLeftIndex","eachHeight","ch","FrozenTopIndex","eachWidth","cw","FixedTopIndex","FixedLeftIndex","FrozenRect","defaultSettings","tipsRenderTime","tipsScrollTime","bgColor","Table","canvas","fixedTopIndex","fixedLeftIndex","frozenLeftIndex","frozenTopIndex","frozenRect","xReSizer","yReSizer","xHeightLight","yHeightLight","addSelectChangeCb","addDownSelectCb","screenAutoFill","copyStyle","initScreenWidget","resize","enable","openDrawOptimization","closeDrawOptimization","console","rangeReduceIf","log","timeEnd","checkedEnableBorderDrawOptimization","clear","clearViewRange","getContentWidth","getContentHeight","getData","Sheet","tableConfig","SheetView","sheetList","activeIndex","number","Tab","setName","sheetViewLayerHorizontalElement","horizontalLayer1","scrollBarXLayerVerticalCenterElement","scrollBarXVerticalCenter","scrollBarXLayerHorizontalElement","sheetSwitchTabLayerHorizontalElement","horizontalLayer2","horizontalLayer1LayerVerticalElement","horizontalLayer2Layer1LayerVerticalElement","layerVerticalLayer","TabView","tabs","optiions","onAdd","tab","onSwitch","tabList","addCurrent","current","WorkBody","workConfig","tabAndSheet","poweredBy","tabView","tabIndex","sheetIndex","setActiveTab","scrollX","scrollY","initSheet","initScroll","scrollMove","setActiveTabIndex","setActiveSheetIndex","setActiveSheet","deltaY","hidden","BottomMenu","sum","avg","topLayerVerticalElement","bodyLayerVerticalElement","bottomLayerVerticalElement","WorkBottom","bottomMenu","Work","setSum","setAvg","setNumber","XSheet","selectors","root","querySelector","version"],"mappings":"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","file":"XSheet.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = __webpack_public_path__ + \"c4ab8001e109540f7ae6a34181d695d3.png\";","module.exports = __webpack_public_path__ + \"42b436e7c64603182355d52d31ea49f1.png\";","module.exports = __webpack_public_path__ + \"9dfd8685ea7e1e5c025514eec46a4547.png\";","export const cssPrefix = 'x-sheet';\n","// eslint-disable-next-line no-unused-vars\n/* global navigator document window */\n\nconst alphabets = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n\nlet throttleHandle = null;\n\nconst DATA_TYPE = {\n  String: 1,\n  Boolean: 2,\n  Number: 3,\n  Object: 4,\n  Array: 5,\n  Function: 6,\n  Null: 7,\n  Undefined: 8,\n  Promise: 9,\n  GeneratorFunction: 10,\n  AsyncFunction: 11,\n  BigInt: 12,\n  Symbol: 13,\n  Un: 14,\n};\n\nclass Utils {\n\n  static type(arg) {\n    const type = Object.prototype.toString.call(arg);\n    switch (type) {\n      case '[object Null]':\n        return DATA_TYPE.Null;\n      case '[object Undefined]':\n        return DATA_TYPE.Undefined;\n      case '[object String]':\n        return DATA_TYPE.String;\n      case '[object Boolean]':\n        return DATA_TYPE.Boolean;\n      case '[object Number]':\n        return DATA_TYPE.Number;\n      case '[object Function]':\n        return DATA_TYPE.Function;\n      case '[object Array]':\n        return DATA_TYPE.Array;\n      case '[object Promise]':\n        return DATA_TYPE.Promise;\n      case '[object GeneratorFunction]':\n        return DATA_TYPE.GeneratorFunction;\n      case '[object AsyncFunction]':\n        return DATA_TYPE.AsyncFunction;\n      case '[object BigInt]':\n        return DATA_TYPE.BigInt;\n      case '[object Symbol]':\n        return DATA_TYPE.Symbol;\n      default:\n        return DATA_TYPE.Un;\n    }\n  }\n\n  static cloneDeep(object) {\n    const json = JSON.stringify(object);\n    return JSON.parse(json);\n  }\n\n  static mergeDeep(object = {}, ...sources) {\n    if (Utils.isUnDef(object)) {\n      return {};\n    }\n    if (Utils.isUnDef(sources) || sources.length === 0) {\n      return object;\n    }\n    sources.forEach((source) => {\n      if (Utils.isUnDef(source)) return;\n      Object.keys(source).forEach((key) => {\n        const v = source[key];\n        if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') {\n          object[key] = v;\n        } else if (typeof v !== 'function' && !Array.isArray(v) && Utils.isPlainObject(v)) {\n          object[key] = object[key] || {};\n          Utils.mergeDeep(object[key], v);\n        } else {\n          object[key] = v;\n        }\n      });\n    });\n    return object;\n  }\n\n  static copyProp(t, s) {\n    return Object.assign(t, s);\n  }\n\n  static isMac() {\n    return /macintosh|mac os x/i.test(navigator.userAgent);\n  }\n\n  static isWindows() {\n    return /windows|win32/i.test(navigator.userAgent);\n  }\n\n  static isEmptyObject(object) {\n    // eslint-disable-next-line no-restricted-syntax\n    for (const key in object) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (object.hasOwnProperty(key)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  static isNotEmptyObject(object) {\n    return !Utils.isEmptyObject(object);\n  }\n\n  static isUnDef(e) {\n    return e === undefined || e === null;\n  }\n\n  static isNumber(e) {\n    return /^(-?\\d+.\\d+)$|^(-?\\d+)$/.test(e);\n  }\n\n  static isFraction(e) {\n    return /^\\d+\\/\\d+$/.test(e);\n  }\n\n  static isFunction(e) {\n    const type = Utils.type(e);\n    return type === DATA_TYPE.Function;\n  }\n\n  static isArray(e) {\n    return Utils.type(e) === DATA_TYPE.Array;\n  }\n\n  static isBlank(s) {\n    if (Utils.isUnDef(s)) {\n      return true;\n    }\n    return s.toString() === '';\n  }\n\n  static isPlainObject(obj) {\n    if (Utils.isUnDef(obj)) {\n      return false;\n    }\n    return Object.getPrototypeOf(obj) === Object.getPrototypeOf({});\n  }\n\n  static isString(obj) {\n    return Utils.type(obj) === DATA_TYPE.String;\n  }\n\n  static sum(objOrAry, cb = value => value) {\n    let total = 0;\n    let size = 0;\n    Object.keys(objOrAry).forEach((key) => {\n      total += cb(objOrAry[key], key);\n      size += 1;\n    });\n    return [total, size];\n  }\n\n  static rangeSum(min, max, cb) {\n    let s = 0;\n    for (let i = min; i < max; i += 1) {\n      s += cb(i);\n    }\n    return s;\n  }\n\n  static parseFloat(val) {\n    if (Utils.isNumber(val)) return parseFloat(val);\n    return 0;\n  }\n\n  static parseInt(val) {\n    if (Utils.isNumber(val)) return parseInt(val, 10);\n    return 0;\n  }\n\n  static stringAt(index) {\n    let str = '';\n    let idx = index;\n    while (idx >= alphabets.length) {\n      idx /= alphabets.length;\n      idx -= 1;\n      str += alphabets[parseInt(idx, 10) % alphabets.length];\n    }\n    const last = index % alphabets.length;\n    str += alphabets[last];\n    return str;\n  }\n\n  static indexAt(str) {\n    let ret = 0;\n    for (let i = 0; i < str.length - 1; i += 1) {\n      const idx = str.charCodeAt(i) - 65;\n      const expoNet = str.length - 1 - i;\n      ret += (alphabets.length ** expoNet) + (alphabets.length * idx);\n    }\n    ret += str.charCodeAt(str.length - 1) - 65;\n    return ret;\n  }\n\n  static expr2xy(src) {\n    let x = '';\n    let y = '';\n    for (let i = 0; i < src.length; i += 1) {\n      if (src.charAt(i) >= '0' && src.charAt(i) <= '9') {\n        y += src.charAt(i);\n      } else {\n        x += src.charAt(i);\n      }\n    }\n    return [Utils.indexAt(x), parseInt(y, 10) - 1];\n  }\n\n  static xy2expr(x, y) {\n    return `${Utils.stringAt(x)}${y + 1}`;\n  }\n\n  static expr2expr(src, xn, yn) {\n    const [x, y] = Utils.expr2xy(src);\n    return Utils.xy2expr(x + xn, y + yn);\n  }\n\n  static rangeReduceIf(min, max, initS, initV, ifv, getV) {\n    let s = initS;\n    let v = initV;\n    let i = min;\n    for (; i < max; i += 1) {\n      if (s >= ifv) break;\n      v = getV(i);\n      s += v;\n    }\n    return [i, s - v, v];\n  }\n\n  static throttle(cb = () => {}, time = 500) {\n    if (throttleHandle) clearTimeout(throttleHandle);\n    throttleHandle = setTimeout(cb, time);\n  }\n\n  static contrastDifference(target, src) {\n    const result = {};\n    if (Utils.isUnDef(target) || Utils.isUnDef(src)) {\n      return result;\n    }\n    // eslint-disable-next-line no-restricted-syntax\n    for (const key in target) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (target.hasOwnProperty(key)) {\n        const sv = src[key];\n        const tv = target[key];\n        if (!Utils.isUnDef(sv) && !Utils.isUnDef(tv) && !Utils.equal(sv, tv)) {\n          result[key] = target[key];\n        }\n      }\n    }\n    return result;\n  }\n\n  static minIf(v, min) {\n    if (v < min) return min;\n    return v;\n  }\n\n  static maxIf(v, max) {\n    if (v > max) return max;\n    return v;\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  static equal(x, y) {\n    let i;\n    let l;\n    let leftChain;\n    let rightChain;\n    function compare2Objects(x, y) {\n      let p;\n      // eslint-disable-next-line no-restricted-globals\n      if (isNaN(x) && isNaN(y) && typeof x === 'number' && typeof y === 'number') {\n        return true;\n      }\n      if (x === y) {\n        return true;\n      }\n      if ((typeof x === 'function' && typeof y === 'function')\n        || (x instanceof Date && y instanceof Date)\n        || (x instanceof RegExp && y instanceof RegExp)\n        || (x instanceof String && y instanceof String)\n        || (x instanceof Number && y instanceof Number)) {\n        return x.toString() === y.toString();\n      }\n      if (!(x instanceof Object && y instanceof Object)) {\n        return false;\n      }\n      // eslint-disable-next-line no-prototype-builtins\n      if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {\n        return false;\n      }\n      if (x.constructor !== y.constructor) {\n        return false;\n      }\n      if (x.prototype !== y.prototype) {\n        return false;\n      }\n      if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\n        return false;\n      }\n      // eslint-disable-next-line guard-for-in,no-restricted-syntax\n      for (p in y) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n          return false;\n        }\n        if (typeof y[p] !== typeof x[p]) {\n          return false;\n        }\n      }\n      // eslint-disable-next-line guard-for-in,no-restricted-syntax\n      for (p in x) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n          return false;\n        } if (typeof y[p] !== typeof x[p]) {\n          return false;\n        }\n        switch (typeof (x[p])) {\n          case 'object':\n          case 'function':\n            leftChain.push(x);\n            rightChain.push(y);\n            if (!compare2Objects(x[p], y[p])) {\n              return false;\n            }\n            leftChain.pop();\n            rightChain.pop();\n            break;\n          default:\n            if (x[p] !== y[p]) {\n              return false;\n            }\n            break;\n        }\n      }\n      return true;\n    }\n    if (arguments.length < 1) {\n      return true;\n    }\n    // eslint-disable-next-line no-plusplus\n    for (i = 1, l = arguments.length; i < l; i++) {\n      leftChain = [];\n      rightChain = [];\n      // eslint-disable-next-line prefer-rest-params\n      if (!compare2Objects(arguments[0], arguments[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  static arrayIncludeArray(a1, a2) {\n    if (Utils.isUnDef(a1) || Utils.isUnDef(a2)) {\n      return false;\n    }\n    if (a1.length !== a2.length) {\n      return false;\n    }\n    for (let i = 0; i < a1.length; i += 1) {\n      if (a2.indexOf(a1[i]) === -1) return false;\n    }\n    return true;\n  }\n\n  static keepLastIndex(obj) {\n    if (window.getSelection) {\n      obj.focus();\n      const range = window.getSelection();\n      range.selectAllChildren(obj);\n      range.collapseToEnd();\n    } else if (document.selection) {\n      const range = document.selection.createRange();\n      range.moveToElementText(obj);\n      range.collapse(false);\n      range.select();\n    }\n  }\n\n  static trim(s) {\n    if (this.isBlank(s)) return '';\n    return s.trim();\n  }\n\n  static now() {\n    return Date.now().toString();\n  }\n\n  static viewPort() {\n    return {\n      width: window.innerWidth,\n      height: window.innerHeight,\n    };\n  }\n}\n\nUtils.EMPTY = '';\nUtils.Nul = null;\nUtils.Undef = undefined;\n\nexport { Utils };\n","/* global document CustomEvent window */\n\nimport { Utils } from '../utils/Utils';\n\nclass Element {\n  constructor(tag, className = '') {\n    if (typeof tag === 'string') {\n      this.el = document.createElement(tag);\n      this.el.className = className;\n    } else {\n      this.el = tag;\n    }\n    this.el.data = [];\n  }\n\n  data(key, value) {\n    if (value !== undefined) {\n      this.el.data[key] = value;\n      return this;\n    }\n    return this.el.data[key];\n  }\n\n  on(eventNames, handler) {\n    const [fen, ...oen] = eventNames.split('.');\n    let eventName = fen;\n    if (eventName === 'mousewheel' && /Firefox/i.test(window.navigator.userAgent)) {\n      eventName = 'DOMMouseScroll';\n    }\n    this.el.addEventListener(eventName, (evt) => {\n      handler(evt);\n      for (let i = 0; i < oen.length; i += 1) {\n        const k = oen[i];\n        if (k === 'left' && evt.button !== 0) {\n          return;\n        }\n        if (k === 'right' && evt.button !== 2) {\n          return;\n        }\n        if (k === 'stop') {\n          evt.stopPropagation();\n        }\n      }\n    });\n    return this;\n  }\n\n  offset(value) {\n    if (value !== undefined) {\n      Object.keys(value).forEach((k) => {\n        this.css(k, `${value[k]}px`);\n      });\n      return this;\n    }\n    const {\n      offsetTop, offsetLeft, offsetHeight, offsetWidth,\n    } = this.el;\n    return {\n      top: offsetTop,\n      left: offsetLeft,\n      height: offsetHeight,\n      width: offsetWidth,\n    };\n  }\n\n  scroll(v) {\n    const { el } = this;\n    if (v !== undefined) {\n      if (v.left !== undefined) {\n        el.scrollLeft = v.left;\n      }\n      if (v.top !== undefined) {\n        el.scrollTop = v.top;\n      }\n    }\n    return { left: el.scrollLeft, top: el.scrollTop };\n  }\n\n  scrollTop() {\n    return this.el.scrollTop;\n  }\n\n  clientHeight() {\n    return this.el.clientHeight;\n  }\n\n  box() {\n    return this.el.getBoundingClientRect();\n  }\n\n  parent() {\n    return new Element(this.el.parentNode);\n  }\n\n  children(...args) {\n    if (arguments.length === 0) {\n      return this.el.childNodes;\n    }\n    args.forEach(ele => this.child(ele));\n    return this;\n  }\n\n  first() {\n    return this.el.firstChild;\n  }\n\n  last() {\n    return this.el.lastChild;\n  }\n\n  remove(ele) {\n    return this.el.removeChild(ele.el || ele);\n  }\n\n  prepend(ele) {\n    const { el } = this;\n    if (el.children.length > 0) {\n      el.insertBefore(ele, el.firstChild);\n    } else {\n      el.appendChild(ele);\n    }\n    return this;\n  }\n\n  prev() {\n    return this.el.previousSibling;\n  }\n\n  next() {\n    return this.el.nextSibling;\n  }\n\n  child(arg) {\n    let ele = arg;\n    if (typeof arg === 'string') {\n      ele = document.createTextNode(arg);\n    } else if (arg instanceof Element) {\n      ele = arg.el;\n    }\n    this.el.appendChild(ele);\n    return this;\n  }\n\n  contains(ele) {\n    return this.el.contains(ele);\n  }\n\n  className(v) {\n    if (v !== undefined) {\n      this.el.className = v;\n      return this;\n    }\n    return this.el.className;\n  }\n\n  addClass(name) {\n    this.el.classList.add(name);\n    return this;\n  }\n\n  hasClass(name) {\n    return this.el.classList.contains(name);\n  }\n\n  removeClass(name) {\n    this.el.classList.remove(name);\n    return this;\n  }\n\n  toggle(cls = 'active') {\n    return this.toggleClass(cls);\n  }\n\n  toggleClass(name) {\n    return this.el.classList.toggle(name);\n  }\n\n  active(flag = true, cls = 'active') {\n    if (flag) this.addClass(cls);\n    else this.removeClass(cls);\n    return this;\n  }\n\n  checked(flag = true) {\n    this.active(flag, 'checked');\n    return this;\n  }\n\n  disabled(flag = true) {\n    if (flag) this.addClass('disabled');\n    else this.removeClass('disabled');\n    return this;\n  }\n\n  attr(key, value) {\n    if (value !== undefined) {\n      this.el.setAttribute(key, value);\n    } else {\n      if (typeof key === 'string') {\n        return this.el.getAttribute(key);\n      }\n      Object.keys(key).forEach((k) => {\n        this.el.setAttribute(k, key[k]);\n      });\n    }\n    return this;\n  }\n\n  removeAttr(key) {\n    this.el.removeAttribute(key);\n    return this;\n  }\n\n  html(content) {\n    if (content !== undefined) {\n      this.el.innerHTML = content;\n      return this;\n    }\n    return this.el.innerHTML;\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.el.value = v;\n      return this;\n    }\n    return this.el.value;\n  }\n\n  cssRemoveKeys(...keys) {\n    keys.forEach(k => this.el.style.removeProperty(k));\n    return this;\n  }\n\n  /**\n   * set or get style attr\n   * @param name\n   * @param value\n   * @returns {String|Element}\n   */\n  css(name, value) {\n    if (value === undefined && typeof name !== 'string') {\n      Object.keys(name).forEach((k) => {\n        this.el.style[k] = name[k];\n      });\n      return this;\n    }\n    if (value !== undefined) {\n      this.el.style[name] = value;\n      return this;\n    }\n    return this.el.style[name];\n  }\n\n  computedStyle() {\n    return window.getComputedStyle(this.el, null);\n  }\n\n  show() {\n    const style = this.computedStyle();\n    if (style && style.display !== 'block') {\n      this.css('display', 'block');\n    }\n    return this;\n  }\n\n  hide() {\n    const style = this.computedStyle();\n    if (style && style.display !== 'none') {\n      this.css('display', 'none');\n    }\n    return this;\n  }\n\n  display(on) {\n    if (on) this.show(); else this.hide();\n  }\n\n  text(val) {\n    if (val === undefined) return this.el.innerText;\n    this.el.innerText = val;\n    return val;\n  }\n\n  sibling() {\n    let sibling = this.el;\n    const result = [];\n    // eslint-disable-next-line no-cond-assign\n    while ((sibling = sibling.previousElementSibling) !== null) result.push(new Element(sibling));\n    sibling = this.el;\n    // eslint-disable-next-line no-cond-assign\n    while ((sibling = sibling.nextElementSibling) !== null) result.push(new Element(sibling));\n    return result;\n  }\n\n  position() {\n    let top = 0; let left = 0; const right = 0; const bottom = 0;\n    if (this.el.style.position) {\n      if (this.el.top) {\n        top = this.el.style.top\n          .replace('%', '')\n          .repeat('px', '');\n      }\n      if (this.el.left) {\n        left = this.el.style.left\n          .replace('%', '')\n          .repeat('px', '');\n      }\n      if (this.el.right) {\n        top = this.el.style.right\n          .replace('%', '')\n          .repeat('px', '');\n      }\n      if (this.el.bottom) {\n        top = this.el.style.bottom\n          .replace('%', '')\n          .repeat('px', '');\n      }\n    }\n    return {\n      top: Utils.parseFloat(top),\n      left: Utils.parseFloat(left),\n      right: Utils.parseFloat(right),\n      bottom: Utils.parseFloat(bottom),\n    };\n  }\n\n  trigger(type, message) {\n    const event = new CustomEvent(type, {\n      detail: message,\n      bubbles: true,\n      cancelable: false,\n    });\n    this.el.dispatchEvent(event);\n  }\n\n  focus() {\n    this.el.focus();\n  }\n\n  find(select) {\n    const result = this.el.querySelectorAll(select);\n    if (result && result.length === 1) {\n      return new Element(result[0]);\n    }\n    const eleArray = [];\n    if (result) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of result) {\n        eleArray.push(new Element(item));\n      }\n    }\n    return eleArray;\n  }\n\n  isChild(target) {\n    let targetEl = target || target.el;\n    while (targetEl !== undefined && targetEl !== null && targetEl !== document.body) {\n      if (targetEl === this.el) return true;\n      targetEl = targetEl.parentNode;\n    }\n    return false;\n  }\n}\n\nconst h = (tag, className = '') => new Element(tag, className);\n\nexport {\n  Element,\n  h,\n};\n","import { Element } from './Element';\nimport { cssPrefix } from '../config';\n\nclass Widget extends Element {\n  constructor(className = '') {\n    super('div', `${cssPrefix}-widget ${className}`);\n  }\n\n  computeEventXy(event, element = this) {\n    const { top, left } = element.box();\n    return {\n      x: event.pageX - left,\n      y: event.pageY - top,\n    };\n  }\n\n  computeWidgetXy(element) {\n    if (!element) {\n      return {\n        x: 0,\n        y: 0,\n      };\n    }\n    const { top: eleTop, left: eleLeft } = element.box();\n    const { top, left } = this.box();\n    return {\n      x: eleLeft - left,\n      y: eleTop - top,\n    };\n  }\n\n  init() {}\n}\n\nexport { Widget };\n","import { Element } from '../Element';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\n\nclass VerticalLayer extends Element {\n  constructor(options) {\n    super('div', `${cssPrefix}-vertical-layer`);\n    this.options = Utils.mergeDeep({\n      layerElements: [],\n      style: {},\n    }, options);\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    // eslint-disable-next-line no-restricted-syntax\n    for (const layerElement of this.options.layerElements) this.children(layerElement);\n  }\n}\n\nexport { VerticalLayer };\n","import { Element } from '../Element';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\n\nclass VerticalLayerElement extends Element {\n  constructor(element, options) {\n    super('div', `${cssPrefix}-vertical-layer-element`);\n    this.options = Utils.mergeDeep({\n      style: {\n        flexGrow: '0',\n      },\n    }, options);\n    this.element = element;\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    this.children(this.element);\n  }\n}\n\nexport { VerticalLayerElement };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\n\nclass Icon extends Widget {\n  constructor(className = '') {\n    super(`${cssPrefix}-icon`);\n    this.iconNameEl = h('div', `${cssPrefix}-icon-img ${className}`);\n    this.child(this.iconNameEl);\n  }\n\n  setWidth(width) {\n    this.iconNameEl.css('width', `${width}px`);\n  }\n\n  setHeight(height) {\n    this.iconNameEl.css('height', `${height}px`);\n  }\n}\n\nexport { Icon };\n","import { Widget } from '../../../../lib/Widget';\nimport { cssPrefix } from '../../../../config';\n\nclass Item extends Widget {\n  constructor(className) {\n    super(`${cssPrefix}-tools-item ${className}`);\n  }\n}\n\nexport { Item };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Undo extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-undo`);\n    this.icon = new Icon('undo');\n    this.children(this.icon);\n  }\n}\n\nexport { Undo };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Redo extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-redo`);\n    this.icon = new Icon('redo');\n    this.children(this.icon);\n  }\n}\n\nexport { Redo };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\n\nclass PaintFormat extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-point-format`);\n    this.icon = new Icon('point-format');\n    this.sheets = [];\n    this.children(this.icon);\n  }\n\n  addSheet(sheet) {\n    this.sheets.push(sheet);\n  }\n\n  removeSheet(sheet) {\n    for (let i = 0; i < this.sheets.length; i += 1) {\n      if (this.sheets[i] === sheet) {\n        this.sheets.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  includeSheet(sheet) {\n    for (let i = 0; i < this.sheets.length; i += 1) {\n      if (this.sheets[i] === sheet) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nexport { PaintFormat };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\n\nclass ClearFormat extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-clear-format`);\n    this.icon = new Icon('clear-format');\n    this.children(this.icon);\n  }\n}\n\nexport { ClearFormat };\n","import { Item } from './Item';\nimport { cssPrefix } from '../../../../config';\nimport { h } from '../../../../lib/Element';\nimport { Icon } from '../Icon';\n\nclass DropDownItem extends Item {\n  constructor(className) {\n    super(`${cssPrefix}-tools-drop-down-item ${className}`);\n    this.drop = h('div', `${cssPrefix}-tools-drop-down-item-mark`);\n    this.title = h('div', `${cssPrefix}-tools-drop-down-item-title`);\n    this.drop.children(new Icon('arrow-down'));\n    this.children(this.title);\n    this.children(this.drop);\n  }\n\n  setTitle(text) {\n    this.title.text(text);\n  }\n\n  setIcon(icon) {\n    this.title.html('');\n    this.title.children(icon);\n  }\n\n  setWidth(px) {\n    this.title.css('width', `${px}px`);\n  }\n\n  setEllipsis() {\n    this.title.css('overflow', 'hidden');\n    this.title.css('text-overflow', 'ellipsis');\n    this.title.css('white-space', 'nowrap');\n  }\n\n  removeEllipsis() {\n    this.title.cssRemoveKeys('overflow');\n    this.title.cssRemoveKeys('text-overflow');\n    this.title.cssRemoveKeys('white-space');\n  }\n}\n\nexport { DropDownItem };\n","class Constant {}\n\nConstant.SYSTEM_EVENT_TYPE = {\n  MOUSE_MOVE: 'mouseMove'.toLocaleLowerCase(),\n  MOUSE_DOWN: 'mouseDown'.toLocaleLowerCase(),\n  MOUSE_UP: 'mouseUp'.toLocaleLowerCase(),\n  MOUSE_OVER: 'mouseOver'.toLocaleLowerCase(),\n  MOUSE_LEAVE: 'mouseLeave'.toLocaleLowerCase(),\n  MOUSE_WHEEL: 'mouseWheel'.toLocaleLowerCase(),\n  MOUSE_ENTER: 'mouseEnter'.toLocaleLowerCase(),\n  CLICK: 'click'.toLocaleLowerCase(),\n  KEY_DOWN: 'keyDown'.toLocaleLowerCase(),\n  KEY_UP: 'keyUp'.toLocaleLowerCase(),\n  DRAG_START: 'dragStart'.toLocaleLowerCase(),\n  SCROLL: 'scroll'.toLocaleLowerCase(),\n  RESIZE: 'resize'.toLocaleLowerCase(),\n  CHANGE: 'change'.toLocaleLowerCase(),\n  INPUT: 'input'.toLocaleLowerCase(),\n  VISIBILITY_CHANGE: 'visibilityChange'.toLocaleLowerCase(),\n};\n\nConstant.TABLE_EVENT_TYPE = {\n  CHANGE_HEIGHT: 'tableChangeHeight'.toLocaleLowerCase(),\n  CHANGE_WIDTH: 'tableChangeWidth'.toLocaleLowerCase(),\n  DATA_CHANGE: 'tableDataChange'.toLocaleLowerCase(),\n  SELECT_CHANGE: 'tableSelectChange'.toLocaleLowerCase(),\n  SELECT_DOWN: 'tableSelectDown'.toLocaleLowerCase(),\n};\n\nConstant.WORK_BODY_TYPE = {\n  CHANGE_ACTIVE: 'workBodyChangeActive'.toLocaleLowerCase(),\n};\n\nexport { Constant };\n","import { Constant } from './Constant';\n\nclass EventBind {\n  static bind(target, name, fn) {\n    if (Array.isArray(target)) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of target) {\n        (item.el || item).addEventListener(name, fn);\n      }\n    } else {\n      (target.el || target).addEventListener(name, fn);\n    }\n  }\n\n  static unbind(target, name, fn) {\n    if (Array.isArray(target)) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of target) {\n        (item.el || item).addEventListener(name, fn);\n      }\n    } else {\n      (target.el || target).removeEventListener(name, fn);\n    }\n  }\n\n  static mouseMoveUp(target, moveFunc = () => {}, upFunc = () => {}) {\n    const xEvtUp = (evt) => {\n      EventBind.unbind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, moveFunc);\n      EventBind.unbind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_UP, xEvtUp);\n      upFunc(evt);\n    };\n    EventBind.bind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, moveFunc);\n    EventBind.bind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_UP, xEvtUp);\n  }\n\n  static dbClick(target, func = () => {}) {\n    let t = 0;\n    EventBind.bind(target, Constant.SYSTEM_EVENT_TYPE.CLICK, (e) => {\n      const n = Date.now();\n      if (n - t <= 300) {\n        func(e);\n        t = 0;\n      } else {\n        t = n;\n      }\n    });\n  }\n}\n\nexport { EventBind };\n","/* global document */\n\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { Utils } from '../../utils/Utils';\nimport { Constant } from '../../utils/Constant';\nimport { EventBind } from '../../utils/EventBind';\n\nclass ScrollBarX extends Widget {\n  constructor(option) {\n    super(`${cssPrefix}-scroll-bar-x`);\n    this.option = Utils.mergeDeep({\n      style: {},\n      scroll: to => to,\n    }, option);\n    this.lastBut = h('div', `${cssPrefix}-scroll-bar-x-last-but`);\n    this.nextBut = h('div', `${cssPrefix}-scroll-bar-x-next-but`);\n    this.content = h('div', `${cssPrefix}-scroll-bar-x-content`);\n    this.block = h('div', `${cssPrefix}-scroll-bar-x-block`);\n    this.content.children(this.block);\n    this.children(...[\n      this.lastBut,\n      this.nextBut,\n      this.content,\n    ]);\n    this.blockLeft = 0;\n    this.maxBlockLeft = 0;\n    this.blockWidth = 0;\n    this.minBlockWidth = 20;\n    this.scrollTo = 0;\n    this.contentWidth = 0;\n    this.viewPortWidth = 0;\n    this.isHide = true;\n    this.css(this.option.style);\n    this.hide();\n    this.bind();\n  }\n\n  bind() {\n    this.block.on(Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (evt1) => {\n      if (evt1.button !== 0) return;\n      const downEventXy = this.computeEventXy(evt1, this.block);\n      EventBind.mouseMoveUp(h(document), (evt2) => {\n        // 计算移动的距离\n        const moveEventXy = this.computeEventXy(evt2, this.content);\n        let left = moveEventXy.x - downEventXy.x;\n        if (left < 0) left = 0;\n        if (left > this.maxBlockLeft) left = this.maxBlockLeft;\n        // 计算滑动的距离\n        this.blockLeft = left;\n        this.scrollTo = this.computeScrollTo(this.blockLeft);\n        this.block.css('left', `${left}px`);\n        this.option.scroll(this.scrollTo);\n        evt2.stopPropagation();\n        evt2.preventDefault();\n      });\n      evt1.stopPropagation();\n      evt1.preventDefault();\n    });\n  }\n\n  setSize(viewPortWidth, contentWidth) {\n    if (viewPortWidth < contentWidth) {\n      this.isHide = false;\n      this.show();\n      // 计算滑块宽度\n      const contentBox = this.content.box();\n      const blockWidth = viewPortWidth / contentWidth * contentBox.width;\n      this.blockWidth = blockWidth < this.minBlockWidth ? this.minBlockWidth : blockWidth;\n      this.viewPortWidth = viewPortWidth;\n      this.contentWidth = contentWidth;\n      this.maxBlockLeft = contentBox.width - this.blockWidth;\n      this.block.css('width', `${this.blockWidth}px`);\n      // 计算滑块位置\n      const blockLeft = (this.scrollTo / (contentWidth - viewPortWidth)) * this.maxBlockLeft;\n      this.blockLeft = blockLeft > this.maxBlockLeft ? this.maxBlockLeft : blockLeft;\n      this.scrollTo = this.computeScrollTo(this.blockLeft);\n      this.block.css('left', `${this.blockLeft}px`);\n    } else {\n      this.isHide = true;\n      this.hide();\n      this.option.scroll(0);\n    }\n  }\n\n  scrollMove(move) {\n    let to = move;\n    const maxTo = this.contentWidth - this.viewPortWidth;\n    if (to > maxTo) to = maxTo; else if (to < 0) to = 0;\n    const blockLeft = (to / (this.contentWidth - this.viewPortWidth)) * this.maxBlockLeft;\n    this.blockLeft = blockLeft > this.maxBlockLeft ? this.maxBlockLeft : blockLeft;\n    if (this.scrollTo !== to) {\n      this.scrollTo = to;\n      this.block.css('left', `${this.blockLeft}px`);\n      this.option.scroll(this.scrollTo);\n    }\n  }\n\n  computeScrollTo(move) {\n    return (move / this.maxBlockLeft) * (this.contentWidth - this.viewPortWidth);\n  }\n}\n\nexport { ScrollBarX };\n","/* global document */\n\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { Constant } from '../../utils/Constant';\nimport { Utils } from '../../utils/Utils';\nimport { EventBind } from '../../utils/EventBind';\n\nclass ScrollBarY extends Widget {\n  constructor(option) {\n    super(`${cssPrefix}-scroll-bar-y`);\n    this.option = Utils.mergeDeep({\n      style: {},\n      scroll: to => to,\n    }, option);\n    this.lastBut = h('div', `${cssPrefix}-scroll-bar-y-last-but`);\n    this.nextBut = h('div', `${cssPrefix}-scroll-bar-y-next-but`);\n    this.content = h('div', `${cssPrefix}-scroll-bar-y-content`);\n    this.block = h('div', `${cssPrefix}-scroll-bar-y-block`);\n    this.content.children(this.block);\n    this.children(...[\n      this.lastBut,\n      this.nextBut,\n      this.content,\n    ]);\n    this.blockTop = 0;\n    this.maxBlockTop = 0;\n    this.blockHeight = 0;\n    this.minBlockHeight = 20;\n    this.scrollTo = 0;\n    this.contentHeight = 0;\n    this.viewPortHeight = 0;\n    this.isHide = true;\n    this.css(this.option.style);\n    this.hide();\n    this.bind();\n  }\n\n  bind() {\n    EventBind.bind(this.block, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (evt1) => {\n      if (evt1.button !== 0) return;\n      const downEventXy = this.computeEventXy(evt1, this.block);\n      EventBind.mouseMoveUp(h(document), (evt2) => {\n        // 计算移动的距离\n        const moveEventXy = this.computeEventXy(evt2, this.content);\n        let top = moveEventXy.y - downEventXy.y;\n        if (top < 0) top = 0;\n        if (top > this.maxBlockTop) top = this.maxBlockTop;\n        // 计算滑动的距离\n        this.blockTop = top;\n        this.scrollTo = this.computeScrollTo(this.blockTop);\n        this.block.css('top', `${top}px`);\n        this.option.scroll(this.scrollTo);\n        evt2.stopPropagation();\n        evt2.preventDefault();\n      });\n    });\n  }\n\n  setSize(viewPortHeight, contentHeight) {\n    if (viewPortHeight < contentHeight) {\n      this.isHide = false;\n      this.show();\n      // 计算滑块高度\n      const contentBox = this.content.box();\n      const blockHeight = viewPortHeight / contentHeight * contentBox.height;\n      this.blockHeight = blockHeight < this.minBlockHeight ? this.minBlockHeight : blockHeight;\n      this.viewPortHeight = viewPortHeight;\n      this.contentHeight = contentHeight;\n      this.maxBlockTop = contentBox.height - this.blockHeight;\n      this.block.css('height', `${this.blockHeight}px`);\n      // 计算滑块位置\n      const blockTop = (this.scrollTo / (contentHeight - viewPortHeight)) * this.maxBlockTop;\n      this.blockTop = blockTop > this.maxBlockTop ? this.maxBlockTop : blockTop;\n      this.scrollTo = this.computeScrollTo(this.blockTop);\n      this.block.css('top', `${this.blockTop}px`);\n    } else {\n      this.isHide = true;\n      this.hide();\n      this.option.scroll(0);\n    }\n  }\n\n  scrollMove(move) {\n    let to = move;\n    const maxTo = this.contentHeight - this.viewPortHeight;\n    if (to > maxTo) to = maxTo; else if (to < 0) to = 0;\n    const blockTop = (to / (this.contentHeight - this.viewPortHeight)) * this.maxBlockTop;\n    this.blockTop = blockTop > this.maxBlockTop ? this.maxBlockTop : blockTop;\n    if (this.scrollTo !== to) {\n      this.scrollTo = to;\n      this.block.css('top', `${this.blockTop}px`);\n      this.option.scroll(this.scrollTo);\n    }\n  }\n\n  computeScrollTo(move) {\n    return (move / this.maxBlockTop) * (this.contentHeight - this.viewPortHeight);\n  }\n}\n\nexport { ScrollBarY };\n","import { Element } from '../Element';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\n\nclass HorizontalLayerElement extends Element {\n  constructor(element, options) {\n    super('div', `${cssPrefix}-horizontal-layer-element`);\n    this.options = Utils.mergeDeep({\n      style: {\n        flexGrow: '0',\n      },\n    }, options);\n    this.element = element;\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    this.children(this.element);\n  }\n}\n\nexport { HorizontalLayerElement };\n","import { Element } from '../Element';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\n\nclass HorizontalLayer extends Element {\n  constructor(options) {\n    super('div', `${cssPrefix}-horizontal-layer`);\n    this.options = Utils.mergeDeep({\n      layerElements: [],\n      style: {},\n    }, options);\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    // eslint-disable-next-line no-restricted-syntax\n    for (const layerElement of this.options.layerElements) this.children(layerElement);\n  }\n}\n\nexport { HorizontalLayer };\n","/* global document window */\n\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { ScrollBarX } from '../scrollbar/ScrollBarX';\nimport { ScrollBarY } from '../scrollbar/ScrollBarY';\nimport { Utils } from '../../utils/Utils';\nimport { HorizontalLayerElement } from '../../lib/layer/HorizontalLayerElement';\nimport { HorizontalLayer } from '../../lib/layer/HorizontalLayer';\nimport { VerticalLayer } from '../../lib/layer/VerticalLayer';\nimport { VerticalLayerElement } from '../../lib/layer/VerticalLayerElement';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\n\nconst EL_POPUP_POSITION = {\n  TOP: 1,\n  LEFT: 2,\n  BOTTOM: 3,\n  RIGHT: 4,\n};\n\nconst POOL = [];\n\nclass ElPopUp extends Widget {\n\n  constructor(options) {\n    super(`${cssPrefix}-el-pop-up`);\n    this.options = Utils.mergeDeep({\n      position: EL_POPUP_POSITION.BOTTOM,\n      el: null,\n    }, options);\n    this.off = true;\n    this.content = h('div', `${cssPrefix}-el-pop-up-content`);\n    this.scrollBarX = new ScrollBarX();\n    this.scrollBarY = new ScrollBarY();\n    const contentLayerHorizontalElement = new HorizontalLayerElement(this.content, {\n      style: {\n        flexGrow: 1,\n      },\n    });\n    const scrollBarYLayerHorizontalElement = new HorizontalLayerElement(this.scrollBarY, {\n      style: {\n        overflow: 'inherit',\n      },\n    });\n    const horizontalLayer = new HorizontalLayer({\n      layerElements: [contentLayerHorizontalElement, scrollBarYLayerHorizontalElement],\n    });\n    const contentVerticalLayerElement = new VerticalLayerElement(horizontalLayer);\n    const scrollBarXVerticalLayerElement = new VerticalLayerElement(this.scrollBarX);\n    const verticalLayer = new VerticalLayer({\n      layerElements: [contentVerticalLayerElement, scrollBarXVerticalLayerElement],\n    });\n    super.children(verticalLayer);\n    this.bind();\n    POOL.push(this);\n  }\n\n  bind() {\n    EventBind.bind(window, Constant.SYSTEM_EVENT_TYPE.RESIZE, () => {\n      this.position();\n      this.scrollbar();\n    });\n  }\n\n  children(...args) {\n    this.content.children(...args);\n  }\n\n  position() {\n    const { content } = this;\n    const { el, position } = this.options;\n    const elBox = el.box();\n    const contentBox = content.box();\n    let { top, left } = elBox;\n    switch (position) {\n      case EL_POPUP_POSITION.TOP:\n        top = elBox.top - contentBox.height;\n        break;\n      case EL_POPUP_POSITION.LEFT:\n        left = elBox.left - contentBox.width;\n        break;\n      case EL_POPUP_POSITION.RIGHT:\n        left = elBox.left + elBox.width;\n        break;\n      case EL_POPUP_POSITION.BOTTOM:\n        top = elBox.top + elBox.height;\n        break;\n      default: break;\n    }\n    const maxWidth = window.innerWidth;\n    const maxHeight = window.innerHeight;\n    if (left < 0 || left + contentBox.width > maxWidth) {\n      // 左右颠倒\n      switch (position) {\n        case EL_POPUP_POSITION.LEFT:\n          left = elBox.left + elBox.width;\n          break;\n        case EL_POPUP_POSITION.RIGHT:\n          left = elBox.left - contentBox.width;\n          break;\n        default: break;\n      }\n    }\n    if (top < 0 || top + contentBox.height > maxHeight) {\n      // 上下颠倒\n      switch (position) {\n        case EL_POPUP_POSITION.TOP:\n          top = elBox.top + elBox.height;\n          break;\n        case EL_POPUP_POSITION.BOTTOM:\n          top = elBox.top - contentBox.height;\n          break;\n        default: break;\n      }\n    }\n    if (left < 0 || left + contentBox.width > maxWidth) {\n      top = elBox.top + elBox.height;\n      ({ left } = elBox);\n    }\n    if (top < 0 || top + contentBox.height > maxHeight) {\n      top = elBox.top + elBox.height;\n      ({ left } = elBox);\n    }\n    this.offset({\n      top,\n      left,\n    });\n  }\n\n  scrollbar() {\n    const { content } = this;\n    const contentBox = content.box();\n    const box = this.box();\n    this.scrollBarY.setSize(box.height, contentBox.height);\n    this.scrollBarX.setSize(box.width, contentBox.width);\n  }\n\n  open() {\n    if (this.off) {\n      h(document.body).children(this);\n      this.position();\n      this.scrollbar();\n      this.off = false;\n    }\n  }\n\n  close() {\n    if (this.off === false) {\n      h(document.body).remove(this);\n      this.off = true;\n    }\n  }\n\n  static closeAll(filter = []) {\n    POOL.forEach((item) => {\n      if (filter.indexOf(item) === -1) {\n        item.close();\n      }\n    });\n  }\n}\n\nexport { ElPopUp, EL_POPUP_POSITION };\n","/* global document */\nimport { cssPrefix } from '../../config';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { Widget } from '../../lib/Widget';\nimport { ElPopUp } from '../elpopup/ElPopUp';\nimport { Utils } from '../../utils/Utils';\n\nclass ELContextMenu extends Widget {\n\n  constructor(className = '', options = {}) {\n    super(`${cssPrefix}-el-context-menu ${className}`);\n    this.options = Utils.mergeDeep({}, options);\n    this.menus = [];\n    // 环绕元素弹层组件\n    this.elPopUp = new ElPopUp(this.options);\n    this.elPopUp.children(this);\n    this.bind();\n  }\n\n  bind() {\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n    });\n    EventBind.bind(document.body, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      this.close();\n    });\n  }\n\n  addItem(item) {\n    const { menus } = this;\n    menus.push(item);\n    this.children(item);\n    return this;\n  }\n\n  open() {\n    this.elPopUp.open();\n    return this;\n  }\n\n  close() {\n    this.elPopUp.close();\n    return this;\n  }\n\n  isOpen() {\n    return this.elPopUp.off;\n  }\n}\n\nexport { ELContextMenu };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\n\nclass ELContextMenuItem extends Widget {\n  constructor(className = '') {\n    super(`${cssPrefix}-el-context-menu-item hover ${className}`);\n  }\n}\n\nexport { ELContextMenuItem };\n","import { h } from '../../../../../lib/Element';\nimport { cssPrefix } from '../../../../../config';\nimport { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { Icon } from '../../Icon';\n\nconst pool = [];\n\nclass FormatContextMenuItem extends ELContextMenuItem {\n  constructor(title, desc) {\n    super(`${cssPrefix}-format-context-menu-item`);\n    this.title = title;\n    this.desc = desc;\n    this.icon = new Icon('checked');\n    this.iconElement = h('div', `${cssPrefix}-format-context-menu-item-icon`);\n    this.iconElement.children(this.icon);\n    this.titleElement = h('div', `${cssPrefix}-format-context-menu-item-title`);\n    this.descElement = h('div', `${cssPrefix}-format-context-menu-item-desc`);\n    this.titleElement.text(title);\n    this.descElement.text(desc);\n    this.children(this.iconElement);\n    this.children(this.titleElement);\n    this.children(this.descElement);\n    pool.push(this);\n  }\n\n  setTitle(title) {\n    this.titleElement.text(title);\n  }\n\n  setDesc(desc) {\n    this.descElement.text(desc);\n  }\n\n  setActive() {\n    pool.forEach((item) => {\n      item.removeClass('active');\n    });\n    this.addClass('active');\n  }\n}\n\nexport { FormatContextMenuItem };\n","import { cssPrefix } from '../../config';\nimport { Widget } from '../../lib/Widget';\n\nclass ELContextMenuDivider extends Widget {\n  constructor() {\n    super(`${cssPrefix}-el-context-menu-item-divider`);\n  }\n}\n\nexport { ELContextMenuDivider };\n","import { cssPrefix } from '../../../../../config';\nimport { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { FormatContextMenuItem } from './FormatContextMenuItem';\nimport { ELContextMenuDivider } from '../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { Constant } from '../../../../../utils/Constant';\nimport { Utils } from '../../../../../utils/Utils';\n\nclass FormatContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-format-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new FormatContextMenuItem('常规', '').data('type', 'default'),\n      new FormatContextMenuItem('文本', '').data('type', 'text'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('数值', '0.59').data('type', 'number'),\n      new FormatContextMenuItem('百分比', '90.00%').data('type', 'percentage'),\n      new FormatContextMenuItem('分数', '1/2').data('type', 'fraction'),\n      new FormatContextMenuItem('科学计数', '9.50e-01').data('type', 'ENotation'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('人民币', '￥5.00').data('type', 'rmb'),\n      new FormatContextMenuItem('港币', 'HK5.00').data('type', 'hk'),\n      new FormatContextMenuItem('美元', '$5.00').data('type', 'dollar'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('日期', '2018/4/18').data('type', 'date1'),\n      new FormatContextMenuItem('日期', '4月18日').data('type', 'date2'),\n      new FormatContextMenuItem('日期', '2018年4月').data('type', 'date3'),\n      new FormatContextMenuItem('日期', '2018年4月18日').data('type', 'date4'),\n      new FormatContextMenuItem('日期', '2018/4/18 14:30:30').data('type', 'date5'),\n      new FormatContextMenuItem('时间', '14:30:30').data('type', 'time'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('更多格式', ''),\n    ];\n    this.items.forEach((item) => {\n      if (item instanceof FormatContextMenuItem && item.data('type')) {\n        item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n          this.update(item.data('type'), item.title);\n          item.setActive();\n        });\n      }\n      this.addItem(item);\n    });\n    this.init();\n  }\n\n  init() {\n    const { options, items } = this;\n    const { el } = options;\n    const first = items[0];\n    el.setTitle(first.title);\n    first.setActive();\n  }\n\n  update(format, title) {\n    const { options } = this;\n    options.onUpdate(format, title);\n    this.close();\n  }\n\n  setActiveByType(type) {\n    this.items.forEach((item) => {\n      if (item.data('type') === type) {\n        item.setActive();\n      }\n    });\n  }\n}\n\nexport { FormatContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { FormatContextMenu } from './contextmenu/format/FormatContextMenu';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { Utils } from '../../../utils/Utils';\n\nclass Format extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-format`);\n    this.options = Utils.copyProp({\n      contextMenu: {},\n    }, options);\n    this.setTitle('常规');\n    this.setWidth(50);\n    this.setEllipsis();\n    this.formatContextMenu = new FormatContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { Format };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\nimport { h } from '../../../../../lib/Element';\nimport { Icon } from '../../Icon';\n\nconst pool = [];\n\nclass FontContextMenuItem extends ELContextMenuItem {\n  constructor(title) {\n    super(`${cssPrefix}-font-context-menu-item`);\n    this.title = title;\n    this.icon = new Icon('checked');\n    this.iconElement = h('div', `${cssPrefix}-font-context-menu-item-icon`);\n    this.iconElement.children(this.icon);\n    this.titleElement = h('div', `${cssPrefix}-font-context-menu-item-title`);\n    this.titleElement.text(title);\n    this.titleElement.css('font-family', title);\n    this.children(this.iconElement);\n    this.children(this.titleElement);\n    pool.push(this);\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.titleElement.text(title);\n  }\n\n  setActive() {\n    pool.forEach((item) => {\n      item.removeClass('active');\n    });\n    this.addClass('active');\n  }\n}\n\nexport { FontContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { Utils } from '../../../../../utils/Utils';\nimport { FontContextMenuItem } from './FontContextMenuItem';\nimport { Constant } from '../../../../../utils/Constant';\n\nclass FontContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new FontContextMenuItem('Arial'),\n      new FontContextMenuItem('Helvetica'),\n      new FontContextMenuItem('Source Sans Pro'),\n      new FontContextMenuItem('Comic Sans Ms'),\n      new FontContextMenuItem('Courier New'),\n      new FontContextMenuItem('Verdana'),\n      new FontContextMenuItem('Lalo'),\n    ];\n    this.items.forEach((item) => {\n      item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n        this.update(item.title);\n        item.setActive();\n      });\n      this.addItem(item);\n    });\n    this.setActiveByType(this.items[0].title);\n  }\n\n  update(type) {\n    const { options } = this;\n    options.onUpdate(type);\n    this.close();\n  }\n\n  setActiveByType(type) {\n    this.items.forEach((item) => {\n      if (item.title === type) {\n        item.setActive();\n      }\n    });\n  }\n}\n\nexport { FontContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { FontContextMenu } from './contextmenu/font/FontContextMenu';\n\nclass Font extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-font`);\n    this.options = Utils.copyProp({\n      contextMenu: {},\n    }, options);\n    this.setTitle('Arial');\n    this.setWidth(50);\n    this.setEllipsis();\n    this.fontContextMenu = new FontContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { Font };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\nimport { h } from '../../../../../lib/Element';\n\nclass FontSizeContextMenuItem extends ELContextMenuItem {\n  constructor(size) {\n    super(`${cssPrefix}-font-size-context-menu-item`);\n    this.size = size;\n    this.titleElement = h('div', `${cssPrefix}-font-size-context-menu-item-title`);\n    this.titleElement.text(size);\n    this.titleElement.css('text-align', 'center');\n    this.children(this.titleElement);\n  }\n}\n\nexport { FontSizeContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { Utils } from '../../../../../utils/Utils';\nimport { cssPrefix } from '../../../../../config';\nimport { FontSizeContextMenuItem } from './FontSizeContextMenuItem';\nimport { Constant } from '../../../../../utils/Constant';\n\nclass FontSizeContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-size-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new FontSizeContextMenuItem(6),\n      new FontSizeContextMenuItem(7),\n      new FontSizeContextMenuItem(8),\n      new FontSizeContextMenuItem(9),\n      new FontSizeContextMenuItem(10),\n      new FontSizeContextMenuItem(11),\n      new FontSizeContextMenuItem(12),\n      new FontSizeContextMenuItem(14),\n      new FontSizeContextMenuItem(15),\n      new FontSizeContextMenuItem(18),\n      new FontSizeContextMenuItem(24),\n      new FontSizeContextMenuItem(36),\n    ];\n    this.items.forEach((item) => {\n      item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n        this.update(item.size);\n      });\n      this.addItem(item);\n    });\n  }\n\n  update(size) {\n    const { options } = this;\n    options.onUpdate(size);\n    this.close();\n  }\n}\n\nexport { FontSizeContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { FontSizeContextMenu } from './contextmenu/fontsize/FontSizeContextMenu';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\n\nclass FontSize extends DropDownItem {\n  constructor(options = { contextMenu: {} }) {\n    super(`${cssPrefix}-tools-font-size`);\n    this.options = options;\n    this.setTitle('10');\n    this.setWidth(30);\n    this.setEllipsis();\n    this.fontSizeContextMenu = new FontSizeContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { FontSize };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass FontBold extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-font-bold`);\n    this.icon = new Icon('font-bold');\n    this.children(this.icon);\n  }\n}\n\nexport { FontBold };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass FontItalic extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-font-italic`);\n    this.icon = new Icon('font-italic');\n    this.children(this.icon);\n  }\n}\n\nexport { FontItalic };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass UnderLine extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-under-line`);\n    this.icon = new Icon('under-line');\n    this.children(this.icon);\n  }\n}\n\nexport { UnderLine };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\n\nclass FontStrike extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-font-strike`);\n    this.icon = new Icon('font-strike');\n    this.children(this.icon);\n  }\n}\n\nexport { FontStrike };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\nimport { h } from '../../../../../lib/Element';\n\nclass FontColorContextMenuItem extends ELContextMenuItem {\n  constructor(title, icon) {\n    super(`${cssPrefix}-font-color-context-menu-item`);\n    this.title = title;\n    this.icon = icon;\n    if (icon) {\n      this.iconElement = h('div', `${cssPrefix}-font-color-context-menu-item-icon`);\n      this.iconElement.children(this.icon);\n      this.children(this.iconElement);\n    }\n    if (title) {\n      this.titleElement = h('div', `${cssPrefix}-font-color-context-menu-item-title`);\n      this.titleElement.text(title);\n      this.children(this.titleElement);\n    }\n  }\n}\n\nexport { FontColorContextMenuItem };\n","/* global document */\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { h } from '../../lib/Element';\nimport { Utils } from '../../utils/Utils';\n\nconst POOL = [];\n\nconst DRAG_PANEL_POSITION = {\n  LEFT: 1,\n  TOP: 2,\n  RIGHT: 3,\n  CENTER: 4,\n};\n\nclass DragPanel extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-drag-panel`);\n    this.options = Utils.mergeDeep({\n      position: DRAG_PANEL_POSITION.CENTER,\n    }, options);\n    this.off = true;\n    this.mask = h('div', `${cssPrefix}-drag-panel-mask`);\n    this.content = h('div', `${cssPrefix}-drag-panel-content`);\n    super.children(this.content);\n    this.bind();\n    POOL.push(this);\n  }\n\n  bind() {\n    const { mask } = this;\n    EventBind.bind(mask, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.close();\n      e.stopPropagation();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (evt1) => {\n      if (evt1.button !== 0) return;\n      const downEventXy = this.computeEventXy(evt1, this);\n      EventBind.mouseMoveUp(h(document), (evt2) => {\n        // 计算移动的距离\n        const top = evt2.pageY - downEventXy.y;\n        const left = evt2.pageX - downEventXy.x;\n        this.offset({ top, left });\n        evt2.stopPropagation();\n        evt2.preventDefault();\n      });\n      evt1.stopPropagation();\n      evt1.preventDefault();\n    });\n  }\n\n  position() {\n    const { options } = this;\n    const { position } = options;\n    const { width, height } = Utils.viewPort();\n    const box = this.box();\n    switch (position) {\n      case DRAG_PANEL_POSITION.LEFT:\n        break;\n      case DRAG_PANEL_POSITION.RIGHT:\n        break;\n      case DRAG_PANEL_POSITION.TOP:\n        break;\n      case DRAG_PANEL_POSITION.CENTER:\n        this.offset({\n          left: width / 2 - box.width / 2,\n          top: height / 2 - box.height / 2,\n        });\n        break;\n      default: break;\n    }\n  }\n\n  open() {\n    if (this.off) {\n      const { mask } = this;\n      h(document.body).children(mask);\n      h(document.body).children(this);\n      this.position();\n      this.off = false;\n    }\n  }\n\n  close() {\n    if (this.off === false) {\n      const { mask } = this;\n      h(document.body).remove(this);\n      h(document.body).remove(mask);\n      this.off = true;\n    }\n  }\n\n  children(...args) {\n    this.content.children(...args);\n  }\n\n  static closeAll(filter = []) {\n    POOL.forEach((item) => {\n      if (filter.indexOf(item) === -1) {\n        item.close();\n      }\n    });\n  }\n}\n\nexport { DragPanel };\n","/* global document */\nimport { h } from '../../lib/Element';\nimport { cssPrefix } from '../../config';\nimport { Widget } from '../../lib/Widget';\nimport { DragPanel } from '../dragpanel/DragPanel';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { Utils } from '../../utils/Utils';\n\nclass ColorPicker extends Widget {\n\n  constructor(options) {\n    super(`${cssPrefix}-color-picker`);\n    this.options = Utils.mergeDeep({\n      selectCb: () => {},\n    }, options);\n    // 拖拽组件\n    this.dragPanel = new DragPanel();\n    this.color = [360, 0, 100];\n    // 头部\n    this.preViewColorPoint = h('div', `${cssPrefix}-color-picker-pre-view-color-point`);\n    this.colorValueTips = h('div', `${cssPrefix}-color-picker-color-value-tips`);\n    this.colorValueTips.text('十六进制颜色值');\n    this.colorInput = h('input', `${cssPrefix}-color-picker-color-input`);\n    this.top = h('div', `${cssPrefix}-color-picker-top`);\n    this.top.children(this.preViewColorPoint);\n    this.top.children(this.colorValueTips);\n    this.top.children(this.colorInput);\n    // 中间部分\n    this.selectColorPoint = h('div', `${cssPrefix}-color-picker-select-color-point`);\n    this.selectColorArea1 = h('div', `${cssPrefix}-color-picker-select-color-area area1`);\n    this.selectColorArea2 = h('div', `${cssPrefix}-color-picker-select-color-area area2`);\n    this.selectColorArea3 = h('div', `${cssPrefix}-color-picker-select-color-area area3`);\n    this.center = h('div', `${cssPrefix}-color-picker-center`);\n    this.center.children(this.selectColorArea1);\n    this.center.children(this.selectColorArea2);\n    this.center.children(this.selectColorArea3);\n    this.center.children(this.selectColorPoint);\n    // 底部\n    this.colorHuxTips = h('div', `${cssPrefix}-color-picker-color-hux-tips`);\n    this.colorBar = h('div', `${cssPrefix}-color-picker-color-bar`);\n    this.colorBarPoint = h('div', `${cssPrefix}-color-picker-bar-point`);\n    this.bottom = h('div', `${cssPrefix}-color-picker-bottom`);\n    this.colorHuxTips.text('HUE');\n    this.colorBar.children(this.colorBarPoint);\n    this.bottom.children(this.colorHuxTips);\n    this.bottom.children(this.colorBar);\n    // 按钮\n    this.cancelButton = h('div', `${cssPrefix}-color-picker-button cancel`);\n    this.selectButton = h('div', `${cssPrefix}-color-picker-button select`);\n    this.buttons = h('div', `${cssPrefix}-color-picker-buttons`);\n    this.cancelButton.text('取消');\n    this.selectButton.text('确定');\n    this.buttons.children(this.selectButton);\n    this.buttons.children(this.cancelButton);\n    this.children(this.top);\n    this.children(this.center);\n    this.children(this.bottom);\n    this.children(this.buttons);\n    this.dragPanel.children(this);\n    this.dragPanel.css('background', '#ffffff');\n    this.bind();\n  }\n\n  bind() {\n    const { selectColorPoint, center } = this;\n    const { colorBarPoint, colorBar } = this;\n    const { colorInput, cancelButton, selectButton } = this;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      e.stopPropagation();\n    });\n    EventBind.bind(selectColorPoint, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      const xy = this.computeEventXy(e1, center);\n      const centerBox = center.box();\n      if (xy.x < 0) xy.x = 0;\n      if (xy.x > centerBox.width) xy.x = centerBox.width;\n      if (xy.y < 0) xy.y = 0;\n      if (xy.y > centerBox.height) xy.y = centerBox.height;\n      this.downSelect(xy.x, xy.y, centerBox.width, centerBox.height);\n      EventBind.mouseMoveUp(h(document), (e2) => {\n        const xy = this.computeEventXy(e2, center);\n        if (xy.x < 0) xy.x = 0;\n        if (xy.x > centerBox.width) xy.x = centerBox.width;\n        if (xy.y < 0) xy.y = 0;\n        if (xy.y > centerBox.height) xy.y = centerBox.height;\n        this.moveSelect(xy.x, xy.y, centerBox.width, centerBox.height);\n      });\n    });\n    EventBind.bind(colorBarPoint, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      const xy = this.computeEventXy(e1, colorBar);\n      const colorBarBox = colorBar.box();\n      if (xy.x < 0) xy.x = 0;\n      if (xy.x > colorBarBox.width) xy.x = colorBarBox.width;\n      this.downHue(xy.x, colorBarBox.width);\n      EventBind.mouseMoveUp(h(document), (e2) => {\n        const xy = this.computeEventXy(e2, colorBar);\n        const colorBarBox = colorBar.box();\n        if (xy.x < 0) xy.x = 0;\n        if (xy.x > colorBarBox.width) xy.x = colorBarBox.width;\n        this.moveHue(xy.x, colorBarBox.width);\n      });\n    });\n    EventBind.bind(colorInput, Constant.SYSTEM_EVENT_TYPE.CHANGE, () => {\n      const value = colorInput.val();\n      if (value) {\n        this.hexColor(value);\n      }\n    });\n    EventBind.bind(cancelButton, Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.close();\n    });\n    EventBind.bind(selectButton, Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      const { color } = this;\n      const hsb = ColorPicker.fixHsx({\n        h: parseInt(color[0], 10),\n        s: parseInt(color[1], 10),\n        x: parseInt(color[2], 10),\n      });\n      const colorValue = ColorPicker.hsbToHex(hsb);\n      this.options.selectCb(`#${colorValue}`);\n      this.close();\n    });\n  }\n\n  open(hex) {\n    const { dragPanel } = this;\n    dragPanel.open();\n    if (hex) {\n      if (ColorPicker.isRgb(hex)) {\n        const rgb = ColorPicker.parseRgb(hex);\n        // eslint-disable-next-line no-param-reassign\n        hex = ColorPicker.rgbToHex(rgb);\n      }\n      this.hexColor(hex);\n    } else {\n      this.change();\n    }\n    return this;\n  }\n\n  close() {\n    const { dragPanel } = this;\n    dragPanel.close();\n    return this;\n  }\n\n  sliderPosition(hsb) {\n    // hue 滑块位置\n    const { colorBar, colorBarPoint } = this;\n    const colorBarPointBox = colorBarPoint.box();\n    const colorBarBox = colorBar.box();\n    let colorBarPointLeft = parseInt(colorBarBox.width - colorBarBox.width * hsb.h / 360, 10);\n    colorBarPointLeft -= colorBarPointBox.width / 2;\n    colorBarPoint.offset({\n      left: colorBarPointLeft,\n    });\n    // select color 滑块位置\n    const { center, selectColorPoint } = this;\n    const selectColorPointBox = selectColorPoint.box();\n    const centerBox = center.box();\n    let selectColorPointLeft = parseInt(centerBox.width * hsb.s / 100, 10);\n    let selectColorPointTop = parseInt(centerBox.height * (100 - hsb.x) / 100, 10);\n    selectColorPointLeft -= selectColorPointBox.width / 2;\n    selectColorPointTop -= selectColorPointBox.height / 2;\n    selectColorPoint.offset({\n      left: selectColorPointLeft,\n      top: selectColorPointTop,\n    });\n  }\n\n  hueChange() {\n    const { color } = this;\n    const hsb = ColorPicker.fixHsx({\n      h: parseInt(color[0], 10),\n      s: parseInt(color[1], 10),\n      x: parseInt(color[2], 10),\n    });\n    const {\n      colorBarPoint, selectColorPoint, preViewColorPoint, selectColorArea1, colorInput,\n    } = this;\n    const colorValue = ColorPicker.hsbToHex(hsb);\n    const areaColorValue = ColorPicker.hsbToHex({ h: hsb.h, s: 100, x: 100 });\n    selectColorPoint.css('backgroundColor', `#${colorValue}`);\n    preViewColorPoint.css('backgroundColor', `#${colorValue}`);\n    colorBarPoint.css('backgroundColor', `#${areaColorValue}`);\n    selectColorArea1.css('backgroundColor', `#${areaColorValue}`);\n    colorInput.val(`#${colorValue}`);\n    this.sliderPosition(hsb);\n  }\n\n  selectChange() {\n    const { color } = this;\n    const hsb = ColorPicker.fixHsx({\n      h: parseInt(color[0], 10),\n      s: parseInt(color[1], 10),\n      x: parseInt(color[2], 10),\n    });\n    const { preViewColorPoint, selectColorPoint, colorInput } = this;\n    const colorValue = ColorPicker.hsbToHex(hsb);\n    selectColorPoint.css('backgroundColor', `#${colorValue}`);\n    preViewColorPoint.css('backgroundColor', `#${colorValue}`);\n    colorInput.val(`#${colorValue}`);\n    this.sliderPosition(hsb);\n  }\n\n  change() {\n    this.hueChange();\n    this.selectChange();\n  }\n\n  downSelect(x, y, width, height) {\n    const { color } = this;\n    color[1] = parseInt(100 * x / width, 10);\n    color[2] = parseInt(100 * (height - y) / height, 10);\n    this.selectChange();\n  }\n\n  moveSelect(x, y, width, height) {\n    const { color } = this;\n    color[1] = parseInt(100 * (Math.max(0, Math.min(width, x))) / width, 10);\n    color[2] = parseInt(100 * (height - Math.max(0, Math.min(height, y))) / height, 10);\n    this.selectChange();\n  }\n\n  downHue(x, width) {\n    const { color } = this;\n    color[0] = parseInt(360 * (width - x) / width, 10);\n    this.hueChange();\n  }\n\n  moveHue(x, width) {\n    const { color } = this;\n    color[0] = parseInt(360 * (width - Math.max(0, Math.min(width, x))) / width, 10);\n    this.hueChange();\n  }\n\n  hexColor(hex) {\n    const { color } = this;\n    const result = ColorPicker.hexToHsb(ColorPicker.fixHex(hex));\n    color[0] = result.h;\n    color[1] = result.s;\n    color[2] = result.x;\n    this.change();\n  }\n\n  static fixHex(hex) {\n    const len = 6 - hex.length;\n    if (len > 0) {\n      const o = [];\n      for (let i = 0; i < len; i += 1) {\n        o.push('0');\n      }\n      o.push(hex);\n      // eslint-disable-next-line no-param-reassign\n      hex = o.join('');\n    }\n    return hex;\n  }\n\n  static fixHsx(hsx) {\n    return {\n      h: Math.min(360, Math.max(0, hsx.h)),\n      s: Math.min(100, Math.max(0, hsx.s)),\n      x: Math.min(100, Math.max(0, hsx.x)),\n    };\n  }\n\n  static hexToRgb(hex) {\n    // eslint-disable-next-line no-redeclare,no-param-reassign\n    hex = parseInt(((hex.indexOf('#') > -1) ? hex.substring(1) : hex), 16);\n    // eslint-disable-next-line no-bitwise\n    return { r: hex >> 16, g: (hex & 0x00FF00) >> 8, b: (hex & 0x0000FF) };\n  }\n\n  static hexToHsb(hex) {\n    return this.rgbToHsb(this.hexToRgb(hex));\n  }\n\n  static rgbToHsb(rgb) {\n    const hsb = { h: 0, s: 0, x: 0 };\n    const min = Math.min(rgb.r, rgb.g, rgb.b);\n    const max = Math.max(rgb.r, rgb.g, rgb.b);\n    const delta = max - min;\n    hsb.x = max;\n    hsb.s = max !== 0 ? 255 * delta / max : 0;\n    if (hsb.s !== 0) {\n      if (rgb.r === max) hsb.h = (rgb.g - rgb.b) / delta;\n      else if (rgb.g === max) hsb.h = 2 + (rgb.b - rgb.r) / delta;\n      else hsb.h = 4 + (rgb.r - rgb.g) / delta;\n    } else hsb.h = -1;\n    hsb.h *= 60;\n    if (hsb.h < 0) hsb.h += 360;\n    hsb.s *= 100 / 255;\n    hsb.x *= 100 / 255;\n    return hsb;\n  }\n\n  static hsbToRgb(hsb) {\n    const rgb = {};\n    let { h } = hsb;\n    const s = hsb.s * 255 / 100;\n    const v = hsb.x * 255 / 100;\n    if (s === 0) {\n      rgb.r = v;\n      rgb.g = v;\n      rgb.b = v;\n    } else {\n      const t1 = v;\n      const t2 = (255 - s) * v / 255;\n      const t3 = (t1 - t2) * (h % 60) / 60;\n      if (h === 360) h = 0;\n      if (h < 60) {\n        rgb.r = t1;\n        rgb.b = t2;\n        rgb.g = t2 + t3;\n      } else if (h < 120) {\n        rgb.g = t1;\n        rgb.b = t2;\n        rgb.r = t1 - t3;\n      } else if (h < 180) {\n        rgb.g = t1;\n        rgb.r = t2;\n        rgb.b = t2 + t3;\n      } else if (h < 240) {\n        rgb.b = t1;\n        rgb.r = t2;\n        rgb.g = t1 - t3;\n      } else if (h < 300) {\n        rgb.b = t1;\n        rgb.g = t2;\n        rgb.r = t2 + t3;\n      } else if (h < 360) {\n        rgb.r = t1;\n        rgb.g = t2;\n        rgb.b = t1 - t3;\n      } else {\n        rgb.r = 0;\n        rgb.g = 0;\n        rgb.b = 0;\n      }\n    }\n    return { r: Math.round(rgb.r), g: Math.round(rgb.g), b: Math.round(rgb.b) };\n  }\n\n  static rgbToHex(rgb) {\n    const hex = [\n      rgb.r.toString(16),\n      rgb.g.toString(16),\n      rgb.b.toString(16),\n    ];\n    hex.forEach((val, nr) => {\n      if (val.length === 1) {\n        hex[nr] = `0${val}`;\n      }\n    });\n    return hex.join('');\n  }\n\n  static hsbToHex(hsb) {\n    return this.rgbToHex(this.hsbToRgb(hsb));\n  }\n\n  static isRgb(rgb) {\n    return rgb.startsWith('rgb');\n  }\n\n  static isHex(hex) {\n    return hex.startsWith('#');\n  }\n\n  static parseRgb(rgb) {\n    const rxp = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/;\n    const result = rgb.match(rxp);\n    return {\n      r: result[1],\n      g: result[2],\n      b: result[3],\n    };\n  }\n\n  static isDark(rgb) {\n    if (Utils.isBlank(rgb)) {\n      return false;\n    }\n    if (this.isHex(rgb)) {\n      const v = ColorPicker.hexToRgb(rgb);\n      // eslint-disable-next-line no-param-reassign\n      rgb = `rgb(${v.r}, ${v.g}, ${v.b})`;\n    }\n    const result = ColorPicker.parseRgb(rgb);\n    return result.r * 0.299 + result.g * 0.578 + result.b * 0.114 >= 192;\n  }\n}\n\nexport { ColorPicker };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\nimport { Icon } from '../../core/work/tools/Icon';\nimport { ColorPicker } from '../colorpicker/ColorPicker';\n\nclass ColorItem extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-color-array-item`);\n    this.options = Utils.mergeDeep({\n      color: null,\n      icon: null,\n    }, options);\n    this.color = this.options.color;\n    this.icon = this.options.icon;\n    if (this.color) {\n      this.css('backgroundColor', this.color);\n      if (ColorPicker.isDark(this.options.color)) {\n        this.checkedIcon = new Icon('checked-dark');\n        this.children(this.checkedIcon);\n      } else {\n        this.checkedIcon = new Icon('checked-light');\n        this.children(this.checkedIcon);\n      }\n      this.checkedIcon.hide();\n    }\n    if (this.icon) {\n      this.children(this.options.icon);\n    }\n  }\n\n  setActive(active) {\n    if (this.checkedIcon) {\n      if (active) {\n        this.checkedIcon.show();\n      } else {\n        this.checkedIcon.hide();\n      }\n    }\n  }\n}\n\nexport { ColorItem };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { ColorItem } from './ColorItem';\nimport { Utils } from '../../utils/Utils';\nimport { Constant } from '../../utils/Constant';\n\nclass ColorArray extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-color-array`);\n    this.options = Utils.mergeDeep({\n      colors: [\n        new ColorItem({ color: 'rgb(0,0,0)' }),\n        new ColorItem({ color: 'rgb(67, 67, 67)' }),\n        new ColorItem({ color: 'rgb(102, 102, 102)' }),\n        new ColorItem({ color: 'rgb(153, 153, 153)' }),\n        new ColorItem({ color: 'rgb(183, 183, 183)' }),\n        new ColorItem({ color: 'rgb(204, 204, 204)' }),\n        new ColorItem({ color: 'rgb(217, 217, 217)' }),\n        new ColorItem({ color: 'rgb(239, 239, 239)' }),\n        new ColorItem({ color: 'rgb(255, 255, 255)' }),\n\n        new ColorItem({ color: 'rgb(152, 0, 0)' }),\n        new ColorItem({ color: 'rgb(255, 0, 0)' }),\n        new ColorItem({ color: 'rgb(255, 153, 0)' }),\n        new ColorItem({ color: 'rgb(255, 255, 0)' }),\n        new ColorItem({ color: 'rgb(0, 255, 0)' }),\n        new ColorItem({ color: 'rgb(0, 255, 255)' }),\n        new ColorItem({ color: 'rgb(74, 134, 232)' }),\n        new ColorItem({ color: 'rgb(0, 0, 255)' }),\n        new ColorItem({ color: 'rgb(153, 0, 255)' }),\n        new ColorItem({ color: 'rgb(255, 0, 255)' }),\n\n        new ColorItem({ color: 'rgb(230, 184, 175)' }),\n        new ColorItem({ color: 'rgb(244, 204, 204)' }),\n        new ColorItem({ color: 'rgb(252, 229, 205)' }),\n        new ColorItem({ color: 'rgb(255, 242, 204)' }),\n        new ColorItem({ color: 'rgb(217, 234, 211)' }),\n        new ColorItem({ color: 'rgb(208, 224, 227)' }),\n        new ColorItem({ color: 'rgb(201, 218, 248)' }),\n        new ColorItem({ color: 'rgb(207, 226, 243)' }),\n        new ColorItem({ color: 'rgb(217, 210, 233)' }),\n        new ColorItem({ color: 'rgb(234, 209, 220)' }),\n\n        new ColorItem({ color: 'rgb(221, 126, 107)' }),\n        new ColorItem({ color: 'rgb(234, 153, 153)' }),\n        new ColorItem({ color: 'rgb(249, 203, 156)' }),\n        new ColorItem({ color: 'rgb(255, 229, 153)' }),\n        new ColorItem({ color: 'rgb(182, 215, 168)' }),\n        new ColorItem({ color: 'rgb(162, 196, 201)' }),\n        new ColorItem({ color: 'rgb(164, 194, 244)' }),\n        new ColorItem({ color: 'rgb(159, 197, 232)' }),\n        new ColorItem({ color: 'rgb(180, 167, 214)' }),\n        new ColorItem({ color: 'rgb(213, 166, 189)' }),\n\n        new ColorItem({ color: 'rgb(204, 65, 37)' }),\n        new ColorItem({ color: 'rgb(224, 102, 102)' }),\n        new ColorItem({ color: 'rgb(246, 178, 107)' }),\n        new ColorItem({ color: 'rgb(255, 217, 102)' }),\n        new ColorItem({ color: 'rgb(147, 196, 125)' }),\n        new ColorItem({ color: 'rgb(118, 165, 175)' }),\n        new ColorItem({ color: 'rgb(109, 158, 235)' }),\n        new ColorItem({ color: 'rgb(111, 168, 220)' }),\n        new ColorItem({ color: 'rgb(142, 124, 195)' }),\n        new ColorItem({ color: 'rgb(194, 123, 160)' }),\n\n        new ColorItem({ color: 'rgb(166, 28, 0)' }),\n        new ColorItem({ color: 'rgb(204, 0, 0)' }),\n        new ColorItem({ color: 'rgb(230, 145, 56)' }),\n        new ColorItem({ color: 'rgb(241, 194, 50)' }),\n        new ColorItem({ color: 'rgb(106, 168, 79)' }),\n        new ColorItem({ color: 'rgb(69, 129, 142)' }),\n        new ColorItem({ color: 'rgb(60, 120, 216)' }),\n        new ColorItem({ color: 'rgb(61, 133, 198)' }),\n        new ColorItem({ color: 'rgb(103, 78, 167)' }),\n        new ColorItem({ color: 'rgb(166, 77, 121)' }),\n\n        new ColorItem({ color: 'rgb(133, 32, 12)' }),\n        new ColorItem({ color: 'rgb(153, 0, 0)' }),\n        new ColorItem({ color: 'rgb(180, 95, 6)' }),\n        new ColorItem({ color: 'rgb(191, 144, 0)' }),\n        new ColorItem({ color: 'rgb(56, 118, 29)' }),\n        new ColorItem({ color: 'rgb(19, 79, 92)' }),\n        new ColorItem({ color: 'rgb(17, 85, 204)' }),\n        new ColorItem({ color: 'rgb(11, 83, 148)' }),\n        new ColorItem({ color: 'rgb(53, 28, 117)' }),\n        new ColorItem({ color: 'rgb(116, 27, 71)' }),\n\n        new ColorItem({ color: 'rgb(91, 15, 0)' }),\n        new ColorItem({ color: 'rgb(102, 0, 0)' }),\n        new ColorItem({ color: 'rgb(120, 63, 4)' }),\n        new ColorItem({ color: 'rgb(127, 96, 0)' }),\n        new ColorItem({ color: 'rgb(39, 78, 19)' }),\n        new ColorItem({ color: 'rgb(12, 52, 61)' }),\n        new ColorItem({ color: 'rgb(28, 69, 135)' }),\n        new ColorItem({ color: 'rgb(7, 55, 99)' }),\n        new ColorItem({ color: 'rgb(32, 18, 77)' }),\n        new ColorItem({ color: 'rgb(76, 17, 48)' }),\n      ],\n      selectCb: () => {},\n    }, options);\n    this.colors = this.options.colors;\n    this.activeColor = null;\n    this.colors.forEach((item) => {\n      this.children(item);\n      item.on(Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n        this.options.selectCb(item);\n        if (item.options.color) {\n          this.setActiveByColor(item.options.color);\n        }\n      });\n    });\n    if (this.colors.length > 0) {\n      this.setActiveByColor(this.colors[0].options.color);\n    }\n  }\n\n  add(item) {\n    item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.selectCb(item);\n      if (item.options.color) {\n        this.setActiveByColor(item.options.color);\n      }\n    });\n    this.colors.push(item);\n    this.children(item);\n  }\n\n  setActiveByColor(color) {\n    this.colors.forEach((item) => {\n      const { options } = item;\n      if (options.color === color) {\n        item.setActive(true);\n        this.activeColor = options.color;\n      } else {\n        item.setActive(false);\n      }\n    });\n  }\n}\n\nexport { ColorArray };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { FontColorContextMenuItem } from './FontColorContextMenuItem';\nimport { ColorArray } from '../../../../../component/colorarray/ColorArray';\nimport { h } from '../../../../../lib/Element';\nimport { ColorItem } from '../../../../../component/colorarray/ColorItem';\nimport { ELContextMenuDivider } from '../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { Icon } from '../../Icon';\nimport { Utils } from '../../../../../utils/Utils';\nimport { Constant } from '../../../../../utils/Constant';\nimport { ColorPicker } from '../../../../../component/colorpicker/ColorPicker';\n\nclass FontColorContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-color-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.colorPicker = new ColorPicker({\n      selectCb: (color) => {\n        const item = new ColorItem({ color });\n        this.customizeColorArray.add(item);\n        this.customizeColorArray.setActiveByColor(color);\n        this.colorArray.setActiveByColor(null);\n        this.options.onUpdate(color);\n        this.close();\n      },\n    });\n    // 重置\n    this.reset = new FontColorContextMenuItem('重置', new Icon('clear-color'));\n    this.reset.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.onUpdate('rgb(0,0,0)');\n      this.customizeColorArray.setActiveByColor(null);\n      this.colorArray.setActiveByColor(null);\n    });\n    // 颜色筛选\n    this.array = new FontColorContextMenuItem();\n    this.array.removeClass('hover');\n    this.colorArray = new ColorArray({\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) this.options.onUpdate(color);\n        this.customizeColorArray.setActiveByColor(null);\n        this.close();\n      },\n    });\n    this.array.children(this.colorArray);\n    // 历史选中\n    this.title = h('div', `${cssPrefix}-font-color-context-menu-color-title`);\n    this.title.text('自定义');\n    this.plus = new Icon('plus');\n    this.customizeColorArray = new ColorArray({\n      colors: [\n        new ColorItem({ icon: this.plus }),\n      ],\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) {\n          this.options.onUpdate(color);\n          this.colorArray.setActiveByColor(null);\n          this.close();\n        } else {\n          this.colorPicker.open(this.customizeColorArray.activeColor);\n        }\n      },\n    });\n    this.customize = new FontColorContextMenuItem();\n    this.customize.removeClass('hover');\n    this.customize.children(this.title);\n    this.customize.children(this.customizeColorArray);\n    // 菜单元素追加子节点\n    this.addItem(this.reset);\n    this.addItem(this.array);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.customize);\n  }\n\n  setActiveByColor(color) {\n    this.customizeColorArray.setActiveByColor(color);\n    this.colorArray.setActiveByColor(color);\n  }\n}\n\nexport { FontColorContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { FontColorContextMenu } from './contextmenu/fontcolor/FontColorContextMenu';\n\nclass FontColor extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-font-color`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('color');\n    this.fontColorContextMenu = new FontColorContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n    this.setIcon(this.icon);\n    this.setColor('rgb(0,0,0)');\n    this.fontColorContextMenu.setActiveByColor('rgb(0,0,0)');\n  }\n\n  setColor(color) {\n    this.icon.css('border-bottom', `3px solid ${color}`);\n  }\n}\n\nexport { FontColor };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\nimport { h } from '../../../../../lib/Element';\n\nclass FillColorContextMenuItem extends ELContextMenuItem {\n  constructor(title, icon) {\n    super(`${cssPrefix}-fill-color-context-menu-item`);\n    this.title = title;\n    this.icon = icon;\n    if (icon) {\n      this.iconElement = h('div', `${cssPrefix}-fill-color-context-menu-item-icon`);\n      this.iconElement.children(this.icon);\n      this.children(this.iconElement);\n    }\n    if (title) {\n      this.titleElement = h('div', `${cssPrefix}-fill-color-context-menu-item-title`);\n      this.titleElement.text(title);\n      this.children(this.titleElement);\n    }\n  }\n}\n\nexport { FillColorContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { ColorArray } from '../../../../../component/colorarray/ColorArray';\nimport { h } from '../../../../../lib/Element';\nimport { ColorItem } from '../../../../../component/colorarray/ColorItem';\nimport { ELContextMenuDivider } from '../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { Icon } from '../../Icon';\nimport { Utils } from '../../../../../utils/Utils';\nimport { Constant } from '../../../../../utils/Constant';\nimport { FillColorContextMenuItem } from './FillColorContextMenuItem';\nimport { ColorPicker } from '../../../../../component/colorpicker/ColorPicker';\n\nclass FillColorContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-color-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.colorPicker = new ColorPicker({\n      selectCb: (color) => {\n        const item = new ColorItem({ color });\n        this.customizeColorArray.add(item);\n        this.customizeColorArray.setActiveByColor(color);\n        this.colorArray.setActiveByColor(null);\n        this.options.onUpdate(color);\n        this.close();\n      },\n    });\n    // 重置\n    this.reset = new FillColorContextMenuItem('重置', new Icon('clear-color'));\n    this.reset.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.onUpdate(null);\n      this.customizeColorArray.setActiveByColor(null);\n      this.colorArray.setActiveByColor(null);\n    });\n    // 颜色筛选\n    this.array = new FillColorContextMenuItem();\n    this.array.removeClass('hover');\n    this.colorArray = new ColorArray({\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) this.options.onUpdate(color);\n        this.customizeColorArray.setActiveByColor(null);\n        this.close();\n      },\n    });\n    this.array.children(this.colorArray);\n    // 历史选中\n    this.title = h('div', `${cssPrefix}-font-color-context-menu-color-title`);\n    this.title.text('自定义');\n    this.plus = new Icon('plus');\n    this.customizeColorArray = new ColorArray({\n      colors: [\n        new ColorItem({ icon: this.plus }),\n      ],\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) {\n          this.options.onUpdate(color);\n          this.colorArray.setActiveByColor(null);\n          this.close();\n        } else {\n          this.colorPicker.open(this.customizeColorArray.activeColor);\n        }\n      },\n    });\n    this.customize = new FillColorContextMenuItem();\n    this.customize.removeClass('hover');\n    this.customize.children(this.title);\n    this.customize.children(this.customizeColorArray);\n    // 菜单元素追加子节点\n    this.addItem(this.reset);\n    this.addItem(this.array);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.customize);\n  }\n\n  setActiveByColor(color) {\n    this.customizeColorArray.setActiveByColor(color);\n    this.colorArray.setActiveByColor(color);\n  }\n}\n\nexport { FillColorContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { FillColorContextMenu } from './contextmenu/fillcolor/FillColorContextMenu';\n\nclass FillColor extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-fill-color`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('fill-color');\n    this.fillColorContextMenu = new FillColorContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n    this.setIcon(this.icon);\n    this.setColor('rgb(255, 255, 255)');\n    this.fillColorContextMenu.setActiveByColor('rgb(255, 255, 255)');\n  }\n\n  setColor(color) {\n    this.icon.css('border-bottom', `3px solid ${color}`);\n  }\n}\n\nexport { FillColor };\n","import { ELContextMenuItem } from '../../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../../config';\n\nclass BorderTypeContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-border-type-context-menu-item`);\n  }\n}\n\nexport { BorderTypeContextMenuItem };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border1`);\n    this.icon = new Icon('border1');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon1 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border2`);\n    this.icon = new Icon('border2');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon2 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border3`);\n    this.icon = new Icon('border3');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon3 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon4 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border4`);\n    this.icon = new Icon('border4');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon4 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon5 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border5`);\n    this.icon = new Icon('border5');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon5 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon6 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border6`);\n    this.icon = new Icon('border6');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon6 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon7 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border7`);\n    this.icon = new Icon('border7');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon7 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon8 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border8`);\n    this.icon = new Icon('border8');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon8 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon9 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border9`);\n    this.icon = new Icon('border9');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon9 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon10 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border10`);\n    this.icon = new Icon('border10');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon10 };\n","import { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\nimport { DropDownItem } from '../../../base/DropDownItem';\n\nclass BorderColor extends DropDownItem {\n  constructor() {\n    super(`${cssPrefix}-tools-border-color`);\n    this.icon = new Icon('border-color');\n    this.setIcon(this.icon);\n    this.setColor('#000000');\n  }\n\n  setColor(color) {\n    this.icon.css('border-bottom', `3px solid ${color}`);\n  }\n}\n\nexport { BorderColor };\n","import { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\nimport { DropDownItem } from '../../../base/DropDownItem';\n\nclass BorderType extends DropDownItem {\n  constructor() {\n    super(`${cssPrefix}-tools-border-type`);\n    this.icon = new Icon('border-type');\n    this.setIcon(this.icon);\n  }\n}\n\nexport { BorderType };\n","import { ELContextMenuItem } from '../../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../../config';\nimport { h } from '../../../../../../lib/Element';\n\nclass BorderColorContextMenuItem extends ELContextMenuItem {\n  constructor(title, icon) {\n    super(`${cssPrefix}-border-color-context-menu-item`);\n    this.title = title;\n    this.icon = icon;\n    if (icon) {\n      this.iconElement = h('div', `${cssPrefix}-border-color-context-menu-item-icon`);\n      this.iconElement.children(this.icon);\n      this.children(this.iconElement);\n    }\n    if (title) {\n      this.titleElement = h('div', `${cssPrefix}-border-color-context-menu-item-title`);\n      this.titleElement.text(title);\n      this.children(this.titleElement);\n    }\n  }\n}\n\nexport { BorderColorContextMenuItem };\n","import { ELContextMenu } from '../../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../../config';\nimport { Utils } from '../../../../../../utils/Utils';\nimport { ColorPicker } from '../../../../../../component/colorpicker/ColorPicker';\nimport { ColorItem } from '../../../../../../component/colorarray/ColorItem';\nimport { Icon } from '../../../Icon';\nimport { Constant } from '../../../../../../utils/Constant';\nimport { ColorArray } from '../../../../../../component/colorarray/ColorArray';\nimport { ELContextMenuDivider } from '../../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { BorderColorContextMenuItem } from './BorderColorContextMenuItem';\nimport { h } from '../../../../../../lib/Element';\n\nclass BorderColorContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-border-color-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.colorPicker = new ColorPicker({\n      selectCb: (color) => {\n        const item = new ColorItem({ color });\n        this.customizeColorArray.add(item);\n        this.customizeColorArray.setActiveByColor(color);\n        this.colorArray.setActiveByColor(null);\n        this.options.onUpdate(color);\n        this.close();\n      },\n    });\n    // 重置\n    this.reset = new BorderColorContextMenuItem('重置', new Icon('clear-color'));\n    this.reset.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.onUpdate('rgb(0,0,0)');\n      this.customizeColorArray.setActiveByColor(null);\n      this.colorArray.setActiveByColor(null);\n    });\n    // 颜色筛选\n    this.array = new BorderColorContextMenuItem();\n    this.array.removeClass('hover');\n    this.colorArray = new ColorArray({\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) this.options.onUpdate(color);\n        this.customizeColorArray.setActiveByColor(null);\n        this.close();\n      },\n    });\n    this.array.children(this.colorArray);\n    // 历史选中\n    this.title = h('div', `${cssPrefix}-border-color-context-menu-color-title`);\n    this.title.text('自定义');\n    this.plus = new Icon('plus');\n    this.customizeColorArray = new ColorArray({\n      colors: [\n        new ColorItem({ icon: this.plus }),\n      ],\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) {\n          this.options.onUpdate(color);\n          this.colorArray.setActiveByColor(null);\n          this.close();\n        } else {\n          this.colorPicker.open(this.customizeColorArray.activeColor);\n        }\n      },\n    });\n    this.customize = new BorderColorContextMenuItem();\n    this.customize.removeClass('hover');\n    this.customize.children(this.title);\n    this.customize.children(this.customizeColorArray);\n    // 菜单元素追加子节点\n    this.addItem(this.reset);\n    this.addItem(this.array);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.customize);\n  }\n\n  setActiveByColor(color) {\n    this.customizeColorArray.setActiveByColor(color);\n    this.colorArray.setActiveByColor(color);\n  }\n}\n\nexport { BorderColorContextMenu };\n","import { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\nimport { h } from '../../../../../../lib/Element';\nimport { ELContextMenuItem } from '../../../../../../component/elcontextmenu/ELContextMenuItem';\n\nconst pool = [];\n\nclass LineTypeContextMenuItem extends ELContextMenuItem {\n  constructor(type) {\n    super(`${cssPrefix}-font-context-menu-item`);\n    this.type = type;\n    this.icon = new Icon('checked');\n    this.typeIcon = new Icon(type);\n    this.typeIcon.setWidth(50);\n    this.iconElement = h('div', `${cssPrefix}-font-context-menu-item-icon`);\n    this.titleElement = h('div', `${cssPrefix}-font-context-menu-item-title`);\n    this.iconElement.children(this.icon);\n    this.titleElement.children(this.typeIcon);\n    this.children(this.iconElement);\n    this.children(this.titleElement);\n    pool.push(this);\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.titleElement.text(title);\n  }\n\n  setActive() {\n    pool.forEach((item) => {\n      item.removeClass('active');\n    });\n    this.addClass('active');\n  }\n}\n\nexport { LineTypeContextMenuItem };\n","import { ELContextMenu } from '../../../../../../component/elcontextmenu/ELContextMenu';\nimport { Utils } from '../../../../../../utils/Utils';\nimport { cssPrefix } from '../../../../../../config';\nimport { LineTypeContextMenuItem } from './LineTypeContextMenuItem';\nimport { Constant } from '../../../../../../utils/Constant';\n\nclass LineTypeContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-line-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new LineTypeContextMenuItem('line1'),\n      new LineTypeContextMenuItem('line2'),\n      new LineTypeContextMenuItem('line3'),\n      new LineTypeContextMenuItem('line4'),\n      new LineTypeContextMenuItem('line5'),\n      new LineTypeContextMenuItem('line6'),\n    ];\n    this.items.forEach((item) => {\n      item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n        this.update(item.type);\n        item.setActive();\n      });\n      this.addItem(item);\n    });\n    this.setActiveByType(this.items[0].type);\n  }\n\n  update(type) {\n    const { options } = this;\n    options.onUpdate(type);\n    this.close();\n  }\n\n  setActiveByType(type) {\n    this.items.forEach((item) => {\n      if (item.type === type) {\n        item.setActive();\n      }\n    });\n  }\n}\n\nexport { LineTypeContextMenu };\n","import { Utils } from '../utils/Utils';\n\nconst LINE_TYPE = {\n  SOLID_LINE: 0,\n  DOTTED_LINE: 1,\n  POINT_LINE: 2,\n  DOUBLE_LINE: 3,\n};\n\nclass SolidLine {\n\n  constructor(draw, attr) {\n    this.draw = draw;\n    Utils.mergeDeep(this, {\n      color: '#000000',\n      width: 1,\n    }, attr);\n  }\n\n  drawLine(sx, sy, ex, ey) {\n    const { draw } = this;\n    const { width, color } = this;\n    draw.beginPath();\n    draw.attr({\n      lineWidth: width,\n      strokeStyle: color,\n    });\n    draw.setLineDash([]);\n    draw.line([sx, sy], [ex, ey]);\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n}\n\nclass DottedLine {\n\n  constructor(draw, attr) {\n    this.draw = draw;\n    Utils.mergeDeep(this, {\n      color: '#000000',\n      width: 1,\n      dash: [5],\n    }, attr);\n  }\n\n  drawLine(sx, sy, ex, ey) {\n    const { draw, dash } = this;\n    const { width, color } = this;\n    draw.beginPath();\n    draw.attr({\n      lineWidth: width,\n      strokeStyle: color,\n    });\n    draw.setLineDash(dash);\n    draw.line([sx, sy], [ex, ey]);\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n}\n\nclass DoubleLine {\n\n  constructor(draw, attr) {\n    this.draw = draw;\n    Utils.mergeDeep(this, {\n      color: '#000000',\n      width: 1,\n      padding: 1,\n      spacing: 1.5,\n      leftShow: () => false,\n      topShow: () => false,\n      rightShow: () => false,\n      bottomShow: () => false,\n      iFMerge: () => false,\n      iFMergeFirstRow: () => false,\n      iFMergeLastRow: () => false,\n      iFMergeFirstCol: () => false,\n      iFMergeLastCol: () => false,\n    }, attr);\n  }\n\n  handleExternal(sx, sy, ex, ey, row, col, pos) {\n    const external = {};\n    const { leftShow, topShow, rightShow, bottomShow } = this;\n    const { iFMerge, iFMergeFirstRow, iFMergeLastRow, iFMergeFirstCol, iFMergeLastCol } = this;\n    const { spacing } = this;\n    let ifMerge = null;\n    let firstRow = null;\n    let lastRow = null;\n    let firstCol = null;\n    let lastCol = null;\n    switch (pos) {\n      case 'left':\n        ifMerge = iFMerge(row, col - 1);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row, col - 1);\n          lastRow = iFMergeLastRow(row, col - 1);\n          firstCol = iFMergeFirstCol(row, col - 1);\n          lastCol = iFMergeLastCol(row, col - 1);\n        }\n        break;\n      case 'top':\n        ifMerge = iFMerge(row - 1, col);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row - 1, col);\n          lastRow = iFMergeLastRow(row - 1, col);\n          firstCol = iFMergeFirstCol(row - 1, col);\n          lastCol = iFMergeLastCol(row - 1, col);\n        }\n        break;\n      case 'right':\n        ifMerge = iFMerge(row, col + 1);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row, col + 1);\n          lastRow = iFMergeLastRow(row, col + 1);\n          firstCol = iFMergeFirstCol(row, col + 1);\n          lastCol = iFMergeLastCol(row, col + 1);\n        }\n        break;\n      case 'bottom':\n        ifMerge = iFMerge(row + 1, col);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row + 1, col);\n          lastRow = iFMergeLastRow(row + 1, col);\n          firstCol = iFMergeFirstCol(row + 1, col);\n          lastCol = iFMergeLastCol(row + 1, col);\n        }\n        break;\n      default: break;\n    }\n    if (ifMerge) {\n      switch (pos) {\n        case 'left': {\n          external.sx = sx - spacing;\n          external.ex = ex - spacing;\n          // 检查顶边和上底边及左上角底边及左顶边\n          const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          external.sy = sy;\n          if (sTop || sBottom) external.sy = sy - spacing;\n          if (sTopLeftCorner && firstRow) external.sy = sy + spacing;\n          // 检查底边和下顶边及左下角顶边和左底边\n          const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          external.ey = ey;\n          if (eBottom || eTop) external.ey = ey + spacing;\n          if (eBottomLeftCorner && lastRow) external.ey = ey - spacing;\n          break;\n        }\n        case 'top': {\n          external.sy = sy - spacing;\n          external.ey = ey - spacing;\n          // 检查左边和左右边及左上角右边及上左边\n          const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          external.sx = sx;\n          if (sLeft || sRight) external.sx = sx - spacing;\n          if (sTopLeftCorner && firstCol) external.sx = sx + spacing;\n          // 检查右边和右左边及右上角左边及上右边\n          const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          external.ex = ex;\n          if (eRight || eLeft) external.ex = ex + spacing;\n          if (eTopRightCorner && lastCol) external.ex = ex - spacing;\n          break;\n        }\n        case 'right': {\n          external.sx = sx + spacing;\n          external.ex = ex + spacing;\n          // 检查顶边和上底边及右上角底边及右顶边\n          const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          external.sy = sy;\n          if (sTop || sBottom) external.sy = sy - spacing;\n          if (sTopRightCorner && firstRow) external.sy = sy + spacing;\n          // 检查底边和下顶边及右下角顶边及右底边\n          const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          external.ey = ey;\n          if (eBottom || eTop) external.ey = ey + spacing;\n          if (eBottomRightCorner && lastRow) external.ey = ey - spacing;\n          break;\n        }\n        case 'bottom': {\n          external.sy = sy + spacing;\n          external.ey = ey + spacing;\n          // 检查左边和左右边及左下角右边及下左边\n          const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          external.sx = sx;\n          if (sLeft || sRight) external.sx = sx - spacing;\n          if (sBottomLeftCorner && firstCol) external.sx = sx + spacing;\n          // 检查右边和右左边及右下角左边及下右边\n          const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          external.ex = ex;\n          if (eRight || eLeft) external.ex = ex + spacing;\n          if (eBottomRightCorner && lastCol) external.ex = ex - spacing;\n          break;\n        }\n        default: break;\n      }\n      return external;\n    }\n    switch (pos) {\n      case 'left': {\n        external.sx = sx - spacing;\n        external.ex = ex - spacing;\n        // 检查顶边和上底边及左上角底边及左顶边\n        const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        external.sy = sy;\n        if (sTop || sBottom) external.sy = sy - spacing;\n        if (sTopLeftCorner) external.sy = sy + spacing;\n        // 检查底边和下顶边及左下角顶边和左底边\n        const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        external.ey = ey;\n        if (eBottom || eTop) external.ey = ey + spacing;\n        if (eBottomLeftCorner) external.ey = ey - spacing;\n        break;\n      }\n      case 'top': {\n        external.sy = sy - spacing;\n        external.ey = ey - spacing;\n        // 检查左边和左右边及左上角右边及上左边\n        const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        external.sx = sx;\n        if (sLeft || sRight) external.sx = sx - spacing;\n        if (sTopLeftCorner) external.sx = sx + spacing;\n        // 检查右边和右左边及右上角左边及上右边\n        const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        external.ex = ex;\n        if (eRight || eLeft) external.ex = ex + spacing;\n        if (eTopRightCorner) external.ex = ex - spacing;\n        break;\n      }\n      case 'right': {\n        external.sx = sx + spacing;\n        external.ex = ex + spacing;\n        // 检查顶边和上底边及右上角底边及右顶边\n        const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        external.sy = sy;\n        if (sTop || sBottom) external.sy = sy - spacing;\n        if (sTopRightCorner) external.sy = sy + spacing;\n        // 检查底边和下顶边及右下角顶边及右底边\n        const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        external.ey = ey;\n        if (eBottom || eTop) external.ey = ey + spacing;\n        if (eBottomRightCorner) external.ey = ey - spacing;\n        break;\n      }\n      case 'bottom': {\n        external.sy = sy + spacing;\n        external.ey = ey + spacing;\n        // 检查左边和左右边及左下角右边及下左边\n        const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        external.sx = sx;\n        if (sLeft || sRight) external.sx = sx - spacing;\n        if (sBottomLeftCorner) external.sx = sx + spacing;\n        // 检查右边和右左边及右下角左边及下右边\n        const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        external.ex = ex;\n        if (eRight || eLeft) external.ex = ex + spacing;\n        if (eBottomRightCorner) external.ex = ex - spacing;\n        break;\n      }\n      default: break;\n    }\n    return external;\n  }\n\n  handleInternal(sx, sy, ex, ey, row, col, pos) {\n    const internal = {};\n    const { leftShow, topShow, rightShow, bottomShow } = this;\n    const { iFMerge, iFMergeFirstRow, iFMergeLastRow, iFMergeFirstCol, iFMergeLastCol } = this;\n    const { spacing } = this;\n    const ifMerge = iFMerge(row, col);\n    // merge\n    if (ifMerge) {\n      const firstRow = iFMergeFirstRow(row, col);\n      const lastRow = iFMergeLastRow(row, col);\n      const firstCol = iFMergeFirstCol(row, col);\n      const lastCol = iFMergeLastCol(row, col);\n      switch (pos) {\n        case 'left': {\n          internal.sx = sx + spacing;\n          internal.ex = ex + spacing;\n          // 检查顶边和上底边及左上角底边及左顶边\n          const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          internal.sy = sy;\n          if (sTopLeftCorner) internal.sy = sy - spacing;\n          if ((sTop || sBottom) && firstRow) internal.sy = sy + spacing;\n          // 检查底边和下顶边及左下角顶边和左底边\n          const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          internal.ey = ey;\n          if (eBottomLeftCorner) internal.ey = ey + spacing;\n          if ((eBottom || eTop) && lastRow) internal.ey = ey - spacing;\n          break;\n        }\n        case 'top': {\n          internal.sy = sy + spacing;\n          internal.ey = ey + spacing;\n          // 检查左边和左右边及左上角右边及上左边\n          const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          internal.sx = sx;\n          if (sTopLeftCorner) internal.sx = sx - spacing;\n          if ((sLeft || sRight) && firstCol) internal.sx = sx + spacing;\n          // 检查右边和右左边及右上角左边及上右边\n          const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          internal.ex = ex;\n          if (eTopRightCorner) internal.ex = ex + spacing;\n          if ((eRight || eLeft) && lastCol) internal.ex = ex - spacing;\n          break;\n        }\n        case 'right': {\n          internal.sx = sx - spacing;\n          internal.ex = ex - spacing;\n          // 检查顶边和上底边及右上角底边及右上边\n          const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          internal.sy = sy;\n          if (sTopRightCorner) internal.sy = sy - spacing;\n          if ((sTop || sBottom) && firstRow) internal.sy = sy + spacing;\n          // 检查底边和下顶边右下角顶边及右下边\n          const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          internal.ey = ey;\n          if (eBottomRightCorner) internal.ey = ey + spacing;\n          if ((eBottom || eTop) && lastRow) internal.ey = ey - spacing;\n          break;\n        }\n        case 'bottom': {\n          internal.sy = sy - spacing;\n          internal.ey = ey - spacing;\n          // 检查左边和左右边及左下角右边及下左边\n          const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          internal.sx = sx;\n          if (sBottomLeftCorner) internal.sx = sx - spacing;\n          if ((sLeft || sRight) && firstCol) internal.sx = sx + spacing;\n          // 检查右边和右左边及右下角左边及下右边\n          const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          internal.ex = ex;\n          if (eBottomRightCorner) internal.ex = ex + spacing;\n          if ((eRight || eLeft) && lastCol) internal.ex = ex - spacing;\n          break;\n        }\n        default: break;\n      }\n      return internal;\n    }\n    switch (pos) {\n      case 'left': {\n        internal.sx = sx + spacing;\n        internal.ex = ex + spacing;\n        // 检查顶边和上底边及左上角底边及左顶边\n        const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        internal.sy = sy;\n        if (sTopLeftCorner) internal.sy = sy - spacing;\n        if (sTop || sBottom) internal.sy = sy + spacing;\n        // 检查底边和下顶边及左下角顶边和左底边\n        const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        internal.ey = ey;\n        if (eBottomLeftCorner) internal.ey = ey + spacing;\n        if (eBottom || eTop) internal.ey = ey - spacing;\n        break;\n      }\n      case 'top': {\n        internal.sy = sy + spacing;\n        internal.ey = ey + spacing;\n        // 检查左边和左右边及左上角右边及上左边\n        const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        internal.sx = sx;\n        if (sTopLeftCorner) internal.sx = sx - spacing;\n        if (sLeft || sRight) internal.sx = sx + spacing;\n        // 检查右边和右左边及右上角左边及上右边\n        const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        internal.ex = ex;\n        if (eTopRightCorner) internal.ex = ex + spacing;\n        if (eRight || eLeft) internal.ex = ex - spacing;\n        break;\n      }\n      case 'right': {\n        internal.sx = sx - spacing;\n        internal.ex = ex - spacing;\n        // 检查顶边和上底边及右上角底边及右上边\n        const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        internal.sy = sy;\n        if (sTopRightCorner) internal.sy = sy - spacing;\n        if (sTop || sBottom) internal.sy = sy + spacing;\n        // 检查底边和下顶边右下角顶边及右下边\n        const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        internal.ey = ey;\n        if (eBottomRightCorner) internal.ey = ey + spacing;\n        if (eBottom || eTop) internal.ey = ey - spacing;\n        break;\n      }\n      case 'bottom': {\n        internal.sy = sy - spacing;\n        internal.ey = ey - spacing;\n        // 检查左边和左右边及左下角右边及下左边\n        const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        internal.sx = sx;\n        if (sBottomLeftCorner) internal.sx = sx - spacing;\n        if (sLeft || sRight) internal.sx = sx + spacing;\n        // 检查右边和右左边及右下角左边及下右边\n        const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        internal.ex = ex;\n        if (eBottomRightCorner) internal.ex = ex + spacing;\n        if (eRight || eLeft) internal.ex = ex - spacing;\n        break;\n      }\n      default: break;\n    }\n    return internal;\n  }\n\n  drawLine(sx, sy, ex, ey, row, col, pos) {\n    const { draw } = this;\n    const { width, color } = this;\n    draw.beginPath();\n    draw.attr({\n      lineWidth: width,\n      strokeStyle: color,\n    });\n    draw.setLineDash([]);\n    const external = this.handleExternal(sx, sy, ex, ey, row, col, pos);\n    const internal = this.handleInternal(sx, sy, ex, ey, row, col, pos);\n    if (!Utils.isEmptyObject(internal)) {\n      draw.line([internal.sx, internal.sy], [internal.ex, internal.ey]);\n    }\n    if (!Utils.isEmptyObject(external)) {\n      draw.line([external.sx, external.sy], [external.ex, external.ey]);\n    }\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n}\n\nclass Line {\n\n  constructor(draw, attr = {}) {\n    this.type = LINE_TYPE.SOLID_LINE;\n    this.solidLine = new SolidLine(draw, Utils.mergeDeep({}, attr));\n    this.dottedLine = new DottedLine(draw, Utils.mergeDeep({\n      dash: [5],\n    }, attr));\n    this.pointLine = new DottedLine(draw, Utils.mergeDeep({\n      dash: [2, 2],\n    }, attr));\n    this.doubleLine = new DoubleLine(draw, Utils.mergeDeep({}, attr));\n  }\n\n  drawLine(sx, sy, ex, ey, row, col, pos) {\n    const {\n      type,\n      solidLine,\n      dottedLine,\n      pointLine,\n      doubleLine,\n    } = this;\n    switch (type) {\n      case LINE_TYPE.SOLID_LINE:\n        solidLine.drawLine(sx, sy, ex, ey);\n        break;\n      case LINE_TYPE.DOTTED_LINE:\n        dottedLine.drawLine(sx, sy, ex, ey);\n        break;\n      case LINE_TYPE.POINT_LINE:\n        pointLine.drawLine(sx, sy, ex, ey);\n        break;\n      case LINE_TYPE.DOUBLE_LINE:\n        doubleLine.drawLine(sx, sy, ex, ey, row, col, pos);\n        break;\n      default: break;\n    }\n  }\n\n  setType(type) {\n    this.type = type;\n  }\n\n  setWidth(width) {\n    if (width) {\n      if (this.type === LINE_TYPE.SOLID_LINE) {\n        this.solidLine.setWidth(width);\n      }\n    }\n  }\n\n  setColor(color) {\n    if (color) {\n      this.solidLine.setColor(color);\n      this.dottedLine.setColor(color);\n      this.pointLine.setColor(color);\n      this.doubleLine.setColor(color);\n    }\n  }\n}\n\nexport { Line, LINE_TYPE };\n","import { ELContextMenu } from '../../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../../config';\nimport { Utils } from '../../../../../../utils/Utils';\nimport { BorderTypeContextMenuItem } from './BorderTypeContextMenuItem';\nimport { ELContextMenuDivider } from '../../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { h } from '../../../../../../lib/Element';\nimport { BorderIcon1 } from '../../icon/border/BorderIcon1';\nimport { BorderIcon2 } from '../../icon/border/BorderIcon2';\nimport { BorderIcon3 } from '../../icon/border/BorderIcon3';\nimport { BorderIcon4 } from '../../icon/border/BorderIcon4';\nimport { BorderIcon5 } from '../../icon/border/BorderIcon5';\nimport { BorderIcon6 } from '../../icon/border/BorderIcon6';\nimport { BorderIcon7 } from '../../icon/border/BorderIcon7';\nimport { BorderIcon8 } from '../../icon/border/BorderIcon8';\nimport { BorderIcon9 } from '../../icon/border/BorderIcon9';\nimport { BorderIcon10 } from '../../icon/border/BorderIcon10';\nimport { BorderColor } from '../../icon/border/BorderColor';\nimport { BorderType } from '../../icon/border/BorderType';\nimport { EventBind } from '../../../../../../utils/EventBind';\nimport { Constant } from '../../../../../../utils/Constant';\nimport { EL_POPUP_POSITION, ElPopUp } from '../../../../../../component/elpopup/ElPopUp';\nimport { BorderColorContextMenu } from '../bordercolor/BorderColorContextMenu';\nimport { LineTypeContextMenu } from '../linetype/LineTypeContextMenu';\nimport { LINE_TYPE } from '../../../../../../canvas/Line';\n\nclass BorderTypeContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-border-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.type = LINE_TYPE.SOLID_LINE;\n    this.color = '#000000';\n    // 边框样式\n    this.borderIcon1 = new BorderIcon1();\n    this.borderIcon2 = new BorderIcon2();\n    this.borderIcon3 = new BorderIcon3();\n    this.borderIcon4 = new BorderIcon4();\n    this.borderIcon5 = new BorderIcon5();\n    const div1 = h('div', `${cssPrefix}-border-type-context-menu-type-icon-line`);\n    div1.children(this.borderIcon1);\n    div1.children(this.borderIcon2);\n    div1.children(this.borderIcon3);\n    div1.children(this.borderIcon4);\n    div1.children(this.borderIcon5);\n    this.borderIcon6 = new BorderIcon6();\n    this.borderIcon7 = new BorderIcon7();\n    this.borderIcon8 = new BorderIcon8();\n    this.borderIcon9 = new BorderIcon9();\n    this.borderIcon10 = new BorderIcon10();\n    const div2 = h('div', `${cssPrefix}-border-type-context-menu-type-icon-line`);\n    div2.children(this.borderIcon6);\n    div2.children(this.borderIcon7);\n    div2.children(this.borderIcon8);\n    div2.children(this.borderIcon9);\n    div2.children(this.borderIcon10);\n    this.borderIcons = new BorderTypeContextMenuItem();\n    this.borderIcons.removeClass('hover');\n    this.borderIcons.children(div1);\n    this.borderIcons.children(div2);\n    // 子菜单\n    this.borderColor = new BorderColor();\n    this.borderType = new BorderType();\n    const div3 = h('div', `${cssPrefix}-border-type-context-menu-type-icon-line`);\n    div3.children(this.borderColor);\n    div3.children(this.borderType);\n    this.borderColorAndType = new BorderTypeContextMenuItem();\n    this.borderColorAndType.removeClass('hover');\n    this.borderColorAndType.children(div3);\n    // 追加子菜单\n    this.addItem(this.borderIcons);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.borderColorAndType);\n    // 边框颜色菜单\n    this.borderColorContextMenu = new BorderColorContextMenu(Utils.copyProp({\n      el: this.borderColor,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, {\n      onUpdate: (color) => {\n        this.color = color;\n        this.borderColor.setColor(color);\n      },\n    }));\n    // 边框类型\n    this.lineTypeContextMenu = new LineTypeContextMenu(Utils.copyProp({\n      el: this.borderType,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, {\n      onUpdate: (type) => {\n        this.type = type;\n      },\n    }));\n    // 添加事件\n    EventBind.bind(this.borderColor, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { borderColorContextMenu } = this;\n      const { elPopUp } = borderColorContextMenu;\n      ElPopUp.closeAll([elPopUp, this.elPopUp]);\n      if (borderColorContextMenu.isOpen()) {\n        borderColorContextMenu.open();\n      } else {\n        borderColorContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderType, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { lineTypeContextMenu } = this;\n      const { elPopUp } = lineTypeContextMenu;\n      ElPopUp.closeAll([elPopUp, this.elPopUp]);\n      if (lineTypeContextMenu.isOpen()) {\n        lineTypeContextMenu.open();\n      } else {\n        lineTypeContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border1', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border2', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border3', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon4, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border4', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon5, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border5', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon6, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border6', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon7, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border7', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon8, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border8', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon9, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border9', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon10, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border10', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { BorderTypeContextMenu };\n","import { DropDownItem } from '../../../base/DropDownItem';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\nimport { BorderTypeContextMenu } from '../../border/bordertype/BorderTypeContextMenu';\nimport { Utils } from '../../../../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../../../../component/elpopup/ElPopUp';\n\nclass Border extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-border`);\n    this.options = Utils.copyProp({\n      contextMenu: {},\n    }, options);\n    this.icon = new Icon('border');\n    this.setIcon(this.icon);\n    this.borderTypeContextMenu = new BorderTypeContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\nexport { Border };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Merge extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-merge`);\n    this.icon = new Icon('merge');\n    this.children(this.icon);\n  }\n}\n\nexport { Merge };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass HorizontalIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-horizontal1`);\n    this.icon = new Icon('align-left');\n    this.children(this.icon);\n  }\n}\n\nexport { HorizontalIcon1 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass HorizontalIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-horizontal2`);\n    this.icon = new Icon('align-center');\n    this.children(this.icon);\n  }\n}\n\nexport { HorizontalIcon2 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass HorizontalIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-horizontal3`);\n    this.icon = new Icon('align-right');\n    this.children(this.icon);\n  }\n}\n\nexport { HorizontalIcon3 };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\n\nclass HorizontalContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-horizontal-type-context-menu-item`);\n  }\n}\n\nexport { HorizontalContextMenuItem };\n","class Crop {\n  constructor({\n    rect, draw, offset = 0,\n  }) {\n    this.rect = rect;\n    this.draw = draw;\n    this.offset = offset;\n  }\n\n  open() {\n    const { rect, draw, offset } = this;\n    const {\n      x, y, width, height,\n    } = rect;\n    draw.save();\n    draw.rect(x, y, width + offset, height + offset);\n    draw.clip();\n    return this;\n  }\n\n  close() {\n    const { draw } = this;\n    draw.restore();\n    return this;\n  }\n}\n\nexport { Crop };\n","/* global window */\n\nfunction dpr() {\n  return window.devicePixelRatio || 1;\n}\n\nfunction floor(n) {\n  // eslint-disable-next-line no-bitwise\n  return (0.5 + n) << 0;\n}\n\nfunction npx(px) {\n  return floor(px * dpr());\n}\n\nfunction angleToRadian(angle) {\n  return -angle * (Math.PI / 180);\n}\n\nclass Draw {\n  constructor(el) {\n    this.el = el;\n    this.ctx = el.getContext('2d');\n    this.width = el.width;\n    this.height = el.height;\n    this.offsetX = 0;\n    this.offsetY = 0;\n  }\n\n  rotate(angle) {\n    const { ctx } = this;\n    ctx.rotate(angleToRadian(angle));\n    return this;\n  }\n\n  offset(offsetX = 0, offsetY = 0) {\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n  }\n\n  resize(width, height) {\n    const { el } = this;\n    this.width = width;\n    this.height = height;\n    el.style.width = `${width}px`;\n    el.style.height = `${height}px`;\n    el.width = npx(width);\n    el.height = npx(height);\n    return this;\n  }\n\n  clear() {\n    const { width, height } = this;\n    this.clearRect(0, 0, width, height);\n    return this;\n  }\n\n  attr(options) {\n    // eslint-disable-next-line guard-for-in,no-restricted-syntax\n    for (const key in options) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (options.hasOwnProperty(key)) {\n        let value = options[key];\n        if (typeof value === 'string' || value instanceof String) {\n          value = value.trim();\n        }\n        if (this.ctx[key] !== value) {\n          this.ctx[key] = value;\n        }\n      }\n    }\n    return this;\n  }\n\n  beginPath() {\n    this.ctx.beginPath();\n    return this;\n  }\n\n  save() {\n    const { ctx } = this;\n    ctx.save();\n    this.beginPath();\n    return this;\n  }\n\n  restore() {\n    const { ctx } = this;\n    ctx.restore();\n    return this;\n  }\n\n  clip() {\n    const { ctx } = this;\n    ctx.clip();\n    return this;\n  }\n\n  fill() {\n    this.ctx.fill();\n  }\n\n  setLineDash(dash) {\n    this.ctx.setLineDash(dash);\n  }\n\n  measureText(text) {\n    return this.ctx.measureText(text);\n  }\n\n  line(...xys) {\n    const { ctx } = this;\n    if (xys.length > 1) {\n      const [x, y] = xys[0];\n      this.moveTo(x, y);\n      for (let i = 1, len = xys.length; i < len; i += 1) {\n        const [x1, y1] = xys[i];\n        this.lineTo(x1, y1);\n      }\n      ctx.stroke();\n    }\n    return this;\n  }\n\n  clearRect(x, y, w, h) {\n    const { offsetX, offsetY } = this;\n    this.ctx.clearRect(npx(x + offsetX), npx(y + offsetY), npx(w), npx(h));\n    return this;\n  }\n\n  rect(x, y, w, h) {\n    const { offsetX, offsetY } = this;\n    this.ctx.rect(npx(x + offsetX), npx(y + offsetY), npx(w), npx(h));\n    return this;\n  }\n\n  fillRect(x, y, w, h) {\n    const { offsetX, offsetY } = this;\n    this.ctx.fillRect(npx(x + offsetX), npx(y + offsetY), npx(w), npx(h));\n    return this;\n  }\n\n  fillText(text, x, y) {\n    const { offsetX, offsetY } = this;\n    this.ctx.fillText(text, npx(x + offsetX), npx(y + offsetY));\n    return this;\n  }\n\n  moveTo(x, y) {\n    const { ctx } = this;\n    const { offsetX, offsetY } = this;\n    const even = ctx.lineWidth % 2 === 0;\n    const nx = even ? npx(x + offsetX) : npx(x + offsetX) + 0.5;\n    const ny = even ? npx(y + offsetY) : npx(y + offsetY) + 0.5;\n    ctx.moveTo(nx, ny);\n  }\n\n  lineTo(x, y) {\n    const { ctx } = this;\n    const { offsetX, offsetY } = this;\n    const even = ctx.lineWidth % 2 === 0;\n    const nx = even ? npx(x + offsetX) : npx(x + offsetX) + 0.5;\n    const ny = even ? npx(y + offsetY) : npx(y + offsetY) + 0.5;\n    ctx.lineTo(nx, ny);\n  }\n}\n\nexport {\n  Draw, npx, dpr, floor, angleToRadian,\n};\n","class Rect {\n  constructor({\n    x, y, width, height,\n  }) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n\n  expandSize(size) {\n    this.width += size;\n    this.height += size;\n    return this;\n  }\n\n  clone() {\n    const { x, y, width, height } = this;\n    return new Rect({ x, y, width, height });\n  }\n}\n\n\nexport { Rect };\n","import { Rect } from './Rect';\nimport { angleToRadian, npx } from './Draw';\n\nconst ANGLE_ORIGIN = {\n  TOP_LEFT: 'top-left',\n  TOP_CENTER: 'top-center',\n  TOP_RIGHT: 'top-right',\n  MIDDLE_LEFT: 'middle-left',\n  MIDDLE_CENTER: 'middle-center',\n  MIDDLE_RIGHT: 'middle-right',\n  BOTTOM_LEFT: 'bottom-left',\n  BOTTOM_CENTER: 'bottom-center',\n  BOTTOM_RIGHT: 'bottom-right',\n};\n\nclass DrawAngle {\n  constructor({\n    dw,\n    angle,\n    origin = ANGLE_ORIGIN.MIDDLE_CENTER,\n    rect = new Rect({ x: 0, y: 0, width: 0, height: 0 }),\n  }) {\n    this.dw = dw;\n    this.origin = origin;\n    this.rect = rect;\n    this.angle = angle;\n  }\n\n  rotate() {\n    const { origin, dw, rect, angle } = this;\n    const { x, y, width, height } = rect;\n    dw.save();\n    let tx = 0;\n    let ty = 0;\n    switch (origin) {\n      case ANGLE_ORIGIN.TOP_LEFT:\n        tx = x;\n        ty = y;\n        break;\n      case ANGLE_ORIGIN.TOP_CENTER:\n        tx = x + width / 2;\n        ty = y;\n        break;\n      case ANGLE_ORIGIN.TOP_RIGHT:\n        tx = x + width;\n        ty = y;\n        break;\n      case ANGLE_ORIGIN.MIDDLE_LEFT:\n        tx = x;\n        ty = y + height / 2;\n        break;\n      case ANGLE_ORIGIN.MIDDLE_CENTER:\n        tx = x + width / 2;\n        ty = y + height / 2;\n        break;\n      case ANGLE_ORIGIN.MIDDLE_RIGHT:\n        tx = x + width;\n        ty = y + height / 2;\n        break;\n      case ANGLE_ORIGIN.BOTTOM_LEFT:\n        tx = x;\n        ty = y + height;\n        break;\n      case ANGLE_ORIGIN.BOTTOM_CENTER:\n        tx = x + width / 2;\n        ty = y + height;\n        break;\n      case ANGLE_ORIGIN.BOTTOM_RIGHT:\n        tx = x + width;\n        ty = y + height;\n        break;\n      default: break;\n    }\n    dw.ctx.translate(npx(tx + dw.offsetX), npx(ty + dw.offsetY));\n    dw.rotate(angle);\n    dw.ctx.translate(-npx(tx + dw.offsetX), -npx(ty + dw.offsetY));\n    return this;\n  }\n\n  revert() {\n    const { dw } = this;\n    dw.restore();\n    return this;\n  }\n\n  static triangleHypotenuse(angle, width) {\n    const cos = Math.cos(angleToRadian(angle));\n    const sin = Math.sin(angleToRadian(angle));\n    return {\n      width: Math.abs(cos * width), height: Math.abs(sin * width),\n    };\n  }\n\n  setOrigin(origin) {\n    this.origin = origin;\n    return this;\n  }\n\n  setRect(rect) {\n    this.rect = rect;\n    return this;\n  }\n}\n\nclass TrigonometricFunction {\n  constructor({ angle, width, height }) {\n    this.angle = angle;\n    this.width = width;\n    this.height = height;\n  }\n\n  // 斜边 + sin 角度\n  sinWidthAngle() {\n    const { angle, width } = this;\n    return Math.abs(Math.sin(angleToRadian(angle)) * width);\n  }\n\n  // 斜边 + cos 角度\n  cosWidthAngle() {\n    const { angle, width } = this;\n    return Math.abs(Math.cos(angleToRadian(angle)) * width);\n  }\n\n  // 对边 + sin角度\n  sinHeightAngle() {\n    const { angle, height } = this;\n    return Math.abs(height / Math.sin(angleToRadian(angle)));\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n\n  setHeight(height) {\n    this.height = height;\n  }\n\n  setAngle(angle) {\n    this.angle = angle;\n  }\n}\n\nexport { DrawAngle, TrigonometricFunction, ANGLE_ORIGIN };\n","import { Crop } from './Crop';\nimport { dpr, npx } from './Draw';\nimport { Utils } from '../utils/Utils';\nimport { DrawAngle, TrigonometricFunction } from './DrawAngle';\nimport { Rect } from './Rect';\n\n// 垂直文字间距\nconst VERTICAL_SPACING = 2;\n// 垂直文本行间距\nconst VERTICAL_LIEN_HEIGHT = 0;\n// 水平文本间距\nconst HORIZONTAL_LIEN_HEIGHT = 4;\n// 旋转文本间距\nconst ANGLE_LINE_HEIGHT = 4;\n// 内容填充\nconst PADDING = 8;\n\nconst ALIGN = {\n  left: 'left',\n  center: 'center',\n  right: 'right',\n};\nconst VERTICAL_ALIGN = {\n  top: 'top',\n  center: 'middle',\n  bottom: 'bottom',\n};\nconst TEXT_WRAP = {\n  OVER_FLOW: 1,\n  WORD_WRAP: 2,\n  TRUNCATE: 3,\n};\nconst TEXT_DIRECTION = {\n  HORIZONTAL: 'horizontal',\n  VERTICAL: 'vertical',\n  ANGLE: 'angle',\n};\n\n/**\n * 水平方向字体绘制\n */\nclass HorizontalFontDraw {\n  constructor({\n    text, rect, dw, overflow, overflowCrop, attr,\n  }) {\n    this.text = text;\n    this.dw = dw;\n    this.rect = rect;\n    this.overflow = overflow;\n    this.overflowCrop = overflowCrop;\n    this.attr = attr;\n  }\n\n  textWidth(text) {\n    const { dw } = this;\n    return dw.measureText(text).width;\n  }\n\n  drawLine(type, tx, ty, textWidth) {\n    const { dw, attr } = this;\n    const { size, verticalAlign, align } = attr;\n    const s = [0, 0];\n    const e = [0, 0];\n    if (type === 'strike') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default:\n          break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty - size / 2;\n          e[1] = ty - size / 2;\n          break;\n        default:\n          break;\n      }\n    }\n    if (type === 'underline') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default:\n          break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size;\n          e[1] = ty + size;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        default:\n          break;\n      }\n    }\n    dw.line(s, e);\n  }\n\n  /**\n   * 越界的文字截斷\n   * @returns {number}\n   */\n  drawTextTruncate() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign,\n    } = attr;\n    const { width, height } = rect;\n    const textWidth = this.textWidth(text) / dpr();\n    let tx = rect.x;\n    let ty = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        tx += PADDING;\n        break;\n      case ALIGN.center:\n        tx += width / 2;\n        break;\n      case ALIGN.right:\n        tx += width - PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        ty += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        ty += height / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        ty += height - PADDING;\n        break;\n      default:\n        break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = textWidth + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = textWidth;\n    }\n    const crop = new Crop({\n      draw: dw,\n      rect,\n    });\n    crop.open();\n    dw.fillText(text, tx, ty);\n    if (underline || strikethrough) {\n      dw.beginPath();\n    }\n    if (underline) {\n      this.drawLine('underline', tx, ty, textWidth);\n    }\n    if (strikethrough) {\n      this.drawLine('strike', tx, ty, textWidth);\n    }\n    crop.close();\n    return contentWidth;\n  }\n\n  /**\n   * 文字超過最大可繪製區域后自動\n   * 截斷\n   * @returns {number}\n   */\n  drawTextOverFlow() {\n    const {\n      text, dw, attr, rect, overflow, overflowCrop,\n    } = this;\n    const {\n      size, underline, strikethrough, align, verticalAlign,\n    } = attr;\n    const { width, height } = rect;\n    const textWidth = this.textWidth(text) / dpr();\n    let tx = rect.x;\n    let ty = rect.y;\n    let paddingH = 0;\n    let paddingV = 0;\n    switch (align) {\n      case ALIGN.left:\n        tx += PADDING;\n        paddingH = PADDING;\n        break;\n      case ALIGN.center:\n        tx += width / 2;\n        break;\n      case ALIGN.right:\n        tx += width - PADDING;\n        paddingH = PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        ty += PADDING;\n        paddingV = PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        ty += height / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        ty += height - PADDING;\n        paddingV = PADDING;\n        break;\n      default:\n        break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = textWidth + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = textWidth;\n    }\n    if (overflowCrop || (overflow && (textWidth + paddingH > overflow.width\n      || size + paddingV > overflow.height))) {\n      const crop = new Crop({\n        draw: dw,\n        rect: overflow,\n      });\n      crop.open();\n      // console.log('text >>>', text, tx, ty);\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      crop.close();\n    } else {\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n    }\n    return contentWidth;\n  }\n\n  /**\n   * 文字自動換行\n   * @returns {number}\n   */\n  drawTextWarp() {\n    // console.log('drawTextWarp');\n    const { text, dw, attr, rect } = this;\n    const { size, underline, strikethrough, align, verticalAlign } = attr;\n    const { width, height } = rect;\n    const maxTextWidth = width - PADDING * 2;\n    const textArray = [];\n    const textLine = {\n      len: 0,\n      start: 0,\n    };\n    const len = text.length;\n    let hOffset = 0;\n    let i = 0;\n    let maxLen = 0;\n    while (i < len) {\n      const charWidth = this.textWidth(text.charAt(i)) / dpr();\n      const textWidth = textLine.len + charWidth;\n      if (textWidth > maxTextWidth) {\n        if (textLine.len === 0) {\n          textArray.push({\n            text: text.substring(i, i + 1),\n            len: textWidth,\n            tx: 0,\n            ty: hOffset,\n          });\n          i += 1;\n          if (textWidth > maxLen) {\n            maxLen = textWidth;\n          }\n        } else {\n          textArray.push({\n            text: text.substring(textLine.start, i),\n            len: textLine.len,\n            tx: 0,\n            ty: hOffset,\n          });\n          if (textLine.len > maxLen) {\n            maxLen = textLine.len;\n          }\n        }\n        hOffset += size + HORIZONTAL_LIEN_HEIGHT;\n        textLine.len = 0;\n        textLine.start = i;\n      } else {\n        textLine.len = textWidth;\n        i += 1;\n      }\n    }\n    if (textLine.len > 0) {\n      textArray.push({\n        text: text.substring(textLine.start),\n        len: textLine.len,\n        tx: 0,\n        ty: hOffset,\n      });\n      if (textLine.len > maxLen) {\n        maxLen = textLine.len;\n      }\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2;\n        break;\n      case ALIGN.right:\n        bx += width - PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        by += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        by += height / 2 - hOffset / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        by += height - hOffset - PADDING;\n        break;\n      default:\n        break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = maxLen + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = maxLen;\n    }\n    const crop = new Crop({\n      draw: dw,\n      rect,\n    });\n    crop.open();\n    for (let i = 0, len = textArray.length; i < len; i += 1) {\n      const item = textArray[i];\n      item.tx += bx;\n      item.ty += by;\n      // console.log('text >>>', item.text, item.tx, item.ty);\n      dw.fillText(item.text, item.tx, item.ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', item.tx, item.ty, item.len);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', item.tx, item.ty, item.len);\n      }\n    }\n    crop.close();\n    return contentWidth;\n  }\n\n  draw() {\n    const { dw, attr } = this;\n    const { textWrap } = attr;\n    dw.attr({\n      textAlign: attr.align,\n      textBaseline: attr.verticalAlign,\n      font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n      fillStyle: attr.color,\n      strokeStyle: attr.color,\n    });\n    switch (textWrap) {\n      case TEXT_WRAP.TRUNCATE:\n        return this.drawTextTruncate();\n      case TEXT_WRAP.WORD_WRAP:\n        return this.drawTextWarp();\n      case TEXT_WRAP.OVER_FLOW:\n      default:\n        return this.drawTextOverFlow();\n    }\n  }\n\n  setTextWrap(textWrap) {\n    this.attr.textWrap = textWrap;\n  }\n\n  setOverflowCrop(overflowCrop) {\n    this.overflowCrop = overflowCrop;\n  }\n}\n\n/**\n * 垂直方向字体绘制\n */\nclass VerticalFontDraw {\n  constructor({\n    text, rect, dw, overflow, overflowCrop, attr,\n  }) {\n    this.text = text;\n    this.dw = dw;\n    this.rect = rect;\n    this.overflow = overflow;\n    this.overflowCrop = overflowCrop;\n    this.attr = attr;\n  }\n\n  textWidth(text) {\n    const { dw } = this;\n    return dw.measureText(text).width;\n  }\n\n  drawLine(type, tx, ty, textWidth, align, verticalAlign) {\n    const { dw, attr } = this;\n    const { size } = attr;\n    const s = [0, 0];\n    const e = [0, 0];\n    if (type === 'strike') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default:\n          break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty - size / 2;\n          e[1] = ty - size / 2;\n          break;\n        default:\n          break;\n      }\n    }\n    if (type === 'underline') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default:\n          break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size;\n          e[1] = ty + size;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        default:\n          break;\n      }\n    }\n    dw.line(s, e);\n  }\n\n  drawTextTruncate() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    const { width, height } = rect;\n    const textArray = [];\n    let hOffset = 0;\n    for (let i = 0; i < text.length; i += 1) {\n      const char = text.charAt(i);\n      textArray.push({\n        len: this.textWidth(char) / dpr(),\n        text: char,\n        tx: 0,\n        ty: hOffset,\n      });\n      if (i < text.length - 1) {\n        hOffset += size + VERTICAL_SPACING;\n      } else {\n        hOffset += size;\n      }\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2;\n        break;\n      case ALIGN.right:\n        bx += width - PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        by += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        by += height / 2 - hOffset / 2 + PADDING;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        by += height - hOffset + PADDING;\n        break;\n      default:\n        break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.left:\n      case ALIGN.right:\n        contentWidth = size + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = size;\n    }\n    const crop = new Crop({\n      draw: dw,\n      rect,\n    });\n    crop.open();\n    for (let i = 0, len = textArray.length; i < len; i += 1) {\n      const item = textArray[i];\n      item.tx += bx;\n      item.ty += by;\n      dw.fillText(item.text, item.tx, item.ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlign);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlign);\n      }\n    }\n    crop.close();\n    return contentWidth;\n  }\n\n  drawTextOverFlow() {\n    const {\n      text, dw, attr, rect, overflow, overflowCrop,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    const { width, height } = rect;\n    const textArray = [];\n    let hOffset = 0;\n    for (let i = 0; i < text.length; i += 1) {\n      const char = text.charAt(i);\n      textArray.push({\n        len: this.textWidth(char) / dpr(),\n        text: char,\n        tx: 0,\n        ty: hOffset,\n      });\n      if (i < text.length - 1) {\n        hOffset += size + VERTICAL_SPACING;\n      } else {\n        hOffset += size;\n      }\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    let paddingH = 0;\n    let paddingV = 0;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        paddingH = PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2;\n        break;\n      case ALIGN.right:\n        bx += width - PADDING;\n        paddingH = PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        by += PADDING;\n        paddingV = PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        by += height / 2 - hOffset / 2 + PADDING;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        by += height - hOffset + PADDING;\n        paddingV = PADDING;\n        break;\n      default:\n        break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.left:\n      case ALIGN.right:\n        contentWidth = size + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = size;\n    }\n    if (overflowCrop || (overflow && (hOffset + paddingV > overflow.height\n      || size + paddingH > overflow.width))) {\n      const crop = new Crop({\n        draw: dw,\n        rect: overflow,\n      });\n      crop.open();\n      for (let i = 0, len = textArray.length; i < len; i += 1) {\n        const item = textArray[i];\n        item.tx += bx;\n        item.ty += by;\n        dw.fillText(item.text, item.tx, item.ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n      }\n      crop.close();\n    } else {\n      for (let i = 0, len = textArray.length; i < len; i += 1) {\n        const item = textArray[i];\n        item.tx += bx;\n        item.ty += by;\n        dw.fillText(item.text, item.tx, item.ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n      }\n    }\n    return contentWidth;\n  }\n\n  drawTextWarp() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    const { width, height } = rect;\n    const textArray = [];\n    const len = text.length;\n    const boxHeight = height - PADDING * 2;\n    let textItem = [];\n    let textLen = 0;\n    let hOffset = 0;\n    let wOffset = 0;\n    let column = 0;\n    let i = 0;\n    while (i < len) {\n      const last = i === len - 1;\n      const first = i === 0;\n      const char = text.charAt(i);\n      const charWidth = this.textWidth(char) / dpr();\n      let textHeight;\n      if (last) {\n        textHeight = textLen + size;\n      } else {\n        textHeight = textLen + size + VERTICAL_SPACING;\n      }\n      if (textHeight > boxHeight) {\n        if (textItem.length > 0) {\n          textArray.push(textItem);\n        }\n        textLen = 0;\n        hOffset = 0;\n        textItem = [];\n        if (!first) wOffset += size + VERTICAL_LIEN_HEIGHT;\n        column += 1;\n        textItem.push({\n          len: charWidth,\n          text: char,\n          tx: wOffset,\n          ty: hOffset,\n        });\n        if (last) {\n          textLen = size;\n        } else {\n          textLen = size + VERTICAL_SPACING;\n        }\n      } else {\n        textItem.push({\n          len: charWidth,\n          text: char,\n          tx: wOffset,\n          ty: hOffset,\n        });\n        textLen = textHeight;\n      }\n      if (last) {\n        hOffset += size;\n      } else {\n        hOffset += size + VERTICAL_SPACING;\n      }\n      i += 1;\n    }\n    if (textItem.length > 0) {\n      textArray.push(textItem);\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    let verticalAlignValue = verticalAlign;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2 - wOffset / 2;\n        break;\n      case ALIGN.right:\n        bx += width - wOffset - PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        dw.attr({\n          textBaseline: attr.verticalAlign,\n        });\n        by += PADDING;\n        verticalAlignValue = VERTICAL_ALIGN.top;\n        break;\n      case VERTICAL_ALIGN.center:\n        if (column === 0) {\n          dw.attr({\n            textBaseline: attr.verticalAlign,\n          });\n          by += height / 2 - hOffset / 2 + PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.center;\n        } else {\n          dw.attr({\n            textBaseline: VERTICAL_ALIGN.top,\n          });\n          by += PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.top;\n        }\n        break;\n      case VERTICAL_ALIGN.bottom:\n        if (column === 0) {\n          dw.attr({\n            textBaseline: VERTICAL_ALIGN.bottom,\n          });\n          by += height - hOffset + PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.bottom;\n        } else {\n          dw.attr({\n            textBaseline: VERTICAL_ALIGN.top,\n          });\n          by += PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.top;\n        }\n        break;\n      default:\n        break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.left:\n      case ALIGN.right:\n        contentWidth = wOffset + size + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = wOffset + size;\n    }\n    const crop = new Crop({\n      draw: dw,\n      rect,\n    });\n    crop.open();\n    for (let i = 0, len = textArray.length; i < len; i += 1) {\n      const textItem = textArray[i];\n      for (let j = 0; j < textItem.length; j += 1) {\n        const item = textItem[j];\n        item.tx += bx;\n        item.ty += by;\n        dw.fillText(item.text, item.tx, item.ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlignValue);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlignValue);\n        }\n      }\n    }\n    crop.close();\n    return contentWidth;\n  }\n\n  draw() {\n    const { dw, attr } = this;\n    const { textWrap } = attr;\n    switch (textWrap) {\n      case TEXT_WRAP.TRUNCATE:\n        dw.attr({\n          textAlign: attr.align,\n          textBaseline: attr.verticalAlign,\n          font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n          fillStyle: attr.color,\n          strokeStyle: attr.color,\n        });\n        return this.drawTextTruncate();\n      case TEXT_WRAP.WORD_WRAP:\n        dw.attr({\n          textAlign: attr.align,\n          font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n          fillStyle: attr.color,\n          strokeStyle: attr.color,\n        });\n        return this.drawTextWarp();\n      case TEXT_WRAP.OVER_FLOW:\n      default:\n        dw.attr({\n          textAlign: attr.align,\n          textBaseline: attr.verticalAlign,\n          font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n          fillStyle: attr.color,\n          strokeStyle: attr.color,\n        });\n        return this.drawTextOverFlow();\n    }\n  }\n\n  setTextWrap(textWrap) {\n    this.attr.textWrap = textWrap;\n  }\n\n  setOverflowCrop(overflowCrop) {\n    this.overflowCrop = overflowCrop;\n  }\n}\n\n/**\n * 旋转字体绘制\n */\nclass AngleFontDraw {\n  constructor({\n    text, rect, dw, overflow, overflowCrop, attr,\n  }) {\n    this.text = text;\n    this.dw = dw;\n    this.rect = rect;\n    this.overflow = overflow;\n    this.overflowCrop = overflowCrop;\n    this.attr = attr;\n  }\n\n  textWidth(text) {\n    const { dw } = this;\n    return dw.measureText(text).width;\n  }\n\n  drawLine(type, tx, ty, textWidth) {\n    const { dw, attr } = this;\n    const { size } = attr;\n    const s = [0, 0];\n    const e = [0, 0];\n    if (type === 'strike') {\n      s[0] = tx;\n      e[0] = tx + textWidth;\n      s[1] = ty + size / 2;\n      e[1] = ty + size / 2;\n    }\n    if (type === 'underline') {\n      s[0] = tx;\n      e[0] = tx + textWidth;\n      s[1] = ty + size;\n      e[1] = ty + size;\n    }\n    dw.line(s, e);\n  }\n\n  drawTextTruncate() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    let { angle } = attr;\n    const { width, height } = rect;\n    if (angle > 90) {\n      angle = 90;\n    }\n    if (angle < -90) {\n      angle = -90;\n    }\n    // 计算文字斜边\n    // 的宽度\n    const textWidth = this.textWidth(text) / dpr();\n    const trigonometric = new TrigonometricFunction({\n      angle,\n      width: textWidth,\n      height: size,\n    });\n    const trigonometricWidth = trigonometric.cosWidthAngle();\n    const trigonometricHeight = trigonometric.sinWidthAngle();\n    // 计算文字的位置\n    let rtx = rect.x;\n    let rty = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        rtx += PADDING;\n        break;\n      case ALIGN.center:\n        rtx += width / 2 - trigonometricWidth / 2;\n        break;\n      case ALIGN.right:\n        rtx += width - trigonometricWidth - PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        rty += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        rty += height / 2 - trigonometricHeight / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        rty += height - trigonometricHeight - PADDING;\n        break;\n      default:\n        break;\n    }\n    // 计算内容宽度\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = trigonometricWidth + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = trigonometricWidth;\n    }\n    const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n    const ty = rty + (trigonometricHeight / 2 - size / 2);\n    // 旋转剪切\n    // 绘制文字\n    const dwAngle = new DrawAngle({\n      dw,\n      angle,\n      rect: new Rect({\n        x: rtx,\n        y: rty,\n        width: trigonometricWidth,\n        height: trigonometricHeight,\n      }),\n    });\n    // 角度不同, 裁剪的\n    // 大小不同\n    let crop;\n    if (angle === 0) {\n      crop = new Crop({\n        draw: dw,\n        rect,\n      });\n    } else {\n      crop = new Crop({\n        draw: dw,\n        rect: new Rect({\n          x: 0,\n          y: rect.y,\n          width: contentWidth,\n          height: rect.height,\n        }),\n      });\n    }\n    crop.open();\n    dwAngle.rotate();\n    dw.fillText(text, tx, ty);\n    if (underline || strikethrough) {\n      dw.beginPath();\n    }\n    if (underline) {\n      this.drawLine('underline', tx, ty, textWidth);\n    }\n    if (strikethrough) {\n      this.drawLine('strike', tx, ty, textWidth);\n    }\n    dwAngle.revert();\n    crop.close();\n    return contentWidth;\n  }\n\n  drawTextOverFlow() {\n    const {\n      text, dw, attr, rect, overflow,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size, overflowCrop,\n    } = attr;\n    let { angle } = attr;\n    const { width, height } = rect;\n    if (angle > 90) {\n      angle = 90;\n    }\n    if (angle < -90) {\n      angle = -90;\n    }\n    // 计算文字斜边\n    // 的宽度\n    const textWidth = this.textWidth(text) / dpr();\n    const trigonometric = new TrigonometricFunction({\n      angle,\n      width: textWidth,\n      height: size,\n    });\n    const trigonometricWidth = trigonometric.cosWidthAngle();\n    const trigonometricHeight = trigonometric.sinWidthAngle();\n    // 计算文字的位置\n    let rtx = rect.x;\n    let rty = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        rtx += PADDING;\n        break;\n      case ALIGN.center:\n        rtx += width / 2 - trigonometricWidth / 2;\n        break;\n      case ALIGN.right:\n        rtx += width - trigonometricWidth - PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        rty += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        rty += height / 2 - trigonometricHeight / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        rty += height - trigonometricHeight - PADDING;\n        break;\n      default:\n        break;\n    }\n    // 计算内容宽度\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = trigonometricWidth + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = trigonometricWidth;\n    }\n    const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n    const ty = rty + (trigonometricHeight / 2 - size / 2);\n    // 旋转剪切\n    // 绘制文字\n    const dwAngle = new DrawAngle({\n      dw,\n      angle,\n      rect: new Rect({\n        x: rtx,\n        y: rty,\n        width: trigonometricWidth,\n        height: trigonometricHeight,\n      }),\n    });\n    // 角度不同, 裁剪的\n    // 大小不同\n    let crop;\n    if (angle === 0) {\n      crop = new Crop({\n        draw: dw,\n        rect: overflow,\n      });\n    } else {\n      crop = new Crop({\n        draw: dw,\n        rect: new Rect({\n          x: 0,\n          y: rect.y,\n          width: contentWidth,\n          height: rect.height,\n        }),\n      });\n    }\n    // 文本是否越界\n    if (overflowCrop || (overflow && (trigonometricWidth > overflow.width\n      || trigonometricHeight > overflow.height))) {\n      crop.open();\n      dwAngle.rotate();\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n      crop.close();\n    } else {\n      dwAngle.rotate();\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n    }\n    return contentWidth;\n  }\n\n  drawTextWarp() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    let { angle } = attr;\n    if (angle > 90) {\n      angle = 90;\n    }\n    if (angle < -90) {\n      angle = -90;\n    }\n    const { width, height } = rect;\n    if (angle > 0) {\n      const trigonometric = new TrigonometricFunction({\n        angle,\n      });\n\n      // 计算斜角文本的最大绘制宽度\n      // 超过绘制宽度自动换行\n      trigonometric.setHeight(height - PADDING * 2);\n      const textHypotenuseWidth = trigonometric.sinHeightAngle();\n\n      // 计算文本块之间的间隙\n      trigonometric.setHeight(size + ANGLE_LINE_HEIGHT);\n      const lineHeight = trigonometric.sinHeightAngle();\n\n      // 折行文本计算\n      const textArray = [];\n      const textLine = {\n        len: 0,\n        start: 0,\n      };\n      const len = text.length;\n      let i = 0;\n      while (i < len) {\n        const charWidth = this.textWidth(text.charAt(i)) / dpr();\n        const textWidth = textLine.len + charWidth;\n        if (textWidth > textHypotenuseWidth) {\n          if (textLine.len === 0) {\n            textArray.push({\n              text: text.substring(i, i + 1),\n              len: textWidth,\n              tx: 0,\n              ty: 0,\n            });\n            i += 1;\n          } else {\n            textArray.push({\n              text: text.substring(textLine.start, i),\n              len: textLine.len,\n              tx: 0,\n              ty: 0,\n            });\n          }\n          textLine.len = 0;\n          textLine.start = i;\n        } else {\n          textLine.len = textWidth;\n          i += 1;\n        }\n      }\n      if (textLine.len > 0) {\n        textArray.push({\n          text: text.substring(textLine.start),\n          len: textLine.len,\n          tx: 0,\n          ty: 0,\n        });\n      }\n      const textArrayLen = textArray.length;\n\n      // 每个文本块的x坐标\n      // 加上指定的间隙\n      let wOffset = 0;\n      for (let i = 0; i < textArrayLen; i += 1) {\n        const item = textArray[i];\n        item.tx = wOffset;\n        wOffset += lineHeight;\n      }\n\n      // 多行文本和单行文本\n      // 采用不同的绘制\n      // 逻辑\n      if (textArrayLen > 1) {\n        // 计算每个文本块的\n        // 宽度和高度\n        trigonometric.setWidth(textHypotenuseWidth);\n        const textWidth = Math.max(trigonometric.cosWidthAngle(), size);\n        const textHeight = trigonometric.sinWidthAngle();\n        // console.log('textHeight>>>', textHeight);\n\n        // 计算总宽度\n        const totalWidth = textWidth + ((textArray.length - 1) * lineHeight);\n        // console.log(totalWidth);\n        let bx = rect.x;\n        let by = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            bx += PADDING;\n            break;\n          case ALIGN.center:\n            bx += width / 2 - totalWidth / 2;\n            break;\n          case ALIGN.right:\n            bx += width - totalWidth - PADDING;\n            break;\n          default:\n            break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            by += PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            by += height / 2 - textHeight / 2;\n            break;\n          case VERTICAL_ALIGN.bottom:\n            by += height - textHeight - PADDING;\n            break;\n          default:\n            break;\n        }\n        let contentWidth;\n        switch (align) {\n          case ALIGN.right:\n          case ALIGN.left:\n            contentWidth = totalWidth + PADDING * 2;\n            break;\n          case ALIGN.center:\n          default:\n            contentWidth = totalWidth;\n        }\n\n        // 渲染文本\n        for (let i = 0; i < textArray.length; i += 1) {\n          // 计算文本的\n          // 绘制位置\n          // 旋转中心\n          const item = textArray[i];\n          const rx = item.tx + bx;\n          const ry = item.ty + by;\n          let ax = 0;\n          let ay = 0;\n          switch (align) {\n            case ALIGN.left: {\n              trigonometric.setWidth(item.len / 2);\n              const tw = Math.max(trigonometric.cosWidthAngle(), size);\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + tw;\n              ay += ry + textHeight - th;\n              break;\n            }\n            case ALIGN.center: {\n              ax = rx + textWidth / 2;\n              ay = ry + textHeight / 2;\n              break;\n            }\n            case ALIGN.right: {\n              trigonometric.setWidth(item.len / 2);\n              const tw = Math.max(trigonometric.cosWidthAngle(), size);\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + textWidth - tw;\n              ay += ry + th;\n              break;\n            }\n            default:\n              break;\n          }\n          const tx = ax - item.len / 2;\n          const ty = ay - size / 2;\n\n          // 旋转并且\n          // 绘制文本\n          if (i === -1) {\n            dw.attr({ fillStyle: '#000000' });\n            dw.fillRect(rx, ry, textWidth, textHeight);\n            dw.attr({ fillStyle: 'red' });\n          }\n          const dwAngle = new DrawAngle({\n            dw,\n            angle,\n            rect: new Rect({\n              x: tx,\n              y: ty,\n              width: item.len,\n              height: size,\n            }),\n          });\n          dwAngle.rotate();\n          dw.fillText(item.text, tx, ty);\n          if (underline || strikethrough) {\n            dw.beginPath();\n          }\n          if (underline) {\n            this.drawLine('underline', tx, ty, item.len);\n          }\n          if (strikethrough) {\n            this.drawLine('strike', tx, ty, item.len);\n          }\n          dwAngle.revert();\n        }\n        return contentWidth;\n      }\n\n      // 计算文本块的\n      // 大小\n      const textWidth = this.textWidth(text) / dpr();\n      trigonometric.setWidth(textWidth);\n      const trigonometricWidth = Math.max(trigonometric.cosWidthAngle(), size);\n      const trigonometricHeight = trigonometric.sinWidthAngle();\n\n      // 计算文本\n      // 绘制位置\n      // 旋转中心\n      let rtx = rect.x;\n      let rty = rect.y;\n      switch (align) {\n        case ALIGN.left:\n          rtx += PADDING;\n          break;\n        case ALIGN.center:\n          rtx += width / 2 - trigonometricWidth / 2;\n          break;\n        case ALIGN.right:\n          rtx += width - trigonometricWidth - PADDING;\n          break;\n        default:\n          break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          rty += PADDING;\n          break;\n        case VERTICAL_ALIGN.center:\n          rty += height / 2 - trigonometricHeight / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          rty += height - trigonometricHeight - PADDING;\n          break;\n        default:\n          break;\n      }\n      let contentWidth;\n      switch (align) {\n        case ALIGN.right:\n        case ALIGN.left:\n          contentWidth = trigonometricWidth + PADDING * 2;\n          break;\n        case ALIGN.center:\n        default:\n          contentWidth = trigonometricWidth;\n      }\n\n      // 旋转并且\n      // 绘制文本\n      const dwAngle = new DrawAngle({\n        dw,\n        angle,\n        rect: new Rect({\n          x: rtx,\n          y: rty,\n          width: trigonometricWidth,\n          height: trigonometricHeight,\n        }),\n      });\n      dwAngle.rotate();\n      const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n      const ty = rty + (trigonometricHeight / 2 - size / 2);\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n      return contentWidth;\n    }\n    if (angle < 0) {\n      const trigonometric = new TrigonometricFunction({\n        angle,\n      });\n\n      // 计算斜角文本的最大绘制宽度\n      // 超过绘制宽度自动换行\n      trigonometric.setHeight(height - PADDING * 2);\n      const textHypotenuseWidth = trigonometric.sinHeightAngle();\n\n      // 计算文本块之间的间隙\n      trigonometric.setHeight(size + ANGLE_LINE_HEIGHT);\n      const lineHeight = trigonometric.sinHeightAngle();\n\n      // 折行文本计算\n      const textArray = [];\n      const textLine = {\n        len: 0,\n        start: 0,\n      };\n      const len = text.length;\n      let i = 0;\n      while (i < len) {\n        const charWidth = this.textWidth(text.charAt(i)) / dpr();\n        const textWidth = textLine.len + charWidth;\n        if (textWidth > textHypotenuseWidth) {\n          if (textLine.len === 0) {\n            textArray.push({\n              text: text.substring(i, i + 1),\n              len: textWidth,\n              tx: 0,\n              ty: 0,\n            });\n            i += 1;\n          } else {\n            textArray.push({\n              text: text.substring(textLine.start, i),\n              len: textLine.len,\n              tx: 0,\n              ty: 0,\n            });\n          }\n          textLine.len = 0;\n          textLine.start = i;\n        } else {\n          textLine.len = textWidth;\n          i += 1;\n        }\n      }\n      if (textLine.len > 0) {\n        textArray.push({\n          text: text.substring(textLine.start),\n          len: textLine.len,\n          tx: 0,\n          ty: 0,\n        });\n      }\n      const textArrayLen = textArray.length;\n\n      // 每个文本块的x坐标\n      // 加上指定的间隙\n      let wOffset = 0;\n      for (let i = textArrayLen - 1; i >= 0; i -= 1) {\n        const item = textArray[i];\n        item.tx = wOffset;\n        wOffset += lineHeight;\n      }\n\n      // 多行文本和单行文本\n      // 采用不同的绘制\n      // 逻辑\n      if (textArrayLen > 1) {\n\n        // 计算每个文本块的\n        // 宽度和高度\n        trigonometric.setWidth(textHypotenuseWidth);\n        const textWidth = Math.max(trigonometric.cosWidthAngle(), size);\n        const textHeight = trigonometric.sinWidthAngle();\n\n        // 文本总宽度\n        const totalWidth = textWidth + ((textArray.length - 1) * lineHeight);\n        let bx = rect.x;\n        let by = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            bx += PADDING;\n            break;\n          case ALIGN.center:\n            bx += width / 2 - totalWidth / 2;\n            break;\n          case ALIGN.right:\n            bx += width - totalWidth - PADDING;\n            break;\n          default:\n            break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            by += PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            by += height / 2 - textHeight / 2;\n            break;\n          case VERTICAL_ALIGN.bottom:\n            by += height - textHeight - PADDING;\n            break;\n          default:\n            break;\n        }\n        let contentWidth;\n        switch (align) {\n          case ALIGN.right:\n          case ALIGN.left:\n            contentWidth = totalWidth + PADDING * 2;\n            break;\n          case ALIGN.center:\n          default:\n            contentWidth = totalWidth;\n        }\n\n        // 渲染文本\n        for (let i = 0; i < textArray.length; i += 1) {\n          // 计算文本的\n          // 绘制位置\n          // 旋转中心\n          const item = textArray[i];\n          const rx = item.tx + bx;\n          const ry = item.ty + by;\n          let ax = 0;\n          let ay = 0;\n          switch (align) {\n            case ALIGN.left: {\n              trigonometric.setWidth(item.len / 2);\n              const tw = Math.max(trigonometric.cosWidthAngle(), size);\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + tw;\n              ay += ry + th;\n              break;\n            }\n            case ALIGN.center: {\n              ax = rx + textWidth / 2;\n              ay = ry + textHeight / 2;\n              break;\n            }\n            case ALIGN.right: {\n              trigonometric.setWidth(item.len / 2);\n              const tw = Math.max(trigonometric.cosWidthAngle(), size);\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + textWidth - tw;\n              ay += ry + textHeight - th;\n              break;\n            }\n            default:\n              break;\n          }\n          const tx = ax - item.len / 2;\n          const ty = ay - size / 2;\n          if (i === -1) {\n            dw.attr({ fillStyle: '#000000' });\n            dw.fillRect(rx, ry, textWidth, textHeight);\n            dw.attr({ fillStyle: 'red' });\n          }\n\n          // 旋转并且\n          // 绘制文本\n          const dwAngle = new DrawAngle({\n            dw,\n            angle,\n            rect: new Rect({\n              x: tx,\n              y: ty,\n              width: item.len,\n              height: size,\n            }),\n          });\n          dwAngle.rotate();\n          dw.fillText(item.text, tx, ty);\n          if (underline || strikethrough) {\n            dw.beginPath();\n          }\n          if (underline) {\n            this.drawLine('underline', tx, ty, item.len);\n          }\n          if (strikethrough) {\n            this.drawLine('strike', tx, ty, item.len);\n          }\n          dwAngle.revert();\n        }\n        return contentWidth;\n      }\n\n      // 计算文本块的\n      // 大小\n      const textWidth = this.textWidth(text) / dpr();\n      trigonometric.setWidth(textWidth);\n      const trigonometricWidth = Math.max(trigonometric.cosWidthAngle(), size);\n      const trigonometricHeight = trigonometric.sinWidthAngle();\n\n      // 计算文本\n      // 绘制位置\n      // 旋转中心\n      let rtx = rect.x;\n      let rty = rect.y;\n      switch (align) {\n        case ALIGN.left:\n          rtx += PADDING;\n          break;\n        case ALIGN.center:\n          rtx += width / 2 - trigonometricWidth / 2;\n          break;\n        case ALIGN.right:\n          rtx += width - trigonometricWidth - PADDING;\n          break;\n        default:\n          break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          rty += PADDING;\n          break;\n        case VERTICAL_ALIGN.center:\n          rty += height / 2 - trigonometricHeight / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          rty += height - trigonometricHeight - PADDING;\n          break;\n        default:\n          break;\n      }\n      let contentWidth;\n      switch (align) {\n        case ALIGN.right:\n        case ALIGN.left:\n          contentWidth = trigonometricWidth + PADDING * 2;\n          break;\n        case ALIGN.center:\n        default:\n          contentWidth = trigonometricWidth;\n      }\n\n      // 旋转并且\n      // 绘制文本\n      const dwAngle = new DrawAngle({\n        dw,\n        angle,\n        rect: new Rect({\n          x: rtx,\n          y: rty,\n          width: trigonometricWidth,\n          height: trigonometricHeight,\n        }),\n      });\n      dwAngle.rotate();\n      const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n      const ty = rty + (trigonometricHeight / 2 - size / 2);\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n      return contentWidth;\n    }\n    if (angle === 0) {\n      const maxTextWidth = width - PADDING * 2;\n      const textArray = [];\n      const textLine = {\n        len: 0,\n        start: 0,\n      };\n      const len = text.length;\n\n      // 折行\n      let i = 0;\n      let maxLen = 0;\n      while (i < len) {\n        const charWidth = this.textWidth(text.charAt(i)) / dpr();\n        const textWidth = textLine.len + charWidth;\n        if (textWidth > maxTextWidth) {\n          if (textLine.len === 0) {\n            textArray.push({\n              text: text.substring(i, i + 1),\n              len: textWidth,\n              tx: 0,\n              ty: 0,\n            });\n            i += 1;\n            if (textWidth > maxLen) {\n              maxLen = textWidth;\n            }\n          } else {\n            textArray.push({\n              text: text.substring(textLine.start, i),\n              len: textLine.len,\n              tx: 0,\n              ty: 0,\n            });\n            if (textLine.len > maxLen) {\n              maxLen = textLine.len;\n            }\n          }\n          textLine.len = 0;\n          textLine.start = i;\n        } else {\n          textLine.len = textWidth;\n          i += 1;\n        }\n      }\n      if (textLine.len > 0) {\n        textArray.push({\n          text: text.substring(textLine.start),\n          len: textLine.len,\n          tx: 0,\n          ty: 0,\n        });\n        if (textLine.len > maxLen) {\n          maxLen = textLine.len;\n        }\n      }\n      const textArrayLen = textArray.length;\n\n      // 位置计算\n      let hOffset = 0;\n      for (let i = 0; i < textArrayLen; i += 1) {\n        const item = textArray[i];\n        item.ty = hOffset;\n        hOffset += size + HORIZONTAL_LIEN_HEIGHT;\n      }\n      const totalTextHeight = textArrayLen * (size + HORIZONTAL_LIEN_HEIGHT);\n\n      let contentWidth;\n      switch (align) {\n        case ALIGN.right:\n        case ALIGN.left:\n          contentWidth = maxLen + PADDING * 2;\n          break;\n        case ALIGN.center:\n        default:\n          contentWidth = maxLen;\n      }\n      // 裁剪 绘制\n      const crop = new Crop({\n        draw: dw,\n        rect,\n      });\n      crop.open();\n      for (let i = 0; i < textArrayLen; i += 1) {\n        const item = textArray[i];\n        let tx = rect.x;\n        let ty = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            tx += PADDING;\n            break;\n          case ALIGN.center:\n            tx += width / 2 - item.len / 2;\n            break;\n          case ALIGN.right:\n            tx += width - item.len - PADDING;\n            break;\n          default:\n            break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            ty += item.ty + PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            ty += item.ty + (height / 2 - totalTextHeight / 2);\n            break;\n          case VERTICAL_ALIGN.bottom:\n            ty += item.ty + (height - totalTextHeight - PADDING);\n            break;\n          default:\n            break;\n        }\n        dw.fillText(item.text, tx, ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', tx, ty, item.len);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', tx, ty, item.len);\n        }\n      }\n      crop.close();\n      return contentWidth;\n    }\n    return 0;\n  }\n\n  draw() {\n    const { dw, attr } = this;\n    const { textWrap } = attr;\n    dw.attr({\n      textAlign: ALIGN.left,\n      textBaseline: VERTICAL_ALIGN.top,\n      font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n      fillStyle: attr.color,\n      strokeStyle: attr.color,\n    });\n    switch (textWrap) {\n      case TEXT_WRAP.TRUNCATE:\n        return this.drawTextTruncate();\n      case TEXT_WRAP.WORD_WRAP:\n        return this.drawTextWarp();\n      case TEXT_WRAP.OVER_FLOW:\n      default:\n        return this.drawTextOverFlow();\n    }\n  }\n\n  setOverflowCrop(overflowCrop) {\n    this.overflowCrop = overflowCrop;\n  }\n}\n\n/**\n * Base font\n */\nclass Font {\n  constructor({\n    text, rect, dw, overflow, attr,\n  }) {\n    this.attr = Utils.mergeDeep({}, {\n      name: 'Arial',\n      size: npx(13),\n      color: '#000000',\n      bold: false,\n      italic: false,\n      textWrap: false,\n      underline: false,\n      strikethrough: false,\n      align: ALIGN.left,\n      verticalAlign: VERTICAL_ALIGN.center,\n      direction: TEXT_DIRECTION.HORIZONTAL,\n      angle: 0,\n    }, attr);\n    this.verticalFontDraw = new VerticalFontDraw({\n      text,\n      rect,\n      dw,\n      overflow,\n      attr: this.attr,\n    });\n    this.horizontalFontDraw = new HorizontalFontDraw({\n      text,\n      rect,\n      dw,\n      overflow,\n      attr: this.attr,\n    });\n    this.angleFontDraw = new AngleFontDraw({\n      text,\n      rect,\n      dw,\n      overflow,\n      attr: this.attr,\n    });\n  }\n\n  draw() {\n    const { attr } = this;\n    switch (attr.direction) {\n      case TEXT_DIRECTION.VERTICAL:\n        return this.verticalFontDraw.draw();\n      case TEXT_DIRECTION.ANGLE:\n        return this.angleFontDraw.draw();\n      case TEXT_DIRECTION.HORIZONTAL:\n      default:\n        return this.horizontalFontDraw.draw();\n    }\n  }\n\n  setTextWrap(textWrap) {\n    const { attr } = this;\n    switch (attr.direction) {\n      case TEXT_DIRECTION.VERTICAL:\n        this.verticalFontDraw.setTextWrap(textWrap);\n        break;\n      case TEXT_DIRECTION.HORIZONTAL:\n      default:\n        this.horizontalFontDraw.setTextWrap(textWrap);\n    }\n  }\n\n  setOverflowCrop(overflowCrop) {\n    this.verticalFontDraw.setOverflowCrop(overflowCrop);\n    this.horizontalFontDraw.setOverflowCrop(overflowCrop);\n    this.angleFontDraw.setOverflowCrop(overflowCrop);\n  }\n}\n\nexport {\n  VERTICAL_ALIGN,\n  ALIGN, TEXT_WRAP,\n  TEXT_DIRECTION,\n  PADDING,\n};\n\nexport { Font };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { Utils } from '../../../../../utils/Utils';\nimport { h } from '../../../../../lib/Element';\nimport { HorizontalIcon1 } from '../icon/horizontal/HorizontalIcon1';\nimport { HorizontalIcon2 } from '../icon/horizontal/HorizontalIcon2';\nimport { HorizontalIcon3 } from '../icon/horizontal/HorizontalIcon3';\nimport { HorizontalContextMenuItem } from './HorizontalContextMenuItem';\nimport { EventBind } from '../../../../../utils/EventBind';\nimport { Constant } from '../../../../../utils/Constant';\nimport { ALIGN } from '../../../../../canvas/Font';\n\nclass HorizontalContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-horizontal-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.horizontalIcon1 = new HorizontalIcon1();\n    this.horizontalIcon2 = new HorizontalIcon2();\n    this.horizontalIcon3 = new HorizontalIcon3();\n    const div2 = h('div', `${cssPrefix}-horizontal-type-context-menu-type-icon-line`);\n    div2.children(this.horizontalIcon1);\n    div2.children(this.horizontalIcon2);\n    div2.children(this.horizontalIcon3);\n    this.horizontalIcons = new HorizontalContextMenuItem();\n    this.horizontalIcons.removeClass('hover');\n    this.horizontalIcons.children(div2);\n    this.addItem(this.horizontalIcons);\n    // 添加事件\n    EventBind.bind(this.horizontalIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(ALIGN.left);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.horizontalIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(ALIGN.center);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.horizontalIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(ALIGN.right);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { HorizontalContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { HorizontalContextMenu } from './contextmenu/horizontal/HorizontalContextMenu';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\n\nclass HorizontalAlign extends DropDownItem {\n  constructor(options = {}) {\n    super(`${cssPrefix}-tools-horizontal-align`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('align-left');\n    this.setIcon(this.icon);\n    this.horizontalContextMenu = new HorizontalContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\nexport { HorizontalAlign };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\n\nclass VerticalContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-vertical-type-context-menu-item`);\n  }\n}\n\nexport { VerticalContextMenuItem };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass VerticalIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-verticalIcon1`);\n    this.icon = new Icon('align-top');\n    this.children(this.icon);\n  }\n}\n\nexport { VerticalIcon1 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass VerticalIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-verticalIcon2`);\n    this.icon = new Icon('align-middle');\n    this.children(this.icon);\n  }\n}\n\nexport { VerticalIcon2 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass VerticalIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-verticalIcon3`);\n    this.icon = new Icon('align-bottom');\n    this.children(this.icon);\n  }\n}\n\nexport { VerticalIcon3 };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { Utils } from '../../../../../utils/Utils';\nimport { h } from '../../../../../lib/Element';\nimport { VerticalContextMenuItem } from './VerticalContextMenuItem';\nimport { VerticalIcon1 } from '../icon/vertical/VerticalIcon1';\nimport { VerticalIcon2 } from '../icon/vertical/VerticalIcon2';\nimport { VerticalIcon3 } from '../icon/vertical/VerticalIcon3';\nimport { EventBind } from '../../../../../utils/EventBind';\nimport { Constant } from '../../../../../utils/Constant';\nimport { VERTICAL_ALIGN } from '../../../../../canvas/Font';\n\nclass VerticalContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-vertical-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.verticalIcon1 = new VerticalIcon1();\n    this.verticalIcon2 = new VerticalIcon2();\n    this.verticalIcon3 = new VerticalIcon3();\n    const div2 = h('div', `${cssPrefix}-vertical-type-context-menu-type-icon-line`);\n    div2.children(this.verticalIcon1);\n    div2.children(this.verticalIcon2);\n    div2.children(this.verticalIcon3);\n    this.verticalIcons = new VerticalContextMenuItem();\n    this.verticalIcons.removeClass('hover');\n    this.verticalIcons.children(div2);\n    this.addItem(this.verticalIcons);\n    // 添加事件\n    EventBind.bind(this.verticalIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(VERTICAL_ALIGN.top);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.verticalIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(VERTICAL_ALIGN.center);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.verticalIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(VERTICAL_ALIGN.bottom);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { VerticalContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { VerticalContextMenu } from './contextmenu/vertical/VerticalContextMenu';\n\nclass VerticalAlign extends DropDownItem {\n  constructor(options = {}) {\n    super(`${cssPrefix}-tools-vertical-align`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('align-middle');\n    this.setIcon(this.icon);\n    this.verticalContextMenu = new VerticalContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { VerticalAlign };\n","import { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\nimport { Item } from '../../../base/Item';\n\nclass TextWrappingIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-text-wrapping1`);\n    this.icon = new Icon('truncate');\n    this.children(this.icon);\n  }\n}\n\nexport { TextWrappingIcon1 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass TextWrappingIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-text-wrapping2`);\n    this.icon = new Icon('overflow');\n    this.children(this.icon);\n  }\n}\n\nexport { TextWrappingIcon2 };\n","import { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\nimport { Item } from '../../../base/Item';\n\nclass TextWrappingIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-text-wrapping3`);\n    this.icon = new Icon('wrap');\n    this.children(this.icon);\n  }\n}\n\nexport { TextWrappingIcon3 };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\n\nclass TextWrappingContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-text-wrapping-context-menu-item`);\n  }\n}\n\nexport { TextWrappingContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { Utils } from '../../../../../utils/Utils';\nimport { TextWrappingIcon1 } from '../icon/textwrapping/TextWrappingIcon1';\nimport { TextWrappingIcon2 } from '../icon/textwrapping/TextWrappingIcon2';\nimport { TextWrappingIcon3 } from '../icon/textwrapping/TextWrappingIcon3';\nimport { h } from '../../../../../lib/Element';\nimport { TextWrappingContextMenuItem } from './TextWrappingContextMenuItem';\nimport { EventBind } from '../../../../../utils/EventBind';\nimport { Constant } from '../../../../../utils/Constant';\nimport { TEXT_WRAP } from '../../../../../canvas/Font';\n\nclass TextWrappingContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-text-wrapping-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.textWrappingIcon1 = new TextWrappingIcon1();\n    this.textWrappingIcon2 = new TextWrappingIcon2();\n    this.textWrappingIcon3 = new TextWrappingIcon3();\n    const div2 = h('div', `${cssPrefix}-text-wrapping-context-menu-type-icon-line`);\n    div2.children(this.textWrappingIcon1);\n    div2.children(this.textWrappingIcon2);\n    div2.children(this.textWrappingIcon3);\n    this.textWrappingIcons = new TextWrappingContextMenuItem();\n    this.textWrappingIcons.removeClass('hover');\n    this.textWrappingIcons.children(div2);\n    this.addItem(this.textWrappingIcons);\n    // 添加事件\n    EventBind.bind(this.textWrappingIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(TEXT_WRAP.TRUNCATE);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.textWrappingIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(TEXT_WRAP.OVER_FLOW);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.textWrappingIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(TEXT_WRAP.WORD_WRAP);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { TextWrappingContextMenu };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { DropDownItem } from './base/DropDownItem';\nimport { TextWrappingContextMenu } from './contextmenu/textwrapping/TextWrappingContextMenu';\n\nclass TextWrapping extends DropDownItem {\n  constructor(options = {}) {\n    super(`${cssPrefix}-tools-text-wrapping`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('text-wrap');\n    this.setIcon(this.icon);\n    this.textWrappingContextMenu = new TextWrappingContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { TextWrapping };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Fixed extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-fixed`);\n    this.icon = new Icon('freeze');\n    this.children(this.icon);\n  }\n}\n\nexport { Fixed };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Filter extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-filter`);\n    this.icon = new Icon('filter');\n    this.children(this.icon);\n  }\n}\n\nexport { Filter };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\n\nclass Functions extends DropDownItem {\n  constructor() {\n    super(`${cssPrefix}-tools-format`);\n    this.icon = new Icon('functions');\n    this.setIcon(this.icon);\n  }\n}\nexport { Functions };\n","import { Widget } from '../../../lib/Widget';\nimport { Utils } from '../../../utils/Utils';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\n\nconst svg = `\n  <svg class=\"${cssPrefix}-copy-style-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\">\n    <line class=\"${cssPrefix}-copy-style-stroked-top\" x1=\"0\" y1=\"0\" x2=\"100%\" y2=\"0\"/>\n    <line class=\"${cssPrefix}-copy-style-stroked-left\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"100%\"/>\n    <line class=\"${cssPrefix}-copy-style-stroked-bottom\" x1=\"0\" y1=\"100%\" x2=\"100%\" y2=\"100%\"/>\n    <line class=\"${cssPrefix}-copy-style-stroked-right\" x1=\"100%\" y1=\"0\" x2=\"100%\" y2=\"100%\"/>\n  </svg>\n`;\n\nclass CopyStyle extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-copy-style`);\n    this.options = Utils.mergeDeep({}, options);\n    this.mask = h('div', `${cssPrefix}-copy-style-mask`);\n    this.html(svg);\n    this.children(this.mask);\n    this.top = this.find(`.${cssPrefix}-copy-style-stroked-top`);\n    this.left = this.find(`.${cssPrefix}-copy-style-stroked-left`);\n    this.bottom = this.find(`.${cssPrefix}-copy-style-stroked-bottom`);\n    this.right = this.find(`.${cssPrefix}-copy-style-stroked-right`);\n    this.hide();\n  }\n}\n\nexport { CopyStyle };\n","class ScreenWidget {\n  constructor(screen) {\n    this.screen = screen;\n    this.lt = null;\n    this.t = null;\n    this.l = null;\n    this.br = null;\n  }\n\n  getLT() {\n    return this.lt;\n  }\n\n  getT() {\n    return this.t;\n  }\n\n  getL() {\n    return this.l;\n  }\n\n  getBR() {\n    return this.br;\n  }\n}\n\nexport { ScreenWidget };\n","import { Utils } from '../../utils/Utils';\n\nclass RectRange {\n\n  /**\n   * RectRange\n   * @param {int} sri 起始行\n   * @param {int} sci 起始列\n   * @param {int} eri 结束行\n   * @param {int} eci 结束列\n   * @param {int} w 宽度\n   * @param {int} h 高度\n   */\n  constructor(sri, sci, eri, eci, w = 0, h = 0) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n    this.w = w;\n    this.h = h;\n  }\n\n  /**\n   * 设置区域\n   * @param {int} sri 起始行\n   * @param {int} sci 起始列\n   * @param {int} eri 结束行\n   * @param {int} eci 结束列\n   */\n  set(sri, sci, eri, eci) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n  }\n\n  /**\n   * 判断是否跨多个单元格\n   * @returns {boolean}\n   */\n  multiple() {\n    return this.eri - this.sri > 0 || this.eci - this.sci > 0;\n  }\n\n  /**\n   * 判断当前的区域是否包含指定的行和列\n   * 参数支持 ri, ci 和 A10 两种形式\n   * @param {[int, int] | String} args 行索引,列索引 或者 字符串\n   * @returns {boolean}\n   */\n  includes(...args) {\n    let [ri, ci] = [0, 0];\n    if (args.length === 1) {\n      [ci, ri] = Utils.expr2xy(args[0]);\n    } else if (args.length === 2) {\n      [ri, ci] = args;\n    }\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return sri <= ri && ri <= eri && sci <= ci && ci <= eci;\n  }\n\n  /**\n   * 循环过滤指定的行列\n   * @param {Function} cb 回调函数\n   * @param {Function} rowFilter 过滤使用的回调函数\n   */\n  each(cb, rowFilter = () => true) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    for (let i = sri; i <= eri; i += 1) {\n      if (rowFilter(i)) {\n        for (let j = sci; j <= eci; j += 1) {\n          cb(i, j);\n        }\n      }\n    }\n  }\n\n  /**\n   * 判断当前的区域是否包含指定的区域\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  contains(other) {\n    return this.sri <= other.sri\n      && this.sci <= other.sci\n      && this.eri >= other.eri\n      && this.eci >= other.eci;\n  }\n\n  /**\n   * 判断当前的区域是否被指定的区域包含\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  within(other) {\n    return this.sri >= other.sri\n      && this.sci >= other.sci\n      && this.eri <= other.eri\n      && this.eci <= other.eci;\n  }\n\n  /**\n   * 判断当前的区域和指定的区域不发生重合\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  disjoint(other) {\n    return this.sri > other.eri\n      || this.sci > other.eci\n      || other.sri > this.eri\n      || other.sci > this.eci;\n  }\n\n  /**\n   * 判断当前的区域和指定的区域发生重合\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  intersects(other) {\n    return this.sri <= other.eri\n      && this.sci <= other.eci\n      && other.sri <= this.eri\n      && other.sci <= this.eci;\n  }\n\n  /**\n   * 返回当前区域和指定区域合并后的新区域\n   * @param {RectRange} other 区域\n   * @returns {RectRange}\n   */\n  union(other) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return new RectRange(\n      other.sri < sri ? other.sri : sri,\n      other.sci < sci ? other.sci : sci,\n      other.eri > eri ? other.eri : eri,\n      other.eci > eci ? other.eci : eci,\n    );\n  }\n\n  /**\n   * 返回当前区域和指定区域合重合的新区域\n   * @param {RectRange} other\n   * @returns {RectRange}\n   */\n  coincide(other) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    if (this.disjoint(other)) {\n      return new RectRange(-1, -1, -1, -1);\n    }\n    return new RectRange(\n      other.sri > sri ? other.sri : sri,\n      other.sci > sci ? other.sci : sci,\n      other.eri < eri ? other.eri : eri,\n      other.eci < eci ? other.eci : eci,\n    );\n  }\n\n  /**\n   * 返回当前区域和指定区域不重合的部分\n   * @param {RectRange} other 区域\n   * @returns {Array}\n   */\n  difference(other) {\n    const ret = [];\n    const addRet = (sri, sci, eri, eci) => {\n      ret.push(new RectRange(sri, sci, eri, eci));\n    };\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    const dsr = other.sri - sri;\n    const dsc = other.sci - sci;\n    const der = eri - other.eri;\n    const dec = eci - other.eci;\n    if (dsr > 0) {\n      addRet(sri, sci, other.sri - 1, eci);\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, eci);\n        if (dsc > 0) {\n          addRet(other.sri, sci, other.eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, other.eri, eci);\n        }\n      } else {\n        if (dsc > 0) {\n          addRet(other.sri, sci, eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, eri, eci);\n        }\n      }\n    } else if (der > 0) {\n      addRet(other.eri + 1, sci, eri, eci);\n      if (dsc > 0) {\n        addRet(sri, sci, other.eri, other.sci - 1);\n      }\n      if (dec > 0) {\n        addRet(sri, other.eci + 1, other.eri, eci);\n      }\n    }\n    if (dsc > 0) {\n      addRet(sri, sci, eri, other.sci - 1);\n      if (dec > 0) {\n        addRet(sri, other.eri + 1, eri, eci);\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, other.eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, other.eci);\n        }\n      } else {\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, eci);\n        }\n      }\n    } else if (dec > 0) {\n      addRet(eri, other.eci + 1, eri, eci);\n      if (dsr > 0) {\n        addRet(sri, sci, other.sri - 1, other.eci);\n      }\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, other.eci);\n      }\n    }\n    return ret;\n  }\n\n  /**\n   * 当前区域跨的行列数\n   * @returns {number[]}\n   */\n  size() {\n    return [\n      this.eri - this.sri + 1,\n      this.eci - this.sci + 1,\n    ];\n  }\n\n  brink() {\n    const { sri, eri, sci, eci } = this;\n    const top = new RectRange(sri, sci, sri, eci);\n    const bottom = new RectRange(eri, sci, eri, eci);\n    const right = new RectRange(sri, eci, eri, eci);\n    const left = new RectRange(sri, sci, eri, sci);\n    return { top, right, bottom, left };\n  }\n\n  toString() {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    let ref = Utils.xy2expr(sci, sri);\n    if (this.multiple()) {\n      ref = `${ref}:${Utils.xy2expr(eci, eri)}`;\n    }\n    return ref;\n  }\n\n  clone() {\n    const {\n      sri, sci, eri, eci, w, h,\n    } = this;\n    return new RectRange(sri, sci, eri, eci, w, h);\n  }\n\n  /**\n   * equals\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  equals(other) {\n    return this.eri === other.eri\n      && this.eci === other.eci\n      && this.sri === other.sri\n      && this.sci === other.sci;\n  }\n\n  /**\n   * 将 B1:B8 或者 B1 参数转换成新的区域\n   * @param {String} ref 行列字符串\n   * @returns {RectRange}\n   */\n  static valueOf(ref) {\n    const refs = ref.split(':');\n    const [sci, sri] = Utils.expr2xy(refs[0]);\n    let [eri, eci] = [sri, sci];\n    if (refs.length > 1) {\n      [eci, eri] = Utils.expr2xy(refs[1]);\n    }\n    return new RectRange(sri, sci, eri, eci);\n  }\n}\n\nexport { RectRange };\n","\nimport { Utils } from '../../../utils/Utils';\nimport { CopyStyle } from './CopyStyle';\nimport { ScreenWidget } from '../screen/ScreenWidget';\nimport { RectRange } from '../RectRange';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { Rect } from '../../../canvas/Rect';\n\nclass ScreenCopyStyle extends ScreenWidget {\n  constructor(screen, options = {}) {\n    super(screen);\n    this.options = Utils.mergeDeep({}, options);\n    this.lt = new CopyStyle();\n    this.t = new CopyStyle();\n    this.l = new CopyStyle();\n    this.br = new CopyStyle();\n    this.selectorAttr = null;\n    this.bind();\n  }\n\n  setLTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      frozenLeftTop, cols, rows, grid,\n    } = table;\n    const viewRange = frozenLeftTop.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.lt.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.eci > viewRange.eci) {\n      this.lt.right.hide();\n      this.lt.mask.css('border-right', 'none');\n    } else {\n      this.lt.right.show();\n      this.lt.mask.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.lt.bottom.hide();\n      this.lt.mask.css('border-bottom', 'none');\n    } else {\n      this.lt.bottom.show();\n      this.lt.mask.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.lt.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedTop, cols, rows, grid,\n    } = table;\n    const viewRange = fixedTop.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.t.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.t.left.hide();\n      this.t.mask.css('border-left', 'none');\n    } else {\n      this.t.left.show();\n      this.t.mask.cssRemoveKeys('border-left');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.t.bottom.hide();\n      this.t.mask.css('border-bottom', 'none');\n    } else {\n      this.t.bottom.show();\n      this.t.mask.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.t.right.hide();\n      this.t.mask.css('border-right', 'none');\n    } else {\n      this.t.right.show();\n      this.t.mask.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.t.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setLOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedLeft, cols, rows, grid,\n    } = table;\n    const viewRange = fixedLeft.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.l.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sri < viewRange.sri) {\n      this.l.top.hide();\n      this.l.mask.css('border-top', 'none');\n    } else {\n      this.l.top.show();\n      this.l.mask.cssRemoveKeys('border-top');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.l.right.hide();\n      this.l.mask.css('border-right', 'none');\n    } else {\n      this.l.right.show();\n      this.l.mask.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.l.bottom.hide();\n      this.l.mask.css('border-bottom', 'none');\n    } else {\n      this.l.bottom.show();\n      this.l.mask.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.l.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setBROffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      cols, rows, grid,\n    } = table;\n    const viewRange = table.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.br.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.br.left.hide();\n      this.br.mask.css('border-left', 'none');\n    } else {\n      this.br.left.show();\n      this.br.mask.cssRemoveKeys('border-left');\n    }\n    if (rect.sri < viewRange.sri) {\n      this.br.top.hide();\n      this.br.mask.css('border-top', 'none');\n    } else {\n      this.br.top.show();\n      this.br.mask.cssRemoveKeys('border-top');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.br.bottom.hide();\n      this.br.mask.css('border-bottom', 'none');\n    } else {\n      this.br.bottom.show();\n      this.br.mask.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.br.right.hide();\n      this.br.mask.css('border-right', 'none');\n    } else {\n      this.br.right.show();\n      this.br.mask.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.br.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setOffset(selectorAttr) {\n    this.setLTOffset(selectorAttr);\n    this.setTOffset(selectorAttr);\n    this.setLOffset(selectorAttr);\n    this.setBROffset(selectorAttr);\n  }\n\n  bind() {\n    const { screen } = this;\n    const { table } = screen;\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n      e.stopPropagation();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n      e.stopPropagation();\n    });\n  }\n\n  setShow(selectorAttr) {\n    this.selectorAttr = selectorAttr;\n    this.setOffset(selectorAttr);\n  }\n\n  setHide() {\n    this.selectorAttr = null;\n    this.lt.hide();\n    this.t.hide();\n    this.l.hide();\n    this.br.hide();\n  }\n}\n\nexport { ScreenCopyStyle };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\n\nclass Selector extends Widget {\n  constructor() {\n    super(`${cssPrefix}-selector`);\n    this.cornerEl = h('div', `${cssPrefix}-selector-corner`);\n    this.areaEl = h('div', `${cssPrefix}-selector-area`);\n    this.transfromData = h('div', `${cssPrefix}-selector-transform-data`);\n    this.areaEl.children(this.cornerEl);\n    this.children(this.transfromData);\n    this.children(this.areaEl);\n    this.hide();\n  }\n}\n\nexport { Selector };\n","/* global document */\n\nimport { Selector } from './Selector';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { ScreenWidget } from '../screen/ScreenWidget';\nimport { RectRange } from '../RectRange';\nimport { Rect } from '../../../canvas/Rect';\n\nclass ScreenSelector extends ScreenWidget {\n  constructor(screen, options = {}) {\n    super(screen);\n    this.options = options;\n    this.selectorAttr = null;\n    this.downSelectorAttr = null;\n    this.onChangeStack = [];\n    this.onSelectChangeStack = [];\n    this.onSelectChangeOver = [];\n    this.onDownSelectStack = [];\n    this.lt = new Selector();\n    this.t = new Selector();\n    this.l = new Selector();\n    this.br = new Selector();\n    this.bind();\n  }\n\n  bind() {\n    const { screen } = this;\n    const { table } = screen;\n    const { mousePointType, keyboardManage, cols, rows, edit, merges } = table;\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      if (e1.button !== 0) return;\n      const { x, y } = table.computeEventXy(e1);\n      const downSelectAttr = this.getDownXYSelectorAttr(x, y);\n      // console.log('downSelectAttr >>>', downSelectAttr);\n      this.setSelectAttr(downSelectAttr);\n      this.setDownSelectAttr(downSelectAttr);\n      this.setOffset(downSelectAttr);\n      this.onDownSelectStack.forEach(cb => cb());\n      this.onChangeStack.forEach(cb => cb());\n      this.onSelectChangeStack.forEach(cb => cb());\n      const { edgeType } = downSelectAttr;\n      switch (edgeType) {\n        case 'left-top':\n          mousePointType.on(['table-cell']);\n          break;\n        case 'left':\n          mousePointType.on(['table-ri']);\n          break;\n        case 'top':\n          mousePointType.on(['table-ci']);\n          break;\n        default:\n          mousePointType.on(['table-cell']);\n          break;\n      }\n      EventBind.mouseMoveUp(document, (e2) => {\n        const { x, y } = table.computeEventXy(e2);\n        const moveSelectorAttr = this.getMoveXySelectorAttr(downSelectAttr, x, y);\n        this.setSelectAttr(moveSelectorAttr);\n        this.setOffset(moveSelectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n        this.onSelectChangeStack.forEach(cb => cb());\n        e2.stopPropagation();\n        e2.preventDefault();\n      }, () => {\n        mousePointType.off();\n        this.onSelectChangeOver.forEach(cb => cb());\n      });\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n      }\n      e.stopPropagation();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n      }\n      e.stopPropagation();\n    });\n    let tabId = 0;\n    let tabNext = null;\n    keyboardManage.register({\n      el: table,\n      code: 9,\n      callback: () => {\n        edit.hideEdit();\n        const id = this.selectorAttr;\n        const rect = this.selectorAttr.rect.clone();\n        if (tabId !== id) {\n          const { sri, sci } = rect;\n          tabId = id;\n          tabNext = { sri, sci };\n        }\n        const cLen = cols.len - 1;\n        const rLen = rows.len - 1;\n        let { sri, sci } = tabNext;\n        const srcMerges = merges.getFirstIncludes(sri, sci);\n        if (srcMerges) {\n          sci = srcMerges.eci;\n        }\n        if (sci >= cLen && sri >= rLen) {\n          return;\n        }\n        if (sci >= cLen) {\n          sri += 1;\n          sci = 0;\n        } else {\n          sci += 1;\n        }\n        tabNext.sri = sri;\n        tabNext.sci = sci;\n        let eri = sri;\n        let eci = sci;\n        const targetMerges = merges.getFirstIncludes(sri, sci);\n        if (targetMerges) {\n          sri = targetMerges.sri;\n          sci = targetMerges.sci;\n          eri = targetMerges.eri;\n          eci = targetMerges.eci;\n        }\n        rect.sri = sri;\n        rect.sci = sci;\n        rect.eri = eri;\n        rect.eci = eci;\n        this.selectorAttr.rect = rect;\n        this.setOffset(this.selectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n        this.onSelectChangeStack.forEach(cb => cb());\n        edit.showEdit();\n      },\n    });\n  }\n\n  setLTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      frozenLeftTop, cols, rows, grid,\n    } = table;\n    const viewRange = frozenLeftTop.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.lt.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.eci > viewRange.eci) {\n      this.lt.areaEl.css('border-right', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.lt.areaEl.css('border-bottom', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.lt.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedTop, cols, rows, grid,\n    } = table;\n    const viewRange = fixedTop.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.t.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.t.areaEl.css('border-left', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.t.areaEl.css('border-bottom', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.t.areaEl.css('border-right', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.t.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setLOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedLeft, cols, rows, grid,\n    } = table;\n    const viewRange = fixedLeft.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.l.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sri < viewRange.sri) {\n      this.l.areaEl.css('border-top', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.l.areaEl.css('border-right', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.l.areaEl.css('border-bottom', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.l.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setBROffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      cols, rows, grid,\n    } = table;\n    const viewRange = table.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.br.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.br.areaEl.css('border-left', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.sri < viewRange.sri) {\n      this.br.areaEl.css('border-top', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.br.areaEl.css('border-bottom', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.br.areaEl.css('border-right', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.br.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setLTCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const { frozenLeftTop } = table;\n    const viewRange = frozenLeftTop.getScrollViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.lt.cornerEl.cssRemoveKeys('left');\n    this.lt.cornerEl.cssRemoveKeys('top');\n    this.lt.cornerEl.cssRemoveKeys('right');\n    this.lt.cornerEl.cssRemoveKeys('bottom');\n    this.lt.cornerEl.hide();\n\n    if (edge) {\n      const ltT = intersectsArea === 'ltt';\n      const ltL = intersectsArea === 'ltl';\n      if (edgeType === 'left' && ltT) {\n        this.lt.cornerEl.show();\n        this.lt.cornerEl.css('left', '0px');\n        this.lt.cornerEl.css('bottom', '0px');\n      }\n      if (edgeType === 'top' && ltL) {\n        this.lt.cornerEl.show();\n        this.lt.cornerEl.css('right', '0px');\n        this.lt.cornerEl.css('top', '0px');\n      }\n    } else {\n      const lt = intersectsArea === 'lt';\n      if (lt) {\n        this.lt.cornerEl.show();\n        this.lt.cornerEl.css('right', '0px');\n        this.lt.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eci > viewRange.eci) {\n        this.lt.cornerEl.hide();\n      }\n      if (rect.eri > viewRange.eri) {\n        this.lt.cornerEl.hide();\n      }\n    }\n  }\n\n  setTCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedTop } = table;\n    const viewRange = fixedTop.getScrollViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.t.cornerEl.cssRemoveKeys('left');\n    this.t.cornerEl.cssRemoveKeys('top');\n    this.t.cornerEl.cssRemoveKeys('right');\n    this.t.cornerEl.cssRemoveKeys('bottom');\n    this.t.cornerEl.hide();\n\n    if (edge) {\n      const tBr = intersectsArea === 'tbr';\n      const ltTBrL = intersectsArea === 'lttlbr';\n      if (edgeType === 'top' && tBr) {\n        this.t.cornerEl.show();\n        this.t.cornerEl.css('right', '0px');\n        this.t.cornerEl.css('top', '0px');\n      }\n      if (edgeType === 'top' && ltTBrL) {\n        this.t.cornerEl.show();\n        this.t.cornerEl.css('right', '0px');\n        this.t.cornerEl.css('top', '0px');\n      }\n      if (edgeType === 'top' && rect.eci > viewRange.eci) {\n        this.t.cornerEl.hide();\n      }\n    } else {\n      const t = intersectsArea === 't';\n      const ltT = intersectsArea === 'ltt';\n      if (t || ltT) {\n        this.t.cornerEl.show();\n        this.t.cornerEl.css('right', '0px');\n        this.t.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eci > viewRange.eci) {\n        this.t.cornerEl.hide();\n      }\n      if (rect.eri > viewRange.eri) {\n        this.t.cornerEl.hide();\n      }\n    }\n  }\n\n  setLCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedLeft } = table;\n    const viewRange = fixedLeft.getScrollViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.l.cornerEl.cssRemoveKeys('left');\n    this.l.cornerEl.cssRemoveKeys('top');\n    this.l.cornerEl.cssRemoveKeys('right');\n    this.l.cornerEl.cssRemoveKeys('bottom');\n    this.l.cornerEl.hide();\n\n    if (edge) {\n      const lBr = intersectsArea === 'lbr';\n      const ltTBrL = intersectsArea === 'lttlbr';\n      if (edgeType === 'left' && lBr) {\n        this.l.cornerEl.show();\n        this.l.cornerEl.css('left', '0');\n        this.l.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left' && ltTBrL) {\n        this.l.cornerEl.show();\n        this.l.cornerEl.css('left', '0');\n        this.l.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left' && rect.eri > viewRange.eri) {\n        this.l.cornerEl.hide();\n      }\n    } else {\n      const l = intersectsArea === 'l';\n      const ltL = intersectsArea === 'ltl';\n      if (l || ltL) {\n        this.l.cornerEl.show();\n        this.l.cornerEl.css('right', '0px');\n        this.l.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eci > viewRange.eci) {\n        this.l.cornerEl.hide();\n      }\n      if (rect.eri > viewRange.eri) {\n        this.l.cornerEl.hide();\n      }\n    }\n  }\n\n  setBrCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const viewRange = table.getScrollViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.br.cornerEl.cssRemoveKeys('left');\n    this.br.cornerEl.cssRemoveKeys('top');\n    this.br.cornerEl.cssRemoveKeys('right');\n    this.br.cornerEl.cssRemoveKeys('bottom');\n    this.br.cornerEl.hide();\n\n    if (edge) {\n      const br = intersectsArea === 'br';\n      const ltTLBr = intersectsArea === 'lttlbr';\n      if (edgeType === 'left' && br) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('left', '0');\n        this.br.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'top' && br) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0');\n        this.br.cornerEl.css('top', '0');\n      }\n      if (edgeType === 'left-top' && ltTLBr) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0');\n        this.br.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left-top' && br) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0');\n        this.br.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left' && rect.eri > viewRange.eri) {\n        this.br.cornerEl.hide();\n      }\n      if (edgeType === 'top' && rect.eci > viewRange.eci) {\n        this.br.cornerEl.hide();\n      }\n    } else {\n      const br = intersectsArea === 'br';\n      const tBr = intersectsArea === 'tbr';\n      const lBr = intersectsArea === 'lbr';\n      const ltTLBr = intersectsArea === 'lttlbr';\n      if (br || tBr || lBr || lBr || ltTLBr) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0px');\n        this.br.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eri > viewRange.eri) {\n        this.br.cornerEl.hide();\n      }\n      if (rect.eci > viewRange.eci) {\n        this.br.cornerEl.hide();\n      }\n    }\n  }\n\n  setSelectAttr(selectorAttr) {\n    this.selectorAttr = selectorAttr;\n    this.selectorAttr.id = Date.now();\n  }\n\n  setDownSelectAttr(downSelectorAttr) {\n    this.downSelectorAttr = downSelectorAttr;\n  }\n\n  getIntersectsArea(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixed, cols, rows } = table;\n    const { rect } = selectorAttr;\n    let type = '';\n    const tlRange = new RectRange(0, 0, fixed.fxTop, fixed.fxLeft);\n    const tRange = new RectRange(0, fixed.fxLeft + 1, fixed.fxTop, cols.len);\n    const lRange = new RectRange(fixed.fxTop + 1, 0, rows.len, fixed.fxLeft);\n    const brRange = new RectRange(fixed.fxTop + 1, fixed.fxLeft + 1, rows.len, cols.len);\n    if (rect.intersects(tlRange)) type += 'lt';\n    if (rect.intersects(tRange)) type += 't';\n    if (rect.intersects(lRange)) type += 'l';\n    if (rect.intersects(brRange)) type += 'br';\n    return type;\n  }\n\n  setOffset(selectorAttr) {\n    const intersectsArea = this.getIntersectsArea(selectorAttr);\n    // console.log('intersectsArea', intersectsArea)\n\n    this.setLTOffset(selectorAttr);\n    this.setTOffset(selectorAttr);\n    this.setLOffset(selectorAttr);\n    this.setBROffset(selectorAttr);\n\n    this.setLTCorner(selectorAttr, intersectsArea);\n    this.setTCorner(selectorAttr, intersectsArea);\n    this.setLCorner(selectorAttr, intersectsArea);\n    this.setBrCorner(selectorAttr, intersectsArea);\n  }\n\n  getViewRange() {\n    const { screen } = this;\n    const { table } = screen;\n    const { cols, rows } = table;\n    const viewRange = table.getScrollViewRange();\n    let { sri, sci } = viewRange;\n    const { eri, eci } = viewRange;\n\n    if (table.getFixedWidth() > 0) {\n      sri = 0;\n    }\n    if (table.getFixedHeight() > 0) {\n      sci = 0;\n    }\n\n    const width = cols.sectionSumWidth(sci, eci);\n    const height = rows.sectionSumHeight(sri, eri);\n\n    return new RectRange(sri, sci, eri, eci, width, height);\n  }\n\n  getDownXYSelectorAttr(x, y) {\n    const { screen } = this;\n    const { table } = screen;\n    const { merges, rows, cols } = table;\n    const { ri, ci } = table.getRiCiByXy(x, y);\n    if (ri === -1 && ci === -1) {\n      const rect = new RectRange(0, 0, rows.len - 1, cols.len - 1);\n      return {\n        rect, edge: true, edgeType: 'left-top',\n      };\n    }\n    if (ri === -1) {\n      const rect = new RectRange(0, ci, rows.len - 1, ci);\n      return {\n        rect, edge: true, edgeType: 'top',\n      };\n    }\n    if (ci === -1) {\n      const rect = new RectRange(ri, 0, ri, cols.len - 1);\n      return {\n        rect, edge: true, edgeType: 'left',\n      };\n    }\n    const merge = merges.getFirstIncludes(ri, ci);\n    let rect = new RectRange(ri, ci, ri, ci);\n    if (merge) {\n      rect = merge;\n    }\n    return { rect };\n  }\n\n  getMoveXySelectorAttr(selectorAttr, x, y) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      merges, rows, cols,\n    } = table;\n    const { rect: selectRect, edgeType } = selectorAttr;\n    const viewRange = this.getViewRange();\n    let { ri, ci } = table.getRiCiByXy(x, y);\n    if (ri === -1) ri = viewRange.sri;\n    if (ci === -1) ci = viewRange.sci;\n    switch (edgeType) {\n      case 'left-top': {\n        let rect = selectRect.union(new RectRange(0, 0, rows.len - 1, cols.len - 1));\n        rect = selectRect.union(rect);\n        return {\n          rect, edge: true, edgeType: 'left-top',\n        };\n      }\n      case 'top': {\n        let rect = selectRect.union(new RectRange(0, ci, 0, ci));\n        rect = selectRect.union(rect);\n        return {\n          rect, edge: true, edgeType: 'top',\n        };\n      }\n      case 'left': {\n        let rect = selectRect.union(new RectRange(ri, 0, ri, 0));\n        rect = selectRect.union(rect);\n        return {\n          rect, edge: true, edgeType: 'left',\n        };\n      }\n      default: break;\n    }\n    let rect = selectRect.union(new RectRange(ri, ci, ri, ci));\n    rect = merges.union(rect);\n    return { rect };\n  }\n\n  getSelectRange() {\n    const { rect } = this.selectorAttr;\n    return rect;\n  }\n\n  // ===========downSelectCb=============\n\n  addDownSelectCb(cb) {\n    this.onDownSelectStack.push(cb);\n  }\n\n  removeDownSelectCb(cb) {\n    for (let i = 0; i < this.onChangeStack.length; i += 1) {\n      const item = this.onDownSelectStack[i];\n      if (item === cb) {\n        this.onDownSelectStack.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  // ===========changeCb=============\n\n  addChangeCb(cb) {\n    this.onChangeStack.push(cb);\n  }\n\n  removeChangeCb(cb) {\n    for (let i = 0; i < this.onChangeStack.length; i += 1) {\n      const item = this.onChangeStack[i];\n      if (item === cb) {\n        this.onChangeStack.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  // ===========selectChangeCb=============\n\n  addSelectChangeCb(cb) {\n    this.onSelectChangeStack.push(cb);\n  }\n\n  removeSelectChangeCb(cb) {\n    for (let i = 0; i < this.onSelectChangeStack.length; i += 1) {\n      const item = this.onSelectChangeStack[i];\n      if (item === cb) {\n        this.onSelectChangeStack.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  // ===========selectChangeOverCb=============\n\n  addSelectChangeOverCb(cb) {\n    this.onSelectChangeOver.push(cb);\n  }\n\n  removeSelectChangeOverCb(cb) {\n    for (let i = 0; i < this.onSelectChangeOver.length; i += 1) {\n      const item = this.onSelectChangeOver[i];\n      if (item === cb) {\n        this.onSelectChangeOver.splice(i, 1);\n        return;\n      }\n    }\n  }\n}\n\nexport { ScreenSelector };\n","import {\n  ALIGN,\n  TEXT_DIRECTION,\n  TEXT_WRAP,\n  VERTICAL_ALIGN,\n} from '../../../canvas/Font';\n\n/**\n *  CellFont\n *  @author jerry\n */\nclass CellFont {\n\n  /**\n   * CellFont\n   * @param align\n   * @param verticalAlign\n   * @param textWrap\n   * @param strikethrough\n   * @param underline\n   * @param color\n   * @param name\n   * @param size\n   * @param bold\n   * @param italic\n   * @param angle\n   * @param direction\n   */\n  constructor({\n    align = ALIGN.left,\n    verticalAlign = VERTICAL_ALIGN.center,\n    textWrap = TEXT_WRAP.OVER_FLOW,\n    strikethrough = false,\n    underline = false,\n    color = 'rgb(0,0,0)',\n    name = 'Arial',\n    size = 14,\n    bold = false,\n    italic = false,\n    angle = 0,\n    direction = TEXT_DIRECTION.HORIZONTAL,\n  }) {\n    this.align = align;\n    this.verticalAlign = verticalAlign;\n    this.textWrap = textWrap;\n    this.strikethrough = strikethrough;\n    this.underline = underline;\n    this.color = color;\n    this.name = name;\n    this.size = size;\n    this.bold = bold;\n    this.italic = italic;\n    this.direction = direction;\n    this.angle = angle;\n  }\n\n  clone() {\n    const {\n      align,\n      verticalAlign,\n      textWrap,\n      strikethrough,\n      underline,\n      color,\n      name,\n      size,\n      bold,\n      italic,\n      angle,\n      direction,\n    } = this;\n    return new CellFont({\n      align,\n      verticalAlign,\n      textWrap,\n      strikethrough,\n      underline,\n      color,\n      name,\n      size,\n      bold,\n      italic,\n      angle,\n      direction,\n    });\n  }\n}\n\nexport { CellFont };\n","import { LINE_TYPE } from '../../../canvas/Line';\nimport { Utils } from '../../../utils/Utils';\n\n/**\n * Border\n * @author jerry\n */\nclass Border {\n\n  /**\n   * Border\n   * @param time\n   * @param display\n   * @param width\n   * @param color\n   * @param type\n   */\n  constructor({\n    time = Utils.now(),\n    display = false,\n    width = 1,\n    color = '#000000',\n    type = LINE_TYPE.SOLID_LINE,\n  }) {\n    this.$time = time;\n    this.$display = display;\n    this.$width = width;\n    this.$color = color;\n    this.$type = type;\n  }\n\n  /**\n   * 读取属性修改时间\n   * @returns {*}\n   */\n  get time() {\n    return this.$time;\n  }\n\n  /**\n   * 读取边框是否显示\n   * @returns {boolean}\n   */\n  get display() {\n    return this.$display;\n  }\n\n  /**\n   * 设置边框是否显示\n   * @param value\n   */\n  set display(value) {\n    this.$time = Utils.now();\n    this.$display = value;\n  }\n\n  /**\n   * 读取边框宽度\n   * @returns {number}\n   */\n  get width() {\n    return this.$width;\n  }\n\n  /**\n   * 设置边框宽度\n   * @param value\n   */\n  set width(value) {\n    this.$time = Utils.now();\n    this.$width = value;\n  }\n\n  /**\n   * 读取边框颜色\n   * @returns {string}\n   */\n  get color() {\n    return this.$color;\n  }\n\n  /**\n   * 设置边框颜色\n   * @param value\n   */\n  set color(value) {\n    this.$time = Utils.now();\n    this.$color = value;\n  }\n\n  /**\n   * 读取边框类型\n   * @returns {number}\n   */\n  get type() {\n    return this.$type;\n  }\n\n  /**\n   * 设置边框类型\n   * @param value\n   */\n  set type(value) {\n    this.$time = Utils.now();\n    this.$type = value;\n  }\n\n  /**\n   * 判断两个边框是否一致\n   * @param target\n   */\n  equal(target) {\n    const color = this.color === target.color;\n    const width = this.width === target.width;\n    const type = this.type === target.type;\n    return color && width && type;\n  }\n\n  /**\n   * 比较两个边框的修改时间\n   * this > target = 1\n   * this < target = -1\n   * this == target = 0\n   * @param target\n   * @returns {number}\n   */\n  compareTime(target) {\n    if (Utils.isUnDef(target)) {\n      return -2;\n    }\n    const srcTime = this.time;\n    const targetTime = target.time;\n    if (srcTime > targetTime) {\n      return 1;\n    }\n    if (targetTime > srcTime) {\n      return -1;\n    }\n    return 0;\n  }\n}\n\nexport { Border };\n","import { Border } from './Border';\n\n/**\n * CellBorder\n * @author jerry\n */\nclass CellBorder {\n\n  /**\n   * CellBorder\n   * @param time\n   * @param left\n   * @param top\n   * @param right\n   * @param bottom\n   */\n  constructor({\n    left = {},\n    top = {},\n    right = {},\n    bottom = {},\n  }) {\n    this.left = new Border(left);\n    this.top = new Border(top);\n    this.right = new Border(right);\n    this.bottom = new Border(bottom);\n  }\n\n  clone() {\n    const {\n      left,\n      top,\n      right,\n      bottom,\n    } = this;\n    return new CellBorder({\n      left,\n      top,\n      right,\n      bottom,\n    });\n  }\n}\n\nexport { CellBorder };\n","import { Utils } from '../../../utils/Utils';\nimport { CellFont } from './CellFont';\nimport { CellBorder } from './CellBorder';\n\n/**\n * Cell\n * @author jerry\n */\nclass Cell {\n\n  /**\n   * Cell\n   * @param text\n   * @param background\n   * @param format\n   * @param fontAttr\n   * @param borderAttr\n   * @param contentWidth\n   */\n  constructor({\n    text = Utils.EMPTY,\n    background = Utils.Nul,\n    format = 'default',\n    fontAttr = {},\n    borderAttr = {},\n    contentWidth = 0,\n  }) {\n    this.background = background;\n    this.format = format;\n    this.text = text;\n    this.fontAttr = new CellFont(fontAttr);\n    this.borderAttr = new CellBorder(borderAttr);\n    this.contentWidth = contentWidth;\n  }\n\n  setContentWidth(contentWidth) {\n    this.contentWidth = contentWidth;\n  }\n\n  clone() {\n    const {\n      background,\n      format,\n      text,\n      fontAttr,\n      borderAttr,\n    } = this;\n    return new Cell({\n      background,\n      format,\n      text,\n      fontAttr: fontAttr.clone(),\n      borderAttr: borderAttr.clone(),\n    });\n  }\n}\n\nexport { Cell };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { Undo } from './tools/Undo';\nimport { Redo } from './tools/Redo';\nimport { PaintFormat } from './tools/PaintFormat';\nimport { ClearFormat } from './tools/ClearFormat';\nimport { Format } from './tools/Format';\nimport { Font } from './tools/Font';\nimport { FontSize } from './tools/FontSize';\nimport { FontBold } from './tools/FontBold';\nimport { FontItalic } from './tools/FontItalic';\nimport { UnderLine } from './tools/UnderLine';\nimport { FontStrike } from './tools/FontStrike';\nimport { FontColor } from './tools/FontColor';\nimport { FillColor } from './tools/FillColor';\nimport { Border } from './tools/contextmenu/icon/border/Border';\nimport { Merge } from './tools/Merge';\nimport { HorizontalAlign } from './tools/HorizontalAlign';\nimport { VerticalAlign } from './tools/VerticalAlign';\nimport { TextWrapping } from './tools/TextWrapping';\nimport { Fixed } from './tools/Fixed';\nimport { Filter } from './tools/Filter';\nimport { Functions } from './tools/Functions';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { ScreenCopyStyle } from '../table/copystyle/ScreenCopyStyle';\nimport { ScreenSelector } from '../table/selector/ScreenSelector';\nimport { ElPopUp } from '../../component/elpopup/ElPopUp';\nimport { LINE_TYPE } from '../../canvas/Line';\nimport { Icon } from './tools/Icon';\nimport { ALIGN, TEXT_WRAP, VERTICAL_ALIGN } from '../../canvas/Font';\nimport { Cell } from '../table/cells/Cell';\n\nclass Divider extends Widget {\n  constructor() {\n    super(`${cssPrefix}-tools-divider`);\n  }\n}\n\nclass TopMenu extends Widget {\n\n  constructor(workTop) {\n    super(`${cssPrefix}-tools-menu`);\n    this.workTop = workTop;\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    // tools\n    this.undo = new Undo();\n    this.redo = new Redo();\n    this.paintFormat = new PaintFormat();\n    this.clearFormat = new ClearFormat();\n    this.format = new Format({\n      contextMenu: {\n        onUpdate: (format, title) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.format.setTitle(title);\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.format = format;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.font = new Font({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.font.setTitle(type);\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.fontAttr.name = type;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fontSize = new FontSize({\n      contextMenu: {\n        onUpdate: (size) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.fontSize.setTitle(size);\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.fontAttr.size = size;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fontColor = new FontColor({\n      contextMenu: {\n        onUpdate: (color) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.fontColor.setColor(color);\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.fontAttr.color = color;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fillColor = new FillColor({\n      contextMenu: {\n        onUpdate: (color) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.fillColor.setColor(color);\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.background = color;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.border = new Border({\n      contextMenu: {\n        onUpdate: (borderType, color, lineType) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            cells,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            let width = 1;\n            let type = LINE_TYPE.SOLID_LINE;\n            // Line Type\n            switch (lineType) {\n              case 'line1':\n                width = 1;\n                type = LINE_TYPE.SOLID_LINE;\n                break;\n              case 'line2':\n                width = 2;\n                type = LINE_TYPE.SOLID_LINE;\n                break;\n              case 'line3':\n                width = 3;\n                type = LINE_TYPE.SOLID_LINE;\n                break;\n              case 'line4':\n                type = LINE_TYPE.DOTTED_LINE;\n                break;\n              case 'line5':\n                type = LINE_TYPE.POINT_LINE;\n                break;\n              case 'line6':\n                type = LINE_TYPE.DOUBLE_LINE;\n                break;\n              default: break;\n            }\n            // Border Type\n            switch (borderType) {\n              case 'border1':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    cell.borderAttr.left.display = true;\n                    cell.borderAttr.top.display = true;\n                    cell.borderAttr.right.display = true;\n                    cell.borderAttr.bottom.display = true;\n                    // 颜色\n                    cell.borderAttr.left.color = color;\n                    cell.borderAttr.top.color = color;\n                    cell.borderAttr.right.color = color;\n                    cell.borderAttr.bottom.color = color;\n                    // 宽度\n                    cell.borderAttr.left.width = width;\n                    cell.borderAttr.top.width = width;\n                    cell.borderAttr.right.width = width;\n                    cell.borderAttr.bottom.width = width;\n                    // 类型\n                    cell.borderAttr.left.type = type;\n                    cell.borderAttr.top.type = type;\n                    cell.borderAttr.right.type = type;\n                    cell.borderAttr.bottom.type = type;\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border2':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.display = true;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.display = true;\n                    } else {\n                      cell.borderAttr.bottom.display = true;\n                      cell.borderAttr.top.display = true;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.display = true;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.display = true;\n                    } else {\n                      cell.borderAttr.right.display = true;\n                      cell.borderAttr.left.display = true;\n                    }\n                    // 颜色\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.color = color;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.color = color;\n                    } else {\n                      cell.borderAttr.bottom.color = color;\n                      cell.borderAttr.top.color = color;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.color = color;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.color = color;\n                    } else {\n                      cell.borderAttr.right.color = color;\n                      cell.borderAttr.left.color = color;\n                    }\n                    // 宽度\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.width = width;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.width = width;\n                    } else {\n                      cell.borderAttr.bottom.width = width;\n                      cell.borderAttr.top.width = width;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.width = width;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.width = width;\n                    } else {\n                      cell.borderAttr.right.width = width;\n                      cell.borderAttr.left.width = width;\n                    }\n                    // 类型\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.type = type;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.type = type;\n                    } else {\n                      cell.borderAttr.bottom.type = type;\n                      cell.borderAttr.top.type = type;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.type = type;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.type = type;\n                    } else {\n                      cell.borderAttr.right.type = type;\n                      cell.borderAttr.left.type = type;\n                    }\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border3':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.display = true;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.display = true;\n                    } else {\n                      cell.borderAttr.bottom.display = true;\n                      cell.borderAttr.top.display = true;\n                    }\n                    // 颜色\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.color = color;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.color = color;\n                    } else {\n                      cell.borderAttr.bottom.color = color;\n                      cell.borderAttr.top.color = color;\n                    }\n                    // 宽度\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.width = width;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.width = width;\n                    } else {\n                      cell.borderAttr.bottom.width = width;\n                      cell.borderAttr.top.width = width;\n                    }\n                    // 类型\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.type = type;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.type = type;\n                    } else {\n                      cell.borderAttr.bottom.type = type;\n                      cell.borderAttr.top.type = type;\n                    }\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border4':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.display = true;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.display = true;\n                    } else {\n                      cell.borderAttr.right.display = true;\n                      cell.borderAttr.left.display = true;\n                    }\n                    // 颜色\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.color = color;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.color = color;\n                    } else {\n                      cell.borderAttr.right.color = color;\n                      cell.borderAttr.left.color = color;\n                    }\n                    // 宽度\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.width = width;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.width = width;\n                    } else {\n                      cell.borderAttr.right.width = width;\n                      cell.borderAttr.left.width = width;\n                    }\n                    // 类型\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.type = type;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.type = type;\n                    } else {\n                      cell.borderAttr.right.type = type;\n                      cell.borderAttr.left.type = type;\n                    }\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border5':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.left.display = true;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.right.display = true;\n                    }\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.top.display = true;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.bottom.display = true;\n                    }\n                    // 颜色\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.left.color = color;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.right.color = color;\n                    }\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.top.color = color;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.bottom.color = color;\n                    }\n                    // 宽度\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.left.width = width;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.right.width = width;\n                    }\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.top.width = width;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.bottom.width = width;\n                    }\n                    // 类型\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.left.type = type;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.right.type = type;\n                    }\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.top.type = type;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.bottom.type = type;\n                    }\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border6':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (c === selectorAttr.rect.sci) {\n                      cell.borderAttr.left.display = true;\n                    }\n                    // 颜色\n                    cell.borderAttr.left.color = color;\n                    // 宽度\n                    cell.borderAttr.left.width = width;\n                    // 类型\n                    cell.borderAttr.left.type = type;\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border7':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (r === selectorAttr.rect.sri) {\n                      cell.borderAttr.top.display = true;\n                    }\n                    // 颜色\n                    cell.borderAttr.top.color = color;\n                    // 宽度\n                    cell.borderAttr.top.width = width;\n                    // 类型\n                    cell.borderAttr.top.type = type;\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border8':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (c === selectorAttr.rect.eci) {\n                      cell.borderAttr.right.display = true;\n                    }\n                    // 颜色\n                    cell.borderAttr.right.color = color;\n                    // 宽度\n                    cell.borderAttr.right.width = width;\n                    // 类型\n                    cell.borderAttr.right.type = type;\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border9':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (r === selectorAttr.rect.eri) {\n                      cell.borderAttr.bottom.display = true;\n                    }\n                    // 颜色\n                    cell.borderAttr.bottom.color = color;\n                    // 宽度\n                    cell.borderAttr.bottom.width = width;\n                    // 类型\n                    cell.borderAttr.bottom.type = type;\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border10':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (selectorAttr.rect.sri === r) {\n                      const top = cells.getCellOrNew(r - 1, c);\n                      top.borderAttr.bottom.display = false;\n                    }\n                    if (selectorAttr.rect.eri === r) {\n                      const bottom = cells.getCellOrNew(r + 1, c);\n                      bottom.borderAttr.top.display = false;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      const left = cells.getCellOrNew(r, c - 1);\n                      left.borderAttr.right.display = false;\n                    }\n                    if (selectorAttr.rect.eci === c) {\n                      const right = cells.getCellOrNew(r, c + 1);\n                      right.borderAttr.left.display = false;\n                    }\n                    cell.borderAttr.left.display = false;\n                    cell.borderAttr.top.display = false;\n                    cell.borderAttr.right.display = false;\n                    cell.borderAttr.bottom.display = false;\n                    // 颜色\n                    cell.borderAttr.left.color = false;\n                    cell.borderAttr.top.color = false;\n                    cell.borderAttr.right.color = false;\n                    cell.borderAttr.bottom.color = false;\n                    // 宽度\n                    cell.borderAttr.left.width = false;\n                    cell.borderAttr.top.width = false;\n                    cell.borderAttr.right.width = false;\n                    cell.borderAttr.bottom.width = false;\n                    // 类型\n                    cell.borderAttr.left.type = false;\n                    cell.borderAttr.top.type = false;\n                    cell.borderAttr.right.type = false;\n                    cell.borderAttr.bottom.type = false;\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              default: break;\n            }\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fontBold = new FontBold();\n    this.fontItalic = new FontItalic();\n    this.underLine = new UnderLine();\n    this.fontStrike = new FontStrike();\n    this.merge = new Merge();\n    this.horizontalAlign = new HorizontalAlign({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          switch (type) {\n            case ALIGN.left:\n              this.horizontalAlign.setIcon(new Icon('align-left'));\n              break;\n            case ALIGN.center:\n              this.horizontalAlign.setIcon(new Icon('align-center'));\n              break;\n            case ALIGN.right:\n              this.horizontalAlign.setIcon(new Icon('align-right'));\n              break;\n            default: break;\n          }\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.fontAttr.align = type;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.verticalAlign = new VerticalAlign({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          switch (type) {\n            case VERTICAL_ALIGN.top:\n              this.verticalAlign.setIcon(new Icon('align-top'));\n              break;\n            case VERTICAL_ALIGN.center:\n              this.verticalAlign.setIcon(new Icon('align-middle'));\n              break;\n            case VERTICAL_ALIGN.bottom:\n              this.verticalAlign.setIcon(new Icon('align-bottom'));\n              break;\n            default: break;\n          }\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.fontAttr.verticalAlign = type;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.textWrapping = new TextWrapping({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          let icon;\n          switch (type) {\n            case TEXT_WRAP.TRUNCATE:\n              icon = new Icon('truncate');\n              break;\n            case TEXT_WRAP.WORD_WRAP:\n              icon = new Icon('text-wrap');\n              break;\n            case TEXT_WRAP.OVER_FLOW:\n            default:\n              icon = new Icon('overflow');\n              break;\n          }\n          this.textWrapping.setIcon(icon);\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.fontAttr.textWrap = type;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fixed = new Fixed();\n    this.filter = new Filter();\n    this.functions = new Functions();\n    this.children(this.undo);\n    this.children(this.redo);\n    this.children(this.paintFormat);\n    this.children(this.clearFormat);\n    this.children(new Divider());\n    this.children(this.format);\n    this.children(new Divider());\n    this.children(this.font);\n    this.children(this.fontSize);\n    this.children(new Divider());\n    this.children(this.fontBold);\n    this.children(this.fontItalic);\n    this.children(this.underLine);\n    this.children(this.fontStrike);\n    this.children(this.fontColor);\n    this.children(new Divider());\n    this.children(this.fillColor);\n    this.children(this.border);\n    this.children(this.merge);\n    this.children(this.horizontalAlign);\n    this.children(this.verticalAlign);\n    this.children(this.textWrapping);\n    this.children(this.fixed);\n    this.children(this.filter);\n    this.children(this.functions);\n    this.bind();\n  }\n\n  bind() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    EventBind.bind(body, Constant.WORK_BODY_TYPE.CHANGE_ACTIVE, () => {\n      this.setStatus();\n    });\n    EventBind.bind(body, Constant.TABLE_EVENT_TYPE.DATA_CHANGE, () => {\n      this.setStatus();\n    });\n    EventBind.bind(body, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, () => {\n      // console.log('TABLE_EVENT_TYPE.SELECT_DOWN');\n      this.setFormatStatus();\n      this.setFontStatus();\n      this.setFontSizeStatus();\n      this.setFontBoldStatus();\n      this.setFontItalicStatus();\n      this.setUnderLineStatus();\n      this.setFontStrikeStatus();\n      this.setFontColorStatus();\n      this.setFillColorStatus();\n      this.setHorizontalAlignStatus();\n      this.setVerticalAlignStatus();\n      this.setTextWrappingStatus();\n    });\n    EventBind.bind(this.undo, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { tableDataSnapshot } = table;\n      if (tableDataSnapshot.canBack()) tableDataSnapshot.back();\n    });\n    EventBind.bind(this.redo, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { tableDataSnapshot } = table;\n      if (tableDataSnapshot.canGo()) tableDataSnapshot.go();\n    });\n    EventBind.bind(this.paintFormat, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        cells,\n        cellsHelper,\n        tableDataSnapshot,\n      } = table;\n      const screenCopyStyle = screen.findByClass(ScreenCopyStyle);\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        screenCopyStyle.setShow(selectorAttr);\n        this.paintFormat.active(true);\n        this.paintFormat.addSheet(sheet);\n        const cb = () => {\n          // 清除复制\n          screenCopyStyle.setHide();\n          this.paintFormat.active(false);\n          this.paintFormat.removeSheet(sheet);\n          screenSelector.removeSelectChangeOverCb(cb);\n          // 模板单元格\n          const src = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n          // 复制样式\n          tableDataSnapshot.begin();\n          const { cellDataProxy } = tableDataSnapshot;\n          const { selectorAttr: newSelectorAttr } = screenSelector;\n          cellsHelper.getCellOrNewCellByViewRange({\n            rectRange: newSelectorAttr.rect,\n            callback: (r, c, origin) => {\n              const { text } = origin;\n              const cell = src.clone();\n              cell.text = text;\n              cellDataProxy.setCell(r, c, cell);\n            },\n          });\n          tableDataSnapshot.end();\n          table.render();\n        };\n        screenSelector.addSelectChangeOverCb(cb);\n      }\n    });\n    EventBind.bind(this.clearFormat, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        cellsHelper,\n        tableDataSnapshot,\n      } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        tableDataSnapshot.begin();\n        const { cellDataProxy } = tableDataSnapshot;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, origin) => {\n            const { text } = origin;\n            cellDataProxy.setCell(r, c, new Cell({ text }));\n          },\n        });\n        tableDataSnapshot.end();\n        table.render();\n      }\n    });\n    EventBind.bind(this.format, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { format } = this;\n      const { formatContextMenu } = format;\n      const { elPopUp } = formatContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (formatContextMenu.isOpen()) {\n        formatContextMenu.open();\n      } else {\n        formatContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.font, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { font } = this;\n      const { fontContextMenu } = font;\n      const { elPopUp } = fontContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fontContextMenu.isOpen()) {\n        fontContextMenu.open();\n      } else {\n        fontContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.fontSize, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { fontSize } = this;\n      const { fontSizeContextMenu } = fontSize;\n      const { elPopUp } = fontSizeContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fontSizeContextMenu.isOpen()) {\n        fontSizeContextMenu.open();\n      } else {\n        fontSizeContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.fontBold, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        cells,\n        cellsHelper,\n        tableDataSnapshot,\n      } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const bold = !firstCell.fontAttr.bold;\n        tableDataSnapshot.begin();\n        const { cellDataProxy } = tableDataSnapshot;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, origin) => {\n            const cell = origin.clone();\n            cell.fontAttr.bold = bold;\n            cellDataProxy.setCell(r, c, cell);\n          },\n        });\n        tableDataSnapshot.end();\n        table.render();\n      }\n    });\n    EventBind.bind(this.fontItalic, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        cells,\n        cellsHelper,\n        tableDataSnapshot,\n      } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const italic = !firstCell.fontAttr.italic;\n        tableDataSnapshot.begin();\n        const { cellDataProxy } = tableDataSnapshot;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, origin) => {\n            const cell = origin.clone();\n            cell.fontAttr.italic = italic;\n            cellDataProxy.setCell(r, c, cell);\n          },\n        });\n        tableDataSnapshot.end();\n        table.render();\n      }\n    });\n    EventBind.bind(this.underLine, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        cells,\n        cellsHelper,\n        tableDataSnapshot,\n      } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const underline = !firstCell.fontAttr.underline;\n        tableDataSnapshot.begin();\n        const { cellDataProxy } = tableDataSnapshot;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, origin) => {\n            const cell = origin.clone();\n            cell.fontAttr.underline = underline;\n            cellDataProxy.setCell(r, c, cell);\n          },\n        });\n        tableDataSnapshot.end();\n        table.render();\n      }\n    });\n    EventBind.bind(this.fontStrike, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        cells,\n        cellsHelper,\n        tableDataSnapshot,\n      } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const strikethrough = !firstCell.fontAttr.strikethrough;\n        tableDataSnapshot.begin();\n        const { cellDataProxy } = tableDataSnapshot;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, origin) => {\n            const cell = origin.clone();\n            cell.fontAttr.strikethrough = strikethrough;\n            cellDataProxy.setCell(r, c, cell);\n          },\n        });\n        tableDataSnapshot.end();\n        table.render();\n      }\n    });\n    EventBind.bind(this.fontColor, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { fontColor } = this;\n      const { fontColorContextMenu } = fontColor;\n      const { elPopUp } = fontColorContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fontColorContextMenu.isOpen()) {\n        fontColorContextMenu.open();\n      } else {\n        fontColorContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.fillColor, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { fillColor } = this;\n      const { fillColorContextMenu } = fillColor;\n      const { elPopUp } = fillColorContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fillColorContextMenu.isOpen()) {\n        fillColorContextMenu.open();\n      } else {\n        fillColorContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.border, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { border } = this;\n      const { borderTypeContextMenu } = border;\n      const { elPopUp } = borderTypeContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (borderTypeContextMenu.isOpen()) {\n        borderTypeContextMenu.open();\n      } else {\n        borderTypeContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.merge, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        merges,\n        tableDataSnapshot,\n      } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const merge = selectorAttr.rect.clone();\n        const find = merges.getFirstIncludes(merge.sri, merge.sci);\n        tableDataSnapshot.begin();\n        const { mergeDataProxy } = tableDataSnapshot;\n        if (find !== null) {\n          mergeDataProxy.deleteMerge(find);\n        } else if (merge.multiple()) {\n          mergeDataProxy.addMerge(merge);\n        }\n        tableDataSnapshot.end();\n        table.render();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.horizontalAlign, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { horizontalAlign } = this;\n      const { horizontalContextMenu } = horizontalAlign;\n      const { elPopUp } = horizontalContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (horizontalContextMenu.isOpen()) {\n        horizontalContextMenu.open();\n      } else {\n        horizontalContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.verticalAlign, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { verticalAlign } = this;\n      const { verticalContextMenu } = verticalAlign;\n      const { elPopUp } = verticalContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (verticalContextMenu.isOpen()) {\n        verticalContextMenu.open();\n      } else {\n        verticalContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.textWrapping, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { textWrapping } = this;\n      const { textWrappingContextMenu } = textWrapping;\n      const { elPopUp } = textWrappingContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (textWrappingContextMenu.isOpen()) {\n        textWrappingContextMenu.open();\n      } else {\n        textWrappingContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n\n  setUndoStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { tableDataSnapshot } = table;\n    this.undo.active(tableDataSnapshot.canBack());\n  }\n\n  setRedoStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { tableDataSnapshot } = table;\n    this.redo.active(tableDataSnapshot.canGo());\n  }\n\n  setPaintFormatStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    this.paintFormat.active(this.paintFormat.includeSheet(sheet));\n  }\n\n  setFormatStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let text = '常规';\n    let format = 'default';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      format = firstCell.format;\n      switch (format) {\n        case 'default':\n          text = '常规';\n          break;\n        case 'text':\n          text = '文本';\n          break;\n        case 'number':\n          text = '数字';\n          break;\n        case 'percentage':\n          text = '百分比';\n          break;\n        case 'fraction':\n          text = '分数';\n          break;\n        case 'ENotation':\n          text = '科学计数';\n          break;\n        case 'rmb':\n          text = '人民币';\n          break;\n        case 'hk':\n          text = '港币';\n          break;\n        case 'dollar':\n          text = '美元';\n          break;\n        case 'date1':\n        case 'date2':\n        case 'date3':\n        case 'date4':\n        case 'date5':\n          text = '日期';\n          break;\n        case 'time':\n          text = '时间';\n          break;\n        default: break;\n      }\n    }\n    this.format.setTitle(text);\n    this.format.formatContextMenu.setActiveByType(format);\n  }\n\n  setFontStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let name = 'Arial';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      name = firstCell.fontAttr.name;\n    }\n    this.font.setTitle(name);\n    this.font.fontContextMenu.setActiveByType(name);\n  }\n\n  setFontSizeStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let size = '12';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      size = firstCell.fontAttr.size;\n    }\n    this.fontSize.setTitle(size);\n  }\n\n  setFontBoldStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let bold = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      bold = firstCell.fontAttr.bold;\n    }\n    this.fontBold.active(bold);\n  }\n\n  setFontItalicStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let italic = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      italic = firstCell.fontAttr.italic;\n    }\n    this.fontItalic.active(italic);\n  }\n\n  setUnderLineStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let underline = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      underline = firstCell.fontAttr.underline;\n    }\n    this.underLine.active(underline);\n  }\n\n  setFontStrikeStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let strikethrough = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      strikethrough = firstCell.fontAttr.strikethrough;\n    }\n    this.fontStrike.active(strikethrough);\n  }\n\n  setFontColorStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let color = 'rgb(0, 0, 0)';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      color = firstCell.fontAttr.color;\n    }\n    this.fontColor.setColor(color);\n    this.fontColor.fontColorContextMenu.setActiveByColor(color);\n  }\n\n  setFillColorStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let color = 'rgb(255, 255, 255)';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      if (firstCell.background) {\n        color = firstCell.background;\n      }\n    }\n    this.fillColor.setColor(color);\n    this.fillColor.fillColorContextMenu.setActiveByColor(color);\n  }\n\n  setHorizontalAlignStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let icon = new Icon('align-left');\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      switch (firstCell.fontAttr.align) {\n        case ALIGN.left:\n          icon = new Icon('align-left');\n          break;\n        case ALIGN.center:\n          icon = new Icon('align-center');\n          break;\n        case ALIGN.right:\n          icon = new Icon('align-right');\n          break;\n        default: break;\n      }\n    }\n    this.horizontalAlign.setIcon(icon);\n  }\n\n  setVerticalAlignStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let icon = new Icon('align-middle');\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      switch (firstCell.fontAttr.verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          icon = new Icon('align-top');\n          break;\n        case VERTICAL_ALIGN.center:\n          icon = new Icon('align-middle');\n          break;\n        case VERTICAL_ALIGN.bottom:\n          icon = new Icon('align-bottom');\n          break;\n        default: break;\n      }\n    }\n    this.verticalAlign.setIcon(icon);\n  }\n\n  setTextWrappingStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let icon = new Icon('text-wrap');\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      switch (firstCell.fontAttr.textWrap) {\n        case TEXT_WRAP.TRUNCATE:\n          icon = new Icon('truncate');\n          break;\n        case TEXT_WRAP.WORD_WRAP:\n          icon = new Icon('text-wrap');\n          break;\n        case TEXT_WRAP.OVER_FLOW:\n        default:\n          icon = new Icon('overflow');\n          break;\n      }\n    }\n    this.textWrapping.setIcon(icon);\n  }\n\n  setStatus() {\n    this.setUndoStatus();\n    this.setRedoStatus();\n    this.setPaintFormatStatus();\n    this.setFormatStatus();\n    this.setFontStatus();\n    this.setFontSizeStatus();\n    this.setFontBoldStatus();\n    this.setFontItalicStatus();\n    this.setUnderLineStatus();\n    this.setFontStrikeStatus();\n    this.setFontColorStatus();\n    this.setFillColorStatus();\n    this.setHorizontalAlignStatus();\n    this.setVerticalAlignStatus();\n    this.setTextWrappingStatus();\n  }\n}\n\nexport { TopMenu };\n","import { Widget } from '../../../../lib/Widget';\nimport { cssPrefix } from '../../../../config';\n\nclass Item extends Widget {\n  constructor(className) {\n    super(`${cssPrefix}-option-item ${className}`);\n    this.title = '';\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.text(this.title);\n  }\n}\n\nexport { Item };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\n\nclass File extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-file`);\n    this.setTitle('文件');\n  }\n}\n\nexport { File };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\n\nclass ForMart extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-format`);\n    this.setTitle('格式');\n  }\n}\n\nexport { ForMart };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\n\nclass Insert extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-insert`);\n    this.setTitle('插入');\n  }\n}\n\nexport { Insert };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\n\nclass Look extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-look`);\n    this.setTitle('查看');\n  }\n}\n\nexport { Look };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\n\nclass Update extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-update`);\n    this.setTitle('修改');\n  }\n}\n\nexport { Update };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { File } from './options/File';\nimport { ForMart } from './options/ForMart';\nimport { Insert } from './options/Insert';\nimport { Look } from './options/Look';\nimport { Update } from './options/Update';\n\nclass TopOption extends Widget {\n  constructor() {\n    super(`${cssPrefix}-option`);\n    this.title = ' X-Sheet 工作簿';\n    this.logoEle = h('div', `${cssPrefix}-option-logo`);\n    this.titleEle = h('div', `${cssPrefix}-option-title`);\n    this.optionsEle = h('div', `${cssPrefix}-option-box`);\n    this.leftEle = h('div', `${cssPrefix}-option-left`);\n    this.rightEle = h('div', `${cssPrefix}-option-right`);\n    this.leftEle.children(this.logoEle);\n    this.rightEle.children(this.titleEle, this.optionsEle);\n    this.children(this.leftEle);\n    this.children(this.rightEle);\n    this.setTitle(this.title);\n    this.file = new File();\n    this.format = new ForMart();\n    this.insert = new Insert();\n    this.look = new Look();\n    this.update = new Update();\n    this.optionsEle.children(this.file);\n    this.optionsEle.children(this.format);\n    this.optionsEle.children(this.insert);\n    this.optionsEle.children(this.look);\n    this.optionsEle.children(this.update);\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.titleEle.text(title);\n  }\n}\n\nexport { TopOption };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { TopMenu } from './TopMenu';\nimport { TopOption } from './TopOption';\n\nclass WorkTop extends Widget {\n  constructor(work) {\n    super(`${cssPrefix}-work-top`);\n    this.work = work;\n    this.toolsMenu = new TopMenu(this);\n    this.option = new TopOption(this);\n    this.children(this.option);\n    this.children(this.toolsMenu);\n  }\n}\n\nexport { WorkTop };\n","import { Element } from '../../Element';\nimport { cssPrefix } from '../../../config';\nimport { Utils } from '../../../utils/Utils';\n\nclass VerticalCenterElement extends Element {\n  constructor(element, options) {\n    super('div', `${cssPrefix}-vertical-center-element`);\n    this.options = Utils.mergeDeep({\n      style: {},\n    }, options);\n    this.element = element;\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    this.children(this.element);\n  }\n}\n\nexport { VerticalCenterElement };\n","import { Element } from '../../Element';\nimport { cssPrefix } from '../../../config';\nimport { Utils } from '../../../utils/Utils';\n\nclass VerticalCenter extends Element {\n  constructor(options) {\n    super('div', `${cssPrefix}-vertical-center`);\n    this.options = Utils.mergeDeep({\n      centerElements: [],\n      style: {},\n    }, options);\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    // eslint-disable-next-line no-restricted-syntax\n    for (const centerElement of this.options.centerElements) this.children(centerElement);\n  }\n}\n\nexport { VerticalCenter };\n","class DateUtils {\n  static dateFormat(fmt, date) {\n    const o = {\n      'M+': date.getMonth() + 1,\n      'd+': date.getDate(),\n      'h+': date.getHours(),\n      'm+': date.getMinutes(),\n      's+': date.getSeconds(),\n      'q+': Math.floor((date.getMonth() + 3) / 3),\n      S: date.getMilliseconds(),\n    };\n    const reYear = /(y+)/;\n    const resultYear = reYear.exec(fmt);\n    if (resultYear) {\n      const yearFormatPart = resultYear[0];\n      const yearVal = (date.getFullYear().toString()).substr(4 - yearFormatPart.length);\n      // eslint-disable-next-line no-param-reassign\n      fmt = fmt.replace(yearFormatPart, yearVal);\n    }\n    // eslint-disable-next-line guard-for-in,no-restricted-syntax\n    for (const k in o) {\n      const re = new RegExp(`(${k})`);\n      const res = re.exec(fmt);\n      if (res) {\n        const Val = o[k].toString();\n        const formatPart = res[0];\n        const replaceVal = (formatPart.length === 1) ? (Val) : ((`00${Val}`).substr(Val.length));\n        // eslint-disable-next-line no-param-reassign\n        fmt = fmt.replace(formatPart, replaceVal);\n      }\n    }\n    return fmt;\n  }\n\n  static parserToDate(dateText, format) {\n    if (!dateText) {\n      return null;\n    }\n    const defaultVal = new Date('1970/01/01 00:00:00');\n    const o = [{\n      reg: 'y+',\n    }, {\n      reg: 'M+',\n    }, {\n      reg: 'd+',\n    }, {\n      reg: 'h+',\n    }, {\n      reg: 'm+',\n    }, {\n      reg: 's+',\n    }, {\n      reg: 'S',\n    }];\n    let year = defaultVal.getFullYear();\n    let month = defaultVal.getMonth() + 1;\n    let day = defaultVal.getDate();\n    let hours = defaultVal.getHours();\n    let minutes = defaultVal.getMinutes();\n    let seconds = defaultVal.getSeconds();\n    let milliseconds = defaultVal.getMilliseconds();\n    let index = 1;\n    for (let j = 0; j < format.length; j += 1) {\n      const oneChar = format[j];\n      for (let i = 0; i < o.length; i += 1) {\n        const onePart = o[i];\n        const onePartReg = onePart.reg;\n        if (onePartReg[0] === oneChar) {\n          if (!onePart.index) {\n            onePart.index = index;\n            index += 1;\n          }\n          break;\n        }\n      }\n    }\n    for (let i = 0; i < o.length; i += 1) {\n      const onePart = o[i];\n      const onePartReg = onePart.reg;\n      const re = new RegExp(`(${onePartReg})`);\n      const res = re.exec(format);\n      if (res) {\n        const formatPart = res[0];\n        const replaceVal = `([0-9]{1,${formatPart.length}})`;\n        // eslint-disable-next-line no-param-reassign\n        format = format.replace(formatPart, replaceVal);\n      }\n    }\n    const dataInfo = {};\n    const re = new RegExp(format);\n    const res = re.exec(dateText);\n    if (res) {\n      for (let i = 1; i < res.length; i += 1) {\n        dataInfo[i] = res[i];\n      }\n    } else {\n      return null;\n    }\n    if (o[0].index) {\n      const { index } = o[0];\n      year = dataInfo[index];\n    }\n    if (o[1].index) {\n      const { index } = o[1];\n      month = dataInfo[index];\n    }\n    if (o[2].index) {\n      const { index } = o[2];\n      day = dataInfo[index];\n    }\n    if (o[3].index) {\n      const { index } = o[3];\n      hours = dataInfo[index];\n    }\n    if (o[4].index) {\n      const { index } = o[4];\n      minutes = dataInfo[index];\n    }\n    if (o[5].index) {\n      const { index } = o[5];\n      seconds = dataInfo[index];\n    }\n    if (o[6].index) {\n      const { index } = o[6];\n      milliseconds = dataInfo[index];\n    }\n    return new Date(year, month - 1, day, hours, minutes, seconds, milliseconds);\n  }\n}\n\nexport { DateUtils };\n","import { Utils } from '../../utils/Utils';\nimport { DateUtils } from '../../utils/DateUtils';\n\nfunction parserToDate(text) {\n  let result = DateUtils.parserToDate(text, 'yyyy/MM/dd hh:mm:ss');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'yyyy/MM/dd');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'hh:mm:ss');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'MM月dd日');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'yyyy年MM月');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'yyyy年MM月dd日');\n  if (result) return result;\n  return null;\n}\n\nclass Format {\n\n  default(value) {\n    return value;\n  }\n\n  text(value) {\n    return value;\n  }\n\n  number(value) {\n    if (Utils.isNumber(value)) {\n      if (value.toString().indexOf('.') !== -1) {\n        const lastIndex = value.toString().lastIndexOf('.') + 1;\n        return value.toString().substring(0, lastIndex + 2);\n      }\n      return `${value}.00`;\n    }\n    return value;\n  }\n\n  percentage(value) {\n    if (Utils.isNumber(value)) {\n      return `${value}%`;\n    }\n    return value;\n  }\n\n  fraction(value) {\n    if (Utils.isFraction(value)) {\n      const left = value.split('/')[0];\n      const right = value.split('/')[1];\n      return Utils.parseInt(left) / Utils.parseInt(right);\n    }\n    return value;\n  }\n\n  ENotation(value) {\n    if (Utils.isNumber(value)) {\n      const number = Utils.parseFloat(value);\n      return number.toExponential(2);\n    }\n    return value;\n  }\n\n  rmb(value) {\n    if (Utils.isNumber(value)) {\n      return `￥${value}`;\n    }\n    return value;\n  }\n\n  hk(value) {\n    if (Utils.isNumber(value)) {\n      return `HK${value}`;\n    }\n    return value;\n  }\n\n  dollar(value) {\n    if (Utils.isNumber(value)) {\n      return `$${value}`;\n    }\n    return value;\n  }\n\n  date1(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy/MM/dd', result);\n    return value;\n  }\n\n  date2(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('MM月dd日', result);\n    return value;\n  }\n\n  date3(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy年MM月', result);\n    return value;\n  }\n\n  date4(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy年MM月dd日', result);\n    return value;\n  }\n\n  date5(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy/MM/dd hh:mm:ss', result);\n    return value;\n  }\n\n  time(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('hh:mm:ss', result);\n    return value;\n  }\n}\n\nconst format = new Format();\n\nexport default (type, value) => format[type](value);\n","import { Utils } from '../../utils/Utils';\n\nclass Rows {\n\n  constructor({ data = [], len = 10, height }) {\n    this._ = [];\n    this.minHeight = 5;\n    this.height = Utils.minIf(height, this.minHeight);\n    this.len = len;\n    this.cacheTotalHeight = -1;\n    this.setData(data);\n  }\n\n  get(ri) {\n    return this._[ri];\n  }\n\n  getOrNew(ri) {\n    this._[ri] = this._[ri] || {};\n    return this._[ri];\n  }\n\n  getHeight(ri) {\n    const row = this.get(ri);\n    if (row && row.height) {\n      return row.height;\n    }\n    return this.height;\n  }\n\n  setHeight(ri, height) {\n    const row = this.getOrNew(ri);\n    row.height = Utils.minIf(height, this.minHeight);\n    this.cacheTotalHeight = -1;\n  }\n\n  eachHeight(ri, ei, cb, sy = 0) {\n    let y = sy;\n    for (let i = ri; i <= ei; i += 1) {\n      const rowHeight = this.getHeight(i);\n      cb(i, rowHeight, y);\n      y += rowHeight;\n    }\n  }\n\n  sectionSumHeight(sri, eri) {\n    return Utils.rangeSum(sri, eri + 1, i => this.getHeight(i));\n  }\n\n  rectRangeSumHeight(rectRange) {\n    return this.sectionSumHeight(rectRange.sri, rectRange.eri);\n  }\n\n  totalHeight() {\n    if (this.cacheTotalHeight === -1) {\n      this.cacheTotalHeight = Utils.rangeSum(0, this.len, i => this.getHeight(i));\n    }\n    return this.cacheTotalHeight;\n  }\n\n  getData() {\n    return this._;\n  }\n\n  setData(data) {\n    this._ = data;\n  }\n}\n\nexport { Rows };\n","import { Utils } from '../../utils/Utils';\n\nclass Cols {\n\n  constructor({ data = [], len = 10, width }) {\n    this._ = [];\n    this.minWidth = 5;\n    this.width = Utils.minIf(width, this.minWidth);\n    this.len = len;\n    this.cacheTotalWidth = -1;\n    this.setData(data);\n  }\n\n  get(ci) {\n    return this._[ci];\n  }\n\n  getOrNew(ci) {\n    this._[ci] = this._[ci] || {};\n    return this._[ci];\n  }\n\n  getWidth(i) {\n    const col = this._[i];\n    if (col && col.width) {\n      return col.width;\n    }\n    return this.width;\n  }\n\n  setWidth(i, width) {\n    const col = this.getOrNew(i);\n    col.width = Utils.minIf(width, this.minWidth);\n    this.cacheTotalWidth = -1;\n  }\n\n  eachWidth(ci, ei, cb, sx = 0) {\n    let x = sx;\n    for (let i = ci; i <= ei; i += 1) {\n      const colWidth = this.getWidth(i);\n      cb(i, colWidth, x);\n      x += colWidth;\n    }\n  }\n\n  sectionSumWidth(sci, eci) {\n    return Utils.rangeSum(sci, eci + 1, i => this.getWidth(i));\n  }\n\n  rectRangeSumWidth(rectRange) {\n    return this.sectionSumWidth(rectRange.sci, rectRange.eci);\n  }\n\n  totalWidth() {\n    if (this.cacheTotalWidth === -1) {\n      this.cacheTotalWidth = Utils.rangeSum(0, this.len, i => this.getWidth(i));\n    }\n    return this.cacheTotalWidth;\n  }\n\n  getData() {\n    return this._;\n  }\n\n  setData(data) {\n    this._ = data;\n  }\n}\n\nexport { Cols };\n","class Scroll {\n\n  constructor(table) {\n    this.table = table;\n    this.x = 0; // left\n    this.y = 0; // top\n    this.ri = table.fixed.fxTop + 1; // cell row-index\n    this.ci = table.fixed.fxLeft + 1; // cell col-index\n  }\n}\n\nexport { Scroll };\n","class Fixed {\n\n  constructor(fixed = { fxTop: -1, fxLeft: -1 }) {\n    this.fxTop = fixed.fxTop;\n    this.fxLeft = fixed.fxLeft;\n  }\n}\n\nexport { Fixed };\n","import { RectRange } from './RectRange';\n\nclass Merges {\n\n  /**\n   *  Merges\n   * @param {RectRange[]} data 区域数组\n   */\n  constructor({ data = [] }) {\n    this._ = [];\n    this.setData(data);\n  }\n\n  /**\n   * 遍历所有区域\n   * @param {Function} cb 回调函数\n   */\n  forEach(cb) {\n    this._.forEach(cb);\n  }\n\n  /**\n   * 删除区域数组中被指定区域包含的区域\n   * @param {RectRange} cr 区域\n   */\n  deleteWithin(cr) {\n    this._ = this._.filter(it => !it.within(cr));\n  }\n\n  /**\n   * 返回区域数组中第一个包含指定行和列的区域\n   * @param {int} ri 行索引\n   * @param {int} ci  列索引\n   * @returns {*}\n   */\n  getFirstIncludes(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.includes(ri, ci)) {\n        return it;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * 返回新的合并实例,同时剔除原来的合并实例区域数组中不和指定区域发生重合的区域\n   * @param {RectRange} cellRange 区域\n   * @returns {Merges}\n   */\n  filterIntersects(cellRange) {\n    return new Merges(this._.filter(it => it.intersects(cellRange)));\n  }\n\n  /**\n   * 判断区域数组中是否存在和指定区域发生重合的区域\n   * @param {RectRange} cellRange 区域\n   * @returns {boolean}\n   */\n  intersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        // console.log('intersects');\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * 删除重合的区域\n   * @param cellRange\n   */\n  deleteIntersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        this._.splice(i, 1);\n      }\n    }\n  }\n\n  /**\n   * 返回区域数组中和指定区域发生重合的新区域\n   * @param {RectRange} cellRange 区域\n   * @returns {*}\n   */\n  union(cellRange) {\n    let cr = cellRange;\n    const filter = [];\n    for (let i = 0; i < this._.length; i += 1) {\n      const item = this._[i];\n      if (filter.find(e => e === item)) {\n        continue;\n      }\n      if (item.intersects(cr)) {\n        filter.push(item);\n        cr = item.union(cr);\n        i = -1;\n      }\n    }\n    return cr;\n  }\n\n  /**\n   * 添加一个新的区域, 并且删除区域数组中被新区域包含的区域\n   * @param {RectRange} cr 区域\n   */\n  add(cr) {\n    if (cr) {\n      this.deleteWithin(cr);\n      this._.push(cr);\n    }\n  }\n\n  /**\n   * 区域数组中和指定区域发生重合的区域移动指定的行和列\n   * @param {RectRange} cellRange 区域\n   * @param {int} rn 增加的行索引\n   * @param {int} cn 增加的列索引\n   */\n  move(cellRange, rn, cn) {\n    this._.forEach((it1) => {\n      const it = it1;\n      if (it.within(cellRange)) {\n        it.eri += rn;\n        it.sri += rn;\n        it.sci += cn;\n        it.eci += cn;\n      }\n    });\n  }\n\n  // type: row | column\n  shift(type, index, n, cbWithin) {\n    this._.forEach((cellRange) => {\n      const {\n        sri, sci, eri, eci,\n      } = cellRange;\n      const range = cellRange;\n      if (type === 'row') {\n        if (sri >= index) {\n          range.sri += n;\n          range.eri += n;\n        } else if (sri < index && index <= eri) {\n          range.eri += n;\n          cbWithin(sri, sci, n, 0);\n        }\n      } else if (type === 'column') {\n        if (sci >= index) {\n          range.sci += n;\n          range.eci += n;\n        } else if (sci < index && index <= eci) {\n          range.eci += n;\n          cbWithin(sri, sci, 0, n);\n        }\n      }\n    });\n  }\n\n  setData(merges = []) {\n    this._ = merges.map(merge => RectRange.valueOf(merge));\n    return this;\n  }\n\n  getData() {\n    return this._.map(merge => merge.toString());\n  }\n}\n\nexport { Merges };\n\nexport default Merges;\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\n\nclass ScreenElement extends Widget {\n  constructor(className) {\n    super(`${cssPrefix}-screen-element ${className}`);\n    this.widgets = [];\n  }\n\n  addWidget(widget) {\n    this.widgets.push(widget);\n    this.children(widget);\n  }\n}\n\nexport { ScreenElement };\n","/* global window */\n\nimport { ScreenElement } from './ScreenElement';\nimport { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { Constant } from '../../../utils/Constant';\nimport { EventBind } from '../../../utils/EventBind';\n\nclass Screen extends Widget {\n  constructor(table) {\n    super(`${cssPrefix}-screen`);\n    this.table = table;\n    this.lt = new ScreenElement(`${cssPrefix}-screen-element-lt`);\n    this.t = new ScreenElement(`${cssPrefix}-screen-element-t`);\n    this.l = new ScreenElement(`${cssPrefix}-screen-element-l`);\n    this.br = new ScreenElement(`${cssPrefix}-screen-element-br`);\n    this.focusWidget = null;\n    this.children(this.lt, this.t, this.l, this.br);\n    this.widgets = [];\n  }\n\n  init() {\n    this.setDivideLayer();\n    this.bind();\n  }\n\n  bind() {\n    const { table } = this;\n    EventBind.bind(window, Constant.SYSTEM_EVENT_TYPE.RESIZE, () => {\n      this.setDivideLayer();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      this.setDivideLayer();\n      e.stopPropagation();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      this.setDivideLayer();\n      e.stopPropagation();\n    });\n  }\n\n  addWidget(widget) {\n    this.widgets.push(widget);\n    this.lt.addWidget(widget.getLT(this));\n    this.t.addWidget(widget.getT(this));\n    this.l.addWidget(widget.getL(this));\n    this.br.addWidget(widget.getBR(this));\n  }\n\n  setDivideLayer() {\n    const { table } = this;\n    const { settings, grid } = table;\n    const { index } = settings;\n    const fixedWidth = table.getFixedWidth();\n    const fixedHeight = table.getFixedHeight();\n    const brLeft = index.width + fixedWidth;\n    const brTop = index.height + fixedHeight;\n    this.br.offset({ left: brLeft, top: brTop });\n    if (fixedWidth > 0 && fixedHeight > 0) {\n      this.lt.offset({\n        left: index.width, top: index.height, width: fixedWidth, height: fixedHeight,\n      }).show();\n      this.lt.css('border-width', `${grid.lineWidth()}px`);\n    } else {\n      this.lt.hide();\n    }\n    if (fixedWidth > 0) {\n      this.l.offset({ left: index.width, top: brTop, width: fixedWidth }).show();\n      this.l.css('border-width', `${grid.lineWidth()}px`);\n    } else {\n      this.l.hide();\n    }\n    if (fixedHeight > 0) {\n      this.t.offset({ left: brLeft, top: index.height, height: fixedHeight }).show();\n      this.t.css('border-width', `${grid.lineWidth()}px`);\n    } else {\n      this.t.hide();\n    }\n  }\n\n  findByClass(clazz) {\n    let find = null;\n    this.widgets.forEach((item) => {\n      if (item instanceof clazz) {\n        find = item;\n        return false;\n      }\n      return true;\n    });\n    return find;\n  }\n}\n\nexport { Screen };\n","/* global document */\n\nimport { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { Utils } from '../../../utils/Utils';\nimport { floor } from '../../../canvas/Draw';\n\nclass XReSizer extends Widget {\n  constructor(table, options = { width: 5 }) {\n    super(`${cssPrefix}-re-sizer-horizontal`);\n    this.table = table;\n    this.options = options;\n    this.width = options.width;\n    this.hoverEl = h('div', `${cssPrefix}-re-sizer-hover`);\n    this.lineEl = h('div', `${cssPrefix}-re-sizer-line`);\n    this.children(...[\n      this.hoverEl,\n      this.lineEl,\n    ]);\n    this.bind();\n  }\n\n  getEventLeft(event) {\n    const { table } = this;\n    const {\n      settings, cols, fixed, scroll,\n    } = table;\n    const { index } = settings;\n    const { x, y } = table.computeEventXy(event);\n    const { ri, ci } = table.getRiCiByXy(x, y);\n    if (ri !== -1) {\n      return {\n        left: -1,\n        x,\n        y,\n        ri,\n        ci,\n      };\n    }\n    let left = index.width + cols.sectionSumWidth(0, ci);\n    if (ci > fixed.fxLeft) {\n      left -= scroll.x;\n    }\n    return {\n      left,\n      x,\n      y,\n      ri,\n      ci,\n    };\n  }\n\n  bind() {\n    const { table } = this;\n    const { settings, cols, mousePointType } = table;\n    const { index } = settings;\n    let moveOff = false;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      mousePointType.set('col-resize', 'XReSizer');\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      moveOff = true;\n      mousePointType.on(['XReSizer']);\n      mousePointType.set('col-resize', 'XReSizer');\n      const { left, ci } = this.getEventLeft(e);\n      const min = left - cols.getWidth(ci) + cols.minWidth;\n      let { x: mx } = table.computeEventXy(e);\n      // console.log('left >>>', left + index.width);\n      // console.log('min >>>', min);\n      EventBind.mouseMoveUp(document, (e) => {\n        ({ x: mx } = table.computeEventXy(e));\n        // console.log('mx >>>', mx);\n        mx -= this.width / 2;\n        mx = floor(Utils.minIf(mx, min));\n        this.css('left', `${mx}px`);\n        this.lineEl.css('height', `${table.visualHeight()}px`);\n        this.lineEl.show();\n        e.stopPropagation();\n        e.preventDefault();\n      }, (e) => {\n        moveOff = false;\n        mousePointType.off();\n        this.lineEl.hide();\n        this.css('left', `${mx}px`);\n        const { y } = table.computeEventXy(e);\n        if (y <= 0) {\n          this.hide();\n        }\n        const newLeft = mx - (left - cols.getWidth(ci)) + this.width;\n        table.setWidth(ci, newLeft);\n      });\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      if (moveOff) return;\n      // eslint-disable-next-line prefer-const\n      let { left, ci } = this.getEventLeft(e);\n      const min = left - cols.getWidth(ci) + cols.minWidth;\n      const visualWidth = table.visualWidth();\n      // console.log('left >>>', left);\n      // console.log('visualWidth', visualWidth);\n      if (left > visualWidth) {\n        left = visualWidth;\n      }\n      if (left === -1 || min > visualWidth || ci === -1) {\n        this.hide();\n      } else {\n        this.show();\n        this.css('left', `${left - this.width}px`);\n        this.hoverEl.css('width', `${this.width}px`);\n        this.hoverEl.css('height', `${index.height}px`);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_LEAVE, () => {\n      if (moveOff) return;\n      this.hide();\n    });\n  }\n}\n\nexport { XReSizer };\n","/* global document */\n\nimport { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { Utils } from '../../../utils/Utils';\nimport { floor } from '../../../canvas/Draw';\n\nclass YReSizer extends Widget {\n  constructor(table, options = { height: 5 }) {\n    super(`${cssPrefix}-re-sizer-vertical`);\n    this.table = table;\n    this.options = options;\n    this.height = options.height;\n    this.hoverEl = h('div', `${cssPrefix}-re-sizer-hover`);\n    this.lineEl = h('div', `${cssPrefix}-re-sizer-line`);\n    this.children(...[\n      this.hoverEl,\n      this.lineEl,\n    ]);\n    this.bind();\n  }\n\n  getEventTop(event) {\n    const { table } = this;\n    const {\n      settings, rows, fixed, scroll,\n    } = table;\n    const { index } = settings;\n    const { x, y } = table.computeEventXy(event);\n    const { ri, ci } = table.getRiCiByXy(x, y);\n    if (ci !== -1) {\n      return {\n        top: -1,\n        x,\n        y,\n        ri,\n        ci,\n      };\n    }\n    let top = index.height + rows.sectionSumHeight(0, ri);\n    if (ri > fixed.fxTop) {\n      top -= scroll.y;\n    }\n    return {\n      top,\n      x,\n      y,\n      ri,\n      ci,\n    };\n  }\n\n  bind() {\n    const { table } = this;\n    const { settings, rows, mousePointType } = table;\n    const { index } = settings;\n    let moveOff = false;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      mousePointType.set('row-resize', 'YReSizer');\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      moveOff = true;\n      mousePointType.on(['YReSizer']);\n      mousePointType.set('row-resize', 'YReSizer');\n      const { top, ri } = this.getEventTop(e);\n      const min = top - rows.getHeight(ri) + rows.minHeight;\n      let { y: my } = table.computeEventXy(e);\n      EventBind.mouseMoveUp(document, (e) => {\n        ({ y: my } = table.computeEventXy(e));\n        // console.log('my >>>', my);\n        my -= this.height / 2;\n        my = floor(Utils.minIf(my, min));\n        this.css('top', `${my}px`);\n        this.lineEl.css('width', `${table.visualWidth()}px`);\n        this.lineEl.show();\n        e.stopPropagation();\n        e.preventDefault();\n      }, (e) => {\n        moveOff = false;\n        mousePointType.off();\n        this.lineEl.hide();\n        this.css('top', `${my}px`);\n        const { x } = table.computeEventXy(e);\n        if (x <= 0) {\n          this.hide();\n        }\n        const newTop = my - (top - rows.getHeight(ri)) + this.height;\n        table.setHeight(ri, newTop);\n      });\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      if (moveOff) return;\n      // eslint-disable-next-line prefer-const\n      let { top, ri } = this.getEventTop(e);\n      const min = top - rows.getHeight(ri) + rows.minHeight;\n      const visualHeight = table.visualHeight();\n      // console.log('top >>>', top);\n      // console.log('visualHeight >>>', visualHeight);\n      // console.log('min >>>', min);\n      if (top > visualHeight) {\n        top = visualHeight;\n      }\n      if (top === -1 || min > visualHeight || ri === -1) {\n        this.hide();\n      } else {\n        this.show();\n        this.css('top', `${top - this.height}px`);\n        this.hoverEl.css('width', `${index.width}px`);\n        this.hoverEl.css('height', `${this.height}px`);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_LEAVE, () => {\n      if (moveOff) return;\n      this.hide();\n    });\n  }\n}\n\nexport { YReSizer };\n","import cell from '../../../assets/svg/cell.png';\nimport sResize from '../../../assets/svg/s-resize.png';\nimport eResize from '../../../assets/svg/e-resize.png';\n\nclass MousePointType {\n\n  constructor(table) {\n    this.table = table;\n    this.switch = false;\n    this.ignoreNames = [];\n  }\n\n  on(ignoredNames) {\n    this.switch = true;\n    this.ignoreNames = this.ignoreNames.concat(ignoredNames);\n  }\n\n  set(type, name) {\n    if (this.switch && this.ignoreNames.indexOf(name) === -1) return;\n    const { table } = this;\n    switch (type) {\n      case 'cell':\n        table.css('cursor', `url(${cell}) 7.5 7.5,auto`);\n        break;\n      case 's-resize':\n        table.css('cursor', `url(${sResize}) 2.5 7.5,auto`);\n        break;\n      case 'e-resize':\n        table.css('cursor', `url(${eResize}) 7.5 2.5,auto`);\n        break;\n      default:\n        table.css('cursor', type);\n        break;\n    }\n  }\n\n  off() {\n    this.switch = false;\n    this.ignoreNames = [];\n  }\n}\n\nexport { MousePointType };\n","import { cssPrefix } from '../../../config';\nimport { Widget } from '../../../lib/Widget';\nimport { h } from '../../../lib/Element';\n\nclass AutoFill extends Widget {\n  constructor() {\n    super(`${cssPrefix}-autofill`);\n    this.areaEl = h('div', `${cssPrefix}-autofill-area`);\n    this.children(this.areaEl);\n    this.hide();\n  }\n}\n\nexport { AutoFill };\n","/* global document */\n\nimport { ScreenWidget } from '../screen/ScreenWidget';\nimport { AutoFill } from './AutoFill';\nimport { ScreenSelector } from '../selector/ScreenSelector';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { RectRange } from '../RectRange';\nimport { Utils } from '../../../utils/Utils';\n\nclass ScreenAutoFill extends ScreenWidget {\n  constructor(screen, options = {}) {\n    super(screen);\n    this.options = Utils.mergeDeep({\n      mergeForceSplit: false,\n      onBeforeAutoFill: () => {},\n      onAfterAutoFill: () => {},\n    }, options);\n    this.lt = new AutoFill();\n    this.t = new AutoFill();\n    this.l = new AutoFill();\n    this.br = new AutoFill();\n    this.autoFillAttr = null;\n    this.screenSelector = screen.findByClass(ScreenSelector);\n    this.bind();\n  }\n\n  bind() {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { mousePointType } = table;\n    EventBind.bind([\n      screenSelector.lt.cornerEl,\n      screenSelector.t.cornerEl,\n      screenSelector.l.cornerEl,\n      screenSelector.br.cornerEl,\n    ], Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      mousePointType.on(['autoFill']);\n      mousePointType.set('crosshair', 'autoFill');\n      EventBind.mouseMoveUp(document, (e2) => {\n        const { x, y } = table.computeEventXy(e2);\n        const moveAutoFill = this.getMoveAutoFillAttr(x, y);\n        if (moveAutoFill) {\n          // console.log('moveAutoFill>>>', moveAutoFill);\n          this.setOffset(moveAutoFill);\n        } else {\n          this.lt.hide();\n          this.t.hide();\n          this.l.hide();\n          this.br.hide();\n        }\n        this.autoFillAttr = moveAutoFill;\n        e2.stopPropagation();\n        e2.preventDefault();\n      }, () => {\n        mousePointType.off();\n        this.lt.hide();\n        this.t.hide();\n        this.l.hide();\n        this.br.hide();\n        if (this.autoFillAttr) {\n          this.autoFillTo();\n          table.render();\n        }\n      });\n      e1.stopPropagation();\n      e1.preventDefault();\n    });\n    EventBind.bind([\n      screenSelector.lt.cornerEl,\n      screenSelector.t.cornerEl,\n      screenSelector.l.cornerEl,\n      screenSelector.br.cornerEl,\n    ], Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      mousePointType.set('crosshair', 'autoFill');\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n\n  setLTOffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { frozenLeftTop, cols, rows } = table;\n    const viewRange = frozenLeftTop.getScrollViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.lt.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.eci > viewRange.eci) {\n      this.lt.areaEl.css('border-right', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.lt.areaEl.css('border-bottom', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-bottom');\n    }\n    this.lt.offset({\n      width,\n      height,\n      left,\n      top,\n    }).show();\n  }\n\n  setTOffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedTop, cols, rows } = table;\n    const viewRange = fixedTop.getScrollViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.t.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.sci < viewRange.sci) {\n      this.t.areaEl.css('border-left', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.t.areaEl.css('border-bottom', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.t.areaEl.css('border-right', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-right');\n    }\n    this.t.offset({\n      width,\n      height,\n      left,\n      top,\n    }).show();\n  }\n\n  setLOffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedLeft, cols, rows } = table;\n    const viewRange = fixedLeft.getScrollViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.l.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.sri < viewRange.sri) {\n      this.l.areaEl.css('border-top', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.l.areaEl.css('border-right', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.l.areaEl.css('border-bottom', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-bottom');\n    }\n    this.l.offset({\n      width,\n      height,\n      left,\n      top,\n    }).show();\n  }\n\n  setBROffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      cols, rows,\n    } = table;\n    const viewRange = table.getScrollViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.br.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.sci < viewRange.sci) {\n      this.br.areaEl.css('border-left', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.sri < viewRange.sri) {\n      this.br.areaEl.css('border-top', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.br.areaEl.css('border-bottom', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.br.areaEl.css('border-right', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-right');\n    }\n    this.br.offset({\n      width,\n      height,\n      left,\n      top,\n    }).show();\n  }\n\n  setOffset(autoFillAttr) {\n    this.setLTOffset(autoFillAttr);\n    this.setTOffset(autoFillAttr);\n    this.setLOffset(autoFillAttr);\n    this.setBROffset(autoFillAttr);\n  }\n\n  getMoveAutoFillAttr(x, y) {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { selectorAttr } = screenSelector;\n    const { cols, rows, merges } = table;\n    const { rect: selectorRect, edge, edgeType } = selectorAttr;\n    const autoFillSelectorRect = edge || merges.intersects(selectorRect);\n    const [rSize, cSize] = selectorRect.size();\n    let { ri, ci } = table.getRiCiByXy(x, y);\n    // console.log('autoFillSelectorRect >>>', autoFillSelectorRect);\n    if (ri < 0) ri = 0; else if (ri > rows.len) ri = rows.len - 1;\n    if (ci < 0) ci = 0; else if (ci > cols.len) ci = cols.len - 1;\n    const { sri: selectorSri, sci: selectorSci } = selectorRect;\n    let { eri: selectorEri, eci: selectorEci } = selectorRect;\n    if (edgeType === 'left') selectorEci = cols.len - 1;\n    if (edgeType === 'top') selectorEri = rows.len - 1;\n    let rect = null;\n    let direction = 'un';\n    if (ri < selectorSri || ri > selectorEri) {\n      if (ri < selectorSri) {\n        direction = 'top';\n        if (autoFillSelectorRect) {\n          let minRi = selectorSri - rSize;\n          if (minRi >= 0) {\n            const diff = (selectorSri - 1) - ri;\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % rSize === 0 && minRi - rSize >= 0) minRi -= rSize;\n            }\n            rect = new RectRange(minRi, selectorSci, selectorSri - 1, selectorEci);\n          }\n        } else {\n          rect = new RectRange(ri, selectorSci, selectorSri - 1, selectorEci);\n        }\n      }\n      if (ri > selectorEri) {\n        direction = 'bottom';\n        if (autoFillSelectorRect) {\n          let maxRi = selectorEri + rSize;\n          if (maxRi <= rows.len - 1) {\n            const diff = ri - (selectorEri + 1);\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % rSize === 0 && maxRi + rSize <= rows.len - 1) maxRi += rSize;\n            }\n            rect = new RectRange(selectorEri + 1, selectorSci, maxRi, selectorEci);\n          }\n        } else {\n          rect = new RectRange(selectorEri + 1, selectorSci, ri, selectorEci);\n        }\n      }\n    } else if (ci < selectorSci || ci > selectorEci) {\n      if (ci < selectorSci) {\n        direction = 'left';\n        if (autoFillSelectorRect) {\n          let minCi = selectorSci - cSize;\n          if (minCi >= 0) {\n            const diff = (selectorSci - 1) - ci;\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % cSize === 0 && minCi - cSize >= 0) minCi -= cSize;\n            }\n            rect = new RectRange(selectorSri, minCi, selectorEri, selectorSci - 1);\n          }\n        } else {\n          rect = new RectRange(selectorSri, ci, selectorEri, selectorSci - 1);\n        }\n      }\n      if (ci > selectorEci) {\n        direction = 'right';\n        if (autoFillSelectorRect) {\n          let maxCi = selectorEci + cSize;\n          if (maxCi <= cols.len - 1) {\n            const diff = ci - (selectorEci + 1);\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % cSize === 0 && maxCi + cSize <= cols.len - 1) maxCi += cSize;\n            }\n            rect = new RectRange(selectorSri, selectorEci + 1, selectorEri, maxCi);\n          }\n        } else {\n          rect = new RectRange(selectorSri, selectorEci + 1, selectorEri, ci);\n        }\n      }\n    }\n    if (rect !== null) {\n      const width = cols.sectionSumWidth(rect.sci, rect.eci);\n      const height = rows.sectionSumHeight(rect.sri, rect.eri);\n      rect.w = width;\n      rect.h = height;\n      return {\n        rect, direction,\n      };\n    }\n    return null;\n  }\n\n  mergeCellForceSplit() {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { merges } = table;\n    const { autoFillAttr } = this;\n    const { selectorAttr } = screenSelector;\n    const { rect: autoFillRect } = autoFillAttr;\n    const { rect: selectorRect } = selectorAttr;\n    let sIndexRi = selectorRect.sri;\n    let tIndexRi = autoFillRect.sri;\n    while (tIndexRi <= autoFillRect.eri) {\n      let sIndexCi = selectorRect.sci;\n      let tIndexCi = autoFillRect.sci;\n      while (tIndexCi <= autoFillRect.eci) {\n        const rect = new RectRange(tIndexRi, tIndexCi, tIndexRi, tIndexCi);\n        const mergeRect = merges.getFirstIncludes(tIndexRi, tIndexCi);\n        if (!mergeRect || !selectorRect.intersects(mergeRect)) {\n          merges.deleteIntersects(rect);\n        }\n        sIndexCi += 1;\n        tIndexCi += 1;\n        if (sIndexCi > selectorRect.eci) sIndexCi = selectorRect.sci;\n      }\n      sIndexRi += 1;\n      tIndexRi += 1;\n      if (sIndexRi > selectorRect.eri) sIndexRi = selectorRect.sri;\n    }\n  }\n\n  copyContent() {\n    let count = 0;\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { cells, tableDataSnapshot } = table;\n    const { cellDataProxy } = tableDataSnapshot;\n    const { autoFillAttr } = this;\n    const { selectorAttr } = screenSelector;\n    const { rect: autoFillRect } = autoFillAttr;\n    const { rect: selectorRect } = selectorAttr;\n    let sIndexRi = selectorRect.sri;\n    let tIndexRi = autoFillRect.sri;\n    while (tIndexRi <= autoFillRect.eri) {\n      let sIndexCi = selectorRect.sci;\n      let tIndexCi = autoFillRect.sci;\n      while (tIndexCi <= autoFillRect.eci) {\n        const src = cells.getCell(sIndexRi, sIndexCi);\n        if (src) {\n          const target = src.clone();\n          cellDataProxy.setCell(tIndexRi, tIndexCi, target);\n          if (!Utils.isBlank(src.text)) {\n            count += 1;\n          }\n        }\n        sIndexCi += 1;\n        tIndexCi += 1;\n        if (sIndexCi > selectorRect.eci) sIndexCi = selectorRect.sci;\n      }\n      sIndexRi += 1;\n      tIndexRi += 1;\n      if (sIndexRi > selectorRect.eri) sIndexRi = selectorRect.sri;\n    }\n    return count;\n  }\n\n  copyMerge() {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { merges, tableDataSnapshot } = table;\n    const { mergeDataProxy } = tableDataSnapshot;\n    const { autoFillAttr } = this;\n    const { selectorAttr } = screenSelector;\n    const { rect: autoFillRect, direction } = autoFillAttr;\n    const { rect: selectorRect, edge } = selectorAttr;\n    let sIndexRi = selectorRect.sri;\n    let tIndexRi = autoFillRect.sri;\n    if (edge && (direction === 'top' || direction === 'left')) return;\n    while (tIndexRi <= autoFillRect.eri) {\n      let sIndexCi = selectorRect.sci;\n      let tIndexCi = autoFillRect.sci;\n      while (tIndexCi <= autoFillRect.eci) {\n        const mergeRect = merges.getFirstIncludes(sIndexRi, sIndexCi);\n        if (mergeRect) {\n          const isOrigin = mergeRect.sri === sIndexRi && mergeRect.sci === sIndexCi;\n          if (isOrigin) {\n            let [rSize, cSize] = mergeRect.size();\n            rSize -= 1;\n            cSize -= 1;\n            const newMerge = new RectRange(tIndexRi, tIndexCi, tIndexRi + rSize, tIndexCi + cSize);\n            if (!merges.intersects(newMerge)) {\n              mergeDataProxy.addMerge(newMerge);\n            }\n          }\n        }\n        sIndexCi += 1;\n        tIndexCi += 1;\n        if (sIndexCi > selectorRect.eci) sIndexCi = selectorRect.sci;\n      }\n      sIndexRi += 1;\n      tIndexRi += 1;\n      if (sIndexRi > selectorRect.eri) sIndexRi = selectorRect.sri;\n    }\n  }\n\n  autoFillTo() {\n    const { screen, options } = this;\n    const { mergeForceSplit } = options;\n    const { table } = screen;\n    const { merges } = table;\n    const { autoFillAttr } = this;\n    const { rect: autoFillRect } = autoFillAttr;\n    const mergeRect = merges.getFirstIncludes(autoFillRect.sri, autoFillRect.sci);\n    if (mergeRect && mergeRect.equals(autoFillRect)) {\n      this.options.onBeforeAutoFill();\n      this.mergeCellForceSplit();\n      const count = this.copyContent();\n      this.copyMerge();\n      this.options.onAfterAutoFill(count);\n    } else {\n      if (merges.intersects(autoFillRect) && mergeForceSplit === false) {\n        // eslint-disable-next-line no-undef,no-alert\n        alert('此操作要求合并单元格都具有相同大小');\n        return;\n      }\n      this.options.onBeforeAutoFill();\n      this.mergeCellForceSplit();\n      const count = this.copyContent();\n      this.copyMerge();\n      this.options.onAfterAutoFill(count);\n    }\n  }\n}\n\nexport { ScreenAutoFill };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { ScreenSelector } from '../selector/ScreenSelector';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { RectRange } from '../RectRange';\n\nclass XHeightLight extends Widget {\n  constructor(table) {\n    super(`${cssPrefix}-table-x-height-light`);\n    this.table = table;\n    this.hide();\n  }\n\n  init() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    this.css('height', `${index.height}px`);\n    this.bind();\n  }\n\n  disjoint(sRect, tRect) {\n    return sRect.sci > tRect.eci || tRect.sci > sRect.eci;\n  }\n\n  coincide(sRect, tRect) {\n    if (this.disjoint(sRect, tRect)) {\n      return new RectRange(0, -1, 0, -1);\n    }\n    return new RectRange(\n      0,\n      tRect.sci > sRect.sci ? tRect.sci : sRect.sci,\n      0,\n      tRect.eci < sRect.eci ? tRect.eci : sRect.eci,\n    );\n  }\n\n  offsetHeightLight(selectorAttr, intersectsArea) {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const empty = new RectRange(0, -1, 0, -1);\n    this.hide();\n    switch (intersectsArea) {\n      case 'lt': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, cols } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        if (!empty.equals(ltCoincideRange)) {\n          const width = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n          const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 't': {\n        const { rect } = selectorAttr;\n        const { fixedTop, cols } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        if (!empty.equals(tCoincideRange)) {\n          const width = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n          const left = cols.sectionSumWidth(tViewRange.sci, tCoincideRange.sci - 1)\n            + table.getFixedWidth() + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'br': {\n        const { rect } = selectorAttr;\n        const { cols } = table;\n        const cViewRange = table.getScrollViewRange();\n        const cCoincideRange = this.coincide(rect, cViewRange);\n        if (!empty.equals(cCoincideRange)) {\n          const width = cols.sectionSumWidth(cCoincideRange.sci, cCoincideRange.eci);\n          const left = cols.sectionSumWidth(cViewRange.sci, cCoincideRange.sci - 1)\n            + table.getFixedWidth() + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'l': {\n        const { rect } = selectorAttr;\n        const { fixedLeft, cols } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        if (!empty.equals(lCoincideRange)) {\n          const width = cols.sectionSumWidth(lCoincideRange.sci, lCoincideRange.eci);\n          const left = cols.sectionSumWidth(lViewRange.sci, lCoincideRange.sci - 1) + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'ltt': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, fixedTop, cols } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const tViewRange = fixedTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        let width = 0;\n        const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n        if (!empty.equals(ltCoincideRange)) {\n          width += cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        }\n        if (!empty.equals(tCoincideRange)) {\n          width += cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        }\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n        break;\n      }\n      case 'ltl': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, cols } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        if (!empty.equals(ltCoincideRange)) {\n          const width = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n          const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'tbr': {\n        const { rect } = selectorAttr;\n        const { fixedTop, cols } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        if (!empty.equals(tCoincideRange)) {\n          const width = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n          const left = cols.sectionSumWidth(tViewRange.sci, tCoincideRange.sci - 1)\n            + table.getFixedWidth() + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'lbr': {\n        const { rect } = selectorAttr;\n        const { fixedLeft, cols } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const cViewRange = table.getScrollViewRange();\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        const cCoincideRange = this.coincide(rect, cViewRange);\n        let width = 0;\n        const left = cols.sectionSumWidth(lViewRange.sci, lCoincideRange.sci - 1) + index.width;\n        if (!empty.equals(lCoincideRange)) {\n          width += cols.sectionSumWidth(lCoincideRange.sci, lCoincideRange.eci);\n        }\n        if (!empty.equals(cCoincideRange)) {\n          width += cols.sectionSumWidth(cCoincideRange.sci, cCoincideRange.eci);\n        }\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n        break;\n      }\n      case 'lttlbr': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, fixedTop, cols } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const tViewRange = fixedTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        let width = 0;\n        const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n        if (!empty.equals(ltCoincideRange)) {\n          width += cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        }\n        if (!empty.equals(tCoincideRange)) {\n          width += cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        }\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n        break;\n      }\n      default: break;\n    }\n  }\n\n  bind() {\n    const { table } = this;\n    const { screen } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    screenSelector.addChangeCb(() => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n  }\n}\n\nexport { XHeightLight };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { RectRange } from '../RectRange';\nimport { ScreenSelector } from '../selector/ScreenSelector';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\n\nclass YHeightLight extends Widget {\n  constructor(table) {\n    super(`${cssPrefix}-table-y-height-light`);\n    this.table = table;\n    this.hide();\n  }\n\n  init() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    this.css('width', `${index.width}px`);\n    this.bind();\n  }\n\n  disjoint(sRect, tRect) {\n    return sRect.sri > tRect.eri || tRect.sri > sRect.eri;\n  }\n\n  coincide(sRect, tRect) {\n    if (this.disjoint(sRect, tRect)) {\n      return new RectRange(-1, 0, -1, 0);\n    }\n    return new RectRange(\n      tRect.sri > sRect.sri ? tRect.sri : sRect.sri,\n      0,\n      tRect.eri < sRect.eri ? tRect.eri : sRect.eri,\n      0,\n    );\n  }\n\n  offsetHeightLight(selectorAttr, intersectsArea) {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const empty = new RectRange(-1, 0, -1, 0);\n    this.hide();\n    switch (intersectsArea) {\n      case 'lt': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, rows } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        if (!empty.equals(ltCoincideRange)) {\n          const height = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n          // eslint-disable-next-line max-len\n          const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 't': {\n        const { rect } = selectorAttr;\n        const { fixedTop, rows } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        // console.log('tCoincideRange>>>', tCoincideRange);\n        if (!empty.equals(tCoincideRange)) {\n          const height = rows.sectionSumHeight(tCoincideRange.sri, tCoincideRange.eri);\n          const top = rows.sectionSumHeight(tViewRange.sri, tCoincideRange.sri - 1) + index.height;\n          // console.log('height>>>', height);\n          // console.log('top>>>', top);\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'l': {\n        const { rect } = selectorAttr;\n        const { fixedLeft, rows } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        if (!empty.equals(lCoincideRange)) {\n          const height = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n          const top = rows.sectionSumHeight(lViewRange.sri, lCoincideRange.sri - 1)\n            + table.getFixedHeight() + index.height;\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'br': {\n        const { rect } = selectorAttr;\n        const { rows } = table;\n        const cViewRange = table.getScrollViewRange();\n        const cCoincideRange = this.coincide(rect, cViewRange);\n        // console.log('cCoincideRange>>>', cCoincideRange);\n        if (!empty.equals(cCoincideRange)) {\n          const height = rows.sectionSumHeight(cCoincideRange.sri, cCoincideRange.eri);\n          const top = rows.sectionSumHeight(cViewRange.sri, cCoincideRange.sri - 1)\n            + table.getFixedHeight() + index.height;\n          // console.log('height>>>', height);\n          // console.log('top>>>', top);\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'ltt': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, rows } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        if (!empty.equals(ltCoincideRange)) {\n          // eslint-disable-next-line max-len\n          const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n          const height = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'ltl': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, fixedLeft, rows } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n        let height = 0;\n        if (!empty.equals(ltCoincideRange)) {\n          height += rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        }\n        if (!empty.equals(lCoincideRange)) {\n          height += rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        }\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n        break;\n      }\n      case 'tbr': {\n        const { rect } = selectorAttr;\n        const { fixedTop, rows } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const cViewRange = table.getScrollViewRange();\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        const cCoincideRange = this.coincide(rect, cViewRange);\n        const top = rows.sectionSumHeight(tViewRange.sri, tCoincideRange.sri - 1) + index.height;\n        let height = 0;\n        if (!empty.equals(tCoincideRange)) {\n          height += rows.sectionSumHeight(tCoincideRange.sri, tCoincideRange.eri);\n        }\n        if (!empty.equals(cCoincideRange)) {\n          height += rows.sectionSumHeight(cCoincideRange.sri, cCoincideRange.eri);\n        }\n        // console.log('tCoincideRange>>>', tCoincideRange);\n        // console.log('cCoincideRange>>>', cCoincideRange);\n        // console.log('top>>>', top);\n        // console.log('height>>>', height);\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n        break;\n      }\n      case 'lbr': {\n        const { rect } = selectorAttr;\n        const { fixedLeft, rows } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        if (!empty.equals(lCoincideRange)) {\n          const height = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n          const top = rows.sectionSumHeight(lViewRange.sri, lCoincideRange.sri - 1)\n            + table.getFixedHeight() + index.height;\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'lttlbr': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, fixedLeft, rows } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        let height = 0;\n        const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n        if (!empty.equals(ltCoincideRange)) {\n          height += rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        }\n        if (!empty.equals(lCoincideRange)) {\n          height += rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        }\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n        break;\n      }\n      default: break;\n    }\n  }\n\n  bind() {\n    const { table } = this;\n    const { screen } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    screenSelector.addChangeCb(() => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n  }\n}\n\nexport { YHeightLight };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { ScreenSelector } from './selector/ScreenSelector';\nimport { Utils } from '../../utils/Utils';\nimport { RectRange } from './RectRange';\n\nclass Edit extends Widget {\n\n  constructor(table) {\n    super(`${cssPrefix}-table-edit`);\n    this.input = h('div', `${cssPrefix}-table-edit-input`);\n    this.input.attr('contenteditable', true);\n    this.input.html('<p>&nbsp;</p>');\n    this.table = table;\n    this.text = '';\n    this.select = null;\n    this.children(this.input);\n    this.hide();\n  }\n\n  init() {\n    this.bind();\n  }\n\n  bind() {\n    const { table } = this;\n    const { screen } = table;\n    const selector = screen.findByClass(ScreenSelector);\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      e.stopPropagation();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      e.stopPropagation();\n    });\n    EventBind.bind(this.input, Constant.SYSTEM_EVENT_TYPE.INPUT, () => {\n      const { input } = this;\n      if (Utils.isBlank(this.input.text())) {\n        input.html('<p>&nbsp;</p>');\n      }\n      this.text = input.text();\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      this.hideEdit();\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      this.hideEdit();\n    });\n    EventBind.dbClick([\n      selector.lt,\n      selector.t,\n      selector.l,\n      selector.br,\n    ], () => {\n      this.showEdit();\n    });\n  }\n\n  showEdit() {\n    const { table, input } = this;\n    const { screen, cells } = table;\n    const selector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = selector;\n    if (selectorAttr) {\n      const { rect } = selectorAttr;\n      const cell = cells.getCellOrNew(rect.sri, rect.sci);\n      this.select = rect;\n      this.editOffset(rect);\n      this.text = cell.text;\n      if (Utils.isBlank(this.text)) {\n        input.html('<p>&nbsp;</p>');\n      } else {\n        input.text(this.text);\n      }\n      Utils.keepLastIndex(this.input.el);\n    }\n  }\n\n  hideEdit() {\n    const { select } = this;\n    const { table } = this;\n    const { cells, tableDataSnapshot } = table;\n    const { cellDataProxy } = tableDataSnapshot;\n    if (select) {\n      const origin = cells.getCellOrNew(select.sri, select.sci);\n      const cell = origin.clone();\n      const text = Utils.trim(this.text);\n      if (cell.text !== text) {\n        tableDataSnapshot.begin();\n        cell.text = text;\n        cellDataProxy.setCell(select.sri, select.sci, cell);\n        tableDataSnapshot.end();\n        table.render();\n      }\n      this.select = null;\n    }\n    this.hide();\n  }\n\n  editOffset() {\n    const { table } = this;\n    const { screen } = table;\n    const selector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = selector;\n    const { rect } = selectorAttr;\n    const { cols, rows } = table;\n    const offset = 3;\n    const intersectsArea = selector.getIntersectsArea(selectorAttr);\n    switch (intersectsArea) {\n      case 'lt': {\n        const { frozenLeftTop } = table;\n        const viewRange = frozenLeftTop.getScrollViewRange();\n        const coincideRange = rect.coincide(viewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(coincideRange)) {\n          this.hide();\n          return;\n        }\n        const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n        const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n        let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n        let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n        top += table.getIndexHeight() + offset;\n        left += table.getIndexWidth() + offset;\n        this.offset({\n          width,\n          height,\n          top,\n          left,\n        }).show();\n        break;\n      }\n      case 't': {\n        const { fixedTop } = table;\n        const viewRange = fixedTop.getScrollViewRange();\n        const coincideRange = rect.coincide(viewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(coincideRange)) {\n          this.hide();\n          return;\n        }\n        const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n        const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n        let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n        let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n        top += table.getIndexHeight() + offset;\n        left += table.getFixedWidth() + table.getIndexWidth() + offset;\n        this.offset({\n          width,\n          height,\n          top,\n          left,\n        }).show();\n        break;\n      }\n      case 'br': {\n        const viewRange = table.getScrollViewRange();\n        const coincideRange = rect.coincide(viewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(coincideRange)) {\n          this.hide();\n          return;\n        }\n        const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n        const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n        let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n        let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n        top += table.getFixedHeight() + table.getIndexHeight() + offset;\n        left += table.getFixedWidth() + table.getIndexWidth() + offset;\n        this.offset({\n          width,\n          height,\n          top,\n          left,\n        }).show();\n        break;\n      }\n      case 'l': {\n        const { fixedLeft } = table;\n        const viewRange = fixedLeft.getScrollViewRange();\n        const coincideRange = rect.coincide(viewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(coincideRange)) {\n          this.hide();\n          return;\n        }\n        const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n        const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n        let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n        let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n        top += table.getFixedHeight() + table.getIndexHeight() + offset;\n        left += table.getIndexWidth() + offset;\n        this.offset({\n          width,\n          height,\n          top,\n          left,\n        }).show();\n        break;\n      }\n      case 'ltt': {\n        const { frozenLeftTop, fixedTop } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = rect.coincide(ltViewRange);\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = rect.coincide(tViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(tCoincideRange) && empty.equals(ltCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const ltWidth = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        const ltHeight = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        const ltTop = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1);\n        const ltLeft = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1);\n        const tWidth = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        this.offset({\n          width: (ltWidth + tWidth) - offset * 2,\n          height: ltHeight - offset * 2,\n          top: ltTop + table.getIndexHeight() + offset,\n          left: ltLeft + table.getIndexWidth() + offset,\n        }).show();\n        break;\n      }\n      case 'ltl': {\n        const { frozenLeftTop, fixedLeft } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = rect.coincide(ltViewRange);\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = rect.coincide(lViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(ltCoincideRange) && empty.equals(lCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const ltWidth = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        const ltHeight = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        const lHeight = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        let ltTop = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1);\n        let ltLeft = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1);\n        ltTop += table.getIndexHeight() + offset;\n        ltLeft += table.getIndexWidth() + offset;\n        this.offset({\n          width: ltWidth - offset * 2,\n          height: (ltHeight + lHeight) - offset * 2,\n          top: ltTop,\n          left: ltLeft,\n        }).show();\n        break;\n      }\n      case 'tbr': {\n        const { fixedTop } = table;\n        const cViewRange = table.getScrollViewRange();\n        const cCoincideRange = rect.coincide(cViewRange);\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = rect.coincide(tViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(cCoincideRange) && empty.equals(tCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const tWidth = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        const tHeight = rows.sectionSumHeight(tCoincideRange.sri, tCoincideRange.eri);\n        const tTop = rows.sectionSumHeight(tViewRange.sri, tCoincideRange.sri - 1);\n        const tLeft = cols.sectionSumWidth(tViewRange.sci, tCoincideRange.sci - 1);\n        const cHeight = rows.sectionSumHeight(cCoincideRange.sri, cCoincideRange.eri);\n        this.offset({\n          width: tWidth - offset * 2,\n          height: (cHeight + tHeight) - offset * 2,\n          top: tTop + table.getIndexHeight() + offset,\n          left: tLeft + table.getFixedWidth() + table.getIndexWidth() + offset,\n        }).show();\n        break;\n      }\n      case 'lbr': {\n        const { fixedLeft } = table;\n        const cViewRange = table.getScrollViewRange();\n        const cCoincideRange = rect.coincide(cViewRange);\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = rect.coincide(lViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(cCoincideRange) && empty.equals(lCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const lWidth = cols.sectionSumWidth(lCoincideRange.sci, lCoincideRange.eci);\n        const lHeight = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        const lTop = rows.sectionSumHeight(lViewRange.sri, lCoincideRange.sri - 1);\n        const lLeft = cols.sectionSumWidth(lViewRange.sci, lCoincideRange.sci - 1);\n        const cWidth = cols.sectionSumWidth(cCoincideRange.sci, cCoincideRange.eci);\n        this.offset({\n          width: (lWidth + cWidth) - offset * 2,\n          height: lHeight - offset * 2,\n          top: lTop + table.getFixedHeight() + table.getIndexHeight() + offset,\n          left: lLeft + table.getIndexWidth() + offset,\n        }).show();\n        break;\n      }\n      case 'lttlbr': {\n        const { frozenLeftTop } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = rect.coincide(ltViewRange);\n        const { fixedTop } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = rect.coincide(tViewRange);\n        const { fixedLeft } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = rect.coincide(lViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(ltCoincideRange)\n          && empty.equals(tCoincideRange)\n          && empty.equals(lCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const ltWidth = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        const ltHeight = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        const tWidth = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        const lHeight = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1);\n        const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1);\n        this.offset({\n          width: (ltWidth + tWidth) - offset * 2,\n          height: (ltHeight + lHeight) - offset * 2,\n          top: top + table.getIndexHeight() + offset,\n          left: left + table.getIndexWidth() + offset,\n        }).show();\n        break;\n      }\n      default: break;\n    }\n  }\n}\n\nexport { Edit };\n","import { dpr } from './Draw';\nimport { Utils } from '../utils/Utils';\n\nclass Grid {\n  constructor(draw, attr = {}) {\n    this.draw = draw;\n    this.color = '#000000';\n    Utils.mergeDeep(this, attr);\n  }\n\n  lineWidth() {\n    const width = Math.floor(dpr());\n    return width > 2 ? width : 1;\n  }\n\n  verticalLine(sx, sy, ex, ey) {\n    if (sx !== ex) {\n      throw new Error('coordinate errors sx should be equal to ex !!!');\n    }\n    const { draw, color } = this;\n    const width = this.lineWidth();\n    draw.attr({\n      fillStyle: color,\n    });\n    const diff = ey - sy;\n    draw.fillRect(sx, sy, width, diff);\n  }\n\n  horizontalLine(sx, sy, ex, ey) {\n    if (sy !== ey) {\n      throw new Error('coordinate errors sy should be equal to ey !!!');\n    }\n    const { draw, color } = this;\n    const width = this.lineWidth();\n    draw.attr({\n      fillStyle: color,\n    });\n    const diff = ex - sx;\n    draw.fillRect(sx, sy, diff, width);\n  }\n}\n\nexport { Grid };\n","class Box {\n  constructor({ rect, draw }) {\n    this.draw = draw;\n    this.rect = rect;\n    this.backgroundColor = null;\n  }\n\n  drawBackgroundColor(color) {\n    if (color) {\n      this.backgroundColor = color;\n      const { draw, rect } = this;\n      draw.attr({\n        fillStyle: color,\n      });\n      draw.fillRect(rect.x, rect.y, rect.width, rect.height);\n    }\n  }\n}\n\nexport { Box };\n","import { RectRange } from '../RectRange';\nimport { Rect } from '../../../canvas/Rect';\nimport { Utils } from '../../../utils/Utils';\nimport { ALIGN, TEXT_DIRECTION, TEXT_WRAP } from '../../../canvas/Font';\n\nclass LineHandle {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  /**\n   * 绘制单元格左边垂直线段时\n   * 判断线段左右的单元格中\n   * 是否存在overflow裁剪类型\n   * 的单元格, 如果有判断宽度是否\n   * 覆盖了当前线段如果覆盖了\n   * 则跳过该线段绘制\n   * @param ci\n   * @param ri\n   */\n  vLineRightOverFlowChecked(ci, ri) {\n    const { table } = this;\n    const { cells, cols, merges } = table;\n    const { len } = cols;\n    const master = cells.getMergeCellOrCell(ri, ci);\n    const next = cells.getMergeCellOrCell(ri, ci + 1);\n    const merge = merges.getFirstIncludes(ri, ci + 1);\n\n    if (merge) {\n      return true;\n    }\n\n    let checkedRight = true;\n    let checkedLeft = true;\n\n    // 检查master单元格是否越界\n    if (master && !Utils.isBlank(master.text)) {\n      const { fontAttr } = master;\n      const { direction } = fontAttr;\n      let checked = true;\n      // 检查文本的绘制方向\n      // 区别对待旋转文本\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        const { angle, textWrap } = fontAttr;\n        if (angle === 90 || angle === -90) {\n          checked = false;\n        }\n        if (textWrap === TEXT_WRAP.TRUNCATE) {\n          checked = false;\n        }\n      } else {\n        // 跳过裁剪类型不是overflow\n        // 类型的单元格\n        // eslint-disable-next-line no-lonely-if\n        const { textWrap } = fontAttr;\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) {\n          checked = false;\n        }\n      }\n      // 跳过对齐方式不是left和center\n      // 类型的单元格\n      const { align } = fontAttr;\n      const maxWidth = cols.getWidth(ci);\n      if (align !== ALIGN.left && align !== ALIGN.center) {\n        checked = false;\n      }\n      // 单元格符合检查条件\n      // 则检查宽度是否越界\n      if (checked) {\n        // 检查当前单元格的内容\n        // 宽度是否越界\n        const width = this.getCellContentWidth(master, ci);\n        if (width > maxWidth) {\n          // 只有next单元格是空时\n          // 才允许不绘制边框\n          if (next === null || Utils.isBlank(next.text)) checkedLeft = false;\n        }\n      }\n    }\n\n    // 检查左边是否越界\n    let leftWidth = cols.getWidth(ci - 1) + cols.getWidth(ci);\n    for (let i = ci - 1; i >= 0; i -= 1, leftWidth += cols.getWidth(i)) {\n      // 过滤掉空单元格\n      const cell = cells.getCell(ri, i);\n      if (cell === null) continue;\n      const { text } = cell;\n      if (Utils.isBlank(text)) continue;\n      // 检查文本的绘制方向\n      // 区别对待旋转文本\n      const { fontAttr } = cell;\n      const { direction } = fontAttr;\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        const { angle, textWrap } = fontAttr;\n        if (angle === 90 || angle === -90) { break; }\n        if (textWrap === TEXT_WRAP.TRUNCATE) { break; }\n      } else {\n        // 跳过裁剪类型不是overflow\n        // 类型的单元格\n        const { textWrap } = fontAttr;\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) { break; }\n        // 跳过对齐方式不是left和center\n        // 类型的单元格\n        const { align } = fontAttr;\n        if (align !== ALIGN.left && align !== ALIGN.center) { break; }\n      }\n      // 检查当前单元格的内容\n      // 宽度是否越界\n      const width = this.getCellContentWidth(cell, i);\n      if (width > leftWidth) {\n        // 只有master单元格和\n        // next单元格都是空时\n        // 才允许不绘制边框\n        const masterBlank = master === null || Utils.isBlank(master.text);\n        const nextBlank = next === null || Utils.isBlank(next.text);\n        if (masterBlank && nextBlank) {\n          checkedLeft = false;\n        }\n      }\n      break;\n    }\n\n    // 检查右边是否越界\n    let rightWidth = cols.getWidth(ci + 1);\n    for (let j = ci + 1; j <= len; j += 1, rightWidth += cols.getWidth(j)) {\n      // 过滤掉空单元格\n      const cell = cells.getCell(ri, j);\n      if (cell === null) continue;\n      const { text } = cell;\n      if (Utils.isBlank(text)) continue;\n      // 检查文本的绘制方向\n      // 区别对待旋转文本\n      const { fontAttr } = cell;\n      const { direction } = fontAttr;\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        const { angle, textWrap } = fontAttr;\n        if (angle === 90 || angle === -90) { break; }\n        if (textWrap === TEXT_WRAP.TRUNCATE) { break; }\n      } else {\n        // 跳过裁剪类型不是overflow\n        // 类型的单元格\n        const { textWrap } = fontAttr;\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) { break; }\n        // 跳过对齐方式不是right和center\n        // 类型的单元格\n        const { align } = fontAttr;\n        if (align !== ALIGN.right && align !== ALIGN.center) { break; }\n      }\n      // 检查当前单元格的内容\n      // 宽度是否越界\n      const width = this.getCellContentWidth(cell, j);\n      if (width > rightWidth) {\n        // 只有master单元格为\n        // 空时才允许不绘制边框\n        if (master === null || Utils.isBlank(master.text)) {\n          checkedRight = false;\n        }\n      }\n      break;\n    }\n\n    return checkedLeft && checkedRight;\n  }\n\n  /**\n   * 绘制单元格右边垂直线段时\n   * 判断线段左右的单元格中\n   * 是否存在overflow裁剪类型\n   * 的单元格, 如果有判断宽度是否\n   * 覆盖了当前线段如果覆盖了\n   * 则跳过该线段绘制\n   * @param ci\n   * @param ri\n   */\n  vLineLeftOverFlowChecked(ci, ri) {\n    const { table } = this;\n    const { cells, cols, merges } = table;\n    const { len } = cols;\n    const master = cells.getMergeCellOrCell(ri, ci);\n    const last = cells.getMergeCellOrCell(ri, ci - 1);\n    const merge = merges.getFirstIncludes(ri, ci - 1);\n\n    if (merge) {\n      return true;\n    }\n\n    let checkedRight = true;\n    let checkedLeft = true;\n\n    // 检查master单元格是否越界\n    if (master && !Utils.isBlank(master.text)) {\n      const { fontAttr } = master;\n      const { direction } = fontAttr;\n      let checked = true;\n      // 检查文本的绘制方向\n      // 区别对待旋转文本\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        const { angle, textWrap } = fontAttr;\n        if (angle === 90 || angle === -90) {\n          checked = false;\n        }\n        if (textWrap === TEXT_WRAP.TRUNCATE) {\n          checked = false;\n        }\n      } else {\n        // 跳过裁剪类型不是overflow\n        // 类型的单元格\n        // eslint-disable-next-line no-lonely-if\n        const { textWrap } = fontAttr;\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) {\n          checked = false;\n        }\n      }\n      // 跳过对齐方式不是left和center\n      // 类型的单元格\n      const { align } = fontAttr;\n      const maxWidth = cols.getWidth(ci);\n      if (align !== ALIGN.right && align !== ALIGN.center) {\n        checked = false;\n      }\n      // 单元格符合检查条件\n      // 则检查宽度是否越界\n      if (checked) {\n        // 检查当前单元格的内容\n        // 宽度是否越界\n        const width = this.getCellContentWidth(master, ci);\n        if (width > maxWidth) {\n          // 只有next单元格是空时\n          // 才允许不绘制边框\n          if (last === null || Utils.isBlank(last.text)) checkedLeft = false;\n        }\n      }\n    }\n\n    // 检查左边是否越界\n    let leftWidth = cols.getWidth(ci - 1);\n    for (let i = ci - 1; i >= 0; i -= 1, leftWidth += cols.getWidth(i)) {\n      // 过滤掉空单元格\n      const cell = cells.getCell(ri, i);\n      if (cell === null) continue;\n      const { text } = cell;\n      if (Utils.isBlank(text)) continue;\n      // 检查文本的绘制方向\n      // 区别对待旋转文本\n      const { fontAttr } = cell;\n      const { direction } = fontAttr;\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        const { angle, textWrap } = fontAttr;\n        if (angle === 90 || angle === -90) { break; }\n        if (textWrap === TEXT_WRAP.TRUNCATE) { break; }\n      } else {\n        // 跳过裁剪类型不是overflow\n        // 类型的单元格\n        const { textWrap } = fontAttr;\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) { break; }\n        // 跳过对齐方式不是left和center\n        // 类型的单元格\n        const { align } = fontAttr;\n        if (align !== ALIGN.left && align !== ALIGN.center) { break; }\n      }\n      // 检查当前单元格的内容\n      // 宽度是否越界\n      const width = this.getCellContentWidth(cell, i);\n      if (width > leftWidth) {\n        // 只有master单元格为\n        // 空时才允许不绘制边框\n        if (master === null || Utils.isBlank(master.text)) {\n          checkedLeft = false;\n        }\n      }\n      break;\n    }\n\n    // 检查右边是否越界\n    let rightWidth = cols.getWidth(ci + 1) + cols.getWidth(ci);\n    for (let j = ci + 1; j <= len; j += 1, rightWidth += cols.getWidth(j)) {\n      // 过滤掉空单元格\n      const cell = cells.getCell(ri, j);\n      if (cell === null) continue;\n      const { text } = cell;\n      if (Utils.isBlank(text)) continue;\n      // 检查文本的绘制方向\n      // 区别对待旋转文本\n      const { fontAttr } = cell;\n      const { direction } = fontAttr;\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        const { angle, textWrap } = fontAttr;\n        if (angle === 90 || angle === -90) { break; }\n        if (textWrap === TEXT_WRAP.TRUNCATE) { break; }\n      } else {\n        // 跳过裁剪类型不是overflow\n        // 类型的单元格\n        const { textWrap } = fontAttr;\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) { break; }\n        // 跳过对齐方式不是right和center\n        // 类型的单元格\n        const { align } = fontAttr;\n        if (align !== ALIGN.right && align !== ALIGN.center) { break; }\n      }\n      // 检查当前单元格的内容\n      // 宽度是否越界\n      const width = this.getCellContentWidth(cell, j);\n      if (width > rightWidth) {\n        // 只有master单元格和\n        // last单元格都是空时\n        // 才允许不绘制边框\n        const masterBlank = master === null || Utils.isBlank(master.text);\n        const nextBlank = last === null || Utils.isBlank(last.text);\n        if (masterBlank && nextBlank) {\n          checkedRight = false;\n        }\n      }\n      break;\n    }\n\n    return checkedLeft && checkedRight;\n  }\n\n  /**\n   * 计算单元格内容宽度\n   * @param cell\n   * @param ci\n   * @returns {number|*}\n   */\n  getCellContentWidth(cell, ci) {\n    const { table } = this;\n    const { cols } = table;\n    const colWidth = cols.getWidth(ci);\n    const { contentWidth, fontAttr } = cell;\n    const { align } = fontAttr;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        return contentWidth;\n      case ALIGN.center:\n        return colWidth + ((contentWidth - colWidth) / 2);\n      default:\n        return 0;\n    }\n  }\n\n  hEach({\n    viewRange = new RectRange(0, 0, 0, 0),\n    newRow = () => true,\n    filter = () => true,\n    jump = () => true,\n    handle = () => true,\n    endRow = () => true,\n    bx = 0,\n    by = 0,\n  }) {\n    const { table } = this;\n    const { cols, rows } = table;\n    const {\n      sri, eri, sci, eci,\n    } = viewRange;\n    let y = by;\n    for (let i = sri; i <= eri; i += 1) {\n      const height = rows.getHeight(i);\n      let x = bx;\n      newRow(i, y);\n      for (let j = sci; j <= eci; j += 1) {\n        const width = cols.getWidth(j);\n        const result = filter(i, j, x, y);\n        if (result) {\n          handle(i, j, x, y);\n        } else {\n          jump(i, j, x, y);\n        }\n        x += width;\n      }\n      endRow();\n      y += height;\n    }\n  }\n\n  vEach({\n    viewRange = new RectRange(0, 0, 0, 0),\n    newCol = () => true,\n    filter = () => true,\n    jump = () => true,\n    handle = () => true,\n    endCol = () => true,\n    bx = 0,\n    by = 0,\n  }) {\n    const { table } = this;\n    const { cols, rows } = table;\n    const {\n      sri, eri, sci, eci,\n    } = viewRange;\n    let x = bx;\n    for (let i = sci; i <= eci; i += 1) {\n      const width = cols.getWidth(i);\n      let y = by;\n      newCol(i, x);\n      for (let j = sri; j <= eri; j += 1) {\n        const height = rows.getHeight(j);\n        const result = filter(i, j, x, y);\n        if (result) {\n          handle(i, j, x, y);\n        } else {\n          jump(i, j, x, y);\n        }\n        y += height;\n      }\n      endCol();\n      x += width;\n    }\n  }\n\n  viewRangeAndMergeCoincideView({\n    viewRange = new RectRange(0, 0, 0, 0),\n  }) {\n    const { table } = this;\n    const { merges, cols, rows } = table;\n    const filter = [];\n    const result = [];\n    this.hEach({\n      viewRange,\n      handle: (row, col, x, y) => {\n        const merge = merges.getFirstIncludes(row, col);\n        if (merge && filter.indexOf(merge) === -1) {\n          filter.push(merge);\n          const view = viewRange.coincide(merge);\n          const width = cols.sectionSumWidth(view.sci, view.eci);\n          const height = rows.sectionSumHeight(view.sri, view.eri);\n          const rect = new Rect({ x, y, width, height });\n          result.push({ rect, view, merge });\n        }\n      },\n    });\n    return result;\n  }\n\n  coincideViewBrink({\n    coincideView,\n  }) {\n    const { table } = this;\n    const { cols, rows } = table;\n    const result = [];\n    for (let i = 0; i < coincideView.length; i += 1) {\n      const { view, rect, merge } = coincideView[i];\n      const brink = view.brink();\n      const top = {\n        view: brink.top,\n        x: rect.x,\n        y: rect.y,\n      };\n      const left = {\n        view: brink.left,\n        x: rect.x,\n        y: rect.y,\n      };\n      const bottom = {\n        view: brink.bottom,\n        x: rect.x,\n        y: rect.y + rect.height - rows.rectRangeSumHeight(brink.bottom),\n      };\n      const right = {\n        view: brink.right,\n        x: rect.x + rect.width - cols.rectRangeSumWidth(brink.right),\n        y: rect.y,\n      };\n      const item = {};\n      if (merge.sri === view.sri) {\n        item.top = top;\n      }\n      if (merge.sci === view.sci) {\n        item.left = left;\n      }\n      if (merge.eri === view.eri) {\n        item.bottom = bottom;\n      }\n      if (merge.eci === view.eci) {\n        item.right = right;\n      }\n      result.push(item);\n    }\n    return result;\n  }\n}\n\nexport { LineHandle };\n","import { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\n\n/* global document */\n\nclass KeyboardManage {\n\n  constructor() {\n    this.pool = [];\n    this.active = null;\n    this.bind();\n  }\n\n  register({ el, key = null, code = null, callback }) {\n    this.pool.push({ el, key, code, callback });\n    const len = this.pool.length - 1;\n    EventBind.bind(el, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      this.active = this.pool[len];\n    });\n  }\n\n  bind() {\n    EventBind.bind(document, Constant.SYSTEM_EVENT_TYPE.KEY_DOWN, (e) => {\n      const { active } = this;\n      const { keyCode } = e;\n      if (active) {\n        const { key, code, callback } = active;\n        if (key) {\n          if (e[key] && keyCode === code) {\n            callback(e);\n          }\n        } else if (keyCode === code) {\n          callback(e);\n        }\n      }\n      if (keyCode === 9) {\n        e.preventDefault();\n      }\n    });\n  }\n}\n\nexport { KeyboardManage };\n","import { Cell } from './Cell';\nimport { Utils } from '../../../utils/Utils';\n\n/**\n * Cells\n * @author jerry\n */\nclass Cells {\n\n  /**\n   * Cells\n   * @param table\n   * @param cols\n   * @param rows\n   * @param data\n   */\n  constructor({\n    table, cols, rows, data = [],\n  }) {\n    this.table = table;\n    this.cols = cols;\n    this.rows = rows;\n    this.data = data;\n  }\n\n  /**\n   * 获取指定行和列的单元格\n   * @param ri\n   * @param ci\n   */\n  getCell(ri, ci) {\n    const row = this.data[ri];\n    if (row && row[ci]) {\n      let item = row[ci];\n      if (item instanceof Cell) {\n        return row[ci];\n      }\n      if (Utils.isString(item)) {\n        item = {\n          text: item,\n        };\n      }\n      row[ci] = new Cell(item);\n      return row[ci];\n    }\n    return null;\n  }\n\n  /**\n   * 获取指定行和列的单元格，如果获取到的\n   * 单元格是合并单元格的部分则返回合并单元格起始\n   * 单元格\n   * @param ri\n   * @param ci\n   */\n  getMergeCellOrCell(ri, ci) {\n    const { table } = this;\n    const { merges } = table;\n    const merge = merges.getFirstIncludes(ri, ci);\n    if (merge) {\n      return this.getCell(merge.sri, merge.sci);\n    }\n    return this.getCell(ri, ci);\n  }\n\n  /**\n   * 获取指定行列的单元格如果没有返回新的\n   * @param ri\n   * @param ci\n   */\n  getCellOrNew(ri, ci) {\n    if (Utils.isUnDef(this.data[ri])) {\n      this.data[ri] = [];\n    }\n    if (Utils.isUnDef(this.data[ri][ci])) {\n      this.data[ri][ci] = {\n        text: '',\n      };\n    }\n    return this.getCell(ri, ci);\n  }\n\n  /**\n   * 设置指定单元格\n   * @param ri\n   * @param ci\n   * @param cell\n   */\n  setCell(ri, ci, cell) {\n    const row = this.data[ri];\n    if (row && row[ci]) {\n      row[ci] = cell;\n    }\n  }\n\n  /**\n   * 设置指定单元格\n   * 如果不存在则创建\n   * @param ri\n   * @param ci\n   * @param cell\n   */\n  setCellOrNew(ri, ci, cell) {\n    if (Utils.isUnDef(this.data[ri])) {\n      this.data[ri] = [];\n    }\n    this.data[ri][ci] = cell;\n  }\n\n  /**\n   * getData\n   * @returns {*[]}\n   */\n  getData() {\n    return this.data;\n  }\n\n  /**\n   * setData\n   * @param data\n   * @returns {Cells}\n   */\n  setData(data = []) {\n    this.data = data;\n    return this;\n  }\n}\n\nexport { Cells };\n","import { Rect } from '../../canvas/Rect';\nimport { ALIGN, TEXT_DIRECTION, TEXT_WRAP, VERTICAL_ALIGN } from '../../canvas/Font';\nimport { Utils } from '../../utils/Utils';\n\n/**\n * CellsHelper\n * @author jerry\n */\nclass CellsHelper {\n\n  constructor({ cells, merges, rows, cols }) {\n    this.cells = cells;\n    this.merges = merges;\n    this.rows = rows;\n    this.cols = cols;\n  }\n\n  getCellTextMaxHeight(ri, ci) {\n    const { cells, rows } = this;\n    const cell = cells.getCell(ri, ci);\n    const { fontAttr } = cell;\n    const { verticalAlign } = fontAttr;\n    let height = 0;\n    let offset = 0;\n    if (verticalAlign === VERTICAL_ALIGN.top) {\n      for (let i = ri, { len } = rows; i <= len; i += 1) {\n        const cell = cells.getCell(i, ci);\n        if (i === ci) {\n          height += rows.getHeight(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          height += rows.getHeight(i);\n        } else {\n          break;\n        }\n      }\n    }\n    if (verticalAlign === VERTICAL_ALIGN.center) {\n      for (let i = ri, { len } = rows; i <= len; i += 1) {\n        const cell = cells.getCell(i, ci);\n        if (i === ci) {\n          height += rows.getHeight(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          height += rows.getHeight(i);\n        } else {\n          break;\n        }\n      }\n      for (let i = ri - 1; i >= 0; i -= 1) {\n        const cell = cells.getCell(ri, i);\n        if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          const tmp = rows.getHeight(i);\n          height += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    if (verticalAlign === VERTICAL_ALIGN.bottom) {\n      for (let i = ri; i >= 0; i -= 1) {\n        const cell = cells.getCell(ri, i);\n        if (i === ci) {\n          height += rows.getHeight(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          const tmp = rows.getHeight(i);\n          height += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    return { height, offset };\n  }\n\n  getCellTextMaxWidth(ri, ci) {\n    const { cells, cols, merges } = this;\n    const cell = cells.getCell(ri, ci);\n    const { fontAttr } = cell;\n    const { align } = fontAttr;\n    let width = 0;\n    let offset = 0;\n    // 左边对齐\n    if (align === ALIGN.left) {\n      // 计算当前单元格右边\n      // 空白的单元格的总宽度\n      for (let i = ci, { len } = cols; i <= len; i += 1) {\n        const cell = cells.getCell(ri, i);\n        const merge = merges.getFirstIncludes(ri, i);\n        if (i === ci) {\n          width += cols.getWidth(i);\n        } else if ((Utils.isUnDef(cell) || Utils.isBlank(cell.text)) && Utils.isUnDef(merge)) {\n          width += cols.getWidth(i);\n        } else {\n          break;\n        }\n      }\n    }\n    // 居中对其\n    if (align === ALIGN.center) {\n      let rightWidth = 0;\n      let leftWidth = 0;\n      for (let i = ci + 1, { len } = cols; i <= len; i += 1) {\n        const cell = cells.getCell(ri, i);\n        const merge = merges.getFirstIncludes(ri, i);\n        if ((Utils.isUnDef(cell) || Utils.isBlank(cell.text)) && Utils.isUnDef(merge)) {\n          rightWidth += cols.getWidth(i);\n        } else {\n          break;\n        }\n      }\n      for (let i = ci - 1; i >= 0; i -= 1) {\n        const cell = cells.getCell(ri, i);\n        const merge = merges.getFirstIncludes(ri, i);\n        if ((Utils.isUnDef(cell) || Utils.isBlank(cell.text)) && Utils.isUnDef(merge)) {\n          const tmp = cols.getWidth(i);\n          leftWidth += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n      width = cols.getWidth(ci) + leftWidth + rightWidth;\n    }\n    // 右边对其\n    if (align === ALIGN.right) {\n      // 计算当前单元格左边\n      // 空白的单元格的总宽度\n      for (let i = ci; i >= 0; i -= 1) {\n        const cell = cells.getCell(ri, i);\n        const merge = merges.getFirstIncludes(ri, i);\n        if (i === ci) {\n          width += cols.getWidth(i);\n        } else if ((Utils.isUnDef(cell) || Utils.isBlank(cell.text)) && Utils.isUnDef(merge)) {\n          const tmp = cols.getWidth(i);\n          width += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    return { width, offset };\n  }\n\n  getCellOverFlow(ri, ci, rect, cell) {\n    const { fontAttr } = cell;\n    const { direction, textWrap } = fontAttr;\n    const { x, y, width, height } = rect;\n    if (textWrap === TEXT_WRAP.OVER_FLOW) {\n      if (direction === TEXT_DIRECTION.VERTICAL) {\n        const max = this.getCellTextMaxHeight(ri, ci);\n        return new Rect({ x, y: y + max.offset, width, height: max.height });\n      }\n      const max = this.getCellTextMaxWidth(ri, ci);\n      return new Rect({ x: x + max.offset, y, width: max.width, height });\n    }\n    return null;\n  }\n\n  getCellByViewRange({\n    rectRange, callback, startX = 0, startY = 0,\n  }) {\n    const { rows, cols, cells } = this;\n    const {\n      sri, eri, sci, eci,\n    } = rectRange;\n    let y = startY;\n    for (let i = sri; i <= eri; i += 1) {\n      const height = rows.getHeight(i);\n      let x = startX;\n      for (let j = sci; j <= eci; j += 1) {\n        const width = cols.getWidth(j);\n        const cell = cells.getCell(i, j);\n        if (cell) {\n          const rect = new Rect({ x, y, width, height });\n          const overFlow = this.getCellOverFlow(i, j, rect, cell);\n          const result = callback(i, j, cell, rect, overFlow);\n          if (result === false) {\n            return;\n          }\n        }\n        x += width;\n      }\n      y += height;\n    }\n  }\n\n  getCellOrNewCellByViewRange({\n    rectRange, callback, startX = 0, startY = 0,\n  }) {\n    const { rows, cols, cells } = this;\n    const {\n      sri, eri, sci, eci,\n    } = rectRange;\n    let y = startY;\n    for (let i = sri; i <= eri; i += 1) {\n      const height = rows.getHeight(i);\n      let x = startX;\n      for (let j = sci; j <= eci; j += 1) {\n        const width = cols.getWidth(j);\n        const cell = cells.getCellOrNew(i, j);\n        const rect = new Rect({ x, y, width, height });\n        const overFlow = this.getCellOverFlow(i, j, rect, cell);\n        const result = callback(i, j, cell, rect, overFlow);\n        if (result === false) {\n          return;\n        }\n        x += width;\n      }\n      y += height;\n    }\n  }\n\n  getMergeCellByViewRange({\n    rectRange, callback, startX = 0, startY = 0,\n  }) {\n    const { rows, cols, cells, merges } = this;\n    const {\n      sri, eri, sci, eci,\n    } = rectRange;\n    const filter = [];\n    for (let i = sri; i <= eri; i += 1) {\n      for (let j = sci; j <= eci; j += 1) {\n        const merge = merges.getFirstIncludes(i, j);\n        if (merge && !filter.find(item => item === merge)) {\n          filter.push(merge);\n          const cell = cells.getCellOrNew(merge.sri, merge.sci);\n          const width = cols.sectionSumWidth(merge.sci, merge.eci);\n          const height = rows.sectionSumHeight(merge.sri, merge.eri);\n          const minSri = Math.min(rectRange.sri, merge.sri);\n          const minSci = Math.min(rectRange.sci, merge.sci);\n          let maxSri = Math.max(rectRange.sri, merge.sri);\n          let maxSci = Math.max(rectRange.sci, merge.sci);\n          maxSri -= 1;\n          maxSci -= 1;\n          let x = cols.sectionSumWidth(minSci, maxSci);\n          let y = rows.sectionSumHeight(minSri, maxSri);\n          x = rectRange.sci > merge.sci ? x * -1 : x;\n          y = rectRange.sri > merge.sri ? y * -1 : y;\n          x += startX;\n          y += startY;\n          const rect = new Rect({ x, y, width, height });\n          callback(rect, cell);\n        }\n      }\n    }\n  }\n\n  getCellSkipMergeCellByViewRange({\n    rectRange, callback, startX = 0, startY = 0,\n  }) {\n    const { merges } = this;\n    this.getCellByViewRange({\n      rectRange,\n      callback: (ri, ci, cell, rect, overflow) => {\n        const merge = merges.getFirstIncludes(ri, ci);\n        if (merge === null) {\n          callback(ri, ci, cell, rect, overflow);\n        }\n      },\n      startX,\n      startY,\n    });\n  }\n}\n\nexport { CellsHelper };\n","/**\n * GridLineHandle\n * @author jerry\n */\nclass GridLineHandle {\n\n  /**\n   * GridLineHandle\n   * @param table\n   */\n  constructor(table) {\n    this.table = table;\n  }\n\n  /**\n   * 检查垂直线段是否需要绘制\n   * @param ci\n   * @param ri\n   * @returns {boolean}\n   */\n  vLineBorderChecked(ci, ri) {\n    const { table } = this;\n    const { cells } = table;\n    const cell = cells.getMergeCellOrCell(ri, ci);\n    const nextCell = cells.getMergeCellOrCell(ri, ci + 1);\n    // 跳过绘制边框的单元格\n    if (cell && nextCell) {\n      return !(cell.borderAttr.right.display || nextCell.borderAttr.left.display);\n    }\n    if (cell) {\n      return !cell.borderAttr.right.display;\n    }\n    if (nextCell) {\n      return !nextCell.borderAttr.left.display;\n    }\n    return true;\n  }\n\n  /**\n   * 检查水平线段是否需要绘制\n   * @param ri\n   * @param ci\n   * @returns {boolean}\n   */\n  hLineBorderChecked(ri, ci) {\n    const { table } = this;\n    const { cells } = table;\n    const cell = cells.getMergeCellOrCell(ri, ci);\n    const nextCell = cells.getMergeCellOrCell(ri + 1, ci);\n    // 跳过绘制边框的单元格\n    if (cell && nextCell) {\n      return !(cell.borderAttr.bottom.display || nextCell.borderAttr.top.display);\n    }\n    if (cell) {\n      return !cell.borderAttr.bottom.display;\n    }\n    if (nextCell) {\n      return !nextCell.borderAttr.top.display;\n    }\n    return true;\n  }\n\n  /**\n   * 水平线段位置计算\n   * @param viewRange\n   * @param bx\n   * @param by\n   * @param filter\n   * @returns {[]}\n   */\n  gridHLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table } = this;\n    const { lineHandle, cols, rows } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    let breakpoint;\n    lineHandle.hEach({\n      viewRange,\n      newRow: (row, y) => {\n        const height = rows.getHeight(row);\n        sx = bx;\n        sy = by + y + height;\n        ex = sx;\n        ey = sy;\n        breakpoint = false;\n      },\n      filter,\n      jump: (row, col) => {\n        if (breakpoint) {\n          breakpoint = false;\n          line.push({ sx, sy, ex, ey });\n        }\n        const width = cols.getWidth(col);\n        sx = ex + width;\n        ex = sx;\n      },\n      handle: (row, col) => {\n        breakpoint = true;\n        const width = cols.getWidth(col);\n        ex += width;\n      },\n      endRow: () => {\n        if (breakpoint) {\n          line.push({ sx, sy, ex, ey });\n        }\n      },\n    });\n    return line;\n  }\n\n  /**\n   * 垂直线段位置计算\n   * @param viewRange\n   * @param bx\n   * @param by\n   * @param filter\n   * @returns {[]}\n   */\n  gridVLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table } = this;\n    const { lineHandle, cols, rows } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    let breakpoint;\n    lineHandle.vEach({\n      viewRange,\n      newCol: (col, x) => {\n        const width = cols.getWidth(col);\n        sx = bx + x + width;\n        sy = by;\n        ex = sx;\n        ey = sy;\n        breakpoint = false;\n      },\n      filter,\n      jump: (col, row) => {\n        if (breakpoint) {\n          breakpoint = false;\n          line.push({ sx, sy, ex, ey });\n        }\n        const height = rows.getHeight(row);\n        sy = ey + height;\n        ey = sy;\n      },\n      handle: (col, row) => {\n        breakpoint = true;\n        const height = rows.getHeight(row);\n        ey += height;\n      },\n      endCol: () => {\n        if (breakpoint) {\n          line.push({ sx, sy, ex, ey });\n        }\n      },\n    });\n    return line;\n  }\n\n  /**\n   * 水平线段位置计算\n   * 检查水平线段是否需要绘制\n   * @param viewRange\n   * @returns {*[]}\n   */\n  hLine(viewRange) {\n    const { table } = this;\n    const { merges } = table;\n    return this.gridHLine(viewRange, 0, 0, (ri, ci) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      if (merge) {\n        return false;\n      }\n      return this.hLineBorderChecked(ri, ci);\n    });\n  }\n\n  /**\n   * 垂直线段位置计算\n   * 检查水平线段是否需要绘制\n   * @param viewRange\n   * @returns {*[]}\n   */\n  vLine(viewRange) {\n    const { table } = this;\n    const { merges, lineHandle } = table;\n    return this.gridVLine(viewRange, 0, 0, (ci, ri) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      if (merge) {\n        return false;\n      }\n      if (!this.vLineBorderChecked(ci, ri)) {\n        return false;\n      }\n      return lineHandle.vLineRightOverFlowChecked(ci, ri);\n    });\n  }\n\n  /**\n   * 水平合并单元格线段位置计算\n   * 检查水平线段是否需要绘制\n   * @param mergesBrink\n   * @returns {*[]}\n   */\n  hMergeLine(mergesBrink) {\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { bottom } = brink;\n      if (bottom) {\n        const { view, x, y } = bottom;\n        const item = this.gridHLine(view, x, y, (ri, ci) => this.hLineBorderChecked(ri, ci));\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  /**\n   *  垂直合并单元格线段位置计算\n   * 检查水平线段是否需要绘制\n   * @param mergesBrink\n   * @returns {*[]}\n   */\n  vMergeLine(mergesBrink) {\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { right } = brink;\n      if (right) {\n        const { view, x, y } = right;\n        const item = this.gridVLine(view, x, y, (ci, ri) => this.vLineBorderChecked(ci, ri));\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n}\n\nexport {\n  GridLineHandle,\n};\n","\n/**\n * BorderLineHandle\n * @author jerry\n */\nclass BorderLineHandle {\n\n  constructor(table) {\n    this.table = table;\n    this.drawOptimization = true;\n    this.borderOptimization = true;\n  }\n\n  borderHTLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, cols, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.hEach({\n      viewRange,\n      newRow: (row, y) => {\n        sx = bx;\n        sy = by + y;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (row, col) => {\n        const width = cols.getWidth(col);\n        sx = ex + width;\n        ex = sx;\n      },\n      handle: (row, col) => {\n        const width = cols.getWidth(col);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ex += width;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sx = ex;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = item.borderAttr.top.equal(last.borderAttr.top);\n        const ck2 = item.col - last.col === 1;\n        const ck3 = item.row === last.row;\n        if (ck1 && ck2 && ck3) {\n          last.ex = item.ex;\n          last.col = item.col;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  borderHBLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, cols, rows, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.hEach({\n      viewRange,\n      newRow: (row, y) => {\n        const height = rows.getHeight(row);\n        sx = bx;\n        sy = by + y + height;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (row, col) => {\n        const width = cols.getWidth(col);\n        sx = ex + width;\n        ex = sx;\n      },\n      handle: (row, col) => {\n        const width = cols.getWidth(col);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ex += width;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sx = ex;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = item.borderAttr.bottom.equal(last.borderAttr.bottom);\n        const ck2 = item.col - last.col === 1;\n        const ck3 = item.row === last.row;\n        if (ck1 && ck2 && ck3) {\n          last.ex = item.ex;\n          last.col = item.col;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  borderVLLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, rows, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.vEach({\n      viewRange,\n      newCol: (col, x) => {\n        sx = bx + x;\n        sy = by;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (col, row) => {\n        const height = rows.getHeight(row);\n        sy = ey + height;\n        ey = sy;\n      },\n      handle: (col, row) => {\n        const height = rows.getHeight(row);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ey += height;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sy = ey;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = item.borderAttr.left.equal(last.borderAttr.left);\n        const ck2 = item.row - last.row === 1;\n        const ck3 = item.col === last.col;\n        if (ck1 && ck2 && ck3) {\n          last.ey = item.ey;\n          last.row = item.row;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  borderVRLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, rows, cols, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.vEach({\n      viewRange,\n      newCol: (col, x) => {\n        const width = cols.getWidth(col);\n        sx = bx + x + width;\n        sy = by;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (col, row) => {\n        const height = rows.getHeight(row);\n        sy = ey + height;\n        ey = sy;\n      },\n      handle: (col, row) => {\n        const height = rows.getHeight(row);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ey += height;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sy = ey;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = item.borderAttr.right.equal(last.borderAttr.right);\n        const ck2 = item.row - last.row === 1;\n        const ck3 = item.col === last.col;\n        if (ck1 && ck2 && ck3) {\n          last.ey = item.ey;\n          last.row = item.row;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  htLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells } = table;\n    return this.borderHTLine(viewRange, 0, 0, (ri, ci) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      const cell = cells.getMergeCellOrCell(ri, ci);\n      const nextCell = cells.getMergeCellOrCell(ri - 1, ci);\n      // 跳过合并单元格\n      if (!cell || merge) {\n        return false;\n      }\n      // 边框绘制优先级比较\n      if (nextCell && borderOptimization) {\n        const display = cell.borderAttr.top.display && nextCell.borderAttr.bottom.display;\n        const compareTime = cell.borderAttr.top.compareTime(nextCell.borderAttr.bottom);\n        if (display) {\n          return compareTime === 1;\n        }\n      }\n      // 边框是否显示\n      return cell.borderAttr.top.display;\n    });\n  }\n\n  hbLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells } = table;\n    return this.borderHBLine(viewRange, 0, 0, (ri, ci) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      const cell = cells.getMergeCellOrCell(ri, ci);\n      const nextCell = cells.getMergeCellOrCell(ri + 1, ci);\n      // 跳过合并单元格\n      if (!cell || merge) {\n        return false;\n      }\n      // 边框绘制优先级比较\n      if (nextCell && borderOptimization) {\n        const display = cell.borderAttr.bottom.display && nextCell.borderAttr.top.display;\n        const compareTime = cell.borderAttr.bottom.compareTime(nextCell.borderAttr.top);\n        if (display) {\n          return compareTime === 1 || compareTime === 0;\n        }\n      }\n      // 边框是否显示\n      return cell.borderAttr.bottom.display;\n    });\n  }\n\n  vlLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells, lineHandle } = table;\n    return this.borderVLLine(viewRange, 0, 0, (ci, ri) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      const cell = cells.getMergeCellOrCell(ri, ci);\n      const nextCell = cells.getMergeCellOrCell(ri, ci - 1);\n      // 跳过合并单元格\n      if (!cell || merge) {\n        return false;\n      }\n      // 边框绘制优先级比较\n      if (nextCell && borderOptimization) {\n        const display = cell.borderAttr.left.display && nextCell.borderAttr.right.display;\n        // 是否左右两边线段都需要显示\n        if (display) {\n          // 检查两个边框的更新时间\n          // 由更新时间判断优先显示\n          // 那边的边框\n          const compareTime = cell.borderAttr.left.compareTime(nextCell.borderAttr.right);\n          const diff = compareTime === 1;\n          if (diff) {\n            return lineHandle.vLineLeftOverFlowChecked(ci, ri);\n          }\n          return false;\n        }\n      }\n      // 边框是否显示\n      if (cell.borderAttr.left.display) {\n        return lineHandle.vLineLeftOverFlowChecked(ci, ri);\n      }\n      return cell.borderAttr.left.display;\n    });\n  }\n\n  vrLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells, lineHandle } = table;\n    return this.borderVRLine(viewRange, 0, 0, (ci, ri) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      const cell = cells.getMergeCellOrCell(ri, ci);\n      const nextCell = cells.getMergeCellOrCell(ri, ci + 1);\n      // 跳过合并单元格\n      if (!cell || merge) {\n        return false;\n      }\n      // 边框绘制优先级比较\n      if (nextCell && borderOptimization) {\n        const display = cell.borderAttr.right.display && nextCell.borderAttr.left.display;\n        // 是否左右两边线段都需要显示\n        if (display) {\n          // 检查两个边框的更新时间\n          // 由更新时间判断优先显示\n          // 那边的边框\n          const compareTime = cell.borderAttr.right.compareTime(nextCell.borderAttr.left);\n          const diff = compareTime === 1 || compareTime === 0;\n          if (diff) {\n            return lineHandle.vLineRightOverFlowChecked(ci, ri);\n          }\n          return false;\n        }\n      }\n      // 边框是否显示\n      if (cell.borderAttr.right.display) {\n        return lineHandle.vLineRightOverFlowChecked(ci, ri);\n      }\n      return cell.borderAttr.right.display;\n    });\n  }\n\n  htMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { top } = brink;\n      if (top) {\n        const item = this.borderHTLine(top.view, top.x, top.y, (ri, ci) => {\n          const cell = cells.getCell(ri, ci);\n          const nextCell = cells.getCell(ri - 1, ci);\n          if (!cell) {\n            return false;\n          }\n          // 边框绘制优先级比较\n          if (nextCell && borderOptimization) {\n            const display = cell.borderAttr.top.display && nextCell.borderAttr.bottom.display;\n            const compareTime = cell.borderAttr.top.compareTime(nextCell.borderAttr.bottom);\n            if (display) {\n              return compareTime === 1;\n            }\n          }\n          // 边框是否显示\n          return cell.borderAttr.top.display;\n        });\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  hbMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { bottom } = brink;\n      if (bottom) {\n        const item = this.borderHBLine(bottom.view, bottom.x, bottom.y, (ri, ci) => {\n          const cell = cells.getCell(ri, ci);\n          const nextCell = cells.getCell(ri + 1, ci);\n          if (!cell) {\n            return false;\n          }\n          // 边框绘制优先级比较\n          if (nextCell && borderOptimization) {\n            const display = cell.borderAttr.bottom.display && nextCell.borderAttr.top.display;\n            const compareTime = cell.borderAttr.bottom.compareTime(nextCell.borderAttr.top);\n            if (display) {\n              return compareTime === 1 || compareTime === 0;\n            }\n          }\n          // 边框是否显示\n          return cell.borderAttr.bottom.display;\n        });\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  vlMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { left } = brink;\n      if (left) {\n        const item = this.borderVLLine(left.view, left.x, left.y, (ci, ri) => {\n          const cell = cells.getCell(ri, ci);\n          const nextCell = cells.getCell(ri, ci - 1);\n          if (!cell) {\n            return false;\n          }\n          // 边框绘制优先级比较\n          if (nextCell && borderOptimization) {\n            const display = cell.borderAttr.left.display && nextCell.borderAttr.right.display;\n            const compareTime = cell.borderAttr.left.compareTime(nextCell.borderAttr.right);\n            if (display) {\n              return compareTime === 1;\n            }\n          }\n          // 边框是否显示\n          return cell.borderAttr.left.display;\n        });\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  vrMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { right } = brink;\n      if (right) {\n        const item = this.borderVRLine(right.view, right.x, right.y, (ci, ri) => {\n          const cell = cells.getCell(ri, ci);\n          const nextCell = cells.getCell(ri, ci + 1);\n          if (!cell) {\n            return false;\n          }\n          // 边框绘制优先级比较\n          if (nextCell && borderOptimization) {\n            const display = cell.borderAttr.right.display && nextCell.borderAttr.left.display;\n            const compareTime = cell.borderAttr.right.compareTime(nextCell.borderAttr.left);\n            if (display) {\n              return compareTime === 1 || compareTime === 0;\n            }\n          }\n          // 边框是否显示\n          return cell.borderAttr.right.display;\n        });\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  openDrawOptimization() {\n    this.drawOptimization = true;\n  }\n\n  closeDrawOptimization() {\n    this.drawOptimization = false;\n  }\n\n  openBorderOptimization() {\n    this.borderOptimization = true;\n  }\n\n  closeBorderOptimization() {\n    this.borderOptimization = false;\n  }\n}\n\nexport { BorderLineHandle };\n","class TableCellDataProxy {\n\n  constructor(table, option = {\n    on: {\n      setCell() {},\n    },\n  }) {\n    this.table = table;\n    this.option = option;\n  }\n\n  setCell(ri, ci, newCell) {\n    const { option, table } = this;\n    const { on } = option;\n    const { setCell } = on;\n    const { cells } = table;\n    const oldCell = cells.getCell(ri, ci);\n    setCell(ri, ci, oldCell, newCell);\n    cells.setCellOrNew(ri, ci, newCell);\n  }\n}\n\nexport { TableCellDataProxy };\n","class CellDataRecord {\n  constructor({ ri, ci, oldCell, newCell }) {\n    this.ri = ri;\n    this.ci = ci;\n    this.oldCell = oldCell;\n    this.newCell = newCell;\n  }\n}\n\nexport { CellDataRecord };\n","const MERGE_RECORD_TYPE = {\n  ADD: Symbol('添加一个合并单元格'),\n  DELETE: Symbol('删除一个合并单元格'),\n};\n\nclass MergeDataRecord {\n  constructor({ merge, recordType }) {\n    this.merge = merge;\n    this.recordType = recordType;\n  }\n}\n\nexport {\n  MergeDataRecord,\n  MERGE_RECORD_TYPE,\n};\n","class TableMergeDataProxy {\n\n  constructor(table, option = {\n    on: {\n      addMerge() {},\n      deleteMerge() {},\n    },\n  }) {\n    this.table = table;\n    this.option = option;\n  }\n\n  deleteMerge(merge) {\n    const { option, table } = this;\n    const { on } = option;\n    const { deleteMerge } = on;\n    const { merges } = table;\n    deleteMerge(merge);\n    merges.deleteIntersects(merge);\n  }\n\n  addMerge(merge) {\n    const { option, table } = this;\n    const { on } = option;\n    const { addMerge } = on;\n    const { merges } = table;\n    addMerge(merge);\n    merges.add(merge);\n  }\n}\n\nexport { TableMergeDataProxy };\n","import { Constant } from '../../../utils/Constant';\nimport { TableCellDataProxy } from './proxy/TableCellDataProxy';\nimport { CellDataRecord } from './record/CellDataRecord';\nimport { MERGE_RECORD_TYPE, MergeDataRecord } from './record/MergeDataRecord';\nimport { ChartDataRecord } from './record/ChartDataRecord';\nimport { TableMergeDataProxy } from './proxy/TableMergeDataProxy';\n\nclass TableDataSnapshot {\n\n  constructor(table) {\n    this.record = false;\n    this.backLayerStack = [];\n    this.goLayerStack = [];\n    this.recordLayer = [];\n    this.table = table;\n    this.mergeDataProxy = new TableMergeDataProxy(table, {\n      on: {\n        addMerge: (merge) => {\n          if (this.record === false) return;\n          const { recordLayer } = this;\n          recordLayer.push(new MergeDataRecord({ merge, recordType: MERGE_RECORD_TYPE.ADD }));\n        },\n        deleteMerge: (merge) => {\n          if (this.record === false) return;\n          const { recordLayer } = this;\n          recordLayer.push(new MergeDataRecord({ merge, recordType: MERGE_RECORD_TYPE.DELETE }));\n        },\n      },\n    });\n    this.cellDataProxy = new TableCellDataProxy(table, {\n      on: {\n        setCell: (ri, ci, oldCell, newCell) => {\n          if (this.record === false) return;\n          const { recordLayer } = this;\n          recordLayer.push(new CellDataRecord({ ri, ci, oldCell, newCell }));\n        },\n      },\n    });\n  }\n\n  back() {\n    const { backLayerStack, goLayerStack, table } = this;\n    const { cells, merges } = table;\n    const layer = backLayerStack.pop();\n    for (let i = 0, len = layer.length; i < len; i += 1) {\n      const item = layer[i];\n      // 单元格元素\n      if (item instanceof CellDataRecord) {\n        const { ri, ci, oldCell } = item;\n        cells.setCellOrNew(ri, ci, oldCell);\n        continue;\n      }\n      // 合并单元格元素\n      if (item instanceof MergeDataRecord) {\n        const { merge, recordType } = item;\n        switch (recordType) {\n          case MERGE_RECORD_TYPE.ADD:\n            merges.deleteIntersects(merge);\n            break;\n          case MERGE_RECORD_TYPE.DELETE:\n            merges.add(merge);\n            break;\n          default: break;\n        }\n        continue;\n      }\n      // 图表元素\n      if (item instanceof ChartDataRecord) {\n        // TODO...\n        // ...\n      }\n    }\n    goLayerStack.push(layer);\n    table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n    table.render();\n  }\n\n  go() {\n    const { backLayerStack, goLayerStack, table } = this;\n    const { cells, merges } = table;\n    const layer = goLayerStack.pop();\n    for (let i = 0, len = layer.length; i < len; i += 1) {\n      const item = layer[i];\n      // 单元格元素\n      if (item instanceof CellDataRecord) {\n        const { ri, ci, newCell } = item;\n        cells.setCellOrNew(ri, ci, newCell);\n        continue;\n      }\n      // 合并单元格元素\n      if (item instanceof MergeDataRecord) {\n        const { merge, recordType } = item;\n        switch (recordType) {\n          case MERGE_RECORD_TYPE.ADD:\n            merges.add(merge);\n            break;\n          case MERGE_RECORD_TYPE.DELETE:\n            merges.deleteIntersects(merge);\n            break;\n          default: break;\n        }\n        continue;\n      }\n      // 图表元素\n      if (item instanceof ChartDataRecord) {\n        // TODO...\n        // ...\n      }\n    }\n    backLayerStack.push(layer);\n    table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n    table.render();\n  }\n\n  end() {\n    const { table, recordLayer, backLayerStack } = this;\n    this.record = false;\n    if (recordLayer.length) {\n      backLayerStack.push(recordLayer);\n    }\n    this.recordLayer = [];\n    table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n  }\n\n  begin() {\n    this.record = true;\n    this.goLayerStack = [];\n  }\n\n  canBack() {\n    const { backLayerStack } = this;\n    return backLayerStack.length !== 0;\n  }\n\n  canGo() {\n    const { goLayerStack } = this;\n    return goLayerStack.length !== 0;\n  }\n}\n\nexport { TableDataSnapshot };\n","import { cssPrefix } from '../../config';\nimport Format from './Format';\nimport { Utils } from '../../utils/Utils';\nimport { Rows } from './Rows';\nimport { Cols } from './Cols';\nimport { Scroll } from './Scroll';\nimport { Fixed } from './Fixed';\nimport { h } from '../../lib/Element';\nimport { Widget } from '../../lib/Widget';\nimport { RectRange } from './RectRange';\nimport { Merges } from './Merges';\nimport { Constant } from '../../utils/Constant';\nimport { EventBind } from '../../utils/EventBind';\nimport { Screen } from './screen/Screen';\nimport { ScreenSelector } from './selector/ScreenSelector';\nimport { ScreenCopyStyle } from './copystyle/ScreenCopyStyle';\nimport { XReSizer } from './resizer/XReSizer';\nimport { YReSizer } from './resizer/YReSizer';\nimport { MousePointType } from './MousePoint';\nimport { ScreenAutoFill } from './autofill/ScreenAutoFill';\nimport { XHeightLight } from './highlight/XHeightLight';\nimport { YHeightLight } from './highlight/YHeightLight';\nimport { Edit } from './Edit';\nimport { Draw, floor, npx } from '../../canvas/Draw';\nimport { ALIGN, Font, TEXT_WRAP } from '../../canvas/Font';\nimport { Rect } from '../../canvas/Rect';\nimport { Crop } from '../../canvas/Crop';\nimport { Grid } from '../../canvas/Grid';\nimport { Box } from '../../canvas/Box';\nimport { Line, LINE_TYPE } from '../../canvas/Line';\nimport { LineHandle } from './gridborder/LineHandle';\nimport { KeyboardManage } from './KeyboardManage';\nimport { Cells } from './cells/Cells';\nimport { CellsHelper } from './CellsHelper';\nimport { GridLineHandle } from './gridborder/GridLineHandle';\nimport { BorderLineHandle } from './gridborder/BorderLineHandle';\nimport { TableDataSnapshot } from './datasnapshot/TableDataSnapshot';\n\n/**\n * 绘制图表左上固定的部分\n */\nclass FrozenLeftTop {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { fixed, cols } = table;\n    const { fxLeft } = fixed;\n    return cols.sectionSumWidth(0, fxLeft);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { fixed, rows } = table;\n    const { fxTop } = fixed;\n    return rows.sectionSumHeight(0, fxTop);\n  }\n\n  getScrollViewRange() {\n    const width = this.getWidth();\n    const height = this.getHeight();\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop, fxLeft } = fixed;\n    return new RectRange(0, 0, fxTop, fxLeft, width, height);\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    draw.attr({\n      globalAlpha: 0.3,\n    });\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cellsHelper,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格背景\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    // 绘制合并单元格背景\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cellsHelper, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格文字\n    cellsHelper.getCellSkipMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect, overflow) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const { align } = fontAttr;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow,\n          attr: fontAttr,\n        });\n        cell.setOverflowCrop(align === ALIGN.center);\n        cell.setContentWidth(font.draw());\n      },\n    });\n    // 绘制合并单元格文字\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow: null,\n          attr: fontAttr,\n        });\n        font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n        cell.setContentWidth(font.draw());\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const viewRange = this.getScrollViewRange();\n    const rect = new Rect({\n      x: offsetX,\n      y: offsetY,\n      width: viewRange.w,\n      height: viewRange.h,\n    });\n    const crop = new Crop({ draw, rect, offset: grid.lineWidth() });\n    crop.open();\n    this.drawBackGround(viewRange, offsetX, offsetY);\n    this.drawCells(viewRange, offsetX, offsetY);\n    if (settings.table.showGrid) {\n      this.drawGrid(viewRange, offsetX, offsetY);\n    }\n    this.drawBorder(viewRange, offsetX, offsetY);\n    crop.close();\n  }\n}\n\n/**\n * 绘制图表左边冻结的部分\n */\nclass FixedLeft {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const { width } = index;\n    return width;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { content } = table;\n    return content.getYOffset();\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    // console.log('table.cols >>>', table.cols);\n    return table.cols.sectionSumWidth(0, fxLeft);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const viewRange = table.getContentViewRange();\n    return viewRange.h;\n  }\n\n  getScrollViewRange() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    const viewRange = table.getScrollViewRange();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sci = 0;\n    viewRange.eci = fxLeft;\n    viewRange.w = width;\n    viewRange.h = height;\n    return viewRange;\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    draw.attr({\n      globalAlpha: 0.3,\n    });\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cellsHelper,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格背景\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    // 绘制合并单元格背景\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cellsHelper, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格文字\n    cellsHelper.getCellSkipMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect, overflow) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const { align } = fontAttr;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow,\n          attr: fontAttr,\n        });\n        cell.setOverflowCrop(align === ALIGN.center);\n        cell.setContentWidth(font.draw());\n      },\n    });\n    // 绘制合并单元格文字\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow: null,\n          attr: fontAttr,\n        });\n        font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n        cell.setContentWidth(font.draw());\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, settings } = table;\n    const viewRange = this.getScrollViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const rect = new Rect({\n      x: offsetX,\n      y: offsetY,\n      width: viewRange.w,\n      height: viewRange.h,\n    });\n    const crop = new Crop({ draw, rect });\n    crop.open();\n    this.drawBackGround(viewRange, offsetX, offsetY);\n    this.drawCells(viewRange, offsetX, offsetY);\n    if (settings.table.showGrid) {\n      this.drawGrid(viewRange, offsetX, offsetY);\n    }\n    this.drawBorder(viewRange, offsetX, offsetY);\n    crop.close();\n  }\n}\n\n/**\n * 绘制图表的主体内容\n */\nclass Content {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxLeft } = fixed;\n    const { width } = index;\n    const fixedLeftWidth = table.cols.sectionSumWidth(0, fxLeft);\n    return fixedLeftWidth + width;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxTop } = fixed;\n    const { height } = index;\n    const fixedTopHeight = table.rows.sectionSumHeight(0, fxTop);\n    return height + fixedTopHeight;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxLeft } = fixed;\n    const { width } = index;\n    const fixedLeftWidth = table.cols.sectionSumWidth(0, fxLeft);\n    return table.visualWidth() - (fixedLeftWidth + width);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxTop } = fixed;\n    const { height } = index;\n    const fixedTopHeight = table.rows.sectionSumHeight(0, fxTop);\n    return table.visualHeight() - (height + fixedTopHeight);\n  }\n\n  getScrollViewRange() {\n    const { table } = this;\n    return table.getScrollViewRange();\n  }\n\n  getContentWidth() {\n    const { table } = this;\n    const { cols, fixed } = table;\n    const total = cols.totalWidth();\n    const fixedWidth = cols.sectionSumWidth(0, fixed.fxLeft);\n    return total - fixedWidth;\n  }\n\n  getContentHeight() {\n    const { table } = this;\n    const { rows, fixed } = table;\n    const total = rows.totalHeight();\n    const fixedHeight = rows.sectionSumHeight(0, fixed.fxTop);\n    return total - fixedHeight;\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    draw.attr({\n      globalAlpha: 0.3,\n    });\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cellsHelper,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格背景\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    // 绘制合并单元格背景\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, scrollViewXOffset, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cellsHelper, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格文字\n    cellsHelper.getCellSkipMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect, overflow) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const { align } = fontAttr;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow,\n          attr: fontAttr,\n        });\n        font.setOverflowCrop(align === ALIGN.center);\n        cell.setContentWidth(font.draw());\n        // Test\n        // draw.attr({ globalAlpha: 0.3 });\n        // draw.fillRect(rect.x, rect.y, cell.contentWidth, rect.height);\n      },\n      startX: scrollViewXOffset,\n    });\n    // 绘制合并单元格文字\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // console.log('rect >>>', rect);\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow: null,\n          attr: fontAttr,\n        });\n        font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n        cell.setContentWidth(font.draw());\n      },\n      startX: scrollViewXOffset,\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const scrollViewXOffset = table.getScrollViewXOffset();\n    const scrollViewRange = this.getScrollViewRange();\n    const contentViewRange = table.getContentViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = scrollViewRange.w;\n    const height = scrollViewRange.h;\n    const rect = new Rect({\n      x: offsetX,\n      y: offsetY,\n      width,\n      height,\n    });\n    const crop = new Crop({ draw, rect, offset: grid.lineWidth() });\n    crop.open();\n    this.drawBackGround(scrollViewRange, offsetX, offsetY);\n    this.drawCells(contentViewRange, scrollViewXOffset, offsetX, offsetY);\n    if (settings.table.showGrid) {\n      this.drawGrid(scrollViewRange, offsetX, offsetY);\n    }\n    this.drawBorder(scrollViewRange, offsetX, offsetY);\n    crop.close();\n  }\n}\n\n/**\n * 绘制图表顶部冻结的部分\n */\nclass FixedTop {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { content } = table;\n    return content.getXOffset();\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const { height } = index;\n    return height;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const viewRange = table.getContentViewRange();\n    return viewRange.w;\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    return table.rows.sectionSumHeight(0, fxTop);\n  }\n\n  getScrollViewRange() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const viewRange = table.getScrollViewRange();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sri = 0;\n    viewRange.eri = fxTop;\n    viewRange.w = width;\n    viewRange.h = height;\n    return viewRange;\n  }\n\n  getContentViewRange() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const viewRange = table.getContentViewRange();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sri = 0;\n    viewRange.eri = fxTop;\n    viewRange.w = width;\n    viewRange.h = height;\n    return viewRange;\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    draw.attr({\n      globalAlpha: 0.3,\n    });\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cellsHelper,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格背景\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    // 绘制合并单元格背景\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, scrollViewXOffset, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cellsHelper, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格文字\n    cellsHelper.getCellSkipMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect, overflow) => {\n        // console.log('rect>>>', rect);\n        // console.log('i, c', i, c);\n        // 绘制文字\n        const { fontAttr } = cell;\n        const { align } = fontAttr;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow,\n          attr: fontAttr,\n        });\n        font.setOverflowCrop(align === ALIGN.center);\n        cell.setContentWidth(font.draw());\n      },\n      startX: scrollViewXOffset,\n    });\n    // 绘制合并单元格文字\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow: null,\n          attr: fontAttr,\n        });\n        font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n        cell.setContentWidth(font.draw());\n      },\n      startX: scrollViewXOffset,\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const scrollViewXOffset = table.getScrollViewXOffset();\n    const scrollViewRange = this.getScrollViewRange();\n    const contentViewRange = this.getContentViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const rect = new Rect({\n      x: offsetX,\n      y: offsetY,\n      width: scrollViewRange.w,\n      height: scrollViewRange.h,\n    });\n    const crop = new Crop({ draw, rect, offset: grid.lineWidth() });\n    crop.open();\n    this.drawBackGround(scrollViewRange, offsetX, offsetY);\n    this.drawCells(contentViewRange, scrollViewXOffset, offsetX, offsetY);\n    if (settings.table.showGrid) {\n      this.drawGrid(scrollViewRange, offsetX, offsetY);\n    }\n    this.drawBorder(scrollViewRange, offsetX, offsetY);\n    crop.close();\n  }\n}\n\n/**\n * 绘制图表左边固定的索引栏\n */\nclass FrozenLeftIndex {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    return 0;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    return table.rows.sectionSumHeight(0, fxTop);\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, rows, settings,\n    } = table;\n    const { sri, eri } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      draw.fillText(i + 1, width / 2, y + (ch / 2));\n    });\n    // 绘制边框\n    let lineHeight = 0;\n    draw.attr({\n      globalAlpha: 0.3,\n      strokeStyle: settings.table.borderColor,\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      lineHeight += ch;\n      grid.horizontalLine(0, y, width, y);\n    });\n    grid.verticalLine(width, 0, width, lineHeight);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    const viewRange = new RectRange(0, 0, fxTop, 0, width, height);\n    this.draw(viewRange, offsetX, offsetY, width, height);\n  }\n}\n\n/**\n * 绘制图表顶部的索引栏\n */\nclass FrozenTopIndex {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getYOffset() {\n    return 0;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    return table.cols.sectionSumWidth(0, fxLeft);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, cols, settings,\n    } = table;\n    const { sci, eci } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      draw.fillText(Utils.stringAt(i), x + (cw / 2), height / 2);\n    });\n    // 绘制边框\n    let lineWidth = 0;\n    draw.attr({\n      globalAlpha: 0.3,\n      strokeStyle: settings.table.borderColor,\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      lineWidth += cw;\n      grid.verticalLine(x, 0, x, height);\n    });\n    grid.horizontalLine(0, height, lineWidth, height);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    const viewRange = new RectRange(0, 0, 0, fxLeft, width, height);\n    this.draw(viewRange, offsetX, offsetY, width, height);\n  }\n}\n\n/**\n * 绘制图表顶部固定的索引栏\n */\nclass FixedTopIndex {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { content } = table;\n    return content.getXOffset();\n  }\n\n  getYOffset() {\n    return 0;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const viewRange = table.getScrollViewRange();\n    const { sci, eci } = viewRange;\n    return table.cols.sectionSumWidth(sci, eci);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, cols, settings,\n    } = table;\n    const { sci, eci } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      draw.fillText(Utils.stringAt(i), x + (cw / 2), height / 2);\n    });\n    // 绘制边框\n    let lineWidth = 0;\n    draw.attr({\n      globalAlpha: 0.3,\n      strokeStyle: settings.table.borderColor,\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      lineWidth += cw;\n      grid.verticalLine(x, 0, x, height);\n      if (i === eci) grid.verticalLine(x + cw, 0, x + cw, height);\n    });\n    grid.horizontalLine(0, height, lineWidth, height);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const viewRange = table.getScrollViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sri = 0;\n    viewRange.eri = 0;\n    this.draw(viewRange, offsetX, offsetY, width, height);\n  }\n}\n\n/**\n * 绘制图表左边固定的索引栏\n */\nclass FixedLeftIndex {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    return 0;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { content } = table;\n    return content.getYOffset();\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getHeight() {\n    const { table } = this;\n    const viewRange = table.getScrollViewRange();\n    const { sri, eri } = viewRange;\n    return table.rows.sectionSumHeight(sri, eri);\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, rows, settings,\n    } = table;\n    const { sri, eri } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      draw.fillText(i + 1, width / 2, y + (ch / 2));\n    });\n    // 绘制边框\n    let lineHeight = 0;\n    draw.attr({\n      globalAlpha: 0.3,\n      strokeStyle: settings.table.borderColor,\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      lineHeight += ch;\n      grid.horizontalLine(0, y, width, y);\n      if (i === eri) grid.horizontalLine(0, y + ch, width, y + ch);\n    });\n    grid.verticalLine(width, 0, width, lineHeight);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const viewRange = table.getScrollViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sci = 0;\n    viewRange.eci = 0;\n    this.draw(viewRange, offsetX, offsetY, width, height);\n  }\n}\n\n/**\n * 绘制图片固定区域\n */\nclass FrozenRect {\n  constructor(table) {\n    this.table = table;\n  }\n\n  draw(offsetX, offsetY, width, height) {\n    const { table } = this;\n    const { draw } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f4f5f8',\n    });\n    draw.fillRect(0, 0, width, height);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    this.draw(0, 0, index.width, index.height);\n  }\n}\n\n/**\n * 默认设置\n * @type {{tipsRenderTime: boolean,\n * data: [],\n * tipsScrollTime: boolean,\n * index: {\n * bgColor: string,\n * color: string,\n * width: number,\n * height: number},\n * fixed: {\n * fxLeft: number,\n * fxTop: number,\n * }\n * rows: {len: number,\n * height: number},\n * cols: {len: number,\n * width: number},\n * table: {borderColor: string,\n * background: string,\n * showGrid: boolean}, merges: []}}\n */\nconst defaultSettings = {\n  tipsRenderTime: false,\n  tipsScrollTime: false,\n  index: {\n    height: 30,\n    width: 50,\n    bgColor: '#f4f5f8',\n    color: '#000000',\n  },\n  table: {\n    background: '#ffffff',\n    borderColor: '#a7a7a7',\n    showGrid: true,\n  },\n  data: [],\n  rows: {\n    len: 1000,\n    height: 30,\n  },\n  cols: {\n    len: 26,\n    width: 137,\n  },\n  merges: [],\n  fixed: {\n    fxTop: -1,\n    fxLeft: -1,\n  },\n};\n\n/**\n * Table\n * @author jerry\n */\nclass Table extends Widget {\n\n  constructor(settings) {\n    super(`${cssPrefix}-table`);\n\n    // 滚动区域\n    // 内容区域\n    // 滚动区域和内容区域的偏移量\n    this.scrollViewRange = null;\n    this.contentViewRange = null;\n    this.scrollViewXOffset = -1;\n\n    // 表格基本数据信息\n    this.canvas = h('canvas', `${cssPrefix}-table-canvas`);\n    this.settings = Utils.mergeDeep({}, defaultSettings, settings);\n    this.cells = new Cells({\n      table: this,\n      rows: this.rows,\n      cols: this.cols,\n      data: this.settings.data,\n    });\n    this.fixed = new Fixed(this.settings.fixed);\n    this.rows = new Rows(this.settings.rows);\n    this.cols = new Cols(this.settings.cols);\n    this.merges = new Merges(this.settings.merges);\n    this.scroll = new Scroll(this);\n\n    // 帮助类\n    this.cellsHelper = new CellsHelper({\n      cells: this.cells,\n      merges: this.merges,\n      rows: this.rows,\n      cols: this.cols,\n    });\n\n    // 表格线段处理\n    this.lineHandle = new LineHandle(this);\n    this.gridLineHandle = new GridLineHandle(this);\n    this.borderLineHandle = new BorderLineHandle(this);\n\n    // 数据快照\n    this.tableDataSnapshot = new TableDataSnapshot(this);\n    // 鼠标指针\n    this.mousePointType = new MousePointType(this);\n    // 键盘快捷键\n    this.keyboardManage = new KeyboardManage();\n\n    // canvas 绘制资源\n    this.draw = new Draw(this.canvas.el);\n    this.line = new Line(this.draw, {\n      leftShow: (ri, ci) => {\n        // 单元格是否存在\n        const cell = this.cells.getCell(ri, ci);\n        if (cell === null) {\n          return false;\n        }\n        // 是否是合并单元格\n        const merge = this.merges.getFirstIncludes(ri, ci);\n        if (merge) {\n          const mergeCell = this.cells.getCell(merge.sri, merge.sci);\n          return mergeCell.borderAttr.left.display;\n        }\n        // 检查边框是否需要绘制\n        if (cell.borderAttr.left.display) {\n          return this.lineHandle.vLineLeftOverFlowChecked(ci, ri);\n        }\n        return false;\n      },\n      topShow: (ri, ci) => {\n        const cell = this.cells.getMergeCellOrCell(ri, ci);\n        return cell && cell.borderAttr.top.display;\n      },\n      rightShow: (ri, ci) => {\n        // 单元格是否存在\n        const cell = this.cells.getCell(ri, ci);\n        if (cell === null) {\n          return false;\n        }\n        // 是否是合并单元格\n        const merge = this.merges.getFirstIncludes(ri, ci);\n        if (merge) {\n          const mergeCell = this.cells.getCell(merge.sri, merge.sci);\n          return mergeCell.borderAttr.right.display;\n        }\n        // 检查边框是否需要绘制\n        if (cell.borderAttr.right.display) {\n          return this.lineHandle.vLineRightOverFlowChecked(ci, ri);\n        }\n        return false;\n      },\n      bottomShow: (ri, ci) => {\n        const cell = this.cells.getMergeCellOrCell(ri, ci);\n        return cell && cell.borderAttr.bottom.display;\n      },\n      iFMerge: (row, col) => this.merges.getFirstIncludes(row, col) !== null,\n      iFMergeFirstRow: (row, col) => this.merges.getFirstIncludes(row, col).sri === row,\n      iFMergeLastRow: (row, col) => this.merges.getFirstIncludes(row, col).eri === row,\n      iFMergeFirstCol: (row, col) => this.merges.getFirstIncludes(row, col).sci === col,\n      iFMergeLastCol: (row, col) => this.merges.getFirstIncludes(row, col).eci === col,\n    });\n    this.grid = new Grid(this.draw, {\n      color: this.settings.table.borderColor,\n    });\n\n    // table表绘制的各个部分\n    this.content = new Content(this);\n    this.fixedLeft = new FixedLeft(this);\n    this.fixedTop = new FixedTop(this);\n    this.fixedTopIndex = new FixedTopIndex(this);\n    this.fixedLeftIndex = new FixedLeftIndex(this);\n    this.frozenLeftTop = new FrozenLeftTop(this);\n    this.frozenLeftIndex = new FrozenLeftIndex(this);\n    this.frozenTopIndex = new FrozenTopIndex(this);\n    this.frozenRect = new FrozenRect(this);\n\n    // table基础组件\n    this.screen = new Screen(this);\n    this.xReSizer = new XReSizer(this);\n    this.yReSizer = new YReSizer(this);\n    this.xHeightLight = new XHeightLight(this);\n    this.yHeightLight = new YHeightLight(this);\n    this.edit = new Edit(this);\n    this.children(this.canvas);\n    this.children(this.screen);\n    this.children(this.xReSizer);\n    this.children(this.yReSizer);\n    this.children(this.xHeightLight);\n    this.children(this.yHeightLight);\n    this.children(this.edit);\n\n    // 事件绑定\n    this.bind();\n  }\n\n  initScreenWidget() {\n    const { tableDataSnapshot } = this;\n    // 单元格筛选组件\n    const screenSelector = new ScreenSelector(this.screen);\n    screenSelector.addSelectChangeCb(() => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE);\n    });\n    screenSelector.addDownSelectCb(() => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN);\n    });\n    this.screen.addWidget(screenSelector);\n    // 自动填充组件\n    const screenAutoFill = new ScreenAutoFill(this.screen, {\n      onBeforeAutoFill: () => {\n        tableDataSnapshot.begin();\n      },\n      onAfterAutoFill: () => {\n        tableDataSnapshot.end();\n      },\n    });\n    this.screen.addWidget(screenAutoFill);\n    // 样式复制\n    const copyStyle = new ScreenCopyStyle(this.screen, {});\n    this.screen.addWidget(copyStyle);\n  }\n\n  init() {\n    this.initScreenWidget();\n    this.screen.init();\n    this.xReSizer.init();\n    this.yReSizer.init();\n    this.xHeightLight.init();\n    this.yHeightLight.init();\n    this.edit.init();\n    this.resize();\n  }\n\n  checkedEnableBorderDrawOptimization() {\n    const { cellsHelper } = this;\n    const viewRange = this.getContentViewRange();\n    let enable = true;\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (r, c, cell) => {\n        const { borderAttr } = cell;\n        const { top, left, right, bottom } = borderAttr;\n        if (top.type === LINE_TYPE.DOUBLE_LINE) {\n          enable = false;\n          return enable;\n        }\n        if (left.type === LINE_TYPE.DOUBLE_LINE) {\n          enable = false;\n          return enable;\n        }\n        if (right.type === LINE_TYPE.DOUBLE_LINE) {\n          enable = false;\n          return enable;\n        }\n        if (bottom.type === LINE_TYPE.DOUBLE_LINE) {\n          enable = false;\n          return enable;\n        }\n        return true;\n      },\n    });\n    if (enable) {\n      this.borderLineHandle.openDrawOptimization();\n    } else {\n      this.borderLineHandle.closeDrawOptimization();\n    }\n  }\n\n  scrollX(x) {\n    const {\n      cols, fixed, settings, scroll,\n    } = this;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.time();\n    }\n    let { fxLeft } = fixed;\n    fxLeft += 1;\n    const [\n      ci, left, width,\n    ] = Utils.rangeReduceIf(fxLeft, cols.len, 0, 0, x, i => cols.getWidth(i));\n    let x1 = left;\n    if (x > 0) x1 += width;\n    scroll.ci = ci;\n    scroll.x = x1;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.log('滚动条计算耗时:');\n      // eslint-disable-next-line no-console\n      console.timeEnd();\n    }\n    this.trigger(Constant.SYSTEM_EVENT_TYPE.SCROLL);\n  }\n\n  scrollY(y) {\n    const {\n      rows, fixed, settings, scroll,\n    } = this;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.time();\n    }\n    let { fxTop } = fixed;\n    fxTop += 1;\n    const [\n      ri, top, height,\n    ] = Utils.rangeReduceIf(fxTop, rows.len, 0, 0, y, i => rows.getHeight(i));\n    let y1 = top;\n    if (y > 0) y1 += height;\n    scroll.ri = ri;\n    scroll.y = y1;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.log('滚动条计算耗时:');\n      // eslint-disable-next-line no-console\n      console.timeEnd();\n    }\n    this.trigger(Constant.SYSTEM_EVENT_TYPE.SCROLL);\n  }\n\n  getContentViewRange() {\n    const { contentViewRange } = this;\n    if (contentViewRange !== null) {\n      return contentViewRange.clone();\n    }\n    const scrollViewRange = this.getScrollViewRange();\n    const {\n      sri, eri,\n    } = scrollViewRange;\n    const { cols } = this;\n    scrollViewRange.set(sri, 0, eri, cols.len);\n    scrollViewRange.w = cols.sectionSumWidth(0, scrollViewRange.eci);\n    this.contentViewRange = scrollViewRange;\n    return this.contentViewRange.clone();\n  }\n\n  getScrollViewRange() {\n    const { scrollViewRange } = this;\n    if (scrollViewRange !== null) {\n      return scrollViewRange.clone();\n    }\n    const {\n      rows, cols, scroll, content,\n    } = this;\n    let [width, height] = [0, 0];\n    const { ri, ci } = scroll;\n    let [eri, eci] = [rows.len, cols.len];\n    for (let i = ri; i < rows.len; i += 1) {\n      height += rows.getHeight(i);\n      eri = i;\n      if (height > content.getHeight()) break;\n    }\n    for (let j = ci; j < cols.len; j += 1) {\n      width += cols.getWidth(j);\n      eci = j;\n      if (width > content.getWidth()) break;\n    }\n    this.scrollViewRange = new RectRange(ri, ci, eri, eci, width, height);\n    return this.scrollViewRange.clone();\n  }\n\n  getScrollViewXOffset() {\n    const { scrollViewXOffset } = this;\n    if (scrollViewXOffset !== -1) {\n      return -scrollViewXOffset;\n    }\n    const { scroll, cols } = this;\n    const { ci } = scroll;\n    this.scrollViewXOffset = cols.sectionSumWidth(0, ci - 1);\n    return -this.scrollViewXOffset;\n  }\n\n  clearViewRange() {\n    this.scrollViewRange = null;\n    this.contentViewRange = null;\n    this.scrollViewXOffset = -1;\n  }\n\n  render() {\n    const { settings, fixed } = this;\n    if (settings.tipsRenderTime) {\n      // eslint-disable-next-line no-console\n      console.time();\n    }\n    this.checkedEnableBorderDrawOptimization();\n    this.clear();\n    this.frozenRect.render();\n    // 渲染固定冻结的内容\n    if (fixed.fxLeft > -1 && fixed.fxTop > -1) {\n      this.frozenLeftTop.render();\n    }\n    if (fixed.fxTop > -1) {\n      this.fixedTop.render();\n    }\n    if (fixed.fxLeft > -1) {\n      this.fixedLeft.render();\n    }\n    // 表格内容渲染\n    this.content.render();\n    // 冻结索引渲染\n    if (fixed.fxTop > -1) {\n      this.frozenTopIndex.render();\n    }\n    if (fixed.fxLeft > -1) {\n      this.frozenLeftIndex.render();\n    }\n    // 固定索引渲染\n    this.fixedLeftIndex.render();\n    this.fixedTopIndex.render();\n    if (settings.tipsRenderTime) {\n      // eslint-disable-next-line no-console\n      console.log('渲染界面耗时:');\n      // eslint-disable-next-line no-console\n      console.timeEnd();\n    }\n  }\n\n  resize() {\n    const { draw } = this;\n    const [width, height] = [this.visualWidth(), this.visualHeight()];\n    draw.resize(width, height);\n    this.clearViewRange();\n    this.render();\n  }\n\n  bind() {\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      const { x, y } = this.computeEventXy(e);\n      const { ri, ci } = this.getRiCiByXy(x, y);\n      if (ri === -1 && ci === -1) {\n        this.mousePointType.set('cell', 'table-cell');\n      } else if (ri === -1) {\n        this.mousePointType.set('s-resize', 'table-ci');\n      } else if (ci === -1) {\n        this.mousePointType.set('e-resize', 'table-ri');\n      } else {\n        this.mousePointType.set('cell', 'table-cell');\n      }\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      this.clearViewRange();\n      this.render();\n    });\n    EventBind.bind(this, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, () => {\n      this.clearViewRange();\n      this.render();\n    });\n    EventBind.bind(this, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, () => {\n      this.clearViewRange();\n      this.render();\n    });\n  }\n\n  clear() {\n    const { draw, settings } = this;\n    const { width, height } = draw;\n    draw.attr({\n      fillStyle: settings.table.background,\n    });\n    draw.fillRect(0, 0, width, height);\n  }\n\n  getContentWidth() {\n    return this.content.getContentWidth();\n  }\n\n  getContentHeight() {\n    return this.content.getContentHeight();\n  }\n\n  getRiCiByXy(x, y) {\n    const {\n      settings, fixed, rows, cols,\n    } = this;\n    const { index } = settings;\n    const fixedHeight = this.fixedTop.getHeight();\n    const fixedWidth = this.fixedLeft.getWidth();\n\n    let [left, top] = [x, y];\n    let [ci, ri] = [-1, -1];\n\n    left -= index.width;\n    top -= index.height;\n\n    // left\n    if (left <= fixedWidth && x > index.width) {\n      let total = 0;\n      for (let i = 0; i <= fixed.fxLeft; i += 1) {\n        const width = cols.getWidth(i);\n        total += width;\n        ci = i;\n        if (total > left) break;\n      }\n    } else if (x > index.width) {\n      let total = fixedWidth;\n      const viewRange = this.getScrollViewRange();\n      for (let i = viewRange.sci; i <= viewRange.eci; i += 1) {\n        const width = cols.getWidth(i);\n        total += width;\n        ci = i;\n        if (total > left) break;\n      }\n      // console.log('ci >>', ci);\n    }\n\n    // top\n    if (top < fixedHeight && y > index.height) {\n      let total = 0;\n      for (let i = 0; i <= fixed.fxTop; i += 1) {\n        const height = rows.getHeight(i);\n        total += height;\n        ri = i;\n        if (total > top) break;\n      }\n    } else if (y > index.height) {\n      let total = fixedHeight;\n      const viewRange = this.getScrollViewRange();\n      for (let i = viewRange.sri; i <= viewRange.eri; i += 1) {\n        const height = rows.getHeight(i);\n        total += height;\n        ri = i;\n        if (total > top) break;\n      }\n      // console.log('ri >>', ri);\n    }\n\n    return {\n      ri, ci,\n    };\n  }\n\n  getFixedWidth() {\n    return this.fixedLeft.getWidth();\n  }\n\n  getFixedHeight() {\n    return this.fixedTop.getHeight();\n  }\n\n  visualHeight() {\n    return this.box().height;\n  }\n\n  visualWidth() {\n    return this.box().width;\n  }\n\n  getIndexWidth() {\n    const { settings } = this;\n    return settings.index.width;\n  }\n\n  getIndexHeight() {\n    const { settings } = this;\n    return settings.index.height;\n  }\n\n  setHeight(ri, height) {\n    const { rows } = this;\n    rows.setHeight(ri, floor(height));\n    this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT);\n  }\n\n  setWidth(ci, width) {\n    const { cols } = this;\n    cols.setWidth(ci, floor(width));\n    this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH);\n  }\n\n  toString() {\n    const data = {\n      rows: {\n        data: this.rows.getData(),\n      },\n      cols: {\n        data: this.cols.getData(),\n      },\n      merges: {\n        data: this.merges.getData(),\n      },\n    };\n    return JSON.stringify(data);\n  }\n}\n\nexport {\n  Table,\n};\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { Table } from '../table/Table';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\n\nclass Sheet extends Widget {\n  constructor(options = {\n    tableConfig: {\n      data: [],\n      merges: [],\n    },\n  }) {\n    super(`${cssPrefix}-sheet`);\n    this.options = options;\n    // console.log('this.options.tableConfig >>>', this.options.tableConfig);\n    this.table = new Table(this.options.tableConfig);\n    this.children(this.table);\n    this.bind();\n  }\n\n  init() {\n    this.table.init();\n  }\n\n  bind() {\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      // console.log('change width');\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, this);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, this);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, this);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN, this);\n      e.stopPropagation();\n    });\n  }\n}\n\nexport { Sheet };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { Sheet } from './Sheet';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\n\nclass SheetView extends Widget {\n  constructor() {\n    super(`${cssPrefix}-sheet-view`);\n    this.sheetList = [];\n    this.activeIndex = -1;\n  }\n\n  add(sheet = new Sheet()) {\n    this.sheetList.push(sheet);\n    this.children(sheet);\n    sheet.init();\n    sheet.hide();\n    // console.log(sheet);\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      // console.log('e>>>', e);\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH);\n      e.stopPropagation();\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      // console.log('e>>>', e);\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT);\n      e.stopPropagation();\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.DATA_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN, this);\n      e.stopPropagation();\n    });\n    return this.sheetList.length - 1;\n  }\n\n  getActiveSheet() {\n    return this.sheetList[this.activeIndex];\n  }\n\n  setActiveSheet(index) {\n    const { sheetList } = this;\n    if (sheetList[index]) {\n      this.activeIndex = index;\n      return this.setActive(sheetList[index]);\n    }\n    return null;\n  }\n\n  setActive(sheet) {\n    sheet.show();\n    sheet.sibling().forEach((item) => {\n      item.hide();\n    });\n    return sheet;\n  }\n}\n\nexport { SheetView };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\n\nlet number = 0;\n\nclass Tab extends Widget {\n  constructor(name = `Sheet${number += 1}`) {\n    super(`${cssPrefix}-sheet-tab`);\n    this.setName(name);\n  }\n\n  setName(name) {\n    this.name = name;\n    this.text(this.name);\n  }\n}\n\nexport { Tab };\n","/* global window document */\n\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { VerticalLayer } from '../../lib/layer/VerticalLayer';\nimport { HorizontalLayer } from '../../lib/layer/HorizontalLayer';\nimport { VerticalLayerElement } from '../../lib/layer/VerticalLayerElement';\nimport { ScrollBarX } from '../../component/scrollbar/ScrollBarX';\nimport { ScrollBarY } from '../../component/scrollbar/ScrollBarY';\nimport { HorizontalLayerElement } from '../../lib/layer/HorizontalLayerElement';\nimport { VerticalCenterElement } from '../../lib/layer/center/VerticalCenterElement';\nimport { VerticalCenter } from '../../lib/layer/center/VerticalCenter';\nimport { Constant } from '../../utils/Constant';\nimport { SheetView } from './SheetView';\nimport { TabView } from './TabView';\nimport { Utils } from '../../utils/Utils';\nimport { Sheet } from './Sheet';\nimport { Tab } from './Tab';\nimport { EventBind } from '../../utils/EventBind';\nimport { h } from '../../lib/Element';\n\n// sheet表和垂直滚动条\nlet sheetViewLayerHorizontalElement;\nlet scrollBarYLayerHorizontalElement;\nlet horizontalLayer1;\n\n// sheetTab选修卡和水平滚动条\nlet scrollBarXLayerVerticalCenterElement;\nlet scrollBarXVerticalCenter;\nlet scrollBarXLayerHorizontalElement;\nlet sheetSwitchTabLayerHorizontalElement;\nlet horizontalLayer2;\n\n// 根布局\nlet horizontalLayer1LayerVerticalElement;\nlet horizontalLayer2Layer1LayerVerticalElement;\nlet layerVerticalLayer;\n\nclass WorkBody extends Widget {\n  constructor(work, options = { sheets: [] }) {\n    super(`${cssPrefix}-work-body`);\n    this.work = work;\n    this.workConfig = options;\n    this.sheets = this.workConfig.sheets;\n    this.tabAndSheet = [];\n    // 版本标识\n    this.poweredBy = h('div', `${cssPrefix}-powered-by-tips`);\n    this.poweredBy.text(' X-Sheet 1.0.0-development ');\n    this.children(this.poweredBy);\n    // 组件\n    this.sheetView = new SheetView();\n    this.tabView = new TabView({\n      onAdd: (tab, tabIndex) => {\n        const { sheetView } = this;\n        const sheet = new Sheet();\n        const sheetIndex = sheetView.add(sheet);\n        this.tabAndSheet.push({\n          tab,\n          sheet,\n          tabIndex,\n          sheetIndex,\n        });\n      },\n      onSwitch: (tab) => {\n        this.setActiveTab(tab);\n      },\n    });\n    this.scrollBarX = new ScrollBarX({\n      scroll: (move) => {\n        const sheet = this.sheetView.getActiveSheet();\n        sheet.table.scrollX(move);\n      },\n    });\n    this.scrollBarY = new ScrollBarY({\n      scroll: (move) => {\n        const sheet = this.sheetView.getActiveSheet();\n        sheet.table.scrollY(move);\n      },\n    });\n    // sheet表和垂直滚动条\n    sheetViewLayerHorizontalElement = new HorizontalLayerElement(this.sheetView, {\n      style: {\n        flexGrow: 1,\n      },\n    });\n    scrollBarYLayerHorizontalElement = new HorizontalLayerElement(this.scrollBarY, {\n      style: {\n        overflow: 'inherit',\n      },\n    });\n    horizontalLayer1 = new HorizontalLayer({\n      layerElements: [sheetViewLayerHorizontalElement, scrollBarYLayerHorizontalElement],\n    });\n    // sheetTab选修卡和水平滚动条\n    scrollBarXLayerVerticalCenterElement = new VerticalCenterElement(this.scrollBarX);\n    scrollBarXVerticalCenter = new VerticalCenter({\n      centerElements: [scrollBarXLayerVerticalCenterElement],\n    });\n    scrollBarXLayerHorizontalElement = new HorizontalLayerElement(scrollBarXVerticalCenter, {\n      style: {\n        flexGrow: 2,\n      },\n    });\n    sheetSwitchTabLayerHorizontalElement = new HorizontalLayerElement(this.tabView, {\n      style: {\n        flexGrow: 3,\n      },\n    });\n    horizontalLayer2 = new HorizontalLayer({\n      layerElements: [sheetSwitchTabLayerHorizontalElement, scrollBarXLayerHorizontalElement],\n    });\n    // 根布局\n    horizontalLayer1LayerVerticalElement = new VerticalLayerElement(horizontalLayer1, {\n      style: {\n        flexGrow: 1,\n      },\n    });\n    horizontalLayer2Layer1LayerVerticalElement = new VerticalLayerElement(horizontalLayer2);\n    layerVerticalLayer = new VerticalLayer({\n      layerElements: [horizontalLayer1LayerVerticalElement,\n        horizontalLayer2Layer1LayerVerticalElement],\n    });\n    // 添加布局\n    this.children(layerVerticalLayer);\n    this.bind();\n  }\n\n  init() {\n    this.sheetView.init();\n    this.tabView.init();\n    this.scrollBarX.init();\n    this.scrollBarY.init();\n    this.initSheet();\n    this.initScroll();\n  }\n\n  initScroll() {\n    const sheet = this.sheetView.getActiveSheet();\n    if (Utils.isUnDef(sheet)) return;\n    const { table } = sheet;\n    const { content, scroll } = table;\n    scrollBarXLayerHorizontalElement.display(content.getWidth() < content.getContentWidth());\n    this.scrollBarY.setSize(content.getHeight(), content.getContentHeight());\n    this.scrollBarX.setSize(content.getWidth(), content.getContentWidth());\n    this.scrollBarY.scrollMove(scroll.y);\n    this.scrollBarX.scrollMove(scroll.x);\n  }\n\n  initSheet() {\n    const { sheetView, tabView } = this;\n    // eslint-disable-next-line no-restricted-syntax\n    for (const item of this.sheets) {\n      // console.log(item);\n      // eslint-disable-next-line no-restricted-syntax\n      const { name } = item;\n      const sheet = new Sheet(item);\n      const tab = new Tab(name);\n      const sheetIndex = sheetView.add(sheet);\n      const tabIndex = tabView.add(tab);\n      this.tabAndSheet.push({\n        tab,\n        sheet,\n        tabIndex,\n        sheetIndex,\n      });\n    }\n    const first = this.tabAndSheet[0];\n    if (first) {\n      this.setActiveTabIndex(first.tabIndex);\n      this.setActiveSheetIndex(first.sheetIndex);\n    }\n  }\n\n  setActiveSheetIndex(index) {\n    const { sheetView } = this;\n    sheetView.setActiveSheet(index);\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    table.resize();\n    this.initScroll();\n  }\n\n  setActiveTabIndex(index) {\n    const { tabView } = this;\n    tabView.setActiveTab(index);\n  }\n\n  setActiveTab(tab) {\n    this.tabAndSheet.forEach((item) => {\n      if (item.tab === tab) {\n        this.setActiveTabIndex(item.tabIndex);\n        this.setActiveSheetIndex(item.sheetIndex);\n        this.trigger(Constant.WORK_BODY_TYPE.CHANGE_ACTIVE);\n      }\n    });\n  }\n\n  bind() {\n    this.on(Constant.SYSTEM_EVENT_TYPE.MOUSE_WHEEL, (evt) => {\n      const sheet = this.sheetView.getActiveSheet();\n      if (Utils.isUnDef(sheet)) return;\n      const { table } = sheet;\n      const { rows, scroll } = table;\n      const { scrollTo } = this.scrollBarY;\n      let { deltaY } = evt;\n      if (evt.detail) deltaY = evt.detail * 40;\n      if (deltaY > 0) {\n        // down\n        this.scrollBarY.scrollMove(scrollTo + rows.getHeight(scroll.ri));\n      } else {\n        // up\n        this.scrollBarY.scrollMove(scrollTo - rows.getHeight(scroll.ri - 1));\n      }\n      if (scroll.blockTop < scroll.maxBlockTop && scroll.blockTop > 0) {\n        evt.preventDefault();\n        evt.stopPropagation();\n      }\n    });\n    EventBind.bind(window, Constant.SYSTEM_EVENT_TYPE.RESIZE, () => {\n      const { sheetView } = this;\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      table.resize();\n      this.initScroll();\n    });\n    EventBind.bind(document, Constant.SYSTEM_EVENT_TYPE.VISIBILITY_CHANGE, () => {\n      const { sheetView } = this;\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      if (!document.hidden) {\n        table.resize();\n      }\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, () => {\n      // console.log('change height');\n      this.initScroll();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, () => {\n      // console.log('change width');\n      this.initScroll();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.DATA_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN, this);\n      e.stopPropagation();\n    });\n  }\n}\n\nexport { WorkBody };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { Utils } from '../../utils/Utils';\nimport { Tab } from './Tab';\n\nclass TabView extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-sheet-switch-tab`);\n    this.last = h('div', `${cssPrefix}-switch-tab-last-btn`);\n    this.next = h('div', `${cssPrefix}-switch-tab-next-btn`);\n    this.content = h('div', `${cssPrefix}-sheet-tab-content`);\n    this.tabs = h('div', `${cssPrefix}-sheet-tab-tabs`);\n    this.plus = h('div', `${cssPrefix}-sheet-tab-plus`);\n    this.content.children(this.tabs);\n    this.children(...[\n      this.last,\n      this.next,\n      this.content,\n      this.plus,\n    ]);\n    this.optiions = Utils.mergeDeep({\n      onAdd(tab) { return tab; },\n      onSwitch(tab) { return tab; },\n    }, options);\n    this.number = 0;\n    this.left = null;\n    this.tabList = [];\n  }\n\n  setActiveTab(index) {\n    const { tabList } = this;\n    if (tabList[index]) {\n      this.setActive(tabList[index]);\n      return tabList[index];\n    }\n    return null;\n  }\n\n  setActive(tab) {\n    tab.addClass('active');\n    tab.sibling().forEach((item) => {\n      item.removeClass('active');\n    });\n  }\n\n  init() {\n    this.bind();\n  }\n\n  bind() {\n    this.plus.on('click', () => {\n      const tab = new Tab();\n      const index = this.addCurrent(tab);\n      this.optiions.onAdd(tab, index);\n    });\n    this.last.on('click', () => {\n      let left = this.left || 0;\n      left += 30;\n      if (left > 0) left = 0;\n      this.left = left;\n      this.tabs.css('marginLeft', `${this.left}px`);\n    });\n    this.next.on('click', () => {\n      const maxWidth = this.content.offset().width;\n      const current = this.tabs.offset().width;\n      const min = -(current - maxWidth);\n      let left = this.left || 0;\n      left -= 30;\n      if (left < min) left = min;\n      this.left = left;\n      this.tabs.css('marginLeft', `${this.left}px`);\n    });\n  }\n\n  add(tab) {\n    this.tabList.push(tab);\n    this.tabs.children(tab);\n    tab.on('click', () => {\n      this.setActive(tab);\n      this.optiions.onSwitch(tab);\n    });\n    return this.tabList.length - 1;\n  }\n\n  addCurrent(tab) {\n    const result = this.add(tab);\n    const maxWidth = this.content.offset().width;\n    const current = this.tabs.offset().width;\n    if (current > maxWidth) {\n      this.left = -(current - maxWidth);\n      this.tabs.css('marginLeft', `${this.left}px`);\n    }\n    return result;\n  }\n}\n\nexport { TabView };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\n\nclass BottomMenu extends Widget {\n  constructor() {\n    super(`${cssPrefix}-bottom-menu`);\n    this.sum = h('div', `${cssPrefix}-bottom-sum`);\n    this.avg = h('div', `${cssPrefix}-bottom-avg`);\n    this.number = h('div', `${cssPrefix}-bottom-number`);\n    this.children(this.sum);\n    this.children(this.avg);\n    this.children(this.number);\n  }\n\n  setSum(val) {\n    this.sum.text(`求和: ${val}`);\n  }\n\n  setAvg(val) {\n    this.avg.text(`平均数: ${val}`);\n  }\n\n  setNumber(val) {\n    this.number.text(`数量: ${val}`);\n  }\n}\n\nexport { BottomMenu };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { VerticalLayer } from '../../lib/layer/VerticalLayer';\nimport { VerticalLayerElement } from '../../lib/layer/VerticalLayerElement';\nimport { WorkTop } from './WorkTop';\nimport { WorkBody } from './WorkBody';\nimport { WorkBottom } from './WorkBottom';\n\nlet topLayerVerticalElement;\nlet bodyLayerVerticalElement;\nlet bottomLayerVerticalElement;\nlet verticalLayer;\n\nclass Work extends Widget {\n  constructor(options = { body: {} }) {\n    super(`${cssPrefix}-work`);\n    this.options = options.workConfig;\n    // 组件\n    this.body = new WorkBody(this, this.options.body);\n    this.bottom = new WorkBottom(this);\n    this.top = new WorkTop(this);\n    // 布局\n    topLayerVerticalElement = new VerticalLayerElement(this.top);\n    bodyLayerVerticalElement = new VerticalLayerElement(this.body, {\n      style: {\n        flexGrow: 1,\n      },\n    });\n    bottomLayerVerticalElement = new VerticalLayerElement(this.bottom);\n    verticalLayer = new VerticalLayer({\n      layerElements: [topLayerVerticalElement,\n        bodyLayerVerticalElement, bottomLayerVerticalElement],\n    });\n    this.children(verticalLayer);\n    this.bottom.bottomMenu.setSum(0);\n    this.bottom.bottomMenu.setAvg(0);\n    this.bottom.bottomMenu.setNumber(0);\n  }\n\n  init() {\n    this.body.init();\n    this.top.init();\n    this.bottom.init();\n  }\n}\n\nexport { Work };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { BottomMenu } from './BottomMenu';\n\nclass WorkBottom extends Widget {\n  constructor(work) {\n    super(`${cssPrefix}-work-bottom`);\n    this.work = work;\n    this.bottomMenu = new BottomMenu();\n    this.children(this.bottomMenu);\n  }\n}\n\nexport { WorkBottom };\n","/* global window, document */\n\nimport { cssPrefix } from './config';\nimport { h } from './lib/Element';\nimport { Work } from './core/work/Work';\nimport { Widget } from './lib/Widget';\nimport './base.less';\nimport './index.less';\n\nclass XSheet extends Widget {\n\n  constructor(selectors, options = {\n    workConfig: {\n      body: {\n        sheets: [{\n          tableConfig: {},\n        }],\n      },\n    },\n  }) {\n    super(`${cssPrefix}`);\n    let root = selectors;\n    if (typeof selectors === 'string') {\n      root = document.querySelector(selectors);\n    }\n    root = h(root);\n    root.children(this);\n    this.work = new Work(options);\n    this.children(this.work);\n    this.work.init();\n  }\n}\n\nXSheet.version = '1.0.0-alpha';\n\nif (window) {\n  window.XSheet = XSheet;\n}\n\nexport { XSheet };\n"],"sourceRoot":""}