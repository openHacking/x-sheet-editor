{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/svg/cell.png","webpack:///./assets/svg/s-resize.png","webpack:///./assets/svg/e-resize.png","webpack:///./src/config.js","webpack:///./src/utils/Utils.js","webpack:///./src/lib/Element.js","webpack:///./src/lib/Widget.js","webpack:///./src/lib/layer/VerticalLayer.js","webpack:///./src/lib/layer/VerticalLayerElement.js","webpack:///./src/core/work/tools/Icon.js","webpack:///./src/core/work/tools/base/Item.js","webpack:///./src/core/work/tools/Undo.js","webpack:///./src/core/work/tools/Redo.js","webpack:///./src/core/work/tools/PaintFormat.js","webpack:///./src/core/work/tools/ClearFormat.js","webpack:///./src/core/work/tools/base/DropDownItem.js","webpack:///./src/utils/Constant.js","webpack:///./src/utils/EventBind.js","webpack:///./src/component/scrollbar/ScrollBarX.js","webpack:///./src/component/scrollbar/ScrollBarY.js","webpack:///./src/lib/layer/HorizontalLayerElement.js","webpack:///./src/lib/layer/HorizontalLayer.js","webpack:///./src/component/elpopup/ElPopUp.js","webpack:///./src/component/elcontextmenu/ELContextMenu.js","webpack:///./src/component/elcontextmenu/ELContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/format/FormatContextMenuItem.js","webpack:///./src/component/elcontextmenu/ELContextMenuDivider.js","webpack:///./src/core/work/tools/contextmenu/format/FormatContextMenu.js","webpack:///./src/core/work/tools/Format.js","webpack:///./src/core/work/tools/contextmenu/font/FontContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/font/FontContextMenu.js","webpack:///./src/core/work/tools/Font.js","webpack:///./src/core/work/tools/contextmenu/fontsize/FontSizeContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/fontsize/FontSizeContextMenu.js","webpack:///./src/core/work/tools/FontSize.js","webpack:///./src/core/work/tools/FontBold.js","webpack:///./src/core/work/tools/FontItalic.js","webpack:///./src/core/work/tools/UnderLine.js","webpack:///./src/core/work/tools/FontStrike.js","webpack:///./src/core/work/tools/contextmenu/fontcolor/FontColorContextMenuItem.js","webpack:///./src/component/dragpanel/DragPanel.js","webpack:///./src/component/colorpicker/ColorPicker.js","webpack:///./src/component/colorarray/ColorItem.js","webpack:///./src/component/colorarray/ColorArray.js","webpack:///./src/core/work/tools/contextmenu/fontcolor/FontColorContextMenu.js","webpack:///./src/core/work/tools/FontColor.js","webpack:///./src/core/work/tools/contextmenu/fillcolor/FillColorContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/fillcolor/FillColorContextMenu.js","webpack:///./src/core/work/tools/FillColor.js","webpack:///./src/core/work/tools/contextmenu/border/bordertype/BorderTypeContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon1.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon2.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon3.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon4.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon5.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon6.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon7.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon8.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon9.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon10.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderColor.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderType.js","webpack:///./src/core/work/tools/contextmenu/border/bordercolor/BorderColorContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/border/bordercolor/BorderColorContextMenu.js","webpack:///./src/core/work/tools/contextmenu/border/linetype/LineTypeContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/border/linetype/LineTypeContextMenu.js","webpack:///./src/canvas/Line.js","webpack:///./src/core/work/tools/contextmenu/border/bordertype/BorderTypeContextMenu.js","webpack:///./src/core/work/tools/contextmenu/icon/border/Border.js","webpack:///./src/core/work/tools/Merge.js","webpack:///./src/core/work/tools/contextmenu/icon/horizontal/HorizontalIcon1.js","webpack:///./src/core/work/tools/contextmenu/icon/horizontal/HorizontalIcon2.js","webpack:///./src/core/work/tools/contextmenu/icon/horizontal/HorizontalIcon3.js","webpack:///./src/core/work/tools/contextmenu/horizontal/HorizontalContextMenuItem.js","webpack:///./src/canvas/Crop.js","webpack:///./src/canvas/Draw.js","webpack:///./src/canvas/Rect.js","webpack:///./src/canvas/DrawAngle.js","webpack:///./src/canvas/Font.js","webpack:///./src/core/work/tools/contextmenu/horizontal/HorizontalContextMenu.js","webpack:///./src/core/work/tools/HorizontalAlign.js","webpack:///./src/core/work/tools/contextmenu/vertical/VerticalContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/icon/vertical/VerticalIcon1.js","webpack:///./src/core/work/tools/contextmenu/icon/vertical/VerticalIcon2.js","webpack:///./src/core/work/tools/contextmenu/icon/vertical/VerticalIcon3.js","webpack:///./src/core/work/tools/contextmenu/vertical/VerticalContextMenu.js","webpack:///./src/core/work/tools/VerticalAlign.js","webpack:///./src/core/work/tools/contextmenu/icon/textwrapping/TextWrappingIcon1.js","webpack:///./src/core/work/tools/contextmenu/icon/textwrapping/TextWrappingIcon2.js","webpack:///./src/core/work/tools/contextmenu/icon/textwrapping/TextWrappingIcon3.js","webpack:///./src/core/work/tools/contextmenu/textwrapping/TextWrappingContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/textwrapping/TextWrappingContextMenu.js","webpack:///./src/core/work/tools/TextWrapping.js","webpack:///./src/core/work/tools/Fixed.js","webpack:///./src/core/work/tools/Filter.js","webpack:///./src/core/work/tools/Functions.js","webpack:///./src/core/table/copystyle/CopyStyle.js","webpack:///./src/core/table/screen/ScreenWidget.js","webpack:///./src/core/table/RectRange.js","webpack:///./src/core/table/copystyle/ScreenCopyStyle.js","webpack:///./src/core/table/selector/Selector.js","webpack:///./src/core/table/selector/ScreenSelector.js","webpack:///./src/core/table/cells/CellFont.js","webpack:///./src/core/table/cells/Border.js","webpack:///./src/core/table/cells/CellBorder.js","webpack:///./src/core/table/cells/Cell.js","webpack:///./src/core/work/TopMenu.js","webpack:///./src/core/work/options/base/Item.js","webpack:///./src/core/work/options/File.js","webpack:///./src/core/work/options/ForMart.js","webpack:///./src/core/work/options/Insert.js","webpack:///./src/core/work/options/Look.js","webpack:///./src/core/work/options/Update.js","webpack:///./src/core/work/TopOption.js","webpack:///./src/core/work/WorkTop.js","webpack:///./src/lib/layer/center/VerticalCenterElement.js","webpack:///./src/lib/layer/center/VerticalCenter.js","webpack:///./src/utils/DateUtils.js","webpack:///./src/core/table/Format.js","webpack:///./src/core/table/Rows.js","webpack:///./src/core/table/Cols.js","webpack:///./src/core/table/Scroll.js","webpack:///./src/core/table/Fixed.js","webpack:///./src/core/table/Merges.js","webpack:///./src/core/table/screen/ScreenElement.js","webpack:///./src/core/table/screen/Screen.js","webpack:///./src/core/table/resizer/XReSizer.js","webpack:///./src/core/table/resizer/YReSizer.js","webpack:///./src/core/table/MousePoint.js","webpack:///./src/core/table/autofill/AutoFill.js","webpack:///./src/core/table/autofill/ScreenAutoFill.js","webpack:///./src/core/table/highlight/XHeightLight.js","webpack:///./src/core/table/highlight/YHeightLight.js","webpack:///./src/core/table/Edit.js","webpack:///./src/canvas/Grid.js","webpack:///./src/canvas/Box.js","webpack:///./src/core/table/History.js","webpack:///./src/core/table/DataSnapshot.js","webpack:///./src/core/table/gridborder/LineHandle.js","webpack:///./src/core/table/KeyboardManage.js","webpack:///./src/core/table/cells/Cells.js","webpack:///./src/core/table/CellsHelper.js","webpack:///./src/core/table/gridborder/GridLineHandle.js","webpack:///./src/core/table/gridborder/BorderLineHandle.js","webpack:///./src/core/table/Table.js","webpack:///./src/core/work/Sheet.js","webpack:///./src/core/work/SheetView.js","webpack:///./src/core/work/Tab.js","webpack:///./src/core/work/WorkBody.js","webpack:///./src/core/work/TabView.js","webpack:///./src/core/work/BottomMenu.js","webpack:///./src/core/work/Work.js","webpack:///./src/core/work/WorkBottom.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","cssPrefix","alphabets","throttleHandle","DATA_TYPE","Utils","arg","type","toString","json","JSON","stringify","parse","isUnDef","sources","length","forEach","source","keys","v","Array","isArray","isPlainObject","mergeDeep","assign","test","navigator","userAgent","isEmptyObject","e","obj","getPrototypeOf","objOrAry","cb","total","size","min","max","val","isNumber","parseFloat","parseInt","index","str","idx","ret","charCodeAt","expoNet","src","x","y","charAt","indexAt","stringAt","xn","yn","expr2xy","xy2expr","initS","initV","ifv","getV","time","clearTimeout","setTimeout","target","result","sv","tv","equal","leftChain","rightChain","compare2Objects","isNaN","Date","RegExp","String","Number","isPrototypeOf","constructor","indexOf","push","pop","arguments","a1","a2","window","getSelection","focus","range","selectAllChildren","collapseToEnd","document","selection","createRange","moveToElementText","collapse","select","this","isBlank","trim","now","width","innerWidth","height","innerHeight","EMPTY","Nul","Undef","undefined","Element","tag","className","el","createElement","data","eventNames","handler","split","fen","oen","eventName","addEventListener","evt","k","button","stopPropagation","css","top","offsetTop","left","offsetLeft","offsetHeight","offsetWidth","scrollLeft","scrollTop","clientHeight","getBoundingClientRect","parentNode","args","childNodes","ele","child","firstChild","lastChild","removeChild","children","insertBefore","appendChild","previousSibling","nextSibling","createTextNode","contains","classList","add","remove","cls","toggleClass","toggle","flag","addClass","removeClass","active","setAttribute","getAttribute","removeAttribute","content","innerHTML","style","removeProperty","getComputedStyle","computedStyle","display","on","show","hide","innerText","sibling","previousElementSibling","nextElementSibling","position","replace","repeat","right","bottom","message","event","CustomEvent","detail","bubbles","cancelable","dispatchEvent","querySelectorAll","eleArray","item","targetEl","body","h","Widget","element","box","pageX","pageY","eleTop","eleLeft","VerticalLayer","options","layerElements","init","layerElement","VerticalLayerElement","flexGrow","Icon","iconNameEl","Item","Undo","icon","Redo","PaintFormat","sheets","sheet","splice","ClearFormat","DropDownItem","drop","title","text","html","px","cssRemoveKeys","Constant","SYSTEM_EVENT_TYPE","MOUSE_MOVE","toLocaleLowerCase","MOUSE_DOWN","MOUSE_UP","MOUSE_OVER","MOUSE_LEAVE","MOUSE_WHEEL","MOUSE_ENTER","CLICK","KEY_DOWN","KEY_UP","DRAG_START","SCROLL","RESIZE","CHANGE","INPUT","VISIBILITY_CHANGE","TABLE_EVENT_TYPE","CHANGE_HEIGHT","CHANGE_WIDTH","DATA_CHANGE","SELECT_CHANGE","SELECT_DOWN","WORK_BODY_TYPE","CHANGE_ACTIVE","EventBind","fn","removeEventListener","moveFunc","upFunc","xEvtUp","unbind","func","ScrollBarX","option","scroll","to","lastBut","nextBut","block","blockLeft","maxBlockLeft","blockWidth","minBlockWidth","scrollTo","contentWidth","viewPortWidth","isHide","evt1","downEventXy","computeEventXy","mouseMoveUp","evt2","computeScrollTo","preventDefault","contentBox","move","maxTo","ScrollBarY","blockTop","maxBlockTop","blockHeight","minBlockHeight","contentHeight","viewPortHeight","HorizontalLayerElement","HorizontalLayer","EL_POPUP_POSITION","TOP","LEFT","BOTTOM","RIGHT","POOL","ElPopUp","off","scrollBarX","scrollBarY","contentLayerHorizontalElement","scrollBarYLayerHorizontalElement","overflow","horizontalLayer","contentVerticalLayerElement","scrollBarXVerticalLayerElement","verticalLayer","filter","close","scrollbar","elBox","maxWidth","maxHeight","offset","setSize","ELContextMenu","menus","elPopUp","open","ELContextMenuItem","pool","FormatContextMenuItem","desc","iconElement","titleElement","descElement","ELContextMenuDivider","FormatContextMenu","onUpdate","items","update","setActive","addItem","first","setTitle","format","Format","copyProp","contextMenu","setWidth","setEllipsis","formatContextMenu","FontContextMenuItem","FontContextMenu","setActiveByType","Font","fontContextMenu","FontSizeContextMenuItem","FontSizeContextMenu","FontSize","fontSizeContextMenu","FontBold","FontItalic","UnderLine","FontStrike","FontColorContextMenuItem","DRAG_PANEL_POSITION","CENTER","DragPanel","mask","viewPort","ColorPicker","selectCb","dragPanel","color","preViewColorPoint","colorValueTips","colorInput","selectColorPoint","selectColorArea1","selectColorArea2","selectColorArea3","center","colorHuxTips","colorBar","colorBarPoint","cancelButton","selectButton","buttons","hex","len","join","hsx","Math","substring","g","b","rgbToHsb","hexToRgb","rgb","hsb","delta","t1","t2","t3","round","nr","rgbToHex","hsbToRgb","startsWith","match","isHex","parseRgb","e1","xy","centerBox","downSelect","e2","moveSelect","colorBarBox","downHue","moveHue","hexColor","fixHsx","colorValue","hsbToHex","isRgb","change","colorBarPointBox","colorBarPointLeft","selectColorPointBox","selectColorPointLeft","selectColorPointTop","areaColorValue","sliderPosition","hueChange","selectChange","hexToHsb","fixHex","ColorItem","isDark","checkedIcon","ColorArray","colors","activeColor","setActiveByColor","FontColorContextMenu","colorPicker","customizeColorArray","colorArray","reset","array","plus","customize","FontColor","fontColorContextMenu","setIcon","setColor","FillColorContextMenuItem","FillColorContextMenu","FillColor","fillColorContextMenu","BorderTypeContextMenuItem","BorderIcon1","BorderIcon2","BorderIcon3","BorderIcon4","BorderIcon5","BorderIcon6","BorderIcon7","BorderIcon8","BorderIcon9","BorderIcon10","BorderColor","BorderType","BorderColorContextMenuItem","BorderColorContextMenu","LineTypeContextMenuItem","typeIcon","LineTypeContextMenu","LINE_TYPE","SOLID_LINE","DOTTED_LINE","POINT_LINE","DOUBLE_LINE","SolidLine","draw","attr","sx","sy","ex","ey","beginPath","lineWidth","strokeStyle","setLineDash","line","DottedLine","dash","DoubleLine","padding","spacing","leftShow","topShow","rightShow","bottomShow","iFMerge","iFMergeFirstRow","iFMergeLastRow","iFMergeFirstCol","iFMergeLastCol","row","col","pos","external","ifMerge","firstRow","lastRow","firstCol","lastCol","sTopLeftCorner","sTop","sBottom","eBottomLeftCorner","eBottom","eTop","sLeft","sRight","eTopRightCorner","eRight","eLeft","sTopRightCorner","eBottomRightCorner","sBottomLeftCorner","internal","handleExternal","handleInternal","Line","solidLine","dottedLine","pointLine","doubleLine","drawLine","BorderTypeContextMenu","borderIcon1","borderIcon2","borderIcon3","borderIcon4","borderIcon5","div1","borderIcon6","borderIcon7","borderIcon8","borderIcon9","borderIcon10","div2","borderIcons","borderColor","borderType","div3","borderColorAndType","borderColorContextMenu","lineTypeContextMenu","closeAll","isOpen","Border","borderTypeContextMenu","Merge","HorizontalIcon1","HorizontalIcon2","HorizontalIcon3","HorizontalContextMenuItem","Crop","rect","save","clip","restore","dpr","devicePixelRatio","floor","npx","angleToRadian","angle","PI","Draw","ctx","getContext","offsetX","offsetY","rotate","clearRect","fill","measureText","moveTo","x1","y1","lineTo","stroke","w","fillRect","fillText","even","nx","ny","Rect","ANGLE_ORIGIN","TOP_LEFT","TOP_CENTER","TOP_RIGHT","MIDDLE_LEFT","MIDDLE_CENTER","MIDDLE_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT","DrawAngle","dw","origin","tx","ty","translate","cos","sin","abs","TrigonometricFunction","ALIGN","VERTICAL_ALIGN","TEXT_WRAP","OVER_FLOW","WORD_WRAP","TRUNCATE","TEXT_DIRECTION","HORIZONTAL","VERTICAL","ANGLE","HorizontalFontDraw","textWidth","verticalAlign","align","underline","strikethrough","PADDING","crop","paddingH","paddingV","maxTextWidth","textArray","textLine","start","hOffset","maxLen","charWidth","bx","by","textWrap","textAlign","textBaseline","font","italic","bold","fillStyle","drawTextTruncate","drawTextWarp","drawTextOverFlow","VerticalFontDraw","char","boxHeight","textItem","textLen","wOffset","column","last","textHeight","verticalAlignValue","j","AngleFontDraw","trigonometric","trigonometricWidth","cosWidthAngle","trigonometricHeight","sinWidthAngle","rtx","rty","dwAngle","revert","setHeight","textHypotenuseWidth","sinHeightAngle","lineHeight","textArrayLen","totalWidth","rx","ry","ax","ay","totalTextHeight","direction","verticalFontDraw","horizontalFontDraw","angleFontDraw","setTextWrap","HorizontalContextMenu","horizontalIcon1","horizontalIcon2","horizontalIcon3","horizontalIcons","HorizontalAlign","horizontalContextMenu","VerticalContextMenuItem","VerticalIcon1","VerticalIcon2","VerticalIcon3","VerticalContextMenu","verticalIcon1","verticalIcon2","verticalIcon3","verticalIcons","VerticalAlign","verticalContextMenu","TextWrappingIcon1","TextWrappingIcon2","TextWrappingIcon3","TextWrappingContextMenuItem","TextWrappingContextMenu","textWrappingIcon1","textWrappingIcon2","textWrappingIcon3","textWrappingIcons","TextWrapping","textWrappingContextMenu","Fixed","Filter","Functions","svg","CopyStyle","find","ScreenWidget","screen","lt","br","RectRange","sri","sci","eri","eci","ref","refs","ri","ci","rowFilter","other","disjoint","addRet","dsr","dsc","der","dec","multiple","ScreenCopyStyle","selectorAttr","table","frozenLeftTop","cols","rows","grid","viewRange","getScrollViewRange","empty","coincideRange","coincide","equals","sectionSumWidth","sectionSumHeight","expandSize","fixedTop","fixedLeft","setLTOffset","setTOffset","setLOffset","setBROffset","setOffset","Selector","cornerEl","areaEl","transfromData","ScreenSelector","downSelectorAttr","onChangeStack","onSelectChangeStack","onSelectChangeOver","onDownSelectStack","mousePointType","keyboardManage","edit","merges","downSelectAttr","getDownXYSelectorAttr","setSelectAttr","setDownSelectAttr","edgeType","moveSelectorAttr","getMoveXySelectorAttr","tabId","tabNext","register","code","callback","hideEdit","id","clone","cLen","rLen","srcMerges","getFirstIncludes","targetMerges","showEdit","intersectsArea","edge","ltL","ltTBrL","ltTLBr","lBr","fixed","tlRange","fxTop","fxLeft","tRange","lRange","brRange","intersects","getIntersectsArea","setLTCorner","setTCorner","setLCorner","setBrCorner","getFixedWidth","getFixedHeight","getRiCiByXy","merge","selectRect","getViewRange","union","CellFont","$time","$display","$width","$color","$type","srcTime","targetTime","CellBorder","Cell","background","fontAttr","borderAttr","Divider","TopMenu","workTop","sheetView","work","undo","redo","paintFormat","clearFormat","getActiveSheet","cellsHelper","dataSnapshot","findByClass","getCellOrNewCellByViewRange","rectRange","cell","snapshot","render","fontSize","fontColor","fillColor","border","lineType","cells","getCellOrNew","fontBold","fontItalic","underLine","fontStrike","horizontalAlign","textWrapping","functions","setStatus","setFormatStatus","setFontStatus","setFontSizeStatus","setFontBoldStatus","setFontItalicStatus","setUnderLineStatus","setFontStrikeStatus","setFontColorStatus","setFillColorStatus","setHorizontalAlignStatus","setVerticalAlignStatus","setTextWrappingStatus","screenCopyStyle","screenSelector","setShow","addSheet","addSelectChangeOverCb","setHide","removeSheet","removeSelectChangeOverCb","newSelectorAttr","setCell","deleteIntersects","isEmpty","includeSheet","firstCell","setUndoStatus","setRedoStatus","setPaintFormatStatus","File","ForMart","Insert","Look","Update","TopOption","logoEle","titleEle","optionsEle","leftEle","rightEle","file","insert","look","WorkTop","toolsMenu","VerticalCenterElement","VerticalCenter","centerElements","centerElement","DateUtils","fmt","date","getMonth","getDate","getHours","getMinutes","getSeconds","S","getMilliseconds","resultYear","exec","yearFormatPart","yearVal","getFullYear","substr","res","Val","formatPart","replaceVal","dateText","defaultVal","reg","year","month","day","hours","minutes","seconds","milliseconds","oneChar","onePart","onePartReg","dataInfo","parserToDate","lastIndex","lastIndexOf","isFraction","toExponential","dateFormat","Rows","_","minHeight","minIf","cacheTotalHeight","setData","getOrNew","ei","rowHeight","getHeight","rangeSum","Cols","minWidth","cacheTotalWidth","colWidth","getWidth","Scroll","Merges","cr","it","within","includes","cellRange","deleteWithin","rn","cn","it1","cbWithin","map","valueOf","ScreenElement","widgets","widget","Screen","focusWidget","setDivideLayer","addWidget","getLT","getT","getL","getBR","settings","fixedWidth","fixedHeight","brLeft","brTop","clazz","XReSizer","hoverEl","lineEl","moveOff","set","getEventLeft","mx","visualHeight","newLeft","visualWidth","YReSizer","getEventTop","my","newTop","MousePointType","ignoreNames","ignoredNames","concat","sResize","eResize","AutoFill","ScreenAutoFill","mergeForceSplit","onBeforeAutoFill","onAfterAutoFill","autoFillAttr","moveAutoFill","getMoveAutoFillAttr","autoFillTo","selectorRect","autoFillSelectorRect","rSize","cSize","selectorSri","selectorSci","selectorEri","selectorEci","minRi","diff","maxRi","minCi","maxCi","autoFillRect","sIndexRi","tIndexRi","sIndexCi","tIndexCi","mergeRect","count","getCell","setCellOrNew","newMerge","mergeCellForceSplit","copyContent","copyMerge","alert","XHeightLight","sRect","tRect","ltViewRange","ltCoincideRange","tViewRange","tCoincideRange","cViewRange","cCoincideRange","lViewRange","lCoincideRange","addChangeCb","offsetHeightLight","YHeightLight","Edit","input","selector","dbClick","editOffset","keepLastIndex","getIndexHeight","getIndexWidth","ltWidth","ltHeight","ltTop","ltLeft","tWidth","lHeight","tHeight","tTop","tLeft","cHeight","lWidth","lTop","lLeft","cWidth","Grid","Error","Box","backgroundColor","History","onAdd","onPop","onClear","unshift","shift","DataSnapshot","cloneDeep","trigger","getData","clear","LineHandle","newRow","jump","handle","endRow","newCol","endCol","hEach","view","coincideView","brink","rectRangeSumHeight","rectRangeSumWidth","KeyboardManage","keyCode","Cells","isString","CellsHelper","tmp","getCellTextMaxHeight","getCellTextMaxWidth","startX","startY","getCellOverFlow","minSri","minSci","maxSri","maxSci","getCellByViewRange","GridLineHandle","leftMaxWidth","leftWidth","rightWidth","getMergeCellOrCell","nextCell","breakpoint","lineHandle","vEach","gridHLine","hLineBorderChecked","gridVLine","vLineBorderChecked","vLineOverFlowWidthChecked","mergesBrink","BorderLineHandle","drawOptimization","borderOptimization","ck1","ck2","ck3","borderHTLine","compareTime","borderHBLine","borderVLLine","borderVRLine","FrozenLeftTop","gridLineHandle","globalAlpha","viewRangeAndMergeCoincideView","coincideViewBrink","hLine","vLine","horizontalLine","verticalLine","hMergeLine","vMergeLine","borderLineHandle","htLine","hbLine","vlLine","vrLine","setType","htMergeLine","hbMergeLine","vlMergeLine","vrMergeLine","drawBackgroundColor","getMergeCellByViewRange","getCellSkipMergeCellByViewRange","setContentWidth","getXOffset","getYOffset","drawBackGround","drawCells","showGrid","drawGrid","drawBorder","FixedLeft","getContentViewRange","Content","fixedLeftWidth","fixedTopHeight","totalHeight","scrollViewXOffset","getScrollViewXOffset","scrollViewRange","contentViewRange","FixedTop","FrozenLeftIndex","eachHeight","ch","FrozenTopIndex","eachWidth","cw","FixedTopIndex","FixedLeftIndex","FrozenRect","defaultSettings","tipsRenderTime","tipsScrollTime","bgColor","Table","canvas","fixedTopIndex","fixedLeftIndex","frozenLeftIndex","frozenTopIndex","frozenRect","xReSizer","yReSizer","xHeightLight","yHeightLight","addSelectChangeCb","addDownSelectCb","screenAutoFill","copyStyle","initScreenWidget","resize","enable","openDrawOptimization","closeDrawOptimization","console","rangeReduceIf","log","timeEnd","checkedEnableBorderDrawOptimization","clearViewRange","getContentWidth","getContentHeight","Sheet","tableConfig","SheetView","sheetList","activeIndex","number","Tab","setName","sheetViewLayerHorizontalElement","horizontalLayer1","scrollBarXLayerVerticalCenterElement","scrollBarXVerticalCenter","scrollBarXLayerHorizontalElement","sheetSwitchTabLayerHorizontalElement","horizontalLayer2","horizontalLayer1LayerVerticalElement","horizontalLayer2Layer1LayerVerticalElement","layerVerticalLayer","TabView","next","tabs","optiions","tab","onSwitch","tabList","addCurrent","current","WorkBody","workConfig","tabAndSheet","poweredBy","tabView","tabIndex","sheetIndex","setActiveTab","scrollX","scrollY","initSheet","initScroll","scrollMove","setActiveTabIndex","setActiveSheetIndex","setActiveSheet","deltaY","hidden","BottomMenu","sum","avg","topLayerVerticalElement","bodyLayerVerticalElement","bottomLayerVerticalElement","WorkBottom","bottomMenu","Work","setSum","setAvg","setNumber","XSheet","selectors","root","querySelector","version"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,kBClFrDhC,EAAOD,QAAU,IAA0B,wC,gBCA3CC,EAAOD,QAAU,IAA0B,wC,gBCA3CC,EAAOD,QAAU,IAA0B,wC,wECApC,IAAMkC,EAAY,U,i4BCGzB,IAAMC,EAAY,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAE5IC,EAAiB,KAEfC,EACI,EADJA,EAEK,EAFLA,EAGI,EAHJA,EAKG,EALHA,EAMM,EANNA,EAOE,EAPFA,EAQO,EARPA,EASK,EATLA,EAUe,GAVfA,EAWW,GAXXA,EAYI,GAZJA,EAaI,GAbJA,EAcA,GAGAC,E,wLAEQC,GACV,IAAMC,EAAO5B,OAAOkB,UAAUW,SAASpC,KAAKkC,GAC5C,OAAQC,GACN,IAAK,gBACH,OAAOH,EACT,IAAK,qBACH,OAAOA,EACT,IAAK,kBACH,OAAOA,EACT,IAAK,mBACH,OAAOA,EACT,IAAK,kBACH,OAAOA,EACT,IAAK,oBACH,OAAOA,EACT,IAAK,iBACH,OAAOA,EACT,IAAK,mBACH,OAAOA,EACT,IAAK,6BACH,OAAOA,EACT,IAAK,yBACH,OAAOA,EACT,IAAK,kBACH,OAAOA,EACT,IAAK,kBACH,OAAOA,EACT,QACE,OAAOA,K,gCAIIT,GACf,IAAMc,EAAOC,KAAKC,UAAUhB,GAC5B,OAAOe,KAAKE,MAAMH,K,kCAGsB,IAAzBd,EAAyB,uDAAhB,GACxB,GAAIU,EAAMQ,QAAQlB,GAChB,MAAO,GAF+B,2BAATmB,EAAS,iCAATA,EAAS,kBAIxC,OAAIT,EAAMQ,QAAQC,IAA+B,IAAnBA,EAAQC,OAC7BpB,GAETmB,EAAQE,SAAQ,SAACC,GACXZ,EAAMQ,QAAQI,IAClBtC,OAAOuC,KAAKD,GAAQD,SAAQ,SAACxB,GAC3B,IAAM2B,EAAIF,EAAOzB,GACA,iBAAN2B,GAA+B,iBAANA,GAA+B,kBAANA,EAC3DxB,EAAOH,GAAO2B,EACQ,mBAANA,IAAqBC,MAAMC,QAAQF,IAAMd,EAAMiB,cAAcH,IAC7ExB,EAAOH,GAAOG,EAAOH,IAAQ,GAC7Ba,EAAMkB,UAAU5B,EAAOH,GAAM2B,IAE7BxB,EAAOH,GAAO2B,QAIbxB,K,+BAGOR,EAAGa,GACjB,OAAOrB,OAAO6C,OAAOrC,EAAGa,K,8BAIxB,MAAO,sBAAsByB,KAAKC,UAAUC,a,kCAI5C,MAAO,iBAAiBF,KAAKC,UAAUC,a,oCAGpBhC,GAEnB,IAAK,IAAMH,KAAOG,EAEhB,GAAIA,EAAOG,eAAeN,GACxB,OAAO,EAGX,OAAO,I,uCAGeG,GACtB,OAAQU,EAAMuB,cAAcjC,K,8BAGfkC,GACb,OAAOA,U,+BAGOA,GACd,MAAO,0BAA0BJ,KAAKI,K,iCAGtBA,GAChB,MAAO,aAAaJ,KAAKI,K,iCAGTA,GAEhB,OADaxB,EAAME,KAAKsB,KACRzB,I,8BAGHyB,GACb,OAAOxB,EAAME,KAAKsB,KAAOzB,I,8BAGZJ,GACb,QAAIK,EAAMQ,QAAQb,IAGM,KAAjBA,EAAEQ,a,oCAGUsB,GACnB,OAAIzB,EAAMQ,QAAQiB,IAGXnD,OAAOoD,eAAeD,KAASnD,OAAOoD,eAAe,M,+BAG9CD,GACd,OAAOzB,EAAME,KAAKuB,KAAS1B,I,0BAGlB4B,GAA+B,IAArBC,EAAqB,uDAAhB,SAAA/C,GAAK,OAAIA,GAC7BgD,EAAQ,EACRC,EAAO,EAKX,OAJAxD,OAAOuC,KAAKc,GAAUhB,SAAQ,SAACxB,GAC7B0C,GAASD,EAAGD,EAASxC,GAAMA,GAC3B2C,GAAQ,KAEH,CAACD,EAAOC,K,+BAGDC,EAAKC,EAAKJ,GAExB,IADA,IAAIjC,EAAI,EACC/B,EAAImE,EAAKnE,EAAIoE,EAAKpE,GAAK,EAC9B+B,GAAKiC,EAAGhE,GAEV,OAAO+B,I,gJAGSsC,GAChB,OAAIjC,EAAMkC,SAASD,GAAaE,WAAWF,GACpC,M,8IAGOA,GACd,OAAIjC,EAAMkC,SAASD,GAAaG,SAASH,EAAK,IACvC,M,+BAGOI,GAGd,IAFA,IAAIC,EAAM,GACNC,EAAMF,EACHE,GAAO1C,EAAUa,QACtB6B,GAAO1C,EAAUa,OACjB6B,GAAO,EACPD,GAAOzC,EAAUuC,SAASG,EAAK,IAAM1C,EAAUa,QAIjD,OADA4B,GAAOzC,EADMwC,EAAQxC,EAAUa,U,8BAKlB4B,GAEb,IADA,IAAIE,EAAM,EACD5E,EAAI,EAAGA,EAAI0E,EAAI5B,OAAS,EAAG9C,GAAK,EAAG,CAC1C,IAAM2E,EAAMD,EAAIG,WAAW7E,GAAK,GAC1B8E,EAAUJ,EAAI5B,OAAS,EAAI9C,EACjC4E,GAAO,SAAC3C,EAAUa,OAAUgC,GAAY7C,EAAUa,OAAS6B,EAG7D,OADAC,GAAOF,EAAIG,WAAWH,EAAI5B,OAAS,GAAK,K,8BAI3BiC,GAGb,IAFA,IAAIC,EAAI,GACJC,EAAI,GACCjF,EAAI,EAAGA,EAAI+E,EAAIjC,OAAQ9C,GAAK,EAC/B+E,EAAIG,OAAOlF,IAAM,KAAO+E,EAAIG,OAAOlF,IAAM,IAC3CiF,GAAKF,EAAIG,OAAOlF,GAEhBgF,GAAKD,EAAIG,OAAOlF,GAGpB,MAAO,CAACoC,EAAM+C,QAAQH,GAAIR,SAASS,EAAG,IAAM,K,8BAG/BD,EAAGC,GAChB,gBAAU7C,EAAMgD,SAASJ,IAAzB,OAA8BC,EAAI,K,gCAGnBF,EAAKM,EAAIC,GAAI,QACblD,EAAMmD,QAAQR,GADD,GACrBC,EADqB,KAClBC,EADkB,KAE5B,OAAO7C,EAAMoD,QAAQR,EAAIK,EAAIJ,EAAIK,K,oCAGdnB,EAAKC,EAAKqB,EAAOC,EAAOC,EAAKC,GAIhD,IAHA,IAAI7D,EAAI0D,EACJvC,EAAIwC,EACJ1F,EAAImE,EACDnE,EAAIoE,KACLrC,GAAK4D,GADK3F,GAAK,EAGnB+B,GADAmB,EAAI0C,EAAK5F,GAGX,MAAO,CAACA,EAAG+B,EAAImB,EAAGA,K,iCAGuB,IAA3Bc,EAA2B,uDAAtB,aAAU6B,EAAY,uDAAL,IAChC3D,GAAgB4D,aAAa5D,GACjCA,EAAiB6D,WAAW/B,EAAI6B,K,yCAGRG,EAAQjB,GAChC,IAAMkB,EAAS,GACf,GAAI7D,EAAMQ,QAAQoD,IAAW5D,EAAMQ,QAAQmC,GACzC,OAAOkB,EAGT,IAAK,IAAM1E,KAAOyE,EAEhB,GAAIA,EAAOnE,eAAeN,GAAM,CAC9B,IAAM2E,EAAKnB,EAAIxD,GACT4E,EAAKH,EAAOzE,GACba,EAAMQ,QAAQsD,IAAQ9D,EAAMQ,QAAQuD,IAAQ/D,EAAMgE,MAAMF,EAAIC,KAC/DF,EAAO1E,GAAOyE,EAAOzE,IAI3B,OAAO0E,I,4BAGI/C,EAAGiB,GACd,OAAIjB,EAAIiB,EAAYA,EACbjB,I,4BAGIA,EAAGkB,GACd,OAAIlB,EAAIkB,EAAYA,EACblB,I,4BAII8B,EAAGC,GACd,IAAIjF,EACAC,EACAoG,EACAC,EACJ,SAASC,EAAgBvB,EAAGC,GAC1B,IAAInD,EAEJ,GAAI0E,MAAMxB,IAAMwB,MAAMvB,IAAmB,iBAAND,GAA+B,iBAANC,EAC1D,OAAO,EAET,GAAID,IAAMC,EACR,OAAO,EAET,GAAkB,mBAAND,GAAiC,mBAANC,GACjCD,aAAayB,MAAQxB,aAAawB,MAClCzB,aAAa0B,QAAUzB,aAAayB,QACpC1B,aAAa2B,QAAU1B,aAAa0B,QACpC3B,aAAa4B,QAAU3B,aAAa2B,OACxC,OAAO5B,EAAEzC,aAAe0C,EAAE1C,WAE5B,KAAMyC,aAAatE,QAAUuE,aAAavE,QACxC,OAAO,EAGT,GAAIsE,EAAE6B,cAAc5B,IAAMA,EAAE4B,cAAc7B,GACxC,OAAO,EAET,GAAIA,EAAE8B,cAAgB7B,EAAE6B,YACtB,OAAO,EAET,GAAI9B,EAAEpD,YAAcqD,EAAErD,UACpB,OAAO,EAET,GAAIyE,EAAUU,QAAQ/B,IAAM,GAAKsB,EAAWS,QAAQ9B,IAAM,EACxD,OAAO,EAGT,IAAKnD,KAAKmD,EAAG,CAEX,GAAIA,EAAEpD,eAAeC,KAAOkD,EAAEnD,eAAeC,GAC3C,OAAO,EAET,GAAI,EAAOmD,EAAEnD,MAAT,EAAuBkD,EAAElD,IAC3B,OAAO,EAIX,IAAKA,KAAKkD,EAAG,CAEX,GAAIC,EAAEpD,eAAeC,KAAOkD,EAAEnD,eAAeC,GAC3C,OAAO,EACP,GAAI,EAAOmD,EAAEnD,MAAT,EAAuBkD,EAAElD,IAC7B,OAAO,EAET,SAAgBkD,EAAElD,KAChB,IAAK,SACL,IAAK,WAGH,GAFAuE,EAAUW,KAAKhC,GACfsB,EAAWU,KAAK/B,IACXsB,EAAgBvB,EAAElD,GAAImD,EAAEnD,IAC3B,OAAO,EAETuE,EAAUY,MACVX,EAAWW,MACX,MACF,QACE,GAAIjC,EAAElD,KAAOmD,EAAEnD,GACb,OAAO,GAKf,OAAO,EAET,GAAIoF,UAAUpE,OAAS,EACrB,OAAO,EAGT,IAAK9C,EAAI,EAAGC,EAAIiH,UAAUpE,OAAQ9C,EAAIC,EAAGD,IAIvC,GAHAqG,EAAY,GACZC,EAAa,IAERC,EAAgBW,UAAU,GAAIA,UAAUlH,IAC3C,OAAO,EAGX,OAAO,I,wCAGgBmH,EAAIC,GAC3B,GAAIhF,EAAMQ,QAAQuE,IAAO/E,EAAMQ,QAAQwE,GACrC,OAAO,EAET,GAAID,EAAGrE,SAAWsE,EAAGtE,OACnB,OAAO,EAET,IAAK,IAAI9C,EAAI,EAAGA,EAAImH,EAAGrE,OAAQ9C,GAAK,EAClC,IAA2B,IAAvBoH,EAAGL,QAAQI,EAAGnH,IAAY,OAAO,EAEvC,OAAO,I,oCAGY6D,GACnB,GAAIwD,OAAOC,aAAc,CACvBzD,EAAI0D,QACJ,IAAMC,EAAQH,OAAOC,eACrBE,EAAMC,kBAAkB5D,GACxB2D,EAAME,qBACD,GAAIC,SAASC,UAAW,CAC7B,IAAMJ,EAAQG,SAASC,UAAUC,cACjCL,EAAMM,kBAAkBjE,GACxB2D,EAAMO,UAAS,GACfP,EAAMQ,Y,2BAIEjG,GACV,OAAIkG,KAAKC,QAAQnG,GAAW,GACrBA,EAAEoG,S,4BAIT,OAAO1B,KAAK2B,MAAM7F,a,iCAIlB,MAAO,CACL8F,MAAOhB,OAAOiB,WACdC,OAAQlB,OAAOmB,gB,seAKrBpG,EAAMqG,MAAQ,GACdrG,EAAMsG,IAAM,KACZtG,EAAMuG,WAAQC,E,ICtZRC,E,WACJ,WAAYC,GAAqB,IAAhBC,EAAgB,uDAAJ,I,4FAAI,SACZ,iBAARD,GACTb,KAAKe,GAAKrB,SAASsB,cAAcH,GACjCb,KAAKe,GAAGD,UAAYA,GAEpBd,KAAKe,GAAKF,EAEZb,KAAKe,GAAGE,KAAO,G,oDAGZ3H,EAAKN,GACR,YAAc2H,IAAV3H,GACFgH,KAAKe,GAAGE,KAAK3H,GAAON,EACbgH,MAEFA,KAAKe,GAAGE,KAAK3H,K,yBAGnB4H,EAAYC,GAAS,QACAD,EAAWE,MAAM,MAAhCC,EADe,KACPC,EADO,WAElBC,EAAYF,EAmBhB,MAlBkB,eAAdE,GAA8B,WAAWhG,KAAK6D,OAAO5D,UAAUC,aACjE8F,EAAY,kBAEdvB,KAAKe,GAAGS,iBAAiBD,GAAW,SAACE,GACnCN,EAAQM,GACR,IAAK,IAAI1J,EAAI,EAAGA,EAAIuJ,EAAIzG,OAAQ9C,GAAK,EAAG,CACtC,IAAM2J,EAAIJ,EAAIvJ,GACd,GAAU,SAAN2J,GAA+B,IAAfD,EAAIE,OACtB,OAEF,GAAU,UAAND,GAAgC,IAAfD,EAAIE,OACvB,OAEQ,SAAND,GACFD,EAAIG,sBAIH5B,O,6BAGFhH,GAAO,WACZ,QAAc2H,IAAV3H,EAIF,OAHAP,OAAOuC,KAAKhC,GAAO8B,SAAQ,SAAC4G,GAC1B,EAAKG,IAAIH,EAAT,UAAe1I,EAAM0I,GAArB,UAEK1B,KALG,MASRA,KAAKe,GACT,MAAO,CACLe,IAXU,EAQVC,UAIAC,KAZU,EAQCC,WAKX3B,OAbU,EAQa4B,aAMvB9B,MAdU,EAQ2B+B,e,6BAUlClH,GAAG,IACA8F,EAAOf,KAAPe,GASR,YARUJ,IAAN1F,SACa0F,IAAX1F,EAAE+G,OACJjB,EAAGqB,WAAanH,EAAE+G,WAENrB,IAAV1F,EAAE6G,MACJf,EAAGsB,UAAYpH,EAAE6G,MAGd,CAAEE,KAAMjB,EAAGqB,WAAYN,IAAKf,EAAGsB,a,kCAItC,OAAOrC,KAAKe,GAAGsB,Y,qCAIf,OAAOrC,KAAKe,GAAGuB,e,4BAIf,OAAOtC,KAAKe,GAAGwB,0B,+BAIf,OAAO,IAAI3B,EAAQZ,KAAKe,GAAGyB,c,iCAGX,kCAANC,EAAM,yBAANA,EAAM,gBAChB,OAAyB,IAArBxD,UAAUpE,OACLmF,KAAKe,GAAG2B,YAEjBD,EAAK3H,SAAQ,SAAA6H,GAAG,OAAI,EAAKC,MAAMD,MACxB3C,Q,8BAIP,OAAOA,KAAKe,GAAG8B,a,6BAIf,OAAO7C,KAAKe,GAAG+B,Y,6BAGVH,GACL,OAAO3C,KAAKe,GAAGgC,YAAYJ,EAAI5B,IAAM4B,K,8BAG/BA,GAAK,IACH5B,EAAOf,KAAPe,GAMR,OALIA,EAAGiC,SAASnI,OAAS,EACvBkG,EAAGkC,aAAaN,EAAK5B,EAAG8B,YAExB9B,EAAGmC,YAAYP,GAEV3C,O,6BAIP,OAAOA,KAAKe,GAAGoC,kB,6BAIf,OAAOnD,KAAKe,GAAGqC,c,4BAGXhJ,GACJ,IAAIuI,EAAMvI,EAOV,MANmB,iBAARA,EACTuI,EAAMjD,SAAS2D,eAAejJ,GACrBA,aAAewG,IACxB+B,EAAMvI,EAAI2G,IAEZf,KAAKe,GAAGmC,YAAYP,GACb3C,O,+BAGA2C,GACP,OAAO3C,KAAKe,GAAGuC,SAASX,K,gCAGhB1H,GACR,YAAU0F,IAAN1F,GACF+E,KAAKe,GAAGD,UAAY7F,EACb+E,MAEFA,KAAKe,GAAGD,Y,+BAGRxI,GAEP,OADA0H,KAAKe,GAAGwC,UAAUC,IAAIlL,GACf0H,O,+BAGA1H,GACP,OAAO0H,KAAKe,GAAGwC,UAAUD,SAAShL,K,kCAGxBA,GAEV,OADA0H,KAAKe,GAAGwC,UAAUE,OAAOnL,GAClB0H,O,+BAGc,IAAhB0D,EAAgB,uDAAV,SACX,OAAO1D,KAAK2D,YAAYD,K,kCAGdpL,GACV,OAAO0H,KAAKe,GAAGwC,UAAUK,OAAOtL,K,+BAGE,IAA7BuL,IAA6B,yDAAhBH,EAAgB,uDAAV,SAGxB,OAFIG,EAAM7D,KAAK8D,SAASJ,GACnB1D,KAAK+D,YAAYL,GACf1D,O,gCAGY,IAAb6D,IAAa,yDAEnB,OADA7D,KAAKgE,OAAOH,EAAM,WACX7D,O,iCAGa,IAAb6D,IAAa,yDAGpB,OAFIA,EAAM7D,KAAK8D,SAAS,YACnB9D,KAAK+D,YAAY,YACf/D,O,2BAGJ1G,EAAKN,GAAO,WACf,QAAc2H,IAAV3H,EACFgH,KAAKe,GAAGkD,aAAa3K,EAAKN,OACrB,CACL,GAAmB,iBAARM,EACT,OAAO0G,KAAKe,GAAGmD,aAAa5K,GAE9Bb,OAAOuC,KAAK1B,GAAKwB,SAAQ,SAAC4G,GACxB,EAAKX,GAAGkD,aAAavC,EAAGpI,EAAIoI,OAGhC,OAAO1B,O,iCAGE1G,GAET,OADA0G,KAAKe,GAAGoD,gBAAgB7K,GACjB0G,O,2BAGJoE,GACH,YAAgBzD,IAAZyD,GACFpE,KAAKe,GAAGsD,UAAYD,EACbpE,MAEFA,KAAKe,GAAGsD,Y,0BAGbpJ,GACF,YAAU0F,IAAN1F,GACF+E,KAAKe,GAAG/H,MAAQiC,EACT+E,MAEFA,KAAKe,GAAG/H,Q,sCAGM,kCAANgC,EAAM,yBAANA,EAAM,gBAErB,OADAA,EAAKF,SAAQ,SAAA4G,GAAC,OAAI,EAAKX,GAAGuD,MAAMC,eAAe7C,MACxC1B,O,0BASL1H,EAAMU,GAAO,WACf,YAAc2H,IAAV3H,GAAuC,iBAATV,GAChCG,OAAOuC,KAAK1C,GAAMwC,SAAQ,SAAC4G,GACzB,EAAKX,GAAGuD,MAAM5C,GAAKpJ,EAAKoJ,MAEnB1B,WAEKW,IAAV3H,GACFgH,KAAKe,GAAGuD,MAAMhM,GAAQU,EACfgH,MAEFA,KAAKe,GAAGuD,MAAMhM,K,sCAIrB,OAAO8G,OAAOoF,iBAAiBxE,KAAKe,GAAI,Q,6BAIxC,IAAMuD,EAAQtE,KAAKyE,gBAInB,OAHIH,GAA2B,UAAlBA,EAAMI,SACjB1E,KAAK6B,IAAI,UAAW,SAEf7B,O,6BAIP,IAAMsE,EAAQtE,KAAKyE,gBAInB,OAHIH,GAA2B,SAAlBA,EAAMI,SACjB1E,KAAK6B,IAAI,UAAW,QAEf7B,O,8BAGD2E,GACFA,EAAI3E,KAAK4E,OAAa5E,KAAK6E,S,2BAG5BzI,GACH,YAAYuE,IAARvE,EAA0B4D,KAAKe,GAAG+D,WACtC9E,KAAKe,GAAG+D,UAAY1I,EACbA,K,gCAOP,IAHA,IAAI2I,EAAU/E,KAAKe,GACb/C,EAAS,GAEuC,QAA9C+G,EAAUA,EAAQC,yBAAkChH,EAAOe,KAAK,IAAI6B,EAAQmE,IAGpF,IAFAA,EAAU/E,KAAKe,GAEmC,QAA1CgE,EAAUA,EAAQE,qBAA8BjH,EAAOe,KAAK,IAAI6B,EAAQmE,IAChF,OAAO/G,I,iCAIP,IAAI8D,EAAM,EAAOE,EAAO,EAuBxB,OAtBIhC,KAAKe,GAAGuD,MAAMY,WACZlF,KAAKe,GAAGe,MACVA,EAAM9B,KAAKe,GAAGuD,MAAMxC,IACjBqD,QAAQ,IAAK,IACbC,OAAO,KAAM,KAEdpF,KAAKe,GAAGiB,OACVA,EAAOhC,KAAKe,GAAGuD,MAAMtC,KAClBmD,QAAQ,IAAK,IACbC,OAAO,KAAM,KAEdpF,KAAKe,GAAGsE,QACVvD,EAAM9B,KAAKe,GAAGuD,MAAMe,MACjBF,QAAQ,IAAK,IACbC,OAAO,KAAM,KAEdpF,KAAKe,GAAGuE,SACVxD,EAAM9B,KAAKe,GAAGuD,MAAMgB,OACjBH,QAAQ,IAAK,IACbC,OAAO,KAAM,MAGb,CACLtD,IAAK3H,EAAMmC,WAAWwF,GACtBE,KAAM7H,EAAMmC,WAAW0F,GACvBqD,MAAOlL,EAAMmC,WA1B0B,GA2BvCgJ,OAAQnL,EAAMmC,WA3B2C,M,8BA+BrDjC,EAAMkL,GACZ,IAAMC,EAAQ,IAAIC,YAAYpL,EAAM,CAClCqL,OAAQH,EACRI,SAAS,EACTC,YAAY,IAEd5F,KAAKe,GAAG8E,cAAcL,K,8BAItBxF,KAAKe,GAAGzB,U,2BAGLS,GACH,IAAM/B,EAASgC,KAAKe,GAAG+E,iBAAiB/F,GACxC,GAAI/B,GAA4B,IAAlBA,EAAOnD,OACnB,OAAO,IAAI+F,EAAQ5C,EAAO,IAE5B,IAAM+H,EAAW,GACjB,GAAI/H,EAAQ,4BAEV,YAAmBA,EAAnB,+CAA2B,KAAhBgI,EAAgB,QACzBD,EAAShH,KAAK,IAAI6B,EAAQoF,KAHlB,mFAMZ,OAAOD,I,8BAGDhI,GAEN,IADA,IAAIkI,EAAWlI,GAAUA,EAAOgD,GACzBkF,SAA+CA,IAAavG,SAASwG,MAAM,CAChF,GAAID,IAAajG,KAAKe,GAAI,OAAO,EACjCkF,EAAWA,EAASzD,WAEtB,OAAO,O,gCAIL2D,EAAI,SAACtF,GAAD,IAAMC,EAAN,uDAAkB,GAAlB,OAAyB,IAAIF,EAAQC,EAAKC,I,2yBC1W9CsF,E,YACJ,aAA4B,IAAhBtF,EAAgB,uDAAJ,GAAI,O,4FAAA,+BACpB,MADoB,UACV/G,EADU,mBACU+G,K,sSAGvB0E,GAAuB,IAAhBa,EAAgB,uDAANrG,KAAM,EACdqG,EAAQC,MAAtBxE,EAD4B,EAC5BA,IAAKE,EADuB,EACvBA,KACb,MAAO,CACLjF,EAAGyI,EAAMe,MAAQvE,EACjBhF,EAAGwI,EAAMgB,MAAQ1E,K,sCAILuE,GACd,IAAKA,EACH,MAAO,CACLtJ,EAAG,EACHC,EAAG,GAJgB,MAOgBqJ,EAAQC,MAAlCG,EAPU,EAOf3E,IAAmB4E,EAPJ,EAOF1E,KAPE,EAQDhC,KAAKsG,MAAnBxE,EARe,EAQfA,IACR,MAAO,CACL/E,EAAG2J,EAVkB,EAQV1E,KAGXhF,EAAGyJ,EAAS3E,K,iEAxBGlB,G,2yBCCf+F,E,YACJ,WAAYC,GAAS,a,4FAAA,UACnB,wBAAM,MAAN,UAAgB7M,EAAhB,sBACK6M,QAAUzM,EAAMkB,UAAU,CAC7BwL,cAAe,GACfvC,MAAO,IACNsC,GACH,EAAKE,OANc,E,8RAUnB9G,KAAK6B,IAAI7B,KAAK4G,QAAQtC,OADjB,2BAGL,YAA2BtE,KAAK4G,QAAQC,cAAxC,oDAAWE,EAAX,QAAuD/G,KAAKgD,SAAS+D,IAHhE,wF,8BAVmBnG,G,2yBCAtBoG,E,YACJ,WAAYX,EAASO,GAAS,a,4FAAA,UAC5B,wBAAM,MAAN,UAAgB7M,EAAhB,8BACK6M,QAAUzM,EAAMkB,UAAU,CAC7BiJ,MAAO,CACL2C,SAAU,MAEXL,GACH,EAAKP,QAAUA,EACf,EAAKS,OARuB,E,8RAY5B9G,KAAK6B,IAAI7B,KAAK4G,QAAQtC,OACtBtE,KAAKgD,SAAShD,KAAKqG,c,8BAdYzF,G,2yBCA7BsG,E,YACJ,aAA4B,MAAhBpG,EAAgB,uDAAJ,GAAI,O,4FAAA,UAC1B,kCAAS/G,EAAT,YACKoN,WAAahB,EAAE,MAAD,UAAWpM,EAAX,qBAAiC+G,IACpD,EAAK8B,MAAM,EAAKuE,YAHU,E,gSAMnB/G,GACPJ,KAAKmH,WAAWtF,IAAI,QAApB,UAAgCzB,EAAhC,S,gCAGQE,GACRN,KAAKmH,WAAWtF,IAAI,SAApB,UAAiCvB,EAAjC,Y,8BAZe8F,G,uoBCDbgB,G,YACJ,WAAYtG,GAAW,O,4FAAA,yCACZ/G,EADY,uBACY+G,K,mPAFlBsF,G,6oBCCbiB,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAStN,EAAT,kBACKuN,KAAO,IAAIJ,EAAK,QACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADGF,I,6oBCAbG,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASxN,EAAT,kBACKuN,KAAO,IAAIJ,EAAK,QACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADGF,I,ozBCAbI,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASzN,EAAT,0BACKuN,KAAO,IAAIJ,EAAK,gBACrB,EAAKO,OAAS,GACd,EAAKzE,SAAS,EAAKsE,MAJP,E,iSAOLI,GACP1H,KAAKyH,OAAO1I,KAAK2I,K,kCAGPA,GACV,IAAK,IAAI3P,EAAI,EAAGA,EAAIiI,KAAKyH,OAAO5M,OAAQ9C,GAAK,EAC3C,GAAIiI,KAAKyH,OAAO1P,KAAO2P,EAErB,YADA1H,KAAKyH,OAAOE,OAAO5P,EAAG,K,mCAMf2P,GACX,IAAK,IAAI3P,EAAI,EAAGA,EAAIiI,KAAKyH,OAAO5M,OAAQ9C,GAAK,EAC3C,GAAIiI,KAAKyH,OAAO1P,KAAO2P,EACrB,OAAO,EAGX,OAAO,O,gCA3BeN,I,6oBCApBQ,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAS7N,EAAT,0BACKuN,KAAO,IAAIJ,EAAK,gBACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADUF,I,ozBCCpBS,G,YACJ,WAAY/G,GAAW,a,4FAAA,UACrB,oCAAS/G,EAAT,iCAA2C+G,MACtCgH,KAAO3B,EAAE,MAAD,UAAWpM,EAAX,+BACb,EAAKgO,MAAQ5B,EAAE,MAAD,UAAWpM,EAAX,gCACd,EAAK+N,KAAK9E,SAAS,IAAIkE,EAAK,eAC5B,EAAKlE,SAAS,EAAK+E,OACnB,EAAK/E,SAAS,EAAK8E,MANE,E,iSASdE,GACPhI,KAAK+H,MAAMC,KAAKA,K,8BAGVV,GACNtH,KAAK+H,MAAME,KAAK,IAChBjI,KAAK+H,MAAM/E,SAASsE,K,+BAGbY,GACPlI,KAAK+H,MAAMlG,IAAI,QAAf,UAA2BqG,EAA3B,S,oCAIAlI,KAAK+H,MAAMlG,IAAI,WAAY,UAC3B7B,KAAK+H,MAAMlG,IAAI,gBAAiB,YAChC7B,KAAK+H,MAAMlG,IAAI,cAAe,Y,uCAI9B7B,KAAK+H,MAAMI,cAAc,YACzBnI,KAAK+H,MAAMI,cAAc,iBACzBnI,KAAK+H,MAAMI,cAAc,oB,gCAhCFf,I,ICLrBgB,G,2RAENA,GAASC,kBAAoB,CAC3BC,WAAY,YAAYC,oBACxBC,WAAY,YAAYD,oBACxBE,SAAU,UAAUF,oBACpBG,WAAY,YAAYH,oBACxBI,YAAa,aAAaJ,oBAC1BK,YAAa,aAAaL,oBAC1BM,YAAa,aAAaN,oBAC1BO,MAAO,QAAQP,oBACfQ,SAAU,UAAUR,oBACpBS,OAAQ,QAAQT,oBAChBU,WAAY,YAAYV,oBACxBW,OAAQ,SAASX,oBACjBY,OAAQ,SAASZ,oBACjBa,OAAQ,SAASb,oBACjBc,MAAO,QAAQd,oBACfe,kBAAmB,mBAAmBf,qBAGxCH,GAASmB,iBAAmB,CAC1BC,cAAe,oBAAoBjB,oBACnCkB,aAAc,mBAAmBlB,oBACjCmB,YAAa,kBAAkBnB,oBAC/BoB,cAAe,oBAAoBpB,oBACnCqB,YAAa,kBAAkBrB,qBAGjCH,GAASyB,eAAiB,CACxBC,cAAe,uBAAuBvB,qB,IC5BlCwB,G,iLACQhM,EAAQzF,EAAM0R,GACxB,GAAI9O,MAAMC,QAAQ4C,GAAS,4BAEzB,YAAmBA,EAAnB,+CAA2B,KAAhBiI,EAAgB,SACxBA,EAAKjF,IAAMiF,GAAMxE,iBAAiBlJ,EAAM0R,IAHlB,wFAMxBjM,EAAOgD,IAAMhD,GAAQyD,iBAAiBlJ,EAAM0R,K,6BAInCjM,EAAQzF,EAAM0R,GAC1B,GAAI9O,MAAMC,QAAQ4C,GAAS,4BAEzB,YAAmBA,EAAnB,+CAA2B,KAAhBiI,EAAgB,SACxBA,EAAKjF,IAAMiF,GAAMxE,iBAAiBlJ,EAAM0R,IAHlB,wFAMxBjM,EAAOgD,IAAMhD,GAAQkM,oBAAoB3R,EAAM0R,K,kCAIjCjM,GAAgD,IAAxCmM,EAAwC,uDAA7B,aAAUC,EAAmB,uDAAV,aACjDC,EAAS,SAATA,EAAU3I,GACdsI,EAAUM,OAAOtM,EAAQqK,GAASC,kBAAkBC,WAAY4B,GAChEH,EAAUM,OAAOtM,EAAQqK,GAASC,kBAAkBI,SAAU2B,GAC9DD,EAAO1I,IAETsI,EAAUxQ,KAAKwE,EAAQqK,GAASC,kBAAkBC,WAAY4B,GAC9DH,EAAUxQ,KAAKwE,EAAQqK,GAASC,kBAAkBI,SAAU2B,K,8BAG/CrM,GAAyB,IAAjBuM,EAAiB,uDAAV,aACxBrR,EAAI,EACR8Q,EAAUxQ,KAAKwE,EAAQqK,GAASC,kBAAkBS,OAAO,SAACnN,GACxD,IAAMnC,EAAIgF,KAAK2B,MACX3G,EAAIP,GAAK,KACXqR,EAAK3O,GACL1C,EAAI,GAEJA,EAAIO,S,+1BClCN+Q,G,YACJ,WAAYC,GAAQ,e,4FAAA,UAClB,oCAASzQ,EAAT,oBACKyQ,OAASrQ,EAAMkB,UAAU,CAC5BiJ,MAAO,GACPmG,OAAQ,SAAAC,GAAE,OAAIA,IACbF,GACH,EAAKG,QAAUxE,EAAE,MAAD,UAAWpM,EAAX,2BAChB,EAAK6Q,QAAUzE,EAAE,MAAD,UAAWpM,EAAX,2BAChB,EAAKqK,QAAU+B,EAAE,MAAD,UAAWpM,EAAX,0BAChB,EAAK8Q,MAAQ1E,EAAE,MAAD,UAAWpM,EAAX,wBACd,EAAKqK,QAAQpB,SAAS,EAAK6H,QAC3B,KAAK7H,SAAL,QAAiB,CACf,EAAK2H,QACL,EAAKC,QACL,EAAKxG,UAEP,EAAK0G,UAAY,EACjB,EAAKC,aAAe,EACpB,EAAKC,WAAa,EAClB,EAAKC,cAAgB,GACrB,EAAKC,SAAW,EAChB,EAAKC,aAAe,EACpB,EAAKC,cAAgB,EACrB,EAAKC,QAAS,EACd,EAAKxJ,IAAI,EAAK2I,OAAOlG,OACrB,EAAKO,OACL,EAAKtL,OA1Ba,E,+RA6Bb,WACLyG,KAAK6K,MAAMlG,GAAGyD,GAASC,kBAAkBG,YAAY,SAAC8C,GACpD,GAAoB,IAAhBA,EAAK3J,OAAT,CACA,IAAM4J,EAAc,EAAKC,eAAeF,EAAM,EAAKT,OACnDd,GAAU0B,YAAYtF,EAAEzG,WAAW,SAACgM,GAElC,IACI1J,EADgB,EAAKwJ,eAAeE,EAAM,EAAKtH,SAC5BrH,EAAIwO,EAAYxO,EACnCiF,EAAO,IAAGA,EAAO,GACjBA,EAAO,EAAK+I,eAAc/I,EAAO,EAAK+I,cAE1C,EAAKD,UAAY9I,EACjB,EAAKkJ,SAAW,EAAKS,gBAAgB,EAAKb,WAC1C,EAAKD,MAAMhJ,IAAI,OAAf,UAA0BG,EAA1B,OACA,EAAKwI,OAAOC,OAAO,EAAKS,UACxBQ,EAAK9J,kBACL8J,EAAKE,oBAEPN,EAAK1J,kBACL0J,EAAKM,uB,8BAIDR,EAAeD,GACrB,GAAIC,EAAgBD,EAAc,CAChCnL,KAAKqL,QAAS,EACdrL,KAAK4E,OAEL,IAAMiH,EAAa7L,KAAKoE,QAAQkC,MAC1B0E,EAAaI,EAAgBD,EAAeU,EAAWzL,MAC7DJ,KAAKgL,WAAaA,EAAahL,KAAKiL,cAAgBjL,KAAKiL,cAAgBD,EACzEhL,KAAKoL,cAAgBA,EACrBpL,KAAKmL,aAAeA,EACpBnL,KAAK+K,aAAec,EAAWzL,MAAQJ,KAAKgL,WAC5ChL,KAAK6K,MAAMhJ,IAAI,QAAf,UAA2B7B,KAAKgL,WAAhC,OAEA,IAAMF,EAAa9K,KAAKkL,UAAYC,EAAeC,GAAkBpL,KAAK+K,aAC1E/K,KAAK8K,UAAYA,EAAY9K,KAAK+K,aAAe/K,KAAK+K,aAAeD,EACrE9K,KAAKkL,SAAWlL,KAAK2L,gBAAgB3L,KAAK8K,WAC1C9K,KAAK6K,MAAMhJ,IAAI,OAAf,UAA0B7B,KAAK8K,UAA/B,YAEA9K,KAAKqL,QAAS,EACdrL,KAAK6E,OACL7E,KAAKwK,OAAOC,OAAO,K,iCAIZqB,GACT,IAAIpB,EAAKoB,EACHC,EAAQ/L,KAAKmL,aAAenL,KAAKoL,cACnCV,EAAKqB,EAAOrB,EAAKqB,EAAgBrB,EAAK,IAAGA,EAAK,GAClD,IAAMI,EAAaJ,GAAM1K,KAAKmL,aAAenL,KAAKoL,eAAkBpL,KAAK+K,aACzE/K,KAAK8K,UAAYA,EAAY9K,KAAK+K,aAAe/K,KAAK+K,aAAeD,EACjE9K,KAAKkL,WAAaR,IACpB1K,KAAKkL,SAAWR,EAChB1K,KAAK6K,MAAMhJ,IAAI,OAAf,UAA0B7B,KAAK8K,UAA/B,OACA9K,KAAKwK,OAAOC,OAAOzK,KAAKkL,a,sCAIZY,GACd,OAAQA,EAAO9L,KAAK+K,cAAiB/K,KAAKmL,aAAenL,KAAKoL,oB,gCA3FzChF,G,ozBCAnB4F,G,YACJ,WAAYxB,GAAQ,e,4FAAA,UAClB,oCAASzQ,EAAT,oBACKyQ,OAASrQ,EAAMkB,UAAU,CAC5BiJ,MAAO,GACPmG,OAAQ,SAAAC,GAAE,OAAIA,IACbF,GACH,EAAKG,QAAUxE,EAAE,MAAD,UAAWpM,EAAX,2BAChB,EAAK6Q,QAAUzE,EAAE,MAAD,UAAWpM,EAAX,2BAChB,EAAKqK,QAAU+B,EAAE,MAAD,UAAWpM,EAAX,0BAChB,EAAK8Q,MAAQ1E,EAAE,MAAD,UAAWpM,EAAX,wBACd,EAAKqK,QAAQpB,SAAS,EAAK6H,QAC3B,KAAK7H,SAAL,QAAiB,CACf,EAAK2H,QACL,EAAKC,QACL,EAAKxG,UAEP,EAAK6H,SAAW,EAChB,EAAKC,YAAc,EACnB,EAAKC,YAAc,EACnB,EAAKC,eAAiB,GACtB,EAAKlB,SAAW,EAChB,EAAKmB,cAAgB,EACrB,EAAKC,eAAiB,EACtB,EAAKjB,QAAS,EACd,EAAKxJ,IAAI,EAAK2I,OAAOlG,OACrB,EAAKO,OACL,EAAKtL,OA1Ba,E,+RA6Bb,WACLwQ,GAAUxQ,KAAKyG,KAAK6K,MAAOzC,GAASC,kBAAkBG,YAAY,SAAC8C,GACjE,GAAoB,IAAhBA,EAAK3J,OAAT,CACA,IAAM4J,EAAc,EAAKC,eAAeF,EAAM,EAAKT,OACnDd,GAAU0B,YAAYtF,EAAEzG,WAAW,SAACgM,GAElC,IACI5J,EADgB,EAAK0J,eAAeE,EAAM,EAAKtH,SAC7BpH,EAAIuO,EAAYvO,EAClC8E,EAAM,IAAGA,EAAM,GACfA,EAAM,EAAKoK,cAAapK,EAAM,EAAKoK,aAEvC,EAAKD,SAAWnK,EAChB,EAAKoJ,SAAW,EAAKS,gBAAgB,EAAKM,UAC1C,EAAKpB,MAAMhJ,IAAI,MAAf,UAAyBC,EAAzB,OACA,EAAK0I,OAAOC,OAAO,EAAKS,UACxBQ,EAAK9J,kBACL8J,EAAKE,0B,8BAKHU,EAAgBD,GACtB,GAAIC,EAAiBD,EAAe,CAClCrM,KAAKqL,QAAS,EACdrL,KAAK4E,OAEL,IAAMiH,EAAa7L,KAAKoE,QAAQkC,MAC1B6F,EAAcG,EAAiBD,EAAgBR,EAAWvL,OAChEN,KAAKmM,YAAcA,EAAcnM,KAAKoM,eAAiBpM,KAAKoM,eAAiBD,EAC7EnM,KAAKsM,eAAiBA,EACtBtM,KAAKqM,cAAgBA,EACrBrM,KAAKkM,YAAcL,EAAWvL,OAASN,KAAKmM,YAC5CnM,KAAK6K,MAAMhJ,IAAI,SAAf,UAA4B7B,KAAKmM,YAAjC,OAEA,IAAMF,EAAYjM,KAAKkL,UAAYmB,EAAgBC,GAAmBtM,KAAKkM,YAC3ElM,KAAKiM,SAAWA,EAAWjM,KAAKkM,YAAclM,KAAKkM,YAAcD,EACjEjM,KAAKkL,SAAWlL,KAAK2L,gBAAgB3L,KAAKiM,UAC1CjM,KAAK6K,MAAMhJ,IAAI,MAAf,UAAyB7B,KAAKiM,SAA9B,YAEAjM,KAAKqL,QAAS,EACdrL,KAAK6E,OACL7E,KAAKwK,OAAOC,OAAO,K,iCAIZqB,GACT,IAAIpB,EAAKoB,EACHC,EAAQ/L,KAAKqM,cAAgBrM,KAAKsM,eACpC5B,EAAKqB,EAAOrB,EAAKqB,EAAgBrB,EAAK,IAAGA,EAAK,GAClD,IAAMuB,EAAYvB,GAAM1K,KAAKqM,cAAgBrM,KAAKsM,gBAAmBtM,KAAKkM,YAC1ElM,KAAKiM,SAAWA,EAAWjM,KAAKkM,YAAclM,KAAKkM,YAAcD,EAC7DjM,KAAKkL,WAAaR,IACpB1K,KAAKkL,SAAWR,EAChB1K,KAAK6K,MAAMhJ,IAAI,MAAf,UAAyB7B,KAAKiM,SAA9B,OACAjM,KAAKwK,OAAOC,OAAOzK,KAAKkL,a,sCAIZY,GACd,OAAQA,EAAO9L,KAAKkM,aAAgBlM,KAAKqM,cAAgBrM,KAAKsM,qB,gCAzFzClG,G,ozBCLnBmG,G,YACJ,WAAYlG,EAASO,GAAS,a,4FAAA,UAC5B,0BAAM,MAAN,UAAgB7M,EAAhB,gCACK6M,QAAUzM,EAAMkB,UAAU,CAC7BiJ,MAAO,CACL2C,SAAU,MAEXL,GACH,EAAKP,QAAUA,EACf,EAAKS,OARuB,E,+RAY5B9G,KAAK6B,IAAI7B,KAAK4G,QAAQtC,OACtBtE,KAAKgD,SAAShD,KAAKqG,c,gCAdczF,G,ozBCA/B4L,G,YACJ,WAAY5F,GAAS,a,4FAAA,UACnB,0BAAM,MAAN,UAAgB7M,EAAhB,wBACK6M,QAAUzM,EAAMkB,UAAU,CAC7BwL,cAAe,GACfvC,MAAO,IACNsC,GACH,EAAKE,OANc,E,+RAUnB9G,KAAK6B,IAAI7B,KAAK4G,QAAQtC,OADjB,2BAGL,YAA2BtE,KAAK4G,QAAQC,cAAxC,oDAAWE,EAAX,QAAuD/G,KAAKgD,SAAS+D,IAHhE,wF,gCAVqBnG,G,qhCCW9B,IAAM6L,GAAoB,CACxBC,IAAK,EACLC,KAAM,EACNC,OAAQ,EACRC,MAAO,GAGHC,GAAO,GAEPC,G,YAEJ,WAAYnG,GAAS,M,iGAAA,S,EACnB,U,EAAA,0BAAS7M,EAAT,iB,gDACK6M,QAAUzM,EAAMkB,UAAU,CAC7B6J,SAAUuH,GAAkBG,OAC5B7L,GAAI,MACH6F,GACH,EAAKoG,KAAM,EACX,EAAK5I,QAAU+B,EAAE,MAAD,UAAWpM,EAAX,uBAChB,EAAKkT,WAAa,IAAI1C,GACtB,EAAK2C,WAAa,IAAIlB,GACtB,IAAMmB,EAAgC,IAAIZ,GAAuB,EAAKnI,QAAS,CAC7EE,MAAO,CACL2C,SAAU,KAGRmG,EAAmC,IAAIb,GAAuB,EAAKW,WAAY,CACnF5I,MAAO,CACL+I,SAAU,aAGRC,EAAkB,IAAId,GAAgB,CAC1C3F,cAAe,CAACsG,EAA+BC,KAE3CG,EAA8B,IAAIvG,EAAqBsG,GACvDE,EAAiC,IAAIxG,EAAqB,EAAKiG,YAC/DQ,EAAgB,IAAI9G,EAAc,CACtCE,cAAe,CAAC0G,EAA6BC,KA1B5B,OA4BnB,gDAAeC,GACf,EAAKlU,OACLuT,GAAK/N,KAAL,OA9BmB,E,kSAiIQ,IAAb2O,EAAa,uDAAJ,GACvBZ,GAAKhS,SAAQ,SAACkL,IACkB,IAA1B0H,EAAO5O,QAAQkH,IACjBA,EAAK2H,e,gCAnGJ,WACL5D,GAAUxQ,KAAK6F,OAAQgJ,GAASC,kBAAkBc,QAAQ,WACxD,EAAKjE,WACL,EAAK0I,iB,iCAIS,OAChB,EAAA5N,KAAKoE,SAAQpB,SAAb,qB,iCAGS,IACDoB,EAAYpE,KAAZoE,QADC,EAEgBpE,KAAK4G,QAAtB7F,EAFC,EAEDA,GAAImE,EAFH,EAEGA,SACN2I,EAAQ9M,EAAGuF,MACXuF,EAAazH,EAAQkC,MACrBxE,EAAc+L,EAAd/L,IAAKE,EAAS6L,EAAT7L,KACX,OAAQkD,GACN,KAAKuH,GAAkBC,IACrB5K,EAAM+L,EAAM/L,IAAM+J,EAAWvL,OAC7B,MACF,KAAKmM,GAAkBE,KACrB3K,EAAO6L,EAAM7L,KAAO6J,EAAWzL,MAC/B,MACF,KAAKqM,GAAkBI,MACrB7K,EAAO6L,EAAM7L,KAAO6L,EAAMzN,MAC1B,MACF,KAAKqM,GAAkBG,OACrB9K,EAAM+L,EAAM/L,IAAM+L,EAAMvN,OAI5B,IAAMwN,EAAW1O,OAAOiB,WAClB0N,EAAY3O,OAAOmB,YACzB,GAAIyB,EAAO,GAAKA,EAAO6J,EAAWzL,MAAQ0N,EAExC,OAAQ5I,GACN,KAAKuH,GAAkBE,KACrB3K,EAAO6L,EAAM7L,KAAO6L,EAAMzN,MAC1B,MACF,KAAKqM,GAAkBI,MACrB7K,EAAO6L,EAAM7L,KAAO6J,EAAWzL,MAKrC,GAAI0B,EAAM,GAAKA,EAAM+J,EAAWvL,OAASyN,EAEvC,OAAQ7I,GACN,KAAKuH,GAAkBC,IACrB5K,EAAM+L,EAAM/L,IAAM+L,EAAMvN,OACxB,MACF,KAAKmM,GAAkBG,OACrB9K,EAAM+L,EAAM/L,IAAM+J,EAAWvL,QAK/B0B,EAAO,GAAKA,EAAO6J,EAAWzL,MAAQ0N,KACxChM,EAAM+L,EAAM/L,IAAM+L,EAAMvN,OACrB0B,EAAS6L,EAAT7L,OAEDF,EAAM,GAAKA,EAAM+J,EAAWvL,OAASyN,KACvCjM,EAAM+L,EAAM/L,IAAM+L,EAAMvN,OACrB0B,EAAS6L,EAAT7L,MAELhC,KAAKgO,OAAO,CACVlM,MACAE,W,kCAIQ,IAEJ6J,EADc7L,KAAZoE,QACmBkC,MACrBA,EAAMtG,KAAKsG,MACjBtG,KAAKkN,WAAWe,QAAQ3H,EAAIhG,OAAQuL,EAAWvL,QAC/CN,KAAKiN,WAAWgB,QAAQ3H,EAAIlG,MAAOyL,EAAWzL,S,6BAI1CJ,KAAKgN,MACP7G,EAAEzG,SAASwG,MAAMlD,SAAShD,MAC1BA,KAAKkF,WACLlF,KAAK4N,YACL5N,KAAKgN,KAAM,K,+BAKI,IAAbhN,KAAKgN,MACP7G,EAAEzG,SAASwG,MAAMzC,OAAOzD,MACxBA,KAAKgN,KAAM,Q,gCA/HK5G,G,+uBChBhB8H,G,YAEJ,aAA0C,M,IAA9BpN,EAA8B,uDAAlB,GAAI8F,EAAc,uDAAJ,GAAI,O,4FAAA,S,EACxC,U,EAAA,0BAAS7M,EAAT,4BAAsC+G,M,gDACjC8F,QAAUzM,EAAMkB,UAAU,GAAIuL,GACnC,EAAKuH,MAAQ,GAEb,EAAKC,QAAU,IAAIrB,GAAQ,EAAKnG,SAChC,EAAKwH,QAAQpL,SAAb,OACA,EAAKzJ,OAPmC,E,+RAUnC,WACLwQ,GAAUxQ,KAAKyG,KAAMoI,GAASC,kBAAkBG,YAAY,SAAChD,GAC3DA,EAAM5D,kBACN4D,EAAMoG,oBAER7B,GAAUxQ,KAAKmG,SAASwG,KAAMkC,GAASC,kBAAkBG,YAAY,WACnE,EAAKmF,a,8BAID3H,GAIN,OAHkBhG,KAAVmO,MACFpP,KAAKiH,GACXhG,KAAKgD,SAASgD,GACPhG,O,6BAKP,OADAA,KAAKoO,QAAQC,OACNrO,O,8BAKP,OADAA,KAAKoO,QAAQT,QACN3N,O,+BAIP,OAAOA,KAAKoO,QAAQpB,S,gCAxCI5G,G,6oBCLtBkI,G,YACJ,aAA4B,IAAhBxN,EAAgB,uDAAJ,GAAI,O,4FAAA,2CACjB/G,EADiB,uCACuB+G,K,mPAFrBsF,G,2uBCEhC,IAAMmI,GAAO,GAEPC,G,YACJ,WAAYzG,EAAO0G,GAAM,M,IAAA,O,4FAAA,S,EACvB,U,EAAA,0BAAS1U,EAAT,gC,gDACKgO,MAAQA,EACb,EAAK0G,KAAOA,EACZ,EAAKnH,KAAO,IAAIJ,EAAK,WACrB,EAAKwH,YAAcvI,EAAE,MAAD,UAAWpM,EAAX,mCACpB,EAAK2U,YAAY1L,SAAS,EAAKsE,MAC/B,EAAKqH,aAAexI,EAAE,MAAD,UAAWpM,EAAX,oCACrB,EAAK6U,YAAczI,EAAE,MAAD,UAAWpM,EAAX,mCACpB,EAAK4U,aAAa3G,KAAKD,GACvB,EAAK6G,YAAY5G,KAAKyG,GACtB,EAAKzL,SAAS,EAAK0L,aACnB,EAAK1L,SAAS,EAAK2L,cACnB,EAAK3L,SAAS,EAAK4L,aACnBL,GAAKxP,KAAL,OAduB,E,iSAiBhBgJ,GACP/H,KAAK2O,aAAa3G,KAAKD,K,8BAGjB0G,GACNzO,KAAK4O,YAAY5G,KAAKyG,K,kCAItBF,GAAKzT,SAAQ,SAACkL,GACZA,EAAKjC,YAAY,aAEnB/D,KAAK8D,SAAS,e,gCA9BkBwK,I,6oBCJ9BO,G,YACJ,aAAc,O,4FAAA,2CACH9U,EADG,mC,mPADmBqM,G,ozBCI7B0I,G,YACJ,aAA0B,MAAdlI,EAAc,uDAAJ,GAAI,O,4FAAA,UACxB,oCAAS7M,EAAT,wBAA0CI,EAAMkB,UAAU,CACxD0T,SAAU,cACTnI,MACEoI,MAAQ,CACX,IAAIR,GAAsB,KAAM,IAAIvN,KAAK,OAAQ,WACjD,IAAIuN,GAAsB,KAAM,IAAIvN,KAAK,OAAQ,QACjD,IAAI4N,GACJ,IAAIL,GAAsB,KAAM,QAAQvN,KAAK,OAAQ,UACrD,IAAIuN,GAAsB,MAAO,UAAUvN,KAAK,OAAQ,cACxD,IAAIuN,GAAsB,KAAM,OAAOvN,KAAK,OAAQ,YACpD,IAAIuN,GAAsB,OAAQ,YAAYvN,KAAK,OAAQ,aAC3D,IAAI4N,GACJ,IAAIL,GAAsB,MAAO,SAASvN,KAAK,OAAQ,OACvD,IAAIuN,GAAsB,KAAM,UAAUvN,KAAK,OAAQ,MACvD,IAAIuN,GAAsB,KAAM,SAASvN,KAAK,OAAQ,UACtD,IAAI4N,GACJ,IAAIL,GAAsB,KAAM,aAAavN,KAAK,OAAQ,SAC1D,IAAIuN,GAAsB,KAAM,SAASvN,KAAK,OAAQ,SACtD,IAAIuN,GAAsB,KAAM,WAAWvN,KAAK,OAAQ,SACxD,IAAIuN,GAAsB,KAAM,cAAcvN,KAAK,OAAQ,SAC3D,IAAIuN,GAAsB,KAAM,sBAAsBvN,KAAK,OAAQ,SACnE,IAAIuN,GAAsB,KAAM,YAAYvN,KAAK,OAAQ,QACzD,IAAI4N,GACJ,IAAIL,GAAsB,OAAQ,KAEpC,EAAKQ,MAAMlU,SAAQ,SAACkL,GACdA,aAAgBwI,IAAyBxI,EAAK/E,KAAK,SACrD+E,EAAKrB,GAAGyD,GAASC,kBAAkBS,OAAO,WACxC,EAAKmG,OAAOjJ,EAAK/E,KAAK,QAAS+E,EAAK+B,OACpC/B,EAAKkJ,eAGT,EAAKC,QAAQnJ,MAEf,EAAKc,OAnCmB,E,+RAsCnB,IACGF,EAAmB5G,KAAnB4G,QAASoI,EAAUhP,KAAVgP,MACTjO,EAAO6F,EAAP7F,GACFqO,EAAQJ,EAAM,GACpBjO,EAAGsO,SAASD,EAAMrH,OAClBqH,EAAMF,c,6BAGDI,EAAQvH,GACO/H,KAAZ4G,QACAmI,SAASO,EAAQvH,GACzB/H,KAAK2N,U,sCAGStT,GACd2F,KAAKgP,MAAMlU,SAAQ,SAACkL,GACdA,EAAK/E,KAAK,UAAY5G,GACxB2L,EAAKkJ,oB,gCAxDmBhB,I,wkBCD1BqB,G,YACJ,WAAY3I,GAAS,M,IAAA,O,4FAAA,S,EACnB,U,EAAA,0BAAS7M,EAAT,oB,gDACK6M,QAAUzM,EAAMqV,SAAS,CAC5BC,YAAa,IACZ7I,GACH,EAAKyI,SAAS,MACd,EAAKK,SAAS,IACd,EAAKC,cACL,EAAKC,kBAAoB,IAAId,GAAkB3U,EAAMqV,SAAS,CAC5DzO,GAAI,MACJmE,SAAUuH,GAAkBG,QAC3B,EAAKhG,QAAQ6I,cAXG,E,mPADF5H,I,2uBCDrB,IAAM0G,GAAO,GAEPsB,G,YACJ,WAAY9H,GAAO,M,IAAA,O,4FAAA,S,EACjB,U,EAAA,0BAAShO,EAAT,8B,gDACKgO,MAAQA,EACb,EAAKT,KAAO,IAAIJ,EAAK,WACrB,EAAKwH,YAAcvI,EAAE,MAAD,UAAWpM,EAAX,iCACpB,EAAK2U,YAAY1L,SAAS,EAAKsE,MAC/B,EAAKqH,aAAexI,EAAE,MAAD,UAAWpM,EAAX,kCACrB,EAAK4U,aAAa3G,KAAKD,GACvB,EAAK4G,aAAa9M,IAAI,cAAekG,GACrC,EAAK/E,SAAS,EAAK0L,aACnB,EAAK1L,SAAS,EAAK2L,cACnBJ,GAAKxP,KAAL,OAXiB,E,iSAcVgJ,GACP/H,KAAK+H,MAAQA,EACb/H,KAAK2O,aAAa3G,KAAKD,K,kCAIvBwG,GAAKzT,SAAQ,SAACkL,GACZA,EAAKjC,YAAY,aAEnB/D,KAAK8D,SAAS,e,gCAxBgBwK,I,ozBCD5BwB,G,YACJ,aAA0B,MAAdlJ,EAAc,uDAAJ,GAAI,O,4FAAA,UACxB,oCAAS7M,EAAT,sBAAwCI,EAAMkB,UAAU,CACtD0T,SAAU,cACTnI,MACEoI,MAAQ,CACX,IAAIa,GAAoB,SACxB,IAAIA,GAAoB,aACxB,IAAIA,GAAoB,mBACxB,IAAIA,GAAoB,iBACxB,IAAIA,GAAoB,eACxB,IAAIA,GAAoB,WACxB,IAAIA,GAAoB,SAE1B,EAAKb,MAAMlU,SAAQ,SAACkL,GAClBA,EAAKrB,GAAGyD,GAASC,kBAAkBS,OAAO,WACxC,EAAKmG,OAAOjJ,EAAK+B,OACjB/B,EAAKkJ,eAEP,EAAKC,QAAQnJ,MAEf,EAAK+J,gBAAgB,EAAKf,MAAM,GAAGjH,OApBX,E,+RAuBnB1N,GACe2F,KAAZ4G,QACAmI,SAAS1U,GACjB2F,KAAK2N,U,sCAGStT,GACd2F,KAAKgP,MAAMlU,SAAQ,SAACkL,GACdA,EAAK+B,QAAU1N,GACjB2L,EAAKkJ,oB,gCAjCiBhB,I,wkBCAxB8B,G,YACJ,WAAYpJ,GAAS,M,IAAA,O,4FAAA,S,EACnB,U,EAAA,0BAAS7M,EAAT,kB,gDACK6M,QAAUzM,EAAMqV,SAAS,CAC5BC,YAAa,IACZ7I,GACH,EAAKyI,SAAS,SACd,EAAKK,SAAS,IACd,EAAKC,cACL,EAAKM,gBAAkB,IAAIH,GAAgB3V,EAAMqV,SAAS,CACxDzO,GAAI,MACJmE,SAAUuH,GAAkBG,QAC3B,EAAKhG,QAAQ6I,cAXG,E,mPADJ5H,I,6oBCFbqI,G,YACJ,WAAYjU,GAAM,a,4FAAA,UAChB,oCAASlC,EAAT,mCACKkC,KAAOA,EACZ,EAAK0S,aAAexI,EAAE,MAAD,UAAWpM,EAAX,uCACrB,EAAK4U,aAAa3G,KAAK/L,GACvB,EAAK0S,aAAa9M,IAAI,aAAc,UACpC,EAAKmB,SAAS,EAAK2L,cANH,E,mPADkBL,I,ozBCEhC6B,G,YACJ,aAA0B,MAAdvJ,EAAc,uDAAJ,GAAI,O,4FAAA,UACxB,oCAAS7M,EAAT,2BAA6CI,EAAMkB,UAAU,CAC3D0T,SAAU,cACTnI,MACEoI,MAAQ,CACX,IAAIkB,GAAwB,GAC5B,IAAIA,GAAwB,GAC5B,IAAIA,GAAwB,GAC5B,IAAIA,GAAwB,GAC5B,IAAIA,GAAwB,IAC5B,IAAIA,GAAwB,IAC5B,IAAIA,GAAwB,IAC5B,IAAIA,GAAwB,IAC5B,IAAIA,GAAwB,IAC5B,IAAIA,GAAwB,IAC5B,IAAIA,GAAwB,IAC5B,IAAIA,GAAwB,KAE9B,EAAKlB,MAAMlU,SAAQ,SAACkL,GAClBA,EAAKrB,GAAGyD,GAASC,kBAAkBS,OAAO,WACxC,EAAKmG,OAAOjJ,EAAK/J,SAEnB,EAAKkT,QAAQnJ,MAtBS,E,+RA0BnB/J,GACe+D,KAAZ4G,QACAmI,SAAS9S,GACjB+D,KAAK2N,a,gCA9ByBO,I,wkBCA5BkC,G,YACJ,aAA2C,M,IAA/BxJ,EAA+B,uDAArB,CAAE6I,YAAa,IAAM,O,4FAAA,S,EACzC,U,EAAA,0BAAS1V,EAAT,uB,gDACK6M,QAAUA,EACf,EAAKyI,SAAS,MACd,EAAKK,SAAS,IACd,EAAKC,cACL,EAAKU,oBAAsB,IAAIF,GAAoBhW,EAAMqV,SAAS,CAChEzO,GAAI,MACJmE,SAAUuH,GAAkBG,QAC3B,EAAKhG,QAAQ6I,cATyB,E,mPADtB5H,I,6oBCFjByI,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASvW,EAAT,uBACKuN,KAAO,IAAIJ,EAAK,aACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADOF,I,6oBCAjBmJ,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASxW,EAAT,yBACKuN,KAAO,IAAIJ,EAAK,eACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADSF,I,6oBCAnBoJ,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASzW,EAAT,wBACKuN,KAAO,IAAIJ,EAAK,cACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADQF,I,6oBCAlBqJ,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAS1W,EAAT,yBACKuN,KAAO,IAAIJ,EAAK,eACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADSF,I,6oBCAnBsJ,G,YACJ,WAAY3I,EAAOT,GAAM,a,4FAAA,UACvB,oCAASvN,EAAT,oCACKgO,MAAQA,EACb,EAAKT,KAAOA,EACRA,IACF,EAAKoH,YAAcvI,EAAE,MAAD,UAAWpM,EAAX,uCACpB,EAAK2U,YAAY1L,SAAS,EAAKsE,MAC/B,EAAKtE,SAAS,EAAK0L,cAEjB3G,IACF,EAAK4G,aAAexI,EAAE,MAAD,UAAWpM,EAAX,wCACrB,EAAK4U,aAAa3G,KAAKD,GACvB,EAAK/E,SAAS,EAAK2L,eAZE,E,mPADYL,I,qhCCIvC,IAAMxB,GAAO,GAEP6D,GAAsB,CAC1BhE,KAAM,EACND,IAAK,EACLG,MAAO,EACP+D,OAAQ,GAGJC,G,YACJ,WAAYjK,GAAS,M,IAAA,O,4FAAA,S,EACnB,U,EAAA,0BAAS7M,EAAT,kB,gDACK6M,QAAUzM,EAAMkB,UAAU,CAC7B6J,SAAUyL,GAAoBC,QAC7BhK,GACH,EAAKoG,KAAM,EACX,EAAK8D,KAAO3K,EAAE,MAAD,UAAWpM,EAAX,qBACb,EAAKqK,QAAU+B,EAAE,MAAD,UAAWpM,EAAX,wBAChB,gDAAe,EAAKqK,SACpB,EAAK7K,OACLuT,GAAK/N,KAAL,OAVmB,E,kSAgFQ,IAAb2O,EAAa,uDAAJ,GACvBZ,GAAKhS,SAAQ,SAACkL,IACkB,IAA1B0H,EAAO5O,QAAQkH,IACjBA,EAAK2H,e,gCAtEJ,WACGmD,EAAS9Q,KAAT8Q,KACR/G,GAAUxQ,KAAKuX,EAAM1I,GAASC,kBAAkBG,YAAY,SAAC7M,GAC3D,EAAKgS,QACLhS,EAAEiG,qBAEJmI,GAAUxQ,KAAKyG,KAAMoI,GAASC,kBAAkBG,YAAY,SAAC8C,GAC3D,GAAoB,IAAhBA,EAAK3J,OAAT,CACA,IAAM4J,EAAc,EAAKC,eAAeF,EAAM,GAC9CvB,GAAU0B,YAAYtF,EAAEzG,WAAW,SAACgM,GAElC,IAAM5J,EAAM4J,EAAKlF,MAAQ+E,EAAYvO,EAC/BgF,EAAO0J,EAAKnF,MAAQgF,EAAYxO,EACtC,EAAKiR,OAAO,CAAElM,MAAKE,SACnB0J,EAAK9J,kBACL8J,EAAKE,oBAEPN,EAAK1J,kBACL0J,EAAKM,uB,iCAIE,IAED1G,EADYlF,KAAZ4G,QACA1B,SAFC,EAGiB/K,EAAM4W,WAAxB3Q,EAHC,EAGDA,MAAOE,EAHN,EAGMA,OACTgG,EAAMtG,KAAKsG,MACjB,OAAQpB,GACN,KAAKyL,GAAoBhE,KAEzB,KAAKgE,GAAoB9D,MAEzB,KAAK8D,GAAoBjE,IACvB,MACF,KAAKiE,GAAoBC,OACvB5Q,KAAKgO,OAAO,CACVhM,KAAM5B,EAAQ,EAAIkG,EAAIlG,MAAQ,EAC9B0B,IAAKxB,EAAS,EAAIgG,EAAIhG,OAAS,O,6BAQrC,GAAIN,KAAKgN,IAAK,KACJ8D,EAAS9Q,KAAT8Q,KACR3K,EAAEzG,SAASwG,MAAMlD,SAAS8N,GAC1B3K,EAAEzG,SAASwG,MAAMlD,SAAShD,MAC1BA,KAAKkF,WACLlF,KAAKgN,KAAM,K,8BAKb,IAAiB,IAAbhN,KAAKgN,IAAe,KACd8D,EAAS9Q,KAAT8Q,KACR3K,EAAEzG,SAASwG,MAAMzC,OAAOzD,MACxBmG,EAAEzG,SAASwG,MAAMzC,OAAOqN,GACxB9Q,KAAKgN,KAAM,K,iCAIG,OAChB,EAAAhN,KAAKoE,SAAQpB,SAAb,wB,gCA9EoBoD,G,+uBCRlB4K,G,YAEJ,WAAYpK,GAAS,M,IAAA,O,4FAAA,S,EACnB,U,EAAA,0BAAS7M,EAAT,oB,gDACK6M,QAAUzM,EAAMkB,UAAU,CAC7B4V,SAAU,cACTrK,GAEH,EAAKsK,UAAY,IAAIL,GACrB,EAAKM,MAAQ,CAAC,IAAK,EAAG,KAEtB,EAAKC,kBAAoBjL,EAAE,MAAD,UAAWpM,EAAX,uCAC1B,EAAKsX,eAAiBlL,EAAE,MAAD,UAAWpM,EAAX,mCACvB,EAAKsX,eAAerJ,KAAK,WACzB,EAAKsJ,WAAanL,EAAE,QAAD,UAAapM,EAAb,8BACnB,EAAK+H,IAAMqE,EAAE,MAAD,UAAWpM,EAAX,sBACZ,EAAK+H,IAAIkB,SAAS,EAAKoO,mBACvB,EAAKtP,IAAIkB,SAAS,EAAKqO,gBACvB,EAAKvP,IAAIkB,SAAS,EAAKsO,YAEvB,EAAKC,iBAAmBpL,EAAE,MAAD,UAAWpM,EAAX,qCACzB,EAAKyX,iBAAmBrL,EAAE,MAAD,UAAWpM,EAAX,0CACzB,EAAK0X,iBAAmBtL,EAAE,MAAD,UAAWpM,EAAX,0CACzB,EAAK2X,iBAAmBvL,EAAE,MAAD,UAAWpM,EAAX,0CACzB,EAAK4X,OAASxL,EAAE,MAAD,UAAWpM,EAAX,yBACf,EAAK4X,OAAO3O,SAAS,EAAKwO,kBAC1B,EAAKG,OAAO3O,SAAS,EAAKyO,kBAC1B,EAAKE,OAAO3O,SAAS,EAAK0O,kBAC1B,EAAKC,OAAO3O,SAAS,EAAKuO,kBAE1B,EAAKK,aAAezL,EAAE,MAAD,UAAWpM,EAAX,iCACrB,EAAK8X,SAAW1L,EAAE,MAAD,UAAWpM,EAAX,4BACjB,EAAK+X,cAAgB3L,EAAE,MAAD,UAAWpM,EAAX,4BACtB,EAAKuL,OAASa,EAAE,MAAD,UAAWpM,EAAX,yBACf,EAAK6X,aAAa5J,KAAK,OACvB,EAAK6J,SAAS7O,SAAS,EAAK8O,eAC5B,EAAKxM,OAAOtC,SAAS,EAAK4O,cAC1B,EAAKtM,OAAOtC,SAAS,EAAK6O,UAE1B,EAAKE,aAAe5L,EAAE,MAAD,UAAWpM,EAAX,gCACrB,EAAKiY,aAAe7L,EAAE,MAAD,UAAWpM,EAAX,gCACrB,EAAKkY,QAAU9L,EAAE,MAAD,UAAWpM,EAAX,0BAChB,EAAKgY,aAAa/J,KAAK,MACvB,EAAKgK,aAAahK,KAAK,MACvB,EAAKiK,QAAQjP,SAAS,EAAKgP,cAC3B,EAAKC,QAAQjP,SAAS,EAAK+O,cAC3B,EAAK/O,SAAS,EAAKlB,KACnB,EAAKkB,SAAS,EAAK2O,QACnB,EAAK3O,SAAS,EAAKsC,QACnB,EAAKtC,SAAS,EAAKiP,SACnB,EAAKf,UAAUlO,SAAf,OACA,EAAKkO,UAAUrP,IAAI,aAAc,WACjC,EAAKtI,OAlDc,E,8RA0OP2Y,GACZ,IAAMC,EAAM,EAAID,EAAIrX,OACpB,GAAIsX,EAAM,EAAG,CAEX,IADA,IAAM3Z,EAAI,GACDT,EAAI,EAAGA,EAAIoa,EAAKpa,GAAK,EAC5BS,EAAEuG,KAAK,KAETvG,EAAEuG,KAAKmT,GAEPA,EAAM1Z,EAAE4Z,KAAK,IAEf,OAAOF,I,6BAGKG,GACZ,MAAO,CACLlM,EAAGmM,KAAKpW,IAAI,IAAKoW,KAAKnW,IAAI,EAAGkW,EAAIlM,IACjCrM,EAAGwY,KAAKpW,IAAI,IAAKoW,KAAKnW,IAAI,EAAGkW,EAAIvY,IACjCiD,EAAGuV,KAAKpW,IAAI,IAAKoW,KAAKnW,IAAI,EAAGkW,EAAItV,O,+BAIrBmV,GAId,MAAO,CAAErZ,GAFTqZ,EAAM3V,SAAW2V,EAAIpT,QAAQ,MAAQ,EAAKoT,EAAIK,UAAU,GAAKL,EAAM,MAEhD,GAAIM,GAAU,MAANN,IAAmB,EAAGO,EAAU,IAANP,K,+BAGvCA,GACd,OAAOlS,KAAK0S,SAAS1S,KAAK2S,SAAST,M,+BAGrBU,GACd,IAAMC,EAAM,CAAE1M,EAAG,EAAGrM,EAAG,EAAGiD,EAAG,GACvBb,EAAMoW,KAAKpW,IAAI0W,EAAI/Z,EAAG+Z,EAAIJ,EAAGI,EAAIH,GACjCtW,EAAMmW,KAAKnW,IAAIyW,EAAI/Z,EAAG+Z,EAAIJ,EAAGI,EAAIH,GACjCK,EAAQ3W,EAAMD,EAYpB,OAXA2W,EAAI9V,EAAIZ,EACR0W,EAAI/Y,EAAY,IAARqC,EAAY,IAAM2W,EAAQ3W,EAAM,EAC1B,IAAV0W,EAAI/Y,EACF8Y,EAAI/Z,IAAMsD,EAAK0W,EAAI1M,GAAKyM,EAAIJ,EAAII,EAAIH,GAAKK,EACpCF,EAAIJ,IAAMrW,EAAK0W,EAAI1M,EAAI,GAAKyM,EAAIH,EAAIG,EAAI/Z,GAAKia,EACjDD,EAAI1M,EAAI,GAAKyM,EAAI/Z,EAAI+Z,EAAIJ,GAAKM,EAC9BD,EAAI1M,GAAK,EAChB0M,EAAI1M,GAAK,GACL0M,EAAI1M,EAAI,IAAG0M,EAAI1M,GAAK,KACxB0M,EAAI/Y,GAAK,IAAM,IACf+Y,EAAI9V,GAAK,IAAM,IACR8V,I,+BAGOA,GACd,IAAMD,EAAM,GACNzM,EAAM0M,EAAN1M,EACArM,EAAY,IAAR+Y,EAAI/Y,EAAU,IAClBmB,EAAY,IAAR4X,EAAI9V,EAAU,IACxB,GAAU,IAANjD,EACF8Y,EAAI/Z,EAAIoC,EACR2X,EAAIJ,EAAIvX,EACR2X,EAAIH,EAAIxX,MACH,CACL,IAAM8X,EAAK9X,EACL+X,GAAM,IAAMlZ,GAAKmB,EAAI,IACrBgY,EAAkB9M,EAAI,IAAhB4M,EAAKC,GAAiB,GACxB,MAAN7M,IAAWA,EAAI,GACfA,EAAI,IACNyM,EAAI/Z,EAAIka,EACRH,EAAIH,EAAIO,EACRJ,EAAIJ,EAAIQ,EAAKC,GACJ9M,EAAI,KACbyM,EAAIJ,EAAIO,EACRH,EAAIH,EAAIO,EACRJ,EAAI/Z,EAAIka,EAAKE,GACJ9M,EAAI,KACbyM,EAAIJ,EAAIO,EACRH,EAAI/Z,EAAIma,EACRJ,EAAIH,EAAIO,EAAKC,GACJ9M,EAAI,KACbyM,EAAIH,EAAIM,EACRH,EAAI/Z,EAAIma,EACRJ,EAAIJ,EAAIO,EAAKE,GACJ9M,EAAI,KACbyM,EAAIH,EAAIM,EACRH,EAAIJ,EAAIQ,EACRJ,EAAI/Z,EAAIma,EAAKC,GACJ9M,EAAI,KACbyM,EAAI/Z,EAAIka,EACRH,EAAIJ,EAAIQ,EACRJ,EAAIH,EAAIM,EAAKE,IAEbL,EAAI/Z,EAAI,EACR+Z,EAAIJ,EAAI,EACRI,EAAIH,EAAI,GAGZ,MAAO,CAAE5Z,EAAGyZ,KAAKY,MAAMN,EAAI/Z,GAAI2Z,EAAGF,KAAKY,MAAMN,EAAIJ,GAAIC,EAAGH,KAAKY,MAAMN,EAAIH,M,+BAGzDG,GACd,IAAMV,EAAM,CACVU,EAAI/Z,EAAEyB,SAAS,IACfsY,EAAIJ,EAAElY,SAAS,IACfsY,EAAIH,EAAEnY,SAAS,KAOjB,OALA4X,EAAIpX,SAAQ,SAACsB,EAAK+W,GACG,IAAf/W,EAAIvB,SACNqX,EAAIiB,GAAJ,WAAc/W,OAGX8V,EAAIE,KAAK,M,+BAGFS,GACd,OAAO7S,KAAKoT,SAASpT,KAAKqT,SAASR,M,4BAGxBD,GACX,OAAOA,EAAIU,WAAW,S,4BAGXpB,GACX,OAAOA,EAAIoB,WAAW,O,+BAGRV,GACd,IACM5U,EAAS4U,EAAIW,MADP,oCAEZ,MAAO,CACL1a,EAAGmF,EAAO,GACVwU,EAAGxU,EAAO,GACVyU,EAAGzU,EAAO,M,6BAIA4U,GACZ,GAAIzY,EAAM8F,QAAQ2S,GAChB,OAAO,EAET,GAAI5S,KAAKwT,MAAMZ,GAAM,CACnB,IAAM3X,EAAI+V,EAAY2B,SAASC,GAE/BA,EAAM,OAAH,OAAU3X,EAAEpC,EAAZ,aAAkBoC,EAAEuX,EAApB,aAA0BvX,EAAEwX,EAA5B,KAEL,IAAMzU,EAASgT,EAAYyC,SAASb,GACpC,MAAkB,KAAX5U,EAAOnF,EAAuB,KAAXmF,EAAOwU,EAAuB,KAAXxU,EAAOyU,GAAa,Q,gCAtU5D,WACGlB,EAA6BvR,KAA7BuR,iBAAkBI,EAAW3R,KAAX2R,OAClBG,EAA4B9R,KAA5B8R,cAAeD,EAAa7R,KAAb6R,SACfP,EAA2CtR,KAA3CsR,WAAYS,EAA+B/R,KAA/B+R,aAAcC,EAAiBhS,KAAjBgS,aAClCjI,GAAUxQ,KAAKyG,KAAMoI,GAASC,kBAAkBG,YAAY,SAAC7M,GAC3DA,EAAEiG,qBAEJmI,GAAUxQ,KAAKgY,EAAkBnJ,GAASC,kBAAkBG,YAAY,SAACkL,GACvE,IAAMC,EAAK,EAAKnI,eAAekI,EAAI/B,GAC7BiC,EAAYjC,EAAOrL,MACrBqN,EAAG5W,EAAI,IAAG4W,EAAG5W,EAAI,GACjB4W,EAAG5W,EAAI6W,EAAUxT,QAAOuT,EAAG5W,EAAI6W,EAAUxT,OACzCuT,EAAG3W,EAAI,IAAG2W,EAAG3W,EAAI,GACjB2W,EAAG3W,EAAI4W,EAAUtT,SAAQqT,EAAG3W,EAAI4W,EAAUtT,QAC9C,EAAKuT,WAAWF,EAAG5W,EAAG4W,EAAG3W,EAAG4W,EAAUxT,MAAOwT,EAAUtT,QACvDyJ,GAAU0B,YAAYtF,EAAEzG,WAAW,SAACoU,GAClC,IAAMH,EAAK,EAAKnI,eAAesI,EAAInC,GAC/BgC,EAAG5W,EAAI,IAAG4W,EAAG5W,EAAI,GACjB4W,EAAG5W,EAAI6W,EAAUxT,QAAOuT,EAAG5W,EAAI6W,EAAUxT,OACzCuT,EAAG3W,EAAI,IAAG2W,EAAG3W,EAAI,GACjB2W,EAAG3W,EAAI4W,EAAUtT,SAAQqT,EAAG3W,EAAI4W,EAAUtT,QAC9C,EAAKyT,WAAWJ,EAAG5W,EAAG4W,EAAG3W,EAAG4W,EAAUxT,MAAOwT,EAAUtT,cAG3DyJ,GAAUxQ,KAAKuY,EAAe1J,GAASC,kBAAkBG,YAAY,SAACkL,GACpE,IAAMC,EAAK,EAAKnI,eAAekI,EAAI7B,GAC7BmC,EAAcnC,EAASvL,MACzBqN,EAAG5W,EAAI,IAAG4W,EAAG5W,EAAI,GACjB4W,EAAG5W,EAAIiX,EAAY5T,QAAOuT,EAAG5W,EAAIiX,EAAY5T,OACjD,EAAK6T,QAAQN,EAAG5W,EAAGiX,EAAY5T,OAC/B2J,GAAU0B,YAAYtF,EAAEzG,WAAW,SAACoU,GAClC,IAAMH,EAAK,EAAKnI,eAAesI,EAAIjC,GAC7BmC,EAAcnC,EAASvL,MACzBqN,EAAG5W,EAAI,IAAG4W,EAAG5W,EAAI,GACjB4W,EAAG5W,EAAIiX,EAAY5T,QAAOuT,EAAG5W,EAAIiX,EAAY5T,OACjD,EAAK8T,QAAQP,EAAG5W,EAAGiX,EAAY5T,aAGnC2J,GAAUxQ,KAAK+X,EAAYlJ,GAASC,kBAAkBe,QAAQ,WAC5D,IAAMpQ,EAAQsY,EAAWlV,MACrBpD,GACF,EAAKmb,SAASnb,MAGlB+Q,GAAUxQ,KAAKwY,EAAc3J,GAASC,kBAAkBS,OAAO,WAC7D,EAAK6E,WAEP5D,GAAUxQ,KAAKyY,EAAc5J,GAASC,kBAAkBS,OAAO,WAAM,IAC3DqI,EAAU,EAAVA,MACF0B,EAAM7B,EAAYoD,OAAO,CAC7BjO,EAAG5J,SAAS4U,EAAM,GAAI,IACtBrX,EAAGyC,SAAS4U,EAAM,GAAI,IACtBpU,EAAGR,SAAS4U,EAAM,GAAI,MAElBkD,EAAarD,EAAYsD,SAASzB,GACxC,EAAKjM,QAAQqK,SAAb,WAA0BoD,IAC1B,EAAK1G,a,2BAIJuE,GAGH,GAFsBlS,KAAdkR,UACE7C,OACN6D,EAAK,CACP,GAAIlB,EAAYuD,MAAMrC,GAAM,CAC1B,IAAMU,EAAM5B,EAAYyC,SAASvB,GAEjCA,EAAMlB,EAAYoC,SAASR,GAE7B5S,KAAKmU,SAASjC,QAEdlS,KAAKwU,SAEP,OAAOxU,O,8BAMP,OAFsBA,KAAdkR,UACEvD,QACH3N,O,qCAGM6S,GAAK,IAEVhB,EAA4B7R,KAA5B6R,SAAUC,EAAkB9R,KAAlB8R,cACZ2C,EAAmB3C,EAAcxL,MACjC0N,EAAcnC,EAASvL,MACzBoO,EAAoBnY,SAASyX,EAAY5T,MAAQ4T,EAAY5T,MAAQyS,EAAI1M,EAAI,IAAK,IACtFuO,GAAqBD,EAAiBrU,MAAQ,EAC9C0R,EAAc9D,OAAO,CACnBhM,KAAM0S,IARU,IAWV/C,EAA6B3R,KAA7B2R,OAAQJ,EAAqBvR,KAArBuR,iBACVoD,EAAsBpD,EAAiBjL,MACvCsN,EAAYjC,EAAOrL,MACrBsO,EAAuBrY,SAASqX,EAAUxT,MAAQyS,EAAI/Y,EAAI,IAAK,IAC/D+a,EAAsBtY,SAASqX,EAAUtT,QAAU,IAAMuS,EAAI9V,GAAK,IAAK,IAC3E6X,GAAwBD,EAAoBvU,MAAQ,EACpDyU,GAAuBF,EAAoBrU,OAAS,EACpDiR,EAAiBvD,OAAO,CACtBhM,KAAM4S,EACN9S,IAAK+S,M,kCAIG,IACF1D,EAAUnR,KAAVmR,MACF0B,EAAM7B,EAAYoD,OAAO,CAC7BjO,EAAG5J,SAAS4U,EAAM,GAAI,IACtBrX,EAAGyC,SAAS4U,EAAM,GAAI,IACtBpU,EAAGR,SAAS4U,EAAM,GAAI,MAGtBW,EACE9R,KADF8R,cAAeP,EACbvR,KADauR,iBAAkBH,EAC/BpR,KAD+BoR,kBAAmBI,EAClDxR,KADkDwR,iBAAkBF,EACpEtR,KADoEsR,WAElE+C,EAAarD,EAAYsD,SAASzB,GAClCiC,EAAiB9D,EAAYsD,SAAS,CAAEnO,EAAG0M,EAAI1M,EAAGrM,EAAG,IAAKiD,EAAG,MACnEwU,EAAiB1P,IAAI,kBAArB,WAA4CwS,IAC5CjD,EAAkBvP,IAAI,kBAAtB,WAA6CwS,IAC7CvC,EAAcjQ,IAAI,kBAAlB,WAAyCiT,IACzCtD,EAAiB3P,IAAI,kBAArB,WAA4CiT,IAC5CxD,EAAWlV,IAAX,WAAmBiY,IACnBrU,KAAK+U,eAAelC,K,qCAGP,IACL1B,EAAUnR,KAAVmR,MACF0B,EAAM7B,EAAYoD,OAAO,CAC7BjO,EAAG5J,SAAS4U,EAAM,GAAI,IACtBrX,EAAGyC,SAAS4U,EAAM,GAAI,IACtBpU,EAAGR,SAAS4U,EAAM,GAAI,MAEhBC,EAAoDpR,KAApDoR,kBAAmBG,EAAiCvR,KAAjCuR,iBAAkBD,EAAetR,KAAfsR,WACvC+C,EAAarD,EAAYsD,SAASzB,GACxCtB,EAAiB1P,IAAI,kBAArB,WAA4CwS,IAC5CjD,EAAkBvP,IAAI,kBAAtB,WAA6CwS,IAC7C/C,EAAWlV,IAAX,WAAmBiY,IACnBrU,KAAK+U,eAAelC,K,+BAIpB7S,KAAKgV,YACLhV,KAAKiV,iB,iCAGIlY,EAAGC,EAAGoD,EAAOE,GAAQ,IACtB6Q,EAAUnR,KAAVmR,MACRA,EAAM,GAAK5U,SAAS,IAAMQ,EAAIqD,EAAO,IACrC+Q,EAAM,GAAK5U,SAAS,KAAO+D,EAAStD,GAAKsD,EAAQ,IACjDN,KAAKiV,iB,iCAGIlY,EAAGC,EAAGoD,EAAOE,GAAQ,IACtB6Q,EAAUnR,KAAVmR,MACRA,EAAM,GAAK5U,SAAS,IAAO+V,KAAKnW,IAAI,EAAGmW,KAAKpW,IAAIkE,EAAOrD,IAAOqD,EAAO,IACrE+Q,EAAM,GAAK5U,SAAS,KAAO+D,EAASgS,KAAKnW,IAAI,EAAGmW,KAAKpW,IAAIoE,EAAQtD,KAAOsD,EAAQ,IAChFN,KAAKiV,iB,8BAGClY,EAAGqD,GACSJ,KAAVmR,MACF,GAAK5U,SAAS,KAAO6D,EAAQrD,GAAKqD,EAAO,IAC/CJ,KAAKgV,c,8BAGCjY,EAAGqD,GACSJ,KAAVmR,MACF,GAAK5U,SAAS,KAAO6D,EAAQkS,KAAKnW,IAAI,EAAGmW,KAAKpW,IAAIkE,EAAOrD,KAAOqD,EAAO,IAC7EJ,KAAKgV,c,+BAGE9C,GAAK,IACJf,EAAUnR,KAAVmR,MACFnT,EAASgT,EAAYkE,SAASlE,EAAYmE,OAAOjD,IACvDf,EAAM,GAAKnT,EAAOmI,EAClBgL,EAAM,GAAKnT,EAAOlE,EAClBqX,EAAM,GAAKnT,EAAOjB,EAClBiD,KAAKwU,c,gCAzOiBpO,G,ozBCHpBgP,G,YACJ,WAAYxO,GAAS,a,4FAAA,UACnB,oCAAS7M,EAAT,wBACK6M,QAAUzM,EAAMkB,UAAU,CAC7B8V,MAAO,KACP7J,KAAM,MACLV,GACH,EAAKuK,MAAQ,EAAKvK,QAAQuK,MAC1B,EAAK7J,KAAO,EAAKV,QAAQU,KACrB,EAAK6J,QACP,EAAKtP,IAAI,kBAAmB,EAAKsP,OAC7BH,GAAYqE,OAAO,EAAKzO,QAAQuK,QAClC,EAAKmE,YAAc,IAAIpO,EAAK,gBAC5B,EAAKlE,SAAS,EAAKsS,eAEnB,EAAKA,YAAc,IAAIpO,EAAK,iBAC5B,EAAKlE,SAAS,EAAKsS,cAErB,EAAKA,YAAYzQ,QAEf,EAAKyC,MACP,EAAKtE,SAAS,EAAK4D,QAAQU,MApBV,E,kSAwBXtD,GACJhE,KAAKsV,cACHtR,EACFhE,KAAKsV,YAAY1Q,OAEjB5E,KAAKsV,YAAYzQ,a,gCA9BDuB,G,ozBCAlBmP,G,YACJ,WAAY3O,GAAS,a,4FAAA,UACnB,oCAAS7M,EAAT,mBACK6M,QAAUzM,EAAMkB,UAAU,CAC7Bma,OAAQ,CACN,IAAIJ,GAAU,CAAEjE,MAAO,eACvB,IAAIiE,GAAU,CAAEjE,MAAO,oBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBAEvB,IAAIiE,GAAU,CAAEjE,MAAO,mBACvB,IAAIiE,GAAU,CAAEjE,MAAO,mBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBACvB,IAAIiE,GAAU,CAAEjE,MAAO,mBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBACvB,IAAIiE,GAAU,CAAEjE,MAAO,sBACvB,IAAIiE,GAAU,CAAEjE,MAAO,mBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBAEvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBAEvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBAEvB,IAAIiE,GAAU,CAAEjE,MAAO,qBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBACvB,IAAIiE,GAAU,CAAEjE,MAAO,uBAEvB,IAAIiE,GAAU,CAAEjE,MAAO,oBACvB,IAAIiE,GAAU,CAAEjE,MAAO,mBACvB,IAAIiE,GAAU,CAAEjE,MAAO,sBACvB,IAAIiE,GAAU,CAAEjE,MAAO,sBACvB,IAAIiE,GAAU,CAAEjE,MAAO,sBACvB,IAAIiE,GAAU,CAAEjE,MAAO,sBACvB,IAAIiE,GAAU,CAAEjE,MAAO,sBACvB,IAAIiE,GAAU,CAAEjE,MAAO,sBACvB,IAAIiE,GAAU,CAAEjE,MAAO,sBACvB,IAAIiE,GAAU,CAAEjE,MAAO,sBAEvB,IAAIiE,GAAU,CAAEjE,MAAO,qBACvB,IAAIiE,GAAU,CAAEjE,MAAO,mBACvB,IAAIiE,GAAU,CAAEjE,MAAO,oBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBACvB,IAAIiE,GAAU,CAAEjE,MAAO,oBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBAEvB,IAAIiE,GAAU,CAAEjE,MAAO,mBACvB,IAAIiE,GAAU,CAAEjE,MAAO,mBACvB,IAAIiE,GAAU,CAAEjE,MAAO,oBACvB,IAAIiE,GAAU,CAAEjE,MAAO,oBACvB,IAAIiE,GAAU,CAAEjE,MAAO,oBACvB,IAAIiE,GAAU,CAAEjE,MAAO,oBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBACvB,IAAIiE,GAAU,CAAEjE,MAAO,mBACvB,IAAIiE,GAAU,CAAEjE,MAAO,oBACvB,IAAIiE,GAAU,CAAEjE,MAAO,qBAEzBF,SAAU,cACTrK,GACH,EAAK4O,OAAS,EAAK5O,QAAQ4O,OAC3B,EAAKC,YAAc,KACnB,EAAKD,OAAO1a,SAAQ,SAACkL,GACnB,EAAKhD,SAASgD,GACdA,EAAKrB,GAAGyD,GAASC,kBAAkBG,YAAY,WAC7C,EAAK5B,QAAQqK,SAASjL,GAClBA,EAAKY,QAAQuK,OACf,EAAKuE,iBAAiB1P,EAAKY,QAAQuK,aAIrC,EAAKqE,OAAO3a,OAAS,GACvB,EAAK6a,iBAAiB,EAAKF,OAAO,GAAG5O,QAAQuK,OAzG5B,E,4RA6GjBnL,GAAM,WACRA,EAAKrB,GAAGyD,GAASC,kBAAkBS,OAAO,WACxC,EAAKlC,QAAQqK,SAASjL,GAClBA,EAAKY,QAAQuK,OACf,EAAKuE,iBAAiB1P,EAAKY,QAAQuK,UAGvCnR,KAAKwV,OAAOzW,KAAKiH,GACjBhG,KAAKgD,SAASgD,K,uCAGCmL,GAAO,WACtBnR,KAAKwV,OAAO1a,SAAQ,SAACkL,GAAS,IACpBY,EAAYZ,EAAZY,QACJA,EAAQuK,QAAUA,GACpBnL,EAAKkJ,WAAU,GACf,EAAKuG,YAAc7O,EAAQuK,OAE3BnL,EAAKkJ,WAAU,W,gCAhIE9I,G,ozBCMnBuP,G,YACJ,aAA0B,MAAd/O,EAAc,uDAAJ,GAAI,O,4FAAA,UACxB,oCAAS7M,EAAT,4BAA8CI,EAAMkB,UAAU,CAC5D0T,SAAU,cACTnI,MACEgP,YAAc,IAAI5E,GAAY,CACjCC,SAAU,SAACE,GACT,IAAMnL,EAAO,IAAIoP,GAAU,CAAEjE,UAC7B,EAAK0E,oBAAoBrS,IAAIwC,GAC7B,EAAK6P,oBAAoBH,iBAAiBvE,GAC1C,EAAK2E,WAAWJ,iBAAiB,MACjC,EAAK9O,QAAQmI,SAASoC,GACtB,EAAKxD,WAIT,EAAKoI,MAAQ,IAAIrF,GAAyB,KAAM,IAAIxJ,EAAK,gBACzD,EAAK6O,MAAMpR,GAAGyD,GAASC,kBAAkBS,OAAO,WAC9C,EAAKlC,QAAQmI,SAAS,cACtB,EAAK8G,oBAAoBH,iBAAiB,MAC1C,EAAKI,WAAWJ,iBAAiB,SAGnC,EAAKM,MAAQ,IAAItF,GACjB,EAAKsF,MAAMjS,YAAY,SACvB,EAAK+R,WAAa,IAAIP,GAAW,CAC/BtE,SAAU,SAACjL,GAAS,IACVmL,EAAUnL,EAAKY,QAAfuK,MACJA,GAAO,EAAKvK,QAAQmI,SAASoC,GACjC,EAAK0E,oBAAoBH,iBAAiB,MAC1C,EAAK/H,WAGT,EAAKqI,MAAMhT,SAAS,EAAK8S,YAEzB,EAAK/N,MAAQ5B,EAAE,MAAD,UAAWpM,EAAX,yCACd,EAAKgO,MAAMC,KAAK,OAChB,EAAKiO,KAAO,IAAI/O,EAAK,QACrB,EAAK2O,oBAAsB,IAAIN,GAAW,CACxCC,OAAQ,CACN,IAAIJ,GAAU,CAAE9N,KAAM,EAAK2O,QAE7BhF,SAAU,SAACjL,GAAS,IACVmL,EAAUnL,EAAKY,QAAfuK,MACJA,GACF,EAAKvK,QAAQmI,SAASoC,GACtB,EAAK2E,WAAWJ,iBAAiB,MACjC,EAAK/H,SAEL,EAAKiI,YAAYvH,KAAK,EAAKwH,oBAAoBJ,gBAIrD,EAAKS,UAAY,IAAIxF,GACrB,EAAKwF,UAAUnS,YAAY,SAC3B,EAAKmS,UAAUlT,SAAS,EAAK+E,OAC7B,EAAKmO,UAAUlT,SAAS,EAAK6S,qBAE7B,EAAK1G,QAAQ,EAAK4G,OAClB,EAAK5G,QAAQ,EAAK6G,OAClB,EAAK7G,QAAQ,IAAIN,IACjB,EAAKM,QAAQ,EAAK+G,WA5DM,E,ySA+DT/E,GACfnR,KAAK6V,oBAAoBH,iBAAiBvE,GAC1CnR,KAAK8V,WAAWJ,iBAAiBvE,Q,gCAlEFjD,I,+uBCL7BiI,G,YACJ,WAAYvP,GAAS,M,IAAA,O,4FAAA,S,EACnB,U,EAAA,0BAAS7M,EAAT,wB,gDACK6M,QAAUzM,EAAMkB,UAAU,CAAEoU,YAAa,IAAM7I,GACpD,EAAKU,KAAO,IAAIJ,EAAK,SACrB,EAAKkP,qBAAuB,IAAIT,GAAqBxb,EAAMqV,SAAS,CAClEzO,GAAI,MACJmE,SAAUuH,GAAkBG,QAC3B,EAAKhG,QAAQ6I,cAChB,EAAK4G,QAAQ,EAAK/O,MAClB,EAAKgP,SAAS,cACd,EAAKF,qBAAqBV,iBAAiB,cAVxB,E,iSAaZvE,GACPnR,KAAKsH,KAAKzF,IAAI,gBAAd,oBAA4CsP,S,gCAfxBtJ,I,6oBCHlB0O,G,YACJ,WAAYxO,EAAOT,GAAM,a,4FAAA,UACvB,oCAASvN,EAAT,oCACKgO,MAAQA,EACb,EAAKT,KAAOA,EACRA,IACF,EAAKoH,YAAcvI,EAAE,MAAD,UAAWpM,EAAX,uCACpB,EAAK2U,YAAY1L,SAAS,EAAKsE,MAC/B,EAAKtE,SAAS,EAAK0L,cAEjB3G,IACF,EAAK4G,aAAexI,EAAE,MAAD,UAAWpM,EAAX,wCACrB,EAAK4U,aAAa3G,KAAKD,GACvB,EAAK/E,SAAS,EAAK2L,eAZE,E,mPADYL,I,ozBCQjCkI,G,YACJ,aAA0B,MAAd5P,EAAc,uDAAJ,GAAI,O,4FAAA,UACxB,oCAAS7M,EAAT,4BAA8CI,EAAMkB,UAAU,CAC5D0T,SAAU,cACTnI,MACEgP,YAAc,IAAI5E,GAAY,CACjCC,SAAU,SAACE,GACT,IAAMnL,EAAO,IAAIoP,GAAU,CAAEjE,UAC7B,EAAK0E,oBAAoBrS,IAAIwC,GAC7B,EAAK6P,oBAAoBH,iBAAiBvE,GAC1C,EAAK2E,WAAWJ,iBAAiB,MACjC,EAAK9O,QAAQmI,SAASoC,GACtB,EAAKxD,WAIT,EAAKoI,MAAQ,IAAIQ,GAAyB,KAAM,IAAIrP,EAAK,gBACzD,EAAK6O,MAAMpR,GAAGyD,GAASC,kBAAkBS,OAAO,WAC9C,EAAKlC,QAAQmI,SAAS,cACtB,EAAK8G,oBAAoBH,iBAAiB,MAC1C,EAAKI,WAAWJ,iBAAiB,SAGnC,EAAKM,MAAQ,IAAIO,GACjB,EAAKP,MAAMjS,YAAY,SACvB,EAAK+R,WAAa,IAAIP,GAAW,CAC/BtE,SAAU,SAACjL,GAAS,IACVmL,EAAUnL,EAAKY,QAAfuK,MACJA,GAAO,EAAKvK,QAAQmI,SAASoC,GACjC,EAAK0E,oBAAoBH,iBAAiB,MAC1C,EAAK/H,WAGT,EAAKqI,MAAMhT,SAAS,EAAK8S,YAEzB,EAAK/N,MAAQ5B,EAAE,MAAD,UAAWpM,EAAX,yCACd,EAAKgO,MAAMC,KAAK,OAChB,EAAKiO,KAAO,IAAI/O,EAAK,QACrB,EAAK2O,oBAAsB,IAAIN,GAAW,CACxCC,OAAQ,CACN,IAAIJ,GAAU,CAAE9N,KAAM,EAAK2O,QAE7BhF,SAAU,SAACjL,GAAS,IACVmL,EAAUnL,EAAKY,QAAfuK,MACJA,GACF,EAAKvK,QAAQmI,SAASoC,GACtB,EAAK2E,WAAWJ,iBAAiB,MACjC,EAAK/H,SAEL,EAAKiI,YAAYvH,KAAK,EAAKwH,oBAAoBJ,gBAIrD,EAAKS,UAAY,IAAIK,GACrB,EAAKL,UAAUnS,YAAY,SAC3B,EAAKmS,UAAUlT,SAAS,EAAK+E,OAC7B,EAAKmO,UAAUlT,SAAS,EAAK6S,qBAE7B,EAAK1G,QAAQ,EAAK4G,OAClB,EAAK5G,QAAQ,EAAK6G,OAClB,EAAK7G,QAAQ,IAAIN,IACjB,EAAKM,QAAQ,EAAK+G,WA5DM,E,ySA+DT/E,GACfnR,KAAK6V,oBAAoBH,iBAAiBvE,GAC1CnR,KAAK8V,WAAWJ,iBAAiBvE,Q,gCAlEFjD,I,+uBCL7BuI,G,YACJ,WAAY7P,GAAS,M,IAAA,O,4FAAA,S,EACnB,U,EAAA,0BAAS7M,EAAT,wB,gDACK6M,QAAUzM,EAAMkB,UAAU,CAAEoU,YAAa,IAAM7I,GACpD,EAAKU,KAAO,IAAIJ,EAAK,cACrB,EAAKwP,qBAAuB,IAAIF,GAAqBrc,EAAMqV,SAAS,CAClEzO,GAAI,MACJmE,SAAUuH,GAAkBG,QAC3B,EAAKhG,QAAQ6I,cAChB,EAAK4G,QAAQ,EAAK/O,MAClB,EAAKgP,SAAS,sBACd,EAAKI,qBAAqBhB,iBAAiB,sBAVxB,E,iSAaZvE,GACPnR,KAAKsH,KAAKzF,IAAI,gBAAd,oBAA4CsP,S,gCAfxBtJ,I,6oBCJlB8O,G,YACJ,aAAc,O,4FAAA,2CACH5c,EADG,oC,mPADwBuU,I,6oBCClCsI,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAS7c,EAAT,qBACKuN,KAAO,IAAIJ,EAAK,WACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADUF,I,6oBCApByP,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAS9c,EAAT,qBACKuN,KAAO,IAAIJ,EAAK,WACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADUF,I,6oBCApB0P,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAS/c,EAAT,qBACKuN,KAAO,IAAIJ,EAAK,WACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADUF,I,6oBCApB2P,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAShd,EAAT,qBACKuN,KAAO,IAAIJ,EAAK,WACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADUF,I,6oBCApB4P,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASjd,EAAT,qBACKuN,KAAO,IAAIJ,EAAK,WACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADUF,I,6oBCApB6P,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASld,EAAT,qBACKuN,KAAO,IAAIJ,EAAK,WACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADUF,I,6oBCApB8P,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASnd,EAAT,qBACKuN,KAAO,IAAIJ,EAAK,WACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADUF,I,6oBCApB+P,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASpd,EAAT,qBACKuN,KAAO,IAAIJ,EAAK,WACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADUF,I,6oBCApBgQ,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASrd,EAAT,qBACKuN,KAAO,IAAIJ,EAAK,WACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADUF,I,6oBCApBiQ,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAStd,EAAT,sBACKuN,KAAO,IAAIJ,EAAK,YACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADWF,I,ozBCArBkQ,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASvd,EAAT,0BACKuN,KAAO,IAAIJ,EAAK,gBACrB,EAAKmP,QAAQ,EAAK/O,MAClB,EAAKgP,SAAS,WAJF,E,iSAOLnF,GACPnR,KAAKsH,KAAKzF,IAAI,gBAAd,oBAA4CsP,S,gCATtBtJ,I,6oBCApB0P,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASxd,EAAT,yBACKuN,KAAO,IAAIJ,EAAK,eACrB,EAAKmP,QAAQ,EAAK/O,MAHN,E,mPADSO,I,6oBCAnB2P,G,YACJ,WAAYzP,EAAOT,GAAM,a,4FAAA,UACvB,oCAASvN,EAAT,sCACKgO,MAAQA,EACb,EAAKT,KAAOA,EACRA,IACF,EAAKoH,YAAcvI,EAAE,MAAD,UAAWpM,EAAX,yCACpB,EAAK2U,YAAY1L,SAAS,EAAKsE,MAC/B,EAAKtE,SAAS,EAAK0L,cAEjB3G,IACF,EAAK4G,aAAexI,EAAE,MAAD,UAAWpM,EAAX,0CACrB,EAAK4U,aAAa3G,KAAKD,GACvB,EAAK/E,SAAS,EAAK2L,eAZE,E,mPADcL,I,ozBCQnCmJ,G,YACJ,aAA0B,MAAd7Q,EAAc,uDAAJ,GAAI,O,4FAAA,UACxB,oCAAS7M,EAAT,8BAAgDI,EAAMkB,UAAU,CAC9D0T,SAAU,cACTnI,MACEgP,YAAc,IAAI5E,GAAY,CACjCC,SAAU,SAACE,GACT,IAAMnL,EAAO,IAAIoP,GAAU,CAAEjE,UAC7B,EAAK0E,oBAAoBrS,IAAIwC,GAC7B,EAAK6P,oBAAoBH,iBAAiBvE,GAC1C,EAAK2E,WAAWJ,iBAAiB,MACjC,EAAK9O,QAAQmI,SAASoC,GACtB,EAAKxD,WAIT,EAAKoI,MAAQ,IAAIyB,GAA2B,KAAM,IAAItQ,EAAK,gBAC3D,EAAK6O,MAAMpR,GAAGyD,GAASC,kBAAkBS,OAAO,WAC9C,EAAKlC,QAAQmI,SAAS,cACtB,EAAK8G,oBAAoBH,iBAAiB,MAC1C,EAAKI,WAAWJ,iBAAiB,SAGnC,EAAKM,MAAQ,IAAIwB,GACjB,EAAKxB,MAAMjS,YAAY,SACvB,EAAK+R,WAAa,IAAIP,GAAW,CAC/BtE,SAAU,SAACjL,GAAS,IACVmL,EAAUnL,EAAKY,QAAfuK,MACJA,GAAO,EAAKvK,QAAQmI,SAASoC,GACjC,EAAK0E,oBAAoBH,iBAAiB,MAC1C,EAAK/H,WAGT,EAAKqI,MAAMhT,SAAS,EAAK8S,YAEzB,EAAK/N,MAAQ5B,EAAE,MAAD,UAAWpM,EAAX,2CACd,EAAKgO,MAAMC,KAAK,OAChB,EAAKiO,KAAO,IAAI/O,EAAK,QACrB,EAAK2O,oBAAsB,IAAIN,GAAW,CACxCC,OAAQ,CACN,IAAIJ,GAAU,CAAE9N,KAAM,EAAK2O,QAE7BhF,SAAU,SAACjL,GAAS,IACVmL,EAAUnL,EAAKY,QAAfuK,MACJA,GACF,EAAKvK,QAAQmI,SAASoC,GACtB,EAAK2E,WAAWJ,iBAAiB,MACjC,EAAK/H,SAEL,EAAKiI,YAAYvH,KAAK,EAAKwH,oBAAoBJ,gBAIrD,EAAKS,UAAY,IAAIsB,GACrB,EAAKtB,UAAUnS,YAAY,SAC3B,EAAKmS,UAAUlT,SAAS,EAAK+E,OAC7B,EAAKmO,UAAUlT,SAAS,EAAK6S,qBAE7B,EAAK1G,QAAQ,EAAK4G,OAClB,EAAK5G,QAAQ,EAAK6G,OAClB,EAAK7G,QAAQ,IAAIN,IACjB,EAAKM,QAAQ,EAAK+G,WA5DM,E,ySA+DT/E,GACfnR,KAAK6V,oBAAoBH,iBAAiBvE,GAC1CnR,KAAK8V,WAAWJ,iBAAiBvE,Q,gCAlEAjD,I,2uBCPrC,IAAMK,GAAO,GAEPmJ,G,YACJ,WAAYrd,GAAM,M,IAAA,O,4FAAA,S,EAChB,U,EAAA,0BAASN,EAAT,8B,gDACKM,KAAOA,EACZ,EAAKiN,KAAO,IAAIJ,EAAK,WACrB,EAAKyQ,SAAW,IAAIzQ,EAAK7M,GACzB,EAAKsd,SAASjI,SAAS,IACvB,EAAKhB,YAAcvI,EAAE,MAAD,UAAWpM,EAAX,iCACpB,EAAK4U,aAAexI,EAAE,MAAD,UAAWpM,EAAX,kCACrB,EAAK2U,YAAY1L,SAAS,EAAKsE,MAC/B,EAAKqH,aAAa3L,SAAS,EAAK2U,UAChC,EAAK3U,SAAS,EAAK0L,aACnB,EAAK1L,SAAS,EAAK2L,cACnBJ,GAAKxP,KAAL,OAZgB,E,iSAeTgJ,GACP/H,KAAK+H,MAAQA,EACb/H,KAAK2O,aAAa3G,KAAKD,K,kCAIvBwG,GAAKzT,SAAQ,SAACkL,GACZA,EAAKjC,YAAY,aAEnB/D,KAAK8D,SAAS,e,gCAzBoBwK,I,ozBCDhCsJ,G,YACJ,aAA0B,MAAdhR,EAAc,uDAAJ,GAAI,O,4FAAA,UACxB,oCAAS7M,EAAT,2BAA6CI,EAAMkB,UAAU,CAC3D0T,SAAU,cACTnI,MACEoI,MAAQ,CACX,IAAI0I,GAAwB,SAC5B,IAAIA,GAAwB,SAC5B,IAAIA,GAAwB,SAC5B,IAAIA,GAAwB,SAC5B,IAAIA,GAAwB,SAC5B,IAAIA,GAAwB,UAE9B,EAAK1I,MAAMlU,SAAQ,SAACkL,GAClBA,EAAKrB,GAAGyD,GAASC,kBAAkBS,OAAO,WACxC,EAAKmG,OAAOjJ,EAAK3L,MACjB2L,EAAKkJ,eAEP,EAAKC,QAAQnJ,MAEf,EAAK+J,gBAAgB,EAAKf,MAAM,GAAG3U,MAnBX,E,+RAsBnBA,GACe2F,KAAZ4G,QACAmI,SAAS1U,GACjB2F,KAAK2N,U,sCAGStT,GACd2F,KAAKgP,MAAMlU,SAAQ,SAACkL,GACdA,EAAK3L,OAASA,GAChB2L,EAAKkJ,oB,gCAhCqBhB,I,kUCJlC,IAAM2J,GAAY,CAChBC,WAAY,EACZC,YAAa,EACbC,WAAY,EACZC,YAAa,GAGTC,G,WAEJ,WAAYC,EAAMC,GAAM,WACtBpY,KAAKmY,KAAOA,EACZhe,EAAMkB,UAAU2E,KAAM,CACpBmR,MAAO,UACP/Q,MAAO,GACNgY,G,4CAGIC,EAAIC,EAAIC,EAAIC,GAAI,IACfL,EAASnY,KAATmY,KACA/X,EAAiBJ,KAAjBI,MAAO+Q,EAAUnR,KAAVmR,MACfgH,EAAKM,YACLN,EAAKC,KAAK,CACRM,UAAWtY,EACXuY,YAAaxH,IAEfgH,EAAKS,YAAY,IACjBT,EAAKU,KAAK,CAACR,EAAIC,GAAK,CAACC,EAAIC,M,+BAGlBrH,GACPnR,KAAKmR,MAAQA,I,+BAGN/Q,GACPJ,KAAKI,MAAQA,M,KAIX0Y,G,WAEJ,WAAYX,EAAMC,GAAM,WACtBpY,KAAKmY,KAAOA,EACZhe,EAAMkB,UAAU2E,KAAM,CACpBmR,MAAO,UACP/Q,MAAO,EACP2Y,KAAM,CAAC,IACNX,G,4CAGIC,EAAIC,EAAIC,EAAIC,GAAI,IACfL,EAAenY,KAAfmY,KAAMY,EAAS/Y,KAAT+Y,KACN3Y,EAAiBJ,KAAjBI,MAAO+Q,EAAUnR,KAAVmR,MACfgH,EAAKM,YACLN,EAAKC,KAAK,CACRM,UAAWtY,EACXuY,YAAaxH,IAEfgH,EAAKS,YAAYG,GACjBZ,EAAKU,KAAK,CAACR,EAAIC,GAAK,CAACC,EAAIC,M,+BAGlBrH,GACPnR,KAAKmR,MAAQA,I,+BAGN/Q,GACPJ,KAAKI,MAAQA,M,KAIX4Y,G,WAEJ,WAAYb,EAAMC,GAAM,WACtBpY,KAAKmY,KAAOA,EACZhe,EAAMkB,UAAU2E,KAAM,CACpBmR,MAAO,UACP/Q,MAAO,EACP6Y,QAAS,EACTC,QAAS,IACTC,SAAU,kBAAM,GAChBC,QAAS,kBAAM,GACfC,UAAW,kBAAM,GACjBC,WAAY,kBAAM,GAClBC,QAAS,kBAAM,GACfC,gBAAiB,kBAAM,GACvBC,eAAgB,kBAAM,GACtBC,gBAAiB,kBAAM,GACvBC,eAAgB,kBAAM,IACrBvB,G,kDAGUC,EAAIC,EAAIC,EAAIC,EAAIoB,EAAKC,EAAKC,GACvC,IAAMC,EAAW,GACTZ,EAA6CnZ,KAA7CmZ,SAAUC,EAAmCpZ,KAAnCoZ,QAASC,EAA0BrZ,KAA1BqZ,UAAWC,EAAetZ,KAAfsZ,WAC9BC,EAA8EvZ,KAA9EuZ,QAASC,EAAqExZ,KAArEwZ,gBAAiBC,EAAoDzZ,KAApDyZ,eAAgBC,EAAoC1Z,KAApC0Z,gBAAiBC,EAAmB3Z,KAAnB2Z,eAC3DT,EAAYlZ,KAAZkZ,QACJc,EAAU,KACVC,EAAW,KACXC,EAAU,KACVC,EAAW,KACXC,EAAU,KACd,OAAQN,GACN,IAAK,QACHE,EAAUT,EAAQK,EAAKC,EAAM,MAE3BI,EAAWT,EAAgBI,EAAKC,EAAM,GACtCK,EAAUT,EAAeG,EAAKC,EAAM,GACpCM,EAAWT,EAAgBE,EAAKC,EAAM,GACtCO,EAAUT,EAAeC,EAAKC,EAAM,IAEtC,MACF,IAAK,OACHG,EAAUT,EAAQK,EAAM,EAAGC,MAEzBI,EAAWT,EAAgBI,EAAM,EAAGC,GACpCK,EAAUT,EAAeG,EAAM,EAAGC,GAClCM,EAAWT,EAAgBE,EAAM,EAAGC,GACpCO,EAAUT,EAAeC,EAAM,EAAGC,IAEpC,MACF,IAAK,SACHG,EAAUT,EAAQK,EAAKC,EAAM,MAE3BI,EAAWT,EAAgBI,EAAKC,EAAM,GACtCK,EAAUT,EAAeG,EAAKC,EAAM,GACpCM,EAAWT,EAAgBE,EAAKC,EAAM,GACtCO,EAAUT,EAAeC,EAAKC,EAAM,IAEtC,MACF,IAAK,UACHG,EAAUT,EAAQK,EAAM,EAAGC,MAEzBI,EAAWT,EAAgBI,EAAM,EAAGC,GACpCK,EAAUT,EAAeG,EAAM,EAAGC,GAClCM,EAAWT,EAAgBE,EAAM,EAAGC,GACpCO,EAAUT,EAAeC,EAAM,EAAGC,IAKxC,GAAIG,EAAS,CACX,OAAQF,GACN,IAAK,OACHC,EAAS1B,GAAKA,EAAKa,EACnBa,EAASxB,GAAKA,EAAKW,EAEnB,IAAMmB,EAAiBf,EAAWM,EAAM,EAAGC,EAAM,IAAMT,EAAQQ,EAAKC,EAAM,GACpES,EAAOlB,EAAQQ,EAAKC,GACpBU,EAAUjB,EAAWM,EAAM,EAAGC,GACpCE,EAASzB,GAAKA,GACVgC,GAAQC,KAASR,EAASzB,GAAKA,EAAKY,GACpCmB,GAAkBJ,IAAUF,EAASzB,GAAKA,EAAKY,GAEnD,IAAMsB,EAAoBpB,EAAQQ,EAAM,EAAGC,EAAM,IAAMP,EAAWM,EAAKC,EAAM,GACvEY,EAAUnB,EAAWM,EAAKC,GAC1Ba,EAAOtB,EAAQQ,EAAM,EAAGC,GAC9BE,EAASvB,GAAKA,GACViC,GAAWC,KAAMX,EAASvB,GAAKA,EAAKU,GACpCsB,GAAqBN,IAASH,EAASvB,GAAKA,EAAKU,GACrD,MAEF,IAAK,MACHa,EAASzB,GAAKA,EAAKY,EACnBa,EAASvB,GAAKA,EAAKU,EAEnB,IAAMmB,EAAiBhB,EAAUO,EAAM,EAAGC,EAAM,IAAMV,EAASS,EAAM,EAAGC,GAClEc,EAAQxB,EAASS,EAAKC,GACtBe,EAASvB,EAAUO,EAAKC,EAAM,GACpCE,EAAS1B,GAAKA,GACVsC,GAASC,KAAQb,EAAS1B,GAAKA,EAAKa,GACpCmB,GAAkBF,IAAUJ,EAAS1B,GAAKA,EAAKa,GAEnD,IAAM2B,EAAkB1B,EAASS,EAAM,EAAGC,EAAM,IAAMR,EAAUO,EAAM,EAAGC,GACnEiB,EAASzB,EAAUO,EAAKC,GACxBkB,EAAQ5B,EAASS,EAAKC,EAAM,GAClCE,EAASxB,GAAKA,GACVuC,GAAUC,KAAOhB,EAASxB,GAAKA,EAAKW,GACpC2B,GAAmBT,IAASL,EAASxB,GAAKA,EAAKW,GACnD,MAEF,IAAK,QACHa,EAAS1B,GAAKA,EAAKa,EACnBa,EAASxB,GAAKA,EAAKW,EAEnB,IAAM8B,EAAkB1B,EAAWM,EAAM,EAAGC,EAAM,IAAMT,EAAQQ,EAAKC,EAAM,GACrES,EAAOlB,EAAQQ,EAAKC,GACpBU,EAAUjB,EAAWM,EAAM,EAAGC,GACpCE,EAASzB,GAAKA,GACVgC,GAAQC,KAASR,EAASzB,GAAKA,EAAKY,GACpC8B,GAAmBf,IAAUF,EAASzB,GAAKA,EAAKY,GAEpD,IAAM+B,EAAqB7B,EAAQQ,EAAM,EAAGC,EAAM,IAAMP,EAAWM,EAAKC,EAAM,GACxEY,EAAUnB,EAAWM,EAAKC,GAC1Ba,EAAOtB,EAAQQ,EAAM,EAAGC,GAC9BE,EAASvB,GAAKA,GACViC,GAAWC,KAAMX,EAASvB,GAAKA,EAAKU,GACpC+B,GAAsBf,IAASH,EAASvB,GAAKA,EAAKU,GACtD,MAEF,IAAK,SACHa,EAASzB,GAAKA,EAAKY,EACnBa,EAASvB,GAAKA,EAAKU,EAEnB,IAAMgC,EAAoB7B,EAAUO,EAAM,EAAGC,EAAM,IAAMV,EAASS,EAAM,EAAGC,GACrEc,EAAQxB,EAASS,EAAKC,GACtBe,EAASvB,EAAUO,EAAKC,EAAM,GACpCE,EAAS1B,GAAKA,GACVsC,GAASC,KAAQb,EAAS1B,GAAKA,EAAKa,GACpCgC,GAAqBf,IAAUJ,EAAS1B,GAAKA,EAAKa,GAEtD,IAAM+B,EAAqB9B,EAASS,EAAM,EAAGC,EAAM,IAAMR,EAAUO,EAAM,EAAGC,GACtEiB,EAASzB,EAAUO,EAAKC,GACxBkB,EAAQ5B,EAASS,EAAKC,EAAM,GAClCE,EAASxB,GAAKA,GACVuC,GAAUC,KAAOhB,EAASxB,GAAKA,EAAKW,GACpC+B,GAAsBb,IAASL,EAASxB,GAAKA,EAAKW,GAK1D,OAAOa,EAET,OAAQD,GACN,IAAK,OACHC,EAAS1B,GAAKA,EAAKa,EACnBa,EAASxB,GAAKA,EAAKW,EAEnB,IAAMmB,EAAiBf,EAAWM,EAAM,EAAGC,EAAM,IAAMT,EAAQQ,EAAKC,EAAM,GACpES,EAAOlB,EAAQQ,EAAKC,GACpBU,EAAUjB,EAAWM,EAAM,EAAGC,GACpCE,EAASzB,GAAKA,GACVgC,GAAQC,KAASR,EAASzB,GAAKA,EAAKY,GACpCmB,IAAgBN,EAASzB,GAAKA,EAAKY,GAEvC,IAAMsB,EAAoBpB,EAAQQ,EAAM,EAAGC,EAAM,IAAMP,EAAWM,EAAKC,EAAM,GACvEY,EAAUnB,EAAWM,EAAKC,GAC1Ba,EAAOtB,EAAQQ,EAAM,EAAGC,GAC9BE,EAASvB,GAAKA,GACViC,GAAWC,KAAMX,EAASvB,GAAKA,EAAKU,GACpCsB,IAAmBT,EAASvB,GAAKA,EAAKU,GAC1C,MAEF,IAAK,MACHa,EAASzB,GAAKA,EAAKY,EACnBa,EAASvB,GAAKA,EAAKU,EAEnB,IAAMmB,EAAiBhB,EAAUO,EAAM,EAAGC,EAAM,IAAMV,EAASS,EAAM,EAAGC,GAClEc,GAAQxB,EAASS,EAAKC,GACtBe,GAASvB,EAAUO,EAAKC,EAAM,GACpCE,EAAS1B,GAAKA,GACVsC,IAASC,MAAQb,EAAS1B,GAAKA,EAAKa,GACpCmB,IAAgBN,EAAS1B,GAAKA,EAAKa,GAEvC,IAAM2B,GAAkB1B,EAASS,EAAM,EAAGC,EAAM,IAAMR,EAAUO,EAAM,EAAGC,GACnEiB,GAASzB,EAAUO,EAAKC,GACxBkB,GAAQ5B,EAASS,EAAKC,EAAM,GAClCE,EAASxB,GAAKA,GACVuC,IAAUC,MAAOhB,EAASxB,GAAKA,EAAKW,GACpC2B,KAAiBd,EAASxB,GAAKA,EAAKW,GACxC,MAEF,IAAK,QACHa,EAAS1B,GAAKA,EAAKa,EACnBa,EAASxB,GAAKA,EAAKW,EAEnB,IAAM8B,GAAkB1B,EAAWM,EAAM,EAAGC,EAAM,IAAMT,EAAQQ,EAAKC,EAAM,GACrES,GAAOlB,EAAQQ,EAAKC,GACpBU,GAAUjB,EAAWM,EAAM,EAAGC,GACpCE,EAASzB,GAAKA,GACVgC,IAAQC,MAASR,EAASzB,GAAKA,EAAKY,GACpC8B,KAAiBjB,EAASzB,GAAKA,EAAKY,GAExC,IAAM+B,GAAqB7B,EAAQQ,EAAM,EAAGC,EAAM,IAAMP,EAAWM,EAAKC,EAAM,GACxEY,GAAUnB,EAAWM,EAAKC,GAC1Ba,GAAOtB,EAAQQ,EAAM,EAAGC,GAC9BE,EAASvB,GAAKA,GACViC,IAAWC,MAAMX,EAASvB,GAAKA,EAAKU,GACpC+B,KAAoBlB,EAASvB,GAAKA,EAAKU,GAC3C,MAEF,IAAK,SACHa,EAASzB,GAAKA,EAAKY,EACnBa,EAASvB,GAAKA,EAAKU,EAEnB,IAAMgC,GAAoB7B,EAAUO,EAAM,EAAGC,EAAM,IAAMV,EAASS,EAAM,EAAGC,GACrEc,GAAQxB,EAASS,EAAKC,GACtBe,GAASvB,EAAUO,EAAKC,EAAM,GACpCE,EAAS1B,GAAKA,GACVsC,IAASC,MAAQb,EAAS1B,GAAKA,EAAKa,GACpCgC,KAAmBnB,EAAS1B,GAAKA,EAAKa,GAE1C,IAAM+B,GAAqB9B,EAASS,EAAM,EAAGC,EAAM,IAAMR,EAAUO,EAAM,EAAGC,GACtEiB,GAASzB,EAAUO,EAAKC,GACxBkB,GAAQ5B,EAASS,EAAKC,EAAM,GAClCE,EAASxB,GAAKA,GACVuC,IAAUC,MAAOhB,EAASxB,GAAKA,EAAKW,GACpC+B,KAAoBlB,EAASxB,GAAKA,EAAKW,GAK/C,OAAOa,I,qCAGM1B,EAAIC,EAAIC,EAAIC,EAAIoB,EAAKC,EAAKC,GACvC,IAAMqB,EAAW,GACThC,EAA6CnZ,KAA7CmZ,SAAUC,EAAmCpZ,KAAnCoZ,QAASC,EAA0BrZ,KAA1BqZ,UAAWC,EAAetZ,KAAfsZ,WAC9BC,EAA8EvZ,KAA9EuZ,QAASC,EAAqExZ,KAArEwZ,gBAAiBC,EAAoDzZ,KAApDyZ,eAAgBC,EAAoC1Z,KAApC0Z,gBAAiBC,EAAmB3Z,KAAnB2Z,eAC3DT,EAAYlZ,KAAZkZ,QAGR,GAFgBK,EAAQK,EAAKC,GAEhB,CACX,IAAMI,EAAWT,EAAgBI,EAAKC,GAChCK,EAAUT,EAAeG,EAAKC,GAC9BM,EAAWT,EAAgBE,EAAKC,GAChCO,EAAUT,EAAeC,EAAKC,GACpC,OAAQC,GACN,IAAK,OACHqB,EAAS9C,GAAKA,EAAKa,EACnBiC,EAAS5C,GAAKA,EAAKW,EAEnB,IAAMmB,EAAiBf,EAAWM,EAAM,EAAGC,EAAM,IAAMT,EAAQQ,EAAKC,EAAM,GACpES,EAAOlB,EAAQQ,EAAKC,GACpBU,EAAUjB,EAAWM,EAAM,EAAGC,GACpCsB,EAAS7C,GAAKA,EACV+B,IAAgBc,EAAS7C,GAAKA,EAAKY,IAClCoB,GAAQC,IAAYN,IAAUkB,EAAS7C,GAAKA,EAAKY,GAEtD,IAAMsB,EAAoBpB,EAAQQ,EAAM,EAAGC,EAAM,IAAMP,EAAWM,EAAKC,EAAM,GACvEY,EAAUnB,EAAWM,EAAKC,GAC1Ba,EAAOtB,EAAQQ,EAAM,EAAGC,GAC9BsB,EAAS3C,GAAKA,EACVgC,IAAmBW,EAAS3C,GAAKA,EAAKU,IACrCuB,GAAWC,IAASR,IAASiB,EAAS3C,GAAKA,EAAKU,GACrD,MAEF,IAAK,MACHiC,EAAS7C,GAAKA,EAAKY,EACnBiC,EAAS3C,GAAKA,EAAKU,EAEnB,IAAMmB,EAAiBhB,EAAUO,EAAM,EAAGC,EAAM,IAAMV,EAASS,EAAM,EAAGC,GAClEc,EAAQxB,EAASS,EAAKC,GACtBe,EAASvB,EAAUO,EAAKC,EAAM,GACpCsB,EAAS9C,GAAKA,EACVgC,IAAgBc,EAAS9C,GAAKA,EAAKa,IAClCyB,GAASC,IAAWT,IAAUgB,EAAS9C,GAAKA,EAAKa,GAEtD,IAAM2B,EAAkB1B,EAASS,EAAM,EAAGC,EAAM,IAAMR,EAAUO,EAAM,EAAGC,GACnEiB,EAASzB,EAAUO,EAAKC,GACxBkB,EAAQ5B,EAASS,EAAKC,EAAM,GAClCsB,EAAS5C,GAAKA,EACVsC,IAAiBM,EAAS5C,GAAKA,EAAKW,IACnC4B,GAAUC,IAAUX,IAASe,EAAS5C,GAAKA,EAAKW,GACrD,MAEF,IAAK,QACHiC,EAAS9C,GAAKA,EAAKa,EACnBiC,EAAS5C,GAAKA,EAAKW,EAEnB,IAAM8B,EAAkB1B,EAAWM,EAAM,EAAGC,EAAM,IAAMT,EAAQQ,EAAKC,EAAM,GACrES,EAAOlB,EAAQQ,EAAKC,GACpBU,EAAUjB,EAAWM,EAAM,EAAGC,GACpCsB,EAAS7C,GAAKA,EACV0C,IAAiBG,EAAS7C,GAAKA,EAAKY,IACnCoB,GAAQC,IAAYN,IAAUkB,EAAS7C,GAAKA,EAAKY,GAEtD,IAAM+B,EAAqB7B,EAAQQ,EAAM,EAAGC,EAAM,IAAMP,EAAWM,EAAKC,EAAM,GACxEY,EAAUnB,EAAWM,EAAKC,GAC1Ba,EAAOtB,EAAQQ,EAAM,EAAGC,GAC9BsB,EAAS3C,GAAKA,EACVyC,IAAoBE,EAAS3C,GAAKA,EAAKU,IACtCuB,GAAWC,IAASR,IAASiB,EAAS3C,GAAKA,EAAKU,GACrD,MAEF,IAAK,SACHiC,EAAS7C,GAAKA,EAAKY,EACnBiC,EAAS3C,GAAKA,EAAKU,EAEnB,IAAMgC,EAAoB7B,EAAUO,EAAM,EAAGC,EAAM,IAAMV,EAASS,EAAM,EAAGC,GACrEc,EAAQxB,EAASS,EAAKC,GACtBe,EAASvB,EAAUO,EAAKC,EAAM,GACpCsB,EAAS9C,GAAKA,EACV6C,IAAmBC,EAAS9C,GAAKA,EAAKa,IACrCyB,GAASC,IAAWT,IAAUgB,EAAS9C,GAAKA,EAAKa,GAEtD,IAAM+B,EAAqB9B,EAASS,EAAM,EAAGC,EAAM,IAAMR,EAAUO,EAAM,EAAGC,GACtEiB,EAASzB,EAAUO,EAAKC,GACxBkB,EAAQ5B,EAASS,EAAKC,EAAM,GAClCsB,EAAS5C,GAAKA,EACV0C,IAAoBE,EAAS5C,GAAKA,EAAKW,IACtC4B,GAAUC,IAAUX,IAASe,EAAS5C,GAAKA,EAAKW,GAKzD,OAAOiC,EAET,OAAQrB,GACN,IAAK,OACHqB,EAAS9C,GAAKA,EAAKa,EACnBiC,EAAS5C,GAAKA,EAAKW,EAEnB,IAAMmB,EAAiBf,EAAWM,EAAM,EAAGC,EAAM,IAAMT,EAAQQ,EAAKC,EAAM,GACpES,EAAOlB,EAAQQ,EAAKC,GACpBU,EAAUjB,EAAWM,EAAM,EAAGC,GACpCsB,EAAS7C,GAAKA,EACV+B,IAAgBc,EAAS7C,GAAKA,EAAKY,IACnCoB,GAAQC,KAASY,EAAS7C,GAAKA,EAAKY,GAExC,IAAMsB,EAAoBpB,EAAQQ,EAAM,EAAGC,EAAM,IAAMP,EAAWM,EAAKC,EAAM,GACvEY,EAAUnB,EAAWM,EAAKC,GAC1Ba,EAAOtB,EAAQQ,EAAM,EAAGC,GAC9BsB,EAAS3C,GAAKA,EACVgC,IAAmBW,EAAS3C,GAAKA,EAAKU,IACtCuB,GAAWC,KAAMS,EAAS3C,GAAKA,EAAKU,GACxC,MAEF,IAAK,MACHiC,EAAS7C,GAAKA,EAAKY,EACnBiC,EAAS3C,GAAKA,EAAKU,EAEnB,IAAMmB,EAAiBhB,EAAUO,EAAM,EAAGC,EAAM,IAAMV,EAASS,EAAM,EAAGC,GAClEc,EAAQxB,EAASS,EAAKC,GACtBe,GAASvB,EAAUO,EAAKC,EAAM,GACpCsB,EAAS9C,GAAKA,EACVgC,IAAgBc,EAAS9C,GAAKA,EAAKa,IACnCyB,GAASC,MAAQO,EAAS9C,GAAKA,EAAKa,GAExC,IAAM2B,GAAkB1B,EAASS,EAAM,EAAGC,EAAM,IAAMR,EAAUO,EAAM,EAAGC,GACnEiB,GAASzB,EAAUO,EAAKC,GACxBkB,GAAQ5B,EAASS,EAAKC,EAAM,GAClCsB,EAAS5C,GAAKA,EACVsC,KAAiBM,EAAS5C,GAAKA,EAAKW,IACpC4B,IAAUC,MAAOI,EAAS5C,GAAKA,EAAKW,GACxC,MAEF,IAAK,QACHiC,EAAS9C,GAAKA,EAAKa,EACnBiC,EAAS5C,GAAKA,EAAKW,EAEnB,IAAM8B,GAAkB1B,EAAWM,EAAM,EAAGC,EAAM,IAAMT,EAAQQ,EAAKC,EAAM,GACrES,GAAOlB,EAAQQ,EAAKC,GACpBU,GAAUjB,EAAWM,EAAM,EAAGC,GACpCsB,EAAS7C,GAAKA,EACV0C,KAAiBG,EAAS7C,GAAKA,EAAKY,IACpCoB,IAAQC,MAASY,EAAS7C,GAAKA,EAAKY,GAExC,IAAM+B,GAAqB7B,EAAQQ,EAAM,EAAGC,EAAM,IAAMP,EAAWM,EAAKC,EAAM,GACxEY,GAAUnB,EAAWM,EAAKC,GAC1Ba,GAAOtB,EAAQQ,EAAM,EAAGC,GAC9BsB,EAAS3C,GAAKA,EACVyC,KAAoBE,EAAS3C,GAAKA,EAAKU,IACvCuB,IAAWC,MAAMS,EAAS3C,GAAKA,EAAKU,GACxC,MAEF,IAAK,SACHiC,EAAS7C,GAAKA,EAAKY,EACnBiC,EAAS3C,GAAKA,EAAKU,EAEnB,IAAMgC,GAAoB7B,EAAUO,EAAM,EAAGC,EAAM,IAAMV,EAASS,EAAM,EAAGC,GACrEc,GAAQxB,EAASS,EAAKC,GACtBe,GAASvB,EAAUO,EAAKC,EAAM,GACpCsB,EAAS9C,GAAKA,EACV6C,KAAmBC,EAAS9C,GAAKA,EAAKa,IACtCyB,IAASC,MAAQO,EAAS9C,GAAKA,EAAKa,GAExC,IAAM+B,GAAqB9B,EAASS,EAAM,EAAGC,EAAM,IAAMR,EAAUO,EAAM,EAAGC,GACtEiB,GAASzB,EAAUO,EAAKC,GACxBkB,GAAQ5B,EAASS,EAAKC,EAAM,GAClCsB,EAAS5C,GAAKA,EACV0C,KAAoBE,EAAS5C,GAAKA,EAAKW,IACvC4B,IAAUC,MAAOI,EAAS5C,GAAKA,EAAKW,GAK5C,OAAOiC,I,+BAGA9C,EAAIC,EAAIC,EAAIC,EAAIoB,EAAKC,EAAKC,GAAK,IAC9B3B,EAASnY,KAATmY,KACA/X,EAAiBJ,KAAjBI,MAAO+Q,EAAUnR,KAAVmR,MACfgH,EAAKM,YACLN,EAAKC,KAAK,CACRM,UAAWtY,EACXuY,YAAaxH,IAEfgH,EAAKS,YAAY,IACjB,IAAMmB,EAAW/Z,KAAKob,eAAe/C,EAAIC,EAAIC,EAAIC,EAAIoB,EAAKC,EAAKC,GACzDqB,EAAWnb,KAAKqb,eAAehD,EAAIC,EAAIC,EAAIC,EAAIoB,EAAKC,EAAKC,GAC1D3f,EAAMuB,cAAcyf,IACvBhD,EAAKU,KAAK,CAACsC,EAAS9C,GAAI8C,EAAS7C,IAAK,CAAC6C,EAAS5C,GAAI4C,EAAS3C,KAE1Dre,EAAMuB,cAAcqe,IACvB5B,EAAKU,KAAK,CAACkB,EAAS1B,GAAI0B,EAASzB,IAAK,CAACyB,EAASxB,GAAIwB,EAASvB,O,+BAIxDrH,GACPnR,KAAKmR,MAAQA,I,+BAGN/Q,GACPJ,KAAKI,MAAQA,M,KAIXkb,G,WAEJ,WAAYnD,GAAiB,IAAXC,EAAW,uDAAJ,GAAI,WAC3BpY,KAAK3F,KAAOwd,GAAUC,WACtB9X,KAAKub,UAAY,IAAIrD,GAAUC,EAAMhe,EAAMkB,UAAU,GAAI+c,IACzDpY,KAAKwb,WAAa,IAAI1C,GAAWX,EAAMhe,EAAMkB,UAAU,CACrD0d,KAAM,CAAC,IACNX,IACHpY,KAAKyb,UAAY,IAAI3C,GAAWX,EAAMhe,EAAMkB,UAAU,CACpD0d,KAAM,CAAC,EAAG,IACTX,IACHpY,KAAK0b,WAAa,IAAI1C,GAAWb,EAAMhe,EAAMkB,UAAU,GAAI+c,I,4CAGpDC,EAAIC,EAAIC,EAAIC,EAAIoB,EAAKC,EAAKC,GAAK,IAEpCzf,EAKE2F,KALF3F,KACAkhB,EAIEvb,KAJFub,UACAC,EAGExb,KAHFwb,WACAC,EAEEzb,KAFFyb,UACAC,EACE1b,KADF0b,WAEF,OAAQrhB,GACN,KAAKwd,GAAUC,WACbyD,EAAUI,SAAStD,EAAIC,EAAIC,EAAIC,GAC/B,MACF,KAAKX,GAAUE,YACbyD,EAAWG,SAAStD,EAAIC,EAAIC,EAAIC,GAChC,MACF,KAAKX,GAAUG,WACbyD,EAAUE,SAAStD,EAAIC,EAAIC,EAAIC,GAC/B,MACF,KAAKX,GAAUI,YACbyD,EAAWC,SAAStD,EAAIC,EAAIC,EAAIC,EAAIoB,EAAKC,EAAKC,M,8BAM5Czf,GACN2F,KAAK3F,KAAOA,I,+BAGL+F,GACHA,GACEJ,KAAK3F,OAASwd,GAAUC,YAC1B9X,KAAKub,UAAU7L,SAAStP,K,+BAKrB+Q,GACHA,IACFnR,KAAKub,UAAUjF,SAASnF,GACxBnR,KAAKwb,WAAWlF,SAASnF,GACzBnR,KAAKyb,UAAUnF,SAASnF,GACxBnR,KAAK0b,WAAWpF,SAASnF,Q,6kBC5hBzByK,G,YACJ,aAA0B,M,IAAdhV,EAAc,uDAAJ,I,4FAAI,S,EACxB,K,EAAA,0BAAS7M,EAAT,6BAA+CI,EAAMkB,UAAU,CAC7D0T,SAAU,cACTnI,KAFH,G,mDAGKvM,KAAOwd,GAAUC,WACtB,EAAK3G,MAAQ,UAEb,EAAK0K,YAAc,IAAIjF,GACvB,EAAKkF,YAAc,IAAIjF,GACvB,EAAKkF,YAAc,IAAIjF,GACvB,EAAKkF,YAAc,IAAIjF,GACvB,EAAKkF,YAAc,IAAIjF,GACvB,IAAMkF,EAAO/V,EAAE,MAAD,UAAWpM,EAAX,6CACdmiB,EAAKlZ,SAAS,EAAK6Y,aACnBK,EAAKlZ,SAAS,EAAK8Y,aACnBI,EAAKlZ,SAAS,EAAK+Y,aACnBG,EAAKlZ,SAAS,EAAKgZ,aACnBE,EAAKlZ,SAAS,EAAKiZ,aACnB,EAAKE,YAAc,IAAIlF,GACvB,EAAKmF,YAAc,IAAIlF,GACvB,EAAKmF,YAAc,IAAIlF,GACvB,EAAKmF,YAAc,IAAIlF,GACvB,EAAKmF,aAAe,IAAIlF,GACxB,IAAMmF,EAAOrW,EAAE,MAAD,UAAWpM,EAAX,6CACdyiB,EAAKxZ,SAAS,EAAKmZ,aACnBK,EAAKxZ,SAAS,EAAKoZ,aACnBI,EAAKxZ,SAAS,EAAKqZ,aACnBG,EAAKxZ,SAAS,EAAKsZ,aACnBE,EAAKxZ,SAAS,EAAKuZ,cACnB,EAAKE,YAAc,IAAI9F,GACvB,EAAK8F,YAAY1Y,YAAY,SAC7B,EAAK0Y,YAAYzZ,SAASkZ,GAC1B,EAAKO,YAAYzZ,SAASwZ,GAE1B,EAAKE,YAAc,IAAIpF,GACvB,EAAKqF,WAAa,IAAIpF,GACtB,IAAMqF,EAAOzW,EAAE,MAAD,UAAWpM,EAAX,6CApCU,OAqCxB6iB,EAAK5Z,SAAS,EAAK0Z,aACnBE,EAAK5Z,SAAS,EAAK2Z,YACnB,EAAKE,mBAAqB,IAAIlG,GAC9B,EAAKkG,mBAAmB9Y,YAAY,SACpC,EAAK8Y,mBAAmB7Z,SAAS4Z,GAEjC,EAAKzN,QAAQ,EAAKsN,aAClB,EAAKtN,QAAQ,IAAIN,IACjB,EAAKM,QAAQ,EAAK0N,oBAElB,EAAKC,uBAAyB,IAAIrF,GAAuBtd,EAAMqV,SAAS,CACtEzO,GAAI,EAAK2b,YACTxX,SAAUuH,GAAkBG,QAC3B,CACDmC,SAAU,SAACoC,GACT,EAAKA,MAAQA,EACb,EAAKuL,YAAYpG,SAASnF,OAI9B,EAAK4L,oBAAsB,IAAInF,GAAoBzd,EAAMqV,SAAS,CAChEzO,GAAI,EAAK4b,WACTzX,SAAUuH,GAAkBG,QAC3B,CACDmC,SAAU,SAAC1U,GACT,EAAKA,KAAOA,MAIhB0P,GAAUxQ,KAAK,EAAKmjB,YAAatU,GAASC,kBAAkBG,YAAY,SAAC7M,GAAM,IACrEmhB,EADqE,MACrEA,uBACA1O,EAAY0O,EAAZ1O,QACRrB,GAAQiQ,SAAS,CAAC5O,EAAS,EAAKA,UAC5B0O,EAAuBG,SACzBH,EAAuBzO,OAEvByO,EAAuBnP,QAEzBhS,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAKojB,WAAYvU,GAASC,kBAAkBG,YAAY,SAAC7M,GAAM,IACpEohB,EADoE,MACpEA,oBACA3O,EAAY2O,EAAZ3O,QACRrB,GAAQiQ,SAAS,CAAC5O,EAAS,EAAKA,UAC5B2O,EAAoBE,SACtBF,EAAoB1O,OAEpB0O,EAAoBpP,QAEtBhS,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAKsiB,YAAazT,GAASC,kBAAkBG,YAAY,SAAC7M,GACvE,EAAKiL,QAAQmI,SAAS,UAAW,EAAKoC,MAAO,EAAK9W,MAClDsB,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAKuiB,YAAa1T,GAASC,kBAAkBG,YAAY,SAAC7M,GACvE,EAAKiL,QAAQmI,SAAS,UAAW,EAAKoC,MAAO,EAAK9W,MAClDsB,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAKwiB,YAAa3T,GAASC,kBAAkBG,YAAY,SAAC7M,GACvE,EAAKiL,QAAQmI,SAAS,UAAW,EAAKoC,MAAO,EAAK9W,MAClDsB,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAKyiB,YAAa5T,GAASC,kBAAkBG,YAAY,SAAC7M,GACvE,EAAKiL,QAAQmI,SAAS,UAAW,EAAKoC,MAAO,EAAK9W,MAClDsB,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAK0iB,YAAa7T,GAASC,kBAAkBG,YAAY,SAAC7M,GACvE,EAAKiL,QAAQmI,SAAS,UAAW,EAAKoC,MAAO,EAAK9W,MAClDsB,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAK4iB,YAAa/T,GAASC,kBAAkBG,YAAY,SAAC7M,GACvE,EAAKiL,QAAQmI,SAAS,UAAW,EAAKoC,MAAO,EAAK9W,MAClDsB,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAK6iB,YAAahU,GAASC,kBAAkBG,YAAY,SAAC7M,GACvE,EAAKiL,QAAQmI,SAAS,UAAW,EAAKoC,MAAO,EAAK9W,MAClDsB,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAK8iB,YAAajU,GAASC,kBAAkBG,YAAY,SAAC7M,GACvE,EAAKiL,QAAQmI,SAAS,UAAW,EAAKoC,MAAO,EAAK9W,MAClDsB,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAK+iB,YAAalU,GAASC,kBAAkBG,YAAY,SAAC7M,GACvE,EAAKiL,QAAQmI,SAAS,UAAW,EAAKoC,MAAO,EAAK9W,MAClDsB,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAKgjB,aAAcnU,GAASC,kBAAkBG,YAAY,SAAC7M,GACxE,EAAKiL,QAAQmI,SAAS,WAAY,EAAKoC,MAAO,EAAK9W,MACnDsB,EAAEiG,kBACFjG,EAAEiQ,oBA1IoB,E,mPADQsC,I,wkBClB9BgP,G,YACJ,WAAYtW,GAAS,M,IAAA,O,4FAAA,S,EACnB,U,EAAA,0BAAS7M,EAAT,oB,gDACK6M,QAAUzM,EAAMqV,SAAS,CAC5BC,YAAa,IACZ7I,GACH,EAAKU,KAAO,IAAIJ,EAAK,UACrB,EAAKmP,QAAQ,EAAK/O,MAClB,EAAK6V,sBAAwB,IAAIvB,GAAsBzhB,EAAMqV,SAAS,CACpEzO,GAAI,MACJmE,SAAUuH,GAAkBG,QAC3B,EAAKhG,QAAQ6I,cAVG,E,mPADF5H,I,6oBCHfuV,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASrjB,EAAT,mBACKuN,KAAO,IAAIJ,EAAK,SACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADIF,I,6oBCAdiW,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAStjB,EAAT,yBACKuN,KAAO,IAAIJ,EAAK,cACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADcF,I,6oBCAxBkW,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASvjB,EAAT,yBACKuN,KAAO,IAAIJ,EAAK,gBACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADcF,I,6oBCAxBmW,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASxjB,EAAT,yBACKuN,KAAO,IAAIJ,EAAK,eACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADcF,I,6oBCDxBoW,G,YACJ,aAAc,O,4FAAA,2CACHzjB,EADG,wC,mPADwBuU,I,2KCHlCmP,G,WACJ,cAEG,IADDC,EACC,EADDA,KAAMvF,EACL,EADKA,KACL,IADWnK,cACX,MADoB,EACpB,G,4FAAA,SACDhO,KAAK0d,KAAOA,EACZ1d,KAAKmY,KAAOA,EACZnY,KAAKgO,OAASA,E,sDAGT,IACG0P,EAAuB1d,KAAvB0d,KAAMvF,EAAiBnY,KAAjBmY,KAAMnK,EAAWhO,KAAXgO,OAElBjR,EACE2gB,EADF3gB,EAAGC,EACD0gB,EADC1gB,EAAGoD,EACJsd,EADItd,MAAOE,EACXod,EADWpd,OAKf,OAHA6X,EAAKwF,OACLxF,EAAKuF,KAAK3gB,EAAGC,EAAGoD,EAAQ4N,EAAQ1N,EAAS0N,GACzCmK,EAAKyF,OACE5d,O,8BAMP,OAFiBA,KAATmY,KACH0F,UACE7d,U,gsBCrBX,SAAS8d,KACP,OAAO1e,OAAO2e,kBAAoB,EAGpC,SAASC,GAAMxkB,GAEb,MAAQ,GAAMA,GAAM,EAGtB,SAASykB,GAAI/V,GACX,OAAO8V,GAAM9V,EAAK4V,MAGpB,SAASI,GAAcC,GACrB,OAAQA,GAAS7L,KAAK8L,GAAK,K,IAGvBC,G,WACJ,WAAYtd,I,4FAAI,SACdf,KAAKe,GAAKA,EACVf,KAAKse,IAAMvd,EAAGwd,WAAW,MACzBve,KAAKI,MAAQW,EAAGX,MAChBJ,KAAKM,OAASS,EAAGT,OACjBN,KAAKwe,QAAU,EACfxe,KAAKye,QAAU,E,sDAGVN,GAGL,OAFgBne,KAARse,IACJI,OAAOR,GAAcC,IAClBne,O,+BAGwB,IAA1Bwe,EAA0B,uDAAhB,EAAGC,EAAa,uDAAH,EAC5Bze,KAAKwe,QAAUA,EACfxe,KAAKye,QAAUA,I,6BAGVre,EAAOE,GAAQ,IACZS,EAAOf,KAAPe,GAOR,OANAf,KAAKI,MAAQA,EACbJ,KAAKM,OAASA,EACdS,EAAGuD,MAAMlE,MAAT,UAAoBA,EAApB,MACAW,EAAGuD,MAAMhE,OAAT,UAAqBA,EAArB,MACAS,EAAGX,MAAQ6d,GAAI7d,GACfW,EAAGT,OAAS2d,GAAI3d,GACTN,O,8BAGD,IACEI,EAAkBJ,KAAlBI,MAAOE,EAAWN,KAAXM,OAEf,OADAN,KAAK2e,UAAU,EAAG,EAAGve,EAAOE,GACrBN,O,2BAGJ4G,GAEH,IAAK,IAAMtN,KAAOsN,EAEhB,GAAIA,EAAQhN,eAAeN,GAAM,CAC/B,IAAIN,EAAQ4N,EAAQtN,IACC,iBAAVN,GAAsBA,aAAiB0F,UAChD1F,EAAQA,EAAMkH,QAEZF,KAAKse,IAAIhlB,KAASN,IACpBgH,KAAKse,IAAIhlB,GAAON,GAItB,OAAOgH,O,kCAKP,OADAA,KAAKse,IAAI7F,YACFzY,O,6BAOP,OAHgBA,KAARse,IACJX,OACJ3d,KAAKyY,YACEzY,O,gCAMP,OAFgBA,KAARse,IACJT,UACG7d,O,6BAMP,OAFgBA,KAARse,IACJV,OACG5d,O,6BAIPA,KAAKse,IAAIM,S,kCAGC7F,GACV/Y,KAAKse,IAAI1F,YAAYG,K,kCAGX/Q,GACV,OAAOhI,KAAKse,IAAIO,YAAY7W,K,6BAGjB,IACHsW,EAAQte,KAARse,IACR,GAAI,UAAIzjB,OAAS,EAAG,yDACXkC,EADW,KACRC,EADQ,KAElBgD,KAAK8e,OAAO/hB,EAAGC,GACf,IAAK,IAAIjF,EAAI,EAAGoa,EAAM,UAAItX,OAAQ9C,EAAIoa,EAAKpa,GAAK,EAAG,OAC5BA,EAD4B,qBAC5BA,OAD4B,YAC5BA,GAD4B,UAC1CgnB,EAD0C,KACtCC,EADsC,KAEjDhf,KAAKif,OAAOF,EAAIC,GAElBV,EAAIY,SAEN,OAAOlf,O,gCAGCjD,EAAGC,EAAGmiB,EAAGhZ,GAAG,IACZqY,EAAqBxe,KAArBwe,QAASC,EAAYze,KAAZye,QAEjB,OADAze,KAAKse,IAAIK,UAAUV,GAAIlhB,EAAIyhB,GAAUP,GAAIjhB,EAAIyhB,GAAUR,GAAIkB,GAAIlB,GAAI9X,IAC5DnG,O,2BAGJjD,EAAGC,EAAGmiB,EAAGhZ,GAAG,IACPqY,EAAqBxe,KAArBwe,QAASC,EAAYze,KAAZye,QAEjB,OADAze,KAAKse,IAAIZ,KAAKO,GAAIlhB,EAAIyhB,GAAUP,GAAIjhB,EAAIyhB,GAAUR,GAAIkB,GAAIlB,GAAI9X,IACvDnG,O,+BAGAjD,EAAGC,EAAGmiB,EAAGhZ,GAAG,IACXqY,EAAqBxe,KAArBwe,QAASC,EAAYze,KAAZye,QAEjB,OADAze,KAAKse,IAAIc,SAASnB,GAAIlhB,EAAIyhB,GAAUP,GAAIjhB,EAAIyhB,GAAUR,GAAIkB,GAAIlB,GAAI9X,IAC3DnG,O,+BAGAgI,EAAMjL,EAAGC,GAAG,IACXwhB,EAAqBxe,KAArBwe,QAASC,EAAYze,KAAZye,QAEjB,OADAze,KAAKse,IAAIe,SAASrX,EAAMiW,GAAIlhB,EAAIyhB,GAAUP,GAAIjhB,EAAIyhB,IAC3Cze,O,6BAGFjD,EAAGC,GAAG,IACHshB,EAAQte,KAARse,IACAE,EAAqBxe,KAArBwe,QAASC,EAAYze,KAAZye,QACXa,EAAOhB,EAAI5F,UAAY,GAAM,EAC7B6G,EAAKD,EAAOrB,GAAIlhB,EAAIyhB,GAAWP,GAAIlhB,EAAIyhB,GAAW,GAClDgB,EAAKF,EAAOrB,GAAIjhB,EAAIyhB,GAAWR,GAAIjhB,EAAIyhB,GAAW,GACxDH,EAAIQ,OAAOS,EAAIC,K,6BAGVziB,EAAGC,GAAG,IACHshB,EAAQte,KAARse,IACAE,EAAqBxe,KAArBwe,QAASC,EAAYze,KAAZye,QACXa,EAAOhB,EAAI5F,UAAY,GAAM,EAC7B6G,EAAKD,EAAOrB,GAAIlhB,EAAIyhB,GAAWP,GAAIlhB,EAAIyhB,GAAW,GAClDgB,EAAKF,EAAOrB,GAAIjhB,EAAIyhB,GAAWR,GAAIjhB,EAAIyhB,GAAW,GACxDH,EAAIW,OAAOM,EAAIC,Q,6MCnKbC,G,WACJ,cAEG,IADD1iB,EACC,EADDA,EAAGC,EACF,EADEA,EAAGoD,EACL,EADKA,MAAOE,EACZ,EADYA,Q,4FACZ,SACDN,KAAKjD,EAAIA,EACTiD,KAAKhD,EAAIA,EACTgD,KAAKI,MAAQA,EACbJ,KAAKM,OAASA,E,0DAGLrE,GAGT,OAFA+D,KAAKI,OAASnE,EACd+D,KAAKM,QAAUrE,EACR+D,O,8BAKP,OAAO,IAAIyf,EAAK,CAAE1iB,EADciD,KAAxBjD,EACaC,EADWgD,KAArBhD,EACaoD,MADQJ,KAAlBI,MACiBE,OADCN,KAAXM,c,oWCdzB,IAAMof,GAAe,CACnBC,SAAU,WACVC,WAAY,aACZC,UAAW,YACXC,YAAa,cACbC,cAAe,gBACfC,aAAc,eACdC,YAAa,cACbC,cAAe,gBACfC,aAAc,gBAGVC,G,WACJ,cAKG,IAJDC,EAIC,EAJDA,GACAlC,EAGC,EAHDA,MAGC,IAFDmC,cAEC,MAFQZ,GAAaK,cAErB,MADDrC,YACC,MADM,IAAI+B,GAAK,CAAE1iB,EAAG,EAAGC,EAAG,EAAGoD,MAAO,EAAGE,OAAQ,IAC/C,aACDN,KAAKqgB,GAAKA,EACVrgB,KAAKsgB,OAASA,EACdtgB,KAAK0d,KAAOA,EACZ1d,KAAKme,MAAQA,E,4CAGN,IACCmC,EAA4BtgB,KAA5BsgB,OAAQD,EAAoBrgB,KAApBqgB,GAAI3C,EAAgB1d,KAAhB0d,KAAMS,EAAUne,KAAVme,MAClBphB,EAAwB2gB,EAAxB3gB,EAAGC,EAAqB0gB,EAArB1gB,EAAGoD,EAAkBsd,EAAlBtd,MAAOE,EAAWod,EAAXpd,OACrB+f,EAAG1C,OACH,IAAI4C,EAAK,EACLC,EAAK,EACT,OAAQF,GACN,KAAKZ,GAAaC,SAChBY,EAAKxjB,EACLyjB,EAAKxjB,EACL,MACF,KAAK0iB,GAAaE,WAChBW,EAAKxjB,EAAIqD,EAAQ,EACjBogB,EAAKxjB,EACL,MACF,KAAK0iB,GAAaG,UAChBU,EAAKxjB,EAAIqD,EACTogB,EAAKxjB,EACL,MACF,KAAK0iB,GAAaI,YAChBS,EAAKxjB,EACLyjB,EAAKxjB,EAAIsD,EAAS,EAClB,MACF,KAAKof,GAAaK,cAChBQ,EAAKxjB,EAAIqD,EAAQ,EACjBogB,EAAKxjB,EAAIsD,EAAS,EAClB,MACF,KAAKof,GAAaM,aAChBO,EAAKxjB,EAAIqD,EACTogB,EAAKxjB,EAAIsD,EAAS,EAClB,MACF,KAAKof,GAAaO,YAChBM,EAAKxjB,EACLyjB,EAAKxjB,EAAIsD,EACT,MACF,KAAKof,GAAaQ,cAChBK,EAAKxjB,EAAIqD,EAAQ,EACjBogB,EAAKxjB,EAAIsD,EACT,MACF,KAAKof,GAAaS,aAChBI,EAAKxjB,EAAIqD,EACTogB,EAAKxjB,EAAIsD,EAOb,OAHA+f,EAAG/B,IAAImC,UAAUxC,GAAIsC,EAAKF,EAAG7B,SAAUP,GAAIuC,EAAKH,EAAG5B,UACnD4B,EAAG3B,OAAOP,GACVkC,EAAG/B,IAAImC,WAAWxC,GAAIsC,EAAKF,EAAG7B,UAAWP,GAAIuC,EAAKH,EAAG5B,UAC9Cze,O,+BAMP,OAFeA,KAAPqgB,GACLxC,UACI7d,O,gCAWCsgB,GAER,OADAtgB,KAAKsgB,OAASA,EACPtgB,O,8BAGD0d,GAEN,OADA1d,KAAK0d,KAAOA,EACL1d,Q,0CAfiBme,EAAO/d,GAC/B,IAAMsgB,EAAMpO,KAAKoO,IAAIxC,GAAcC,IAC7BwC,EAAMrO,KAAKqO,IAAIzC,GAAcC,IACnC,MAAO,CACL/d,MAAOkS,KAAKsO,IAAIF,EAAMtgB,GAAQE,OAAQgS,KAAKsO,IAAID,EAAMvgB,Q,KAerDygB,G,WACJ,cAAsC,IAAxB1C,EAAwB,EAAxBA,MAAO/d,EAAiB,EAAjBA,MAAOE,EAAU,EAAVA,OAAU,WACpCN,KAAKme,MAAQA,EACbne,KAAKI,MAAQA,EACbJ,KAAKM,OAASA,E,mDAIA,IACN6d,EAAiBne,KAAjBme,MAAO/d,EAAUJ,KAAVI,MACf,OAAOkS,KAAKsO,IAAItO,KAAKqO,IAAIzC,GAAcC,IAAU/d,K,sCAInC,IACN+d,EAAiBne,KAAjBme,MAAO/d,EAAUJ,KAAVI,MACf,OAAOkS,KAAKsO,IAAItO,KAAKoO,IAAIxC,GAAcC,IAAU/d,K,uCAIlC,IACP+d,EAAkBne,KAAlBme,MAAO7d,EAAWN,KAAXM,OACf,OAAOgS,KAAKsO,IAAItgB,EAASgS,KAAKqO,IAAIzC,GAAcC,O,+BAGzC/d,GACPJ,KAAKI,MAAQA,I,gCAGLE,GACRN,KAAKM,OAASA,I,+BAGP6d,GACPne,KAAKme,MAAQA,M,uUCnIjB,IAUM2C,GAAQ,CACZ9e,KAAM,OACN2P,OAAQ,SACRtM,MAAO,SAEH0b,GAAiB,CACrBjf,IAAK,MACL6P,OAAQ,SACRrM,OAAQ,UAEJ0b,GAAY,CAChBC,UAAW,EACXC,UAAW,EACXC,SAAU,GAENC,GAAiB,CACrBC,WAAY,aACZC,SAAU,WACVC,MAAO,SAMHC,G,WACJ,cAEG,IADDxZ,EACC,EADDA,KAAM0V,EACL,EADKA,KAAM2C,EACX,EADWA,GAAIhT,EACf,EADeA,SAAU+K,EACzB,EADyBA,KACzB,WACDpY,KAAKgI,KAAOA,EACZhI,KAAKqgB,GAAKA,EACVrgB,KAAK0d,KAAOA,EACZ1d,KAAKqN,SAAWA,EAChBrN,KAAKoY,KAAOA,E,6CAGJpQ,GAER,OADehI,KAAPqgB,GACExB,YAAY7W,GAAM5H,Q,+BAGrB/F,EAAMkmB,EAAIC,EAAIiB,GAAW,IACxBpB,EAAargB,KAAbqgB,GAAIjI,EAASpY,KAAToY,KACJnc,EAA+Bmc,EAA/Bnc,KAAMylB,EAAyBtJ,EAAzBsJ,cAAeC,EAAUvJ,EAAVuJ,MACvB7nB,EAAI,CAAC,EAAG,GACR6B,EAAI,CAAC,EAAG,GACd,GAAa,WAATtB,EAAmB,CACrB,OAAQsnB,GACN,KAAKb,GAAMzb,MACTvL,EAAE,GAAKymB,EAAKkB,EACZ9lB,EAAE,GAAK4kB,EACP,MACF,KAAKO,GAAMnP,OACT7X,EAAE,GAAKymB,EAAKkB,EAAY,EACxB9lB,EAAE,GAAK4kB,EAAKkB,EAAY,EACxB,MACF,KAAKX,GAAM9e,KACTlI,EAAE,GAAKymB,EACP5kB,EAAE,GAAK4kB,EAAKkB,EAIhB,OAAQC,GACN,KAAKX,GAAejf,IAClBhI,EAAE,GAAK0mB,EAAKvkB,EAAO,EACnBN,EAAE,GAAK6kB,EAAKvkB,EAAO,EACnB,MACF,KAAK8kB,GAAepP,OAClB7X,EAAE,GAAK0mB,EACP7kB,EAAE,GAAK6kB,EACP,MACF,KAAKO,GAAezb,OAClBxL,EAAE,GAAK0mB,EAAKvkB,EAAO,EACnBN,EAAE,GAAK6kB,EAAKvkB,EAAO,GAKzB,GAAa,cAAT5B,EAAsB,CACxB,OAAQsnB,GACN,KAAKb,GAAMzb,MACTvL,EAAE,GAAKymB,EAAKkB,EACZ9lB,EAAE,GAAK4kB,EACP,MACF,KAAKO,GAAMnP,OACT7X,EAAE,GAAKymB,EAAKkB,EAAY,EACxB9lB,EAAE,GAAK4kB,EAAKkB,EAAY,EACxB,MACF,KAAKX,GAAM9e,KACTlI,EAAE,GAAKymB,EACP5kB,EAAE,GAAK4kB,EAAKkB,EAIhB,OAAQC,GACN,KAAKX,GAAejf,IAClBhI,EAAE,GAAK0mB,EAAKvkB,EACZN,EAAE,GAAK6kB,EAAKvkB,EACZ,MACF,KAAK8kB,GAAepP,OAClB7X,EAAE,GAAK0mB,EAAKvkB,EAAO,EACnBN,EAAE,GAAK6kB,EAAKvkB,EAAO,EACnB,MACF,KAAK8kB,GAAezb,OAClBxL,EAAE,GAAK0mB,EACP7kB,EAAE,GAAK6kB,GAKbH,EAAGxH,KAAK/e,EAAG6B,K,yCAOM,IAmCbwP,EAjCFnD,EACEhI,KADFgI,KAAMqY,EACJrgB,KADIqgB,GAAIjI,EACRpY,KADQoY,KAAMsF,EACd1d,KADc0d,KAGhBkE,EACExJ,EADFwJ,UAAWC,EACTzJ,EADSyJ,cAAeF,EACxBvJ,EADwBuJ,MAAOD,EAC/BtJ,EAD+BsJ,cAE3BthB,EAAkBsd,EAAlBtd,MAAOE,EAAWod,EAAXpd,OACTmhB,EAAYzhB,KAAKyhB,UAAUzZ,GAAQ8V,KACrCyC,EAAK7C,EAAK3gB,EACVyjB,EAAK9C,EAAK1gB,EACd,OAAQ2kB,GACN,KAAKb,GAAM9e,KACTue,GAnIQ,EAoIR,MACF,KAAKO,GAAMnP,OACT4O,GAAMngB,EAAQ,EACd,MACF,KAAK0gB,GAAMzb,MACTkb,GAAMngB,EAzIE,EA6IZ,OAAQshB,GACN,KAAKX,GAAejf,IAClB0e,GA/IQ,EAgJR,MACF,KAAKO,GAAepP,OAClB6O,GAAMlgB,EAAS,EACf,MACF,KAAKygB,GAAezb,OAClBkb,GAAMlgB,EArJE,EA0JZ,OAAQqhB,GACN,KAAKb,GAAMzb,MACX,KAAKyb,GAAM9e,KACTmJ,EAAesW,EAAYK,GAC3B,MACF,KAAKhB,GAAMnP,OACX,QACExG,EAAesW,EAEnB,IAAMM,EAAO,IAAItE,GAAK,CAAEtF,KAAMkI,EAAI3C,SAalC,OAZAqE,EAAK1T,OACLgS,EAAGhB,SAASrX,EAAMuY,EAAIC,IAClBoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa4E,EAAIC,EAAIiB,GAEjCI,GACF7hB,KAAK2b,SAAS,SAAU4E,EAAIC,EAAIiB,GAElCM,EAAKpU,QACExC,I,yCAQU,IAyCbA,EAvCFnD,EACEhI,KADFgI,KAAMqY,EACJrgB,KADIqgB,GAAIjI,EACRpY,KADQoY,KAAMsF,EACd1d,KADc0d,KAAMrQ,EACpBrN,KADoBqN,SAGtBpR,EACEmc,EADFnc,KAAM2lB,EACJxJ,EADIwJ,UAAWC,EACfzJ,EADeyJ,cAAeF,EAC9BvJ,EAD8BuJ,MAAOD,EACrCtJ,EADqCsJ,cAEjCthB,EAAkBsd,EAAlBtd,MAAOE,EAAWod,EAAXpd,OACTmhB,EAAYzhB,KAAKyhB,UAAUzZ,GAAQ8V,KACrCyC,EAAK7C,EAAK3gB,EACVyjB,EAAK9C,EAAK1gB,EACVglB,EAAW,EACXC,EAAW,EACf,OAAQN,GACN,KAAKb,GAAM9e,KACTue,GAvMQ,EAwMRyB,EAxMQ,EAyMR,MACF,KAAKlB,GAAMnP,OACT4O,GAAMngB,EAAQ,EACd,MACF,KAAK0gB,GAAMzb,MACTkb,GAAMngB,EA9ME,EA+MR4hB,EA/MQ,EAmNZ,OAAQN,GACN,KAAKX,GAAejf,IAClB0e,GArNQ,EAsNRyB,EAtNQ,EAuNR,MACF,KAAKlB,GAAepP,OAClB6O,GAAMlgB,EAAS,EACf,MACF,KAAKygB,GAAezb,OAClBkb,GAAMlgB,EA5NE,EA6NR2hB,EA7NQ,EAkOZ,OAAQN,GACN,KAAKb,GAAMzb,MACX,KAAKyb,GAAM9e,KACTmJ,EAAesW,EAAYK,GAC3B,MACF,KAAKhB,GAAMnP,OACX,QACExG,EAAesW,EAEnB,GAAIpU,IAAaoU,EAAYO,EAAW3U,EAASjN,OAASnE,EAAOgmB,EAAW5U,EAAS/M,QAAS,CAC5F,IAAMyhB,EAAO,IAAItE,GAAK,CAAEtF,KAAMkI,EAAI3C,KAAMrQ,IACxC0U,EAAK1T,OAELgS,EAAGhB,SAASrX,EAAMuY,EAAIC,IAClBoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa4E,EAAIC,EAAIiB,GAEjCI,GACF7hB,KAAK2b,SAAS,SAAU4E,EAAIC,EAAIiB,GAElCM,EAAKpU,aAEL0S,EAAGhB,SAASrX,EAAMuY,EAAIC,IAClBoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa4E,EAAIC,EAAIiB,GAEjCI,GACF7hB,KAAK2b,SAAS,SAAU4E,EAAIC,EAAIiB,GAGpC,OAAOtW,I,qCAsBP,IAfa,IAELnD,EAAyBhI,KAAzBgI,KAAMqY,EAAmBrgB,KAAnBqgB,GAAIjI,EAAepY,KAAfoY,KAAMsF,EAAS1d,KAAT0d,KAChBzhB,EAAyDmc,EAAzDnc,KAAM2lB,EAAmDxJ,EAAnDwJ,UAAWC,EAAwCzJ,EAAxCyJ,cAAeF,EAAyBvJ,EAAzBuJ,MAAOD,EAAkBtJ,EAAlBsJ,cACvCthB,EAAkBsd,EAAlBtd,MAAOE,EAAWod,EAAXpd,OACT4hB,EAAe9hB,EAAQ0hB,GACvBK,EAAY,GACZC,EAAW,CACfjQ,IAAK,EACLkQ,MAAO,GAEHlQ,EAAMnK,EAAKnN,OACbynB,EAAU,EACVvqB,EAAI,EACJwqB,EAAS,EACNxqB,EAAIoa,GAAK,CACd,IAAMqQ,EAAYxiB,KAAKyhB,UAAUzZ,EAAK/K,OAAOlF,IAAM+lB,KAC7C2D,EAAYW,EAASjQ,IAAMqQ,EAC7Bf,EAAYS,GACO,IAAjBE,EAASjQ,KACXgQ,EAAUpjB,KAAK,CACbiJ,KAAMA,EAAKuK,UAAUxa,EAAGA,EAAI,GAC5Boa,IAAKsP,EACLlB,GAAI,EACJC,GAAI8B,IAENvqB,GAAK,EACD0pB,EAAYc,IACdA,EAASd,KAGXU,EAAUpjB,KAAK,CACbiJ,KAAMA,EAAKuK,UAAU6P,EAASC,MAAOtqB,GACrCoa,IAAKiQ,EAASjQ,IACdoO,GAAI,EACJC,GAAI8B,IAEFF,EAASjQ,IAAMoQ,IACjBA,EAASH,EAASjQ,MAGtBmQ,GAAWrmB,EA1TY,EA2TvBmmB,EAASjQ,IAAM,EACfiQ,EAASC,MAAQtqB,IAEjBqqB,EAASjQ,IAAMsP,EACf1pB,GAAK,GAGLqqB,EAASjQ,IAAM,IACjBgQ,EAAUpjB,KAAK,CACbiJ,KAAMA,EAAKuK,UAAU6P,EAASC,OAC9BlQ,IAAKiQ,EAASjQ,IACdoO,GAAI,EACJC,GAAI8B,IAEFF,EAASjQ,IAAMoQ,IACjBA,EAASH,EAASjQ,MAGtB,IA0BIhH,EA1BAsX,EAAK/E,EAAK3gB,EACV2lB,EAAKhF,EAAK1gB,EACd,OAAQ2kB,GACN,KAAKb,GAAM9e,KACTygB,GA7UQ,EA8UR,MACF,KAAK3B,GAAMnP,OACT8Q,GAAMriB,EAAQ,EACd,MACF,KAAK0gB,GAAMzb,MACTod,GAAMriB,EAnVE,EAuVZ,OAAQshB,GACN,KAAKX,GAAejf,IAClB4gB,GAzVQ,EA0VR,MACF,KAAK3B,GAAepP,OAClB+Q,GAAMpiB,EAAS,EAAIgiB,EAAU,EAC7B,MACF,KAAKvB,GAAezb,OAClBod,GAAMpiB,EAASgiB,EA/VP,EAoWZ,OAAQX,GACN,KAAKb,GAAMzb,MACX,KAAKyb,GAAM9e,KACTmJ,EAAeoX,EAAST,GACxB,MACF,KAAKhB,GAAMnP,OACX,QACExG,EAAeoX,EAEnB,IAAMR,EAAO,IAAItE,GAAK,CAAEtF,KAAMkI,EAAI3C,SAClCqE,EAAK1T,OACL,IAAK,IAAItW,EAAI,EAAGoa,EAAMgQ,EAAUtnB,OAAQ9C,EAAIoa,EAAKpa,GAAK,EAAG,CACvD,IAAMiO,EAAOmc,EAAUpqB,GACvBiO,EAAKua,IAAMkC,EACXzc,EAAKwa,IAAMkC,EAEXrC,EAAGhB,SAASrZ,EAAKgC,KAAMhC,EAAKua,GAAIva,EAAKwa,KACjCoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa3V,EAAKua,GAAIva,EAAKwa,GAAIxa,EAAKmM,KAEhD0P,GACF7hB,KAAK2b,SAAS,SAAU3V,EAAKua,GAAIva,EAAKwa,GAAIxa,EAAKmM,KAInD,OADA4P,EAAKpU,QACExC,I,6BAGF,IACGkV,EAAargB,KAAbqgB,GAAIjI,EAASpY,KAAToY,KACJuK,EAAavK,EAAbuK,SAQR,OAPAtC,EAAGjI,KAAK,CACNwK,UAAWxK,EAAKuJ,MAChBkB,aAAczK,EAAKsJ,cACnBoB,KAAM,GAAF,OAAK1K,EAAK2K,OAAS,SAAW,GAA9B,YAAoC3K,EAAK4K,KAAO,OAAS,GAAzD,YAA+D/E,GAAI7F,EAAKnc,MAAxE,cAAmFmc,EAAK9f,MAC5F2qB,UAAW7K,EAAKjH,MAChBwH,YAAaP,EAAKjH,QAEZwR,GACN,KAAK3B,GAAUG,SACb,OAAOnhB,KAAKkjB,mBACd,KAAKlC,GAAUE,UACb,OAAOlhB,KAAKmjB,eACd,KAAKnC,GAAUC,UACf,QACE,OAAOjhB,KAAKojB,sB,kCAINT,GACV3iB,KAAKoY,KAAKuK,SAAWA,M,KAOnBU,G,WACJ,cAEG,IADDrb,EACC,EADDA,KAAM0V,EACL,EADKA,KAAM2C,EACX,EADWA,GAAIhT,EACf,EADeA,SAAU+K,EACzB,EADyBA,KACzB,WACDpY,KAAKgI,KAAOA,EACZhI,KAAKqgB,GAAKA,EACVrgB,KAAK0d,KAAOA,EACZ1d,KAAKqN,SAAWA,EAChBrN,KAAKoY,KAAOA,E,6CAGJpQ,GAER,OADehI,KAAPqgB,GACExB,YAAY7W,GAAM5H,Q,+BAGrB/F,EAAMkmB,EAAIC,EAAIiB,EAAWE,EAAOD,GAAe,IAC9CrB,EAAargB,KAAbqgB,GACApkB,EADa+D,KAAToY,KACJnc,KACFnC,EAAI,CAAC,EAAG,GACR6B,EAAI,CAAC,EAAG,GACd,GAAa,WAATtB,EAAmB,CACrB,OAAQsnB,GACN,KAAKb,GAAMzb,MACTvL,EAAE,GAAKymB,EAAKkB,EACZ9lB,EAAE,GAAK4kB,EACP,MACF,KAAKO,GAAMnP,OACT7X,EAAE,GAAKymB,EAAKkB,EAAY,EACxB9lB,EAAE,GAAK4kB,EAAKkB,EAAY,EACxB,MACF,KAAKX,GAAM9e,KACTlI,EAAE,GAAKymB,EACP5kB,EAAE,GAAK4kB,EAAKkB,EAIhB,OAAQC,GACN,KAAKX,GAAejf,IAClBhI,EAAE,GAAK0mB,EAAKvkB,EAAO,EACnBN,EAAE,GAAK6kB,EAAKvkB,EAAO,EACnB,MACF,KAAK8kB,GAAepP,OAClB7X,EAAE,GAAK0mB,EACP7kB,EAAE,GAAK6kB,EACP,MACF,KAAKO,GAAezb,OAClBxL,EAAE,GAAK0mB,EAAKvkB,EAAO,EACnBN,EAAE,GAAK6kB,EAAKvkB,EAAO,GAKzB,GAAa,cAAT5B,EAAsB,CACxB,OAAQsnB,GACN,KAAKb,GAAMzb,MACTvL,EAAE,GAAKymB,EAAKkB,EACZ9lB,EAAE,GAAK4kB,EACP,MACF,KAAKO,GAAMnP,OACT7X,EAAE,GAAKymB,EAAKkB,EAAY,EACxB9lB,EAAE,GAAK4kB,EAAKkB,EAAY,EACxB,MACF,KAAKX,GAAM9e,KACTlI,EAAE,GAAKymB,EACP5kB,EAAE,GAAK4kB,EAAKkB,EAIhB,OAAQC,GACN,KAAKX,GAAejf,IAClBhI,EAAE,GAAK0mB,EAAKvkB,EACZN,EAAE,GAAK6kB,EAAKvkB,EACZ,MACF,KAAK8kB,GAAepP,OAClB7X,EAAE,GAAK0mB,EAAKvkB,EAAO,EACnBN,EAAE,GAAK6kB,EAAKvkB,EAAO,EACnB,MACF,KAAK8kB,GAAezb,OAClBxL,EAAE,GAAK0mB,EACP7kB,EAAE,GAAK6kB,GAKbH,EAAGxH,KAAK/e,EAAG6B,K,yCAaX,IAViB,IAEfqM,EACEhI,KADFgI,KAAMqY,EACJrgB,KADIqgB,GAAIjI,EACRpY,KADQoY,KAAMsF,EACd1d,KADc0d,KAGhBkE,EACExJ,EADFwJ,UAAWC,EACTzJ,EADSyJ,cAAeF,EACxBvJ,EADwBuJ,MAAOD,EAC/BtJ,EAD+BsJ,cAAezlB,EAC9Cmc,EAD8Cnc,KAE1CmE,EAAkBsd,EAAlBtd,MAAOE,EAAWod,EAAXpd,OACT6hB,EAAY,GACdG,EAAU,EACLvqB,EAAI,EAAGA,EAAIiQ,EAAKnN,OAAQ9C,GAAK,EAAG,CACvC,IAAMurB,EAAOtb,EAAK/K,OAAOlF,GACzBoqB,EAAUpjB,KAAK,CACboT,IAAKnS,KAAKyhB,UAAU6B,GAAQxF,KAC5B9V,KAAMsb,EACN/C,GAAI,EACJC,GAAI8B,IAEFvqB,EAAIiQ,EAAKnN,OAAS,EACpBynB,GAAWrmB,EAnhBM,EAqhBjBqmB,GAAWrmB,EAGf,IA0BIkP,EA1BAsX,EAAK/E,EAAK3gB,EACV2lB,EAAKhF,EAAK1gB,EACd,OAAQ2kB,GACN,KAAKb,GAAM9e,KACTygB,GAphBQ,EAqhBR,MACF,KAAK3B,GAAMnP,OACT8Q,GAAMriB,EAAQ,EACd,MACF,KAAK0gB,GAAMzb,MACTod,GAAMriB,EA1hBE,EA8hBZ,OAAQshB,GACN,KAAKX,GAAejf,IAClB4gB,GAhiBQ,EAiiBR,MACF,KAAK3B,GAAepP,OAClB+Q,GAAMpiB,EAAS,EAAIgiB,EAAU,EAniBrB,EAoiBR,MACF,KAAKvB,GAAezb,OAClBod,GAAMpiB,EAASgiB,EAtiBP,EA2iBZ,OAAQX,GACN,KAAKb,GAAM9e,KACX,KAAK8e,GAAMzb,MACT8F,EAAelP,EAAO6lB,GACtB,MACF,KAAKhB,GAAMnP,OACX,QACExG,EAAelP,EAEnB,IAAM8lB,EAAO,IAAItE,GAAK,CAAEtF,KAAMkI,EAAI3C,SAClCqE,EAAK1T,OACL,IAAK,IAAItW,EAAI,EAAGoa,EAAMgQ,EAAUtnB,OAAQ9C,EAAIoa,EAAKpa,GAAK,EAAG,CACvD,IAAMiO,EAAOmc,EAAUpqB,GACvBiO,EAAKua,IAAMkC,EACXzc,EAAKwa,IAAMkC,EACXrC,EAAGhB,SAASrZ,EAAKgC,KAAMhC,EAAKua,GAAIva,EAAKwa,KACjCoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa3V,EAAKua,GAAIva,EAAKwa,GAAIxa,EAAKmM,IAAKwP,EAAOD,GAE5DG,GACF7hB,KAAK2b,SAAS,SAAU3V,EAAKua,GAAIva,EAAKwa,GAAIxa,EAAKmM,IAAKwP,EAAOD,GAI/D,OADAK,EAAKpU,QACExC,I,yCAaP,IAViB,IAEfnD,EACEhI,KADFgI,KAAMqY,EACJrgB,KADIqgB,GAAIjI,EACRpY,KADQoY,KAAMsF,EACd1d,KADc0d,KAAMrQ,EACpBrN,KADoBqN,SAGtBuU,EACExJ,EADFwJ,UAAWC,EACTzJ,EADSyJ,cAAeF,EACxBvJ,EADwBuJ,MAAOD,EAC/BtJ,EAD+BsJ,cAAezlB,EAC9Cmc,EAD8Cnc,KAE1CmE,EAAkBsd,EAAlBtd,MAAOE,EAAWod,EAAXpd,OACT6hB,EAAY,GACdG,EAAU,EACLvqB,EAAI,EAAGA,EAAIiQ,EAAKnN,OAAQ9C,GAAK,EAAG,CACvC,IAAMurB,EAAOtb,EAAK/K,OAAOlF,GACzBoqB,EAAUpjB,KAAK,CACboT,IAAKnS,KAAKyhB,UAAU6B,GAAQxF,KAC5B9V,KAAMsb,EACN/C,GAAI,EACJC,GAAI8B,IAEFvqB,EAAIiQ,EAAKnN,OAAS,EACpBynB,GAAWrmB,EApmBM,EAsmBjBqmB,GAAWrmB,EAGf,IAgCIkP,EAhCAsX,EAAK/E,EAAK3gB,EACV2lB,EAAKhF,EAAK1gB,EACVglB,EAAW,EACXC,EAAW,EACf,OAAQN,GACN,KAAKb,GAAM9e,KACTygB,GAvmBQ,EAwmBRT,EAxmBQ,EAymBR,MACF,KAAKlB,GAAMnP,OACT8Q,GAAMriB,EAAQ,EACd,MACF,KAAK0gB,GAAMzb,MACTod,GAAMriB,EA9mBE,EA+mBR4hB,EA/mBQ,EAmnBZ,OAAQN,GACN,KAAKX,GAAejf,IAClB4gB,GArnBQ,EAsnBRT,EAtnBQ,EAunBR,MACF,KAAKlB,GAAepP,OAClB+Q,GAAMpiB,EAAS,EAAIgiB,EAAU,EAznBrB,EA0nBR,MACF,KAAKvB,GAAezb,OAClBod,GAAMpiB,EAASgiB,EA5nBP,EA6nBRL,EA7nBQ,EAkoBZ,OAAQN,GACN,KAAKb,GAAM9e,KACX,KAAK8e,GAAMzb,MACT8F,EAAelP,EAAO6lB,GACtB,MACF,KAAKhB,GAAMnP,OACX,QACExG,EAAelP,EAEnB,GAAIoR,IAAaiV,EAAUL,EAAW5U,EAAS/M,QAAUrE,EAAO+lB,EAAW3U,EAASjN,OAAQ,CAC1F,IAAM2hB,EAAO,IAAItE,GAAK,CAAEtF,KAAMkI,EAAI3C,KAAMrQ,IACxC0U,EAAK1T,OACL,IAAK,IAAItW,EAAI,EAAGoa,EAAMgQ,EAAUtnB,OAAQ9C,EAAIoa,EAAKpa,GAAK,EAAG,CACvD,IAAMiO,EAAOmc,EAAUpqB,GACvBiO,EAAKua,IAAMkC,EACXzc,EAAKwa,IAAMkC,EACXrC,EAAGhB,SAASrZ,EAAKgC,KAAMhC,EAAKua,GAAIva,EAAKwa,KACjCoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa3V,EAAKua,GAAIva,EAAKwa,GAAIxa,EAAKmM,IAAKwP,EAAOD,GAE5DG,GACF7hB,KAAK2b,SAAS,SAAU3V,EAAKua,GAAIva,EAAKwa,GAAIxa,EAAKmM,IAAKwP,EAAOD,GAG/DK,EAAKpU,aAEL,IAAK,IAAI5V,EAAI,EAAGoa,EAAMgQ,EAAUtnB,OAAQ9C,EAAIoa,EAAKpa,GAAK,EAAG,CACvD,IAAMiO,EAAOmc,EAAUpqB,GACvBiO,EAAKua,IAAMkC,EACXzc,EAAKwa,IAAMkC,EACXrC,EAAGhB,SAASrZ,EAAKgC,KAAMhC,EAAKua,GAAIva,EAAKwa,KACjCoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa3V,EAAKua,GAAIva,EAAKwa,GAAIxa,EAAKmM,IAAKwP,EAAOD,GAE5DG,GACF7hB,KAAK2b,SAAS,SAAU3V,EAAKua,GAAIva,EAAKwa,GAAIxa,EAAKmM,IAAKwP,EAAOD,GAIjE,OAAOvW,I,qCAoBP,IAjBa,IAEXnD,EACEhI,KADFgI,KAAMqY,EACJrgB,KADIqgB,GAAIjI,EACRpY,KADQoY,KAAMsF,EACd1d,KADc0d,KAGhBkE,EACExJ,EADFwJ,UAAWC,EACTzJ,EADSyJ,cAAeF,EACxBvJ,EADwBuJ,MAAOD,EAC/BtJ,EAD+BsJ,cAAezlB,EAC9Cmc,EAD8Cnc,KAE1CmE,EAAkBsd,EAAlBtd,MAAOE,EAAWod,EAAXpd,OACT6hB,EAAY,GACZhQ,EAAMnK,EAAKnN,OACX0oB,EAAYjjB,EAASwhB,GACvB0B,EAAW,GACXC,EAAU,EACVnB,EAAU,EACVoB,EAAU,EACVC,EAAS,EACT5rB,EAAI,EACDA,EAAIoa,GAAK,CACd,IAAMyR,EAAO7rB,IAAMoa,EAAM,EACnB/C,EAAc,IAANrX,EACRurB,EAAOtb,EAAK/K,OAAOlF,GACnByqB,EAAYxiB,KAAKyhB,UAAU6B,GAAQxF,KACrC+F,OAAU,GAEZA,EADED,EACWH,EAAUxnB,EAEVwnB,EAAUxnB,EAptBN,GAstBFsnB,GACXC,EAAS3oB,OAAS,GACpBsnB,EAAUpjB,KAAKykB,GAEjBC,EAAU,EAGLrU,IAAOsU,GAAWznB,EA3tBF,GA4tBrB0nB,GAAU,GAFVH,EAAW,IAGFzkB,KAAK,CACZoT,IAAKqQ,EACLxa,KAAMsb,EACN/C,GAAImD,EACJlD,GARF8B,EAAU,IAWRmB,EADEG,EACQ3nB,EAEAA,EAxuBK,IA2uBjBunB,EAASzkB,KAAK,CACZoT,IAAKqQ,EACLxa,KAAMsb,EACN/C,GAAImD,EACJlD,GAAI8B,IAENmB,EAAUI,GAGVvB,GADEsB,EACS3nB,EAEAA,EAtvBM,EAwvBnBlE,GAAK,EAEHyrB,EAAS3oB,OAAS,GACpBsnB,EAAUpjB,KAAKykB,GAEjB,IAuDIrY,EAvDAsX,EAAK/E,EAAK3gB,EACV2lB,EAAKhF,EAAK1gB,EACV8mB,EAAqBpC,EACzB,OAAQC,GACN,KAAKb,GAAM9e,KACTygB,GA1vBQ,EA2vBR,MACF,KAAK3B,GAAMnP,OACT8Q,GAAMriB,EAAQ,EAAIsjB,EAAU,EAC5B,MACF,KAAK5C,GAAMzb,MACTod,GAAMriB,EAAQsjB,EAhwBN,EAowBZ,OAAQhC,GACN,KAAKX,GAAejf,IAClBue,EAAGjI,KAAK,CACNyK,aAAczK,EAAKsJ,gBAErBgB,GAzwBQ,EA0wBRoB,EAAqB/C,GAAejf,IACpC,MACF,KAAKif,GAAepP,OACH,IAAXgS,GACFtD,EAAGjI,KAAK,CACNyK,aAAczK,EAAKsJ,gBAErBgB,GAAMpiB,EAAS,EAAIgiB,EAAU,EAjxBvB,EAkxBNwB,EAAqB/C,GAAepP,SAEpC0O,EAAGjI,KAAK,CACNyK,aAAc9B,GAAejf,MAE/B4gB,GAvxBM,EAwxBNoB,EAAqB/C,GAAejf,KAEtC,MACF,KAAKif,GAAezb,OACH,IAAXqe,GACFtD,EAAGjI,KAAK,CACNyK,aAAc9B,GAAezb,SAE/Bod,GAAMpiB,EAASgiB,EAhyBT,EAiyBNwB,EAAqB/C,GAAezb,SAEpC+a,EAAGjI,KAAK,CACNyK,aAAc9B,GAAejf,MAE/B4gB,GAtyBM,EAuyBNoB,EAAqB/C,GAAejf,KAM1C,OAAQ6f,GACN,KAAKb,GAAM9e,KACX,KAAK8e,GAAMzb,MACT8F,EAAeuY,EAAUznB,EAAO6lB,GAChC,MACF,KAAKhB,GAAMnP,OACX,QACExG,EAAeuY,EAAUznB,EAE7B,IAAM8lB,EAAO,IAAItE,GAAK,CAAEtF,KAAMkI,EAAI3C,SAClCqE,EAAK1T,OACL,IAAK,IAAItW,EAAI,EAAGoa,EAAMgQ,EAAUtnB,OAAQ9C,EAAIoa,EAAKpa,GAAK,EAEpD,IADA,IAAMyrB,EAAWrB,EAAUpqB,GAClBgsB,EAAI,EAAGA,EAAIP,EAAS3oB,OAAQkpB,GAAK,EAAG,CAC3C,IAAM/d,EAAOwd,EAASO,GACtB/d,EAAKua,IAAMkC,EACXzc,EAAKwa,IAAMkC,EACXrC,EAAGhB,SAASrZ,EAAKgC,KAAMhC,EAAKua,GAAIva,EAAKwa,KACjCoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa3V,EAAKua,GAAIva,EAAKwa,GAAIxa,EAAKmM,IAAKwP,EAAOmC,GAE5DjC,GACF7hB,KAAK2b,SAAS,SAAU3V,EAAKua,GAAIva,EAAKwa,GAAIxa,EAAKmM,IAAKwP,EAAOmC,GAKjE,OADA/B,EAAKpU,QACExC,I,6BAGF,IACGkV,EAAargB,KAAbqgB,GAAIjI,EAASpY,KAAToY,KAEZ,OADqBA,EAAbuK,UAEN,KAAK3B,GAAUG,SAQb,OAPAd,EAAGjI,KAAK,CACNwK,UAAWxK,EAAKuJ,MAChBkB,aAAczK,EAAKsJ,cACnBoB,KAAM,GAAF,OAAK1K,EAAK2K,OAAS,SAAW,GAA9B,YAAoC3K,EAAK4K,KAAO,OAAS,GAAzD,YAA+D/E,GAAI7F,EAAKnc,MAAxE,cAAmFmc,EAAK9f,MAC5F2qB,UAAW7K,EAAKjH,MAChBwH,YAAaP,EAAKjH,QAEbnR,KAAKkjB,mBACd,KAAKlC,GAAUE,UAOb,OANAb,EAAGjI,KAAK,CACNwK,UAAWxK,EAAKuJ,MAChBmB,KAAM,GAAF,OAAK1K,EAAK2K,OAAS,SAAW,GAA9B,YAAoC3K,EAAK4K,KAAO,OAAS,GAAzD,YAA+D/E,GAAI7F,EAAKnc,MAAxE,cAAmFmc,EAAK9f,MAC5F2qB,UAAW7K,EAAKjH,MAChBwH,YAAaP,EAAKjH,QAEbnR,KAAKmjB,eACd,KAAKnC,GAAUC,UACf,QAQE,OAPAZ,EAAGjI,KAAK,CACNwK,UAAWxK,EAAKuJ,MAChBkB,aAAczK,EAAKsJ,cACnBoB,KAAM,GAAF,OAAK1K,EAAK2K,OAAS,SAAW,GAA9B,YAAoC3K,EAAK4K,KAAO,OAAS,GAAzD,YAA+D/E,GAAI7F,EAAKnc,MAAxE,cAAmFmc,EAAK9f,MAC5F2qB,UAAW7K,EAAKjH,MAChBwH,YAAaP,EAAKjH,QAEbnR,KAAKojB,sB,kCAINT,GACV3iB,KAAKoY,KAAKuK,SAAWA,M,KAOnBqB,G,WACJ,cAEG,IADDhc,EACC,EADDA,KAAM0V,EACL,EADKA,KAAM2C,EACX,EADWA,GAAIhT,EACf,EADeA,SAAU+K,EACzB,EADyBA,KACzB,WACDpY,KAAKgI,KAAOA,EACZhI,KAAKqgB,GAAKA,EACVrgB,KAAK0d,KAAOA,EACZ1d,KAAKqN,SAAWA,EAChBrN,KAAKoY,KAAOA,E,6CAGJpQ,GAER,OADehI,KAAPqgB,GACExB,YAAY7W,GAAM5H,Q,+BAGrB/F,EAAMkmB,EAAIC,EAAIiB,GAAW,IACxBpB,EAAargB,KAAbqgB,GACApkB,EADa+D,KAAToY,KACJnc,KACFnC,EAAI,CAAC,EAAG,GACR6B,EAAI,CAAC,EAAG,GACD,WAATtB,IACFP,EAAE,GAAKymB,EACP5kB,EAAE,GAAK4kB,EAAKkB,EACZ3nB,EAAE,GAAK0mB,EAAKvkB,EAAO,EACnBN,EAAE,GAAK6kB,EAAKvkB,EAAO,GAER,cAAT5B,IACFP,EAAE,GAAKymB,EACP5kB,EAAE,GAAK4kB,EAAKkB,EACZ3nB,EAAE,GAAK0mB,EAAKvkB,EACZN,EAAE,GAAK6kB,EAAKvkB,GAEdokB,EAAGxH,KAAK/e,EAAG6B,K,yCAGM,IAEfqM,EACEhI,KADFgI,KAAMqY,EACJrgB,KADIqgB,GAAIjI,EACRpY,KADQoY,KAAMsF,EACd1d,KADc0d,KAGhBkE,EACExJ,EADFwJ,UAAWC,EACTzJ,EADSyJ,cAAeF,EACxBvJ,EADwBuJ,MAAOD,EAC/BtJ,EAD+BsJ,cAAezlB,EAC9Cmc,EAD8Cnc,KAE5CkiB,EAAU/F,EAAV+F,MACE/d,EAAkBsd,EAAlBtd,MAAOE,EAAWod,EAAXpd,OACX6d,EAAQ,KACVA,EAAQ,IAENA,GAAS,KACXA,GAAS,IAIX,IAgCIhT,EAhCEsW,EAAYzhB,KAAKyhB,UAAUzZ,GAAQ8V,KACnCmG,EAAgB,IAAIpD,GAAsB,CAAE1C,QAAO/d,MAAOqhB,EAAWnhB,OAAQrE,IAC7EioB,EAAqBD,EAAcE,gBACnCC,EAAsBH,EAAcI,gBAEtCC,EAAM5G,EAAK3gB,EACXwnB,EAAM7G,EAAK1gB,EACf,OAAQ2kB,GACN,KAAKb,GAAM9e,KACTsiB,GAt7BQ,EAu7BR,MACF,KAAKxD,GAAMnP,OACT2S,GAAOlkB,EAAQ,EAAI8jB,EAAqB,EACxC,MACF,KAAKpD,GAAMzb,MACTif,GAAOlkB,EAAQ8jB,EA57BP,EAg8BZ,OAAQxC,GACN,KAAKX,GAAejf,IAClByiB,GAl8BQ,EAm8BR,MACF,KAAKxD,GAAepP,OAClB4S,GAAOjkB,EAAS,EAAI8jB,EAAsB,EAC1C,MACF,KAAKrD,GAAezb,OAClBif,GAAOjkB,EAAS8jB,EAx8BR,EA88BZ,OAAQzC,GACN,KAAKb,GAAMzb,MACX,KAAKyb,GAAM9e,KACTmJ,EAAe+Y,EAAqBpC,GACpC,MACF,KAAKhB,GAAMnP,OACX,QACExG,EAAe+Y,EAEnB,IAaInC,EAbExB,EAAK+D,GAAOJ,EAAqB,EAAIzC,EAAY,GACjDjB,EAAK+D,GAAOH,EAAsB,EAAInoB,EAAO,GAG7CuoB,EAAU,IAAIpE,GAAU,CAC5BC,KACAlC,QACAT,KAAM,IAAI+B,GAAK,CACb1iB,EAAGunB,EAAKtnB,EAAGunB,EAAKnkB,MAAO8jB,EAAoB5jB,OAAQ8jB,MAiCvD,OA1BErC,EAAO,IAAItE,GADC,IAAVU,EACc,CAAEhG,KAAMkI,EAAI3C,QAEZ,CACdvF,KAAMkI,EACN3C,KAAM,IAAI+B,GAAK,CACb1iB,EAAG,EACHC,EAAG0gB,EAAK1gB,EACRoD,MAAO+K,EACP7K,OAAQod,EAAKpd,YAId+N,OACLmW,EAAQ9F,SACR2B,EAAGhB,SAASrX,EAAMuY,EAAIC,IAClBoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa4E,EAAIC,EAAIiB,GAEjCI,GACF7hB,KAAK2b,SAAS,SAAU4E,EAAIC,EAAIiB,GAElC+C,EAAQC,SACR1C,EAAKpU,QACExC,I,yCAGU,IAEfnD,EACEhI,KADFgI,KAAMqY,EACJrgB,KADIqgB,GAAIjI,EACRpY,KADQoY,KAAMsF,EACd1d,KADc0d,KAAMrQ,EACpBrN,KADoBqN,SAGtBuU,EACExJ,EADFwJ,UAAWC,EACTzJ,EADSyJ,cAAeF,EACxBvJ,EADwBuJ,MAAOD,EAC/BtJ,EAD+BsJ,cAAezlB,EAC9Cmc,EAD8Cnc,KAE5CkiB,EAAU/F,EAAV+F,MACE/d,EAAkBsd,EAAlBtd,MAAOE,EAAWod,EAAXpd,OACX6d,EAAQ,KACVA,EAAQ,IAENA,GAAS,KACXA,GAAS,IAIX,IAgCIhT,EAhCEsW,EAAYzhB,KAAKyhB,UAAUzZ,GAAQ8V,KACnCmG,EAAgB,IAAIpD,GAAsB,CAAE1C,QAAO/d,MAAOqhB,EAAWnhB,OAAQrE,IAC7EioB,EAAqBD,EAAcE,gBACnCC,EAAsBH,EAAcI,gBAEtCC,EAAM5G,EAAK3gB,EACXwnB,EAAM7G,EAAK1gB,EACf,OAAQ2kB,GACN,KAAKb,GAAM9e,KACTsiB,GA7hCQ,EA8hCR,MACF,KAAKxD,GAAMnP,OACT2S,GAAOlkB,EAAQ,EAAI8jB,EAAqB,EACxC,MACF,KAAKpD,GAAMzb,MACTif,GAAOlkB,EAAQ8jB,EAniCP,EAuiCZ,OAAQxC,GACN,KAAKX,GAAejf,IAClByiB,GAziCQ,EA0iCR,MACF,KAAKxD,GAAepP,OAClB4S,GAAOjkB,EAAS,EAAI8jB,EAAsB,EAC1C,MACF,KAAKrD,GAAezb,OAClBif,GAAOjkB,EAAS8jB,EA/iCR,EAqjCZ,OAAQzC,GACN,KAAKb,GAAMzb,MACX,KAAKyb,GAAM9e,KACTmJ,EAAe+Y,EAAqBpC,GACpC,MACF,KAAKhB,GAAMnP,OACX,QACExG,EAAe+Y,EAEnB,IAaInC,EAbExB,EAAK+D,GAAOJ,EAAqB,EAAIzC,EAAY,GACjDjB,EAAK+D,GAAOH,EAAsB,EAAInoB,EAAO,GAG7CuoB,EAAU,IAAIpE,GAAU,CAC5BC,KACAlC,QACAT,KAAM,IAAI+B,GAAK,CACb1iB,EAAGunB,EAAKtnB,EAAGunB,EAAKnkB,MAAO8jB,EAAoB5jB,OAAQ8jB,MAmDvD,OA5CErC,EAAO,IAAItE,GADC,IAAVU,EACc,CAAEhG,KAAMkI,EAAI3C,KAAMrQ,GAElB,CACd8K,KAAMkI,EACN3C,KAAM,IAAI+B,GAAK,CACb1iB,EAAG,EACHC,EAAG0gB,EAAK1gB,EACRoD,MAAO+K,EACP7K,OAAQod,EAAKpd,WAKA+M,IACb6W,EAAqB7W,EAASjN,OAASgkB,EAAsB/W,EAAS/M,SAE1EyhB,EAAK1T,OACLmW,EAAQ9F,SACR2B,EAAGhB,SAASrX,EAAMuY,EAAIC,IAClBoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa4E,EAAIC,EAAIiB,GAEjCI,GACF7hB,KAAK2b,SAAS,SAAU4E,EAAIC,EAAIiB,GAElC+C,EAAQC,SACR1C,EAAKpU,UAEL6W,EAAQ9F,SACR2B,EAAGhB,SAASrX,EAAMuY,EAAIC,IAClBoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa4E,EAAIC,EAAIiB,GAEjCI,GACF7hB,KAAK2b,SAAS,SAAU4E,EAAIC,EAAIiB,GAElC+C,EAAQC,UAEHtZ,I,qCAGM,IAEXnD,EACEhI,KADFgI,KAAMqY,EACJrgB,KADIqgB,GAAIjI,EACRpY,KADQoY,KAAMsF,EACd1d,KADc0d,KAGhBkE,EACExJ,EADFwJ,UAAWC,EACTzJ,EADSyJ,cAAeF,EACxBvJ,EADwBuJ,MAAOD,EAC/BtJ,EAD+BsJ,cAAezlB,EAC9Cmc,EAD8Cnc,KAE5CkiB,EAAU/F,EAAV+F,MACFA,EAAQ,KACVA,EAAQ,IAENA,GAAS,KACXA,GAAS,IAZE,IAcL/d,EAAkBsd,EAAlBtd,MAAOE,EAAWod,EAAXpd,OACf,GAAI6d,EAAQ,EAAG,CAEb,IAAM8F,EAAgB,IAAIpD,GAAsB,CAC9C1C,UAKF8F,EAAcS,UAAUpkB,EAASwhB,IACjC,IAAM6C,EAAsBV,EAAcW,iBAG1CX,EAAcS,UAAUzoB,EAzpCJ,GAqqCpB,IAXA,IAAM4oB,EAAaZ,EAAcW,iBAI3BzC,EAAY,GACZC,EAAW,CACfjQ,IAAK,EACLkQ,MAAO,GAEHlQ,EAAMnK,EAAKnN,OACb9C,EAAI,EACDA,EAAIoa,GAAK,CACd,IAAMqQ,EAAYxiB,KAAKyhB,UAAUzZ,EAAK/K,OAAOlF,IAAM+lB,KAC7C2D,EAAYW,EAASjQ,IAAMqQ,EAC7Bf,EAAYkD,GACO,IAAjBvC,EAASjQ,KACXgQ,EAAUpjB,KAAK,CACbiJ,KAAMA,EAAKuK,UAAUxa,EAAGA,EAAI,GAC5Boa,IAAKsP,EACLlB,GAAI,EACJC,GAAI,IAENzoB,GAAK,GAELoqB,EAAUpjB,KAAK,CACbiJ,KAAMA,EAAKuK,UAAU6P,EAASC,MAAOtqB,GACrCoa,IAAKiQ,EAASjQ,IACdoO,GAAI,EACJC,GAAI,IAGR4B,EAASjQ,IAAM,EACfiQ,EAASC,MAAQtqB,IAEjBqqB,EAASjQ,IAAMsP,EACf1pB,GAAK,GAGLqqB,EAASjQ,IAAM,GACjBgQ,EAAUpjB,KAAK,CACbiJ,KAAMA,EAAKuK,UAAU6P,EAASC,OAC9BlQ,IAAKiQ,EAASjQ,IACdoO,GAAI,EACJC,GAAI,IAQR,IALA,IAAMsE,EAAe3C,EAAUtnB,OAI3B6oB,EAAU,EACL3rB,EAAI,EAAGA,EAAI+sB,EAAc/sB,GAAK,EAAG,CAC3BoqB,EAAUpqB,GAClBwoB,GAAKmD,EACVA,GAAWmB,EAMb,GAAIC,EAAe,EAAG,CAGpBb,EAAcvU,SAASiV,GACvB,IAiCIxZ,EAjCEsW,EAAYwC,EAAcE,gBAC1BN,EAAaI,EAAcI,gBAG3BU,EAAatD,GAAcU,EAAUtnB,OAAS,GAAKgqB,EAGrDpC,EAAK/E,EAAK3gB,EACV2lB,EAAKhF,EAAK1gB,EACd,OAAQ2kB,GACN,KAAKb,GAAM9e,KACTygB,GAnuCI,EAouCJ,MACF,KAAK3B,GAAMnP,OACT8Q,GAAMriB,EAAQ,EAAI2kB,EAAa,EAC/B,MACF,KAAKjE,GAAMzb,MACTod,GAAMriB,EAAQ2kB,EAzuCV,EA6uCR,OAAQrD,GACN,KAAKX,GAAejf,IAClB4gB,GA/uCI,EAgvCJ,MACF,KAAK3B,GAAepP,OAClB+Q,GAAMpiB,EAAS,EAAIujB,EAAa,EAChC,MACF,KAAK9C,GAAezb,OAClBod,GAAMpiB,EAASujB,EArvCX,EA0vCR,OAAQlC,GACN,KAAKb,GAAMzb,MACX,KAAKyb,GAAM9e,KACTmJ,EAAe4Z,EAAajD,GAC5B,MACF,KAAKhB,GAAMnP,OACX,QACExG,EAAe4Z,EAEnB,IAAK,IAAIhtB,EAAI,EAAGA,EAAIoqB,EAAUtnB,OAAQ9C,GAAK,EAAG,CAK5C,IAAMiO,EAAOmc,EAAUpqB,GAEjBitB,EAAKhf,EAAKua,GAAKkC,EACfwC,EAAKjf,EAAKwa,GAAKkC,EACjBwC,EAAK,EACLC,EAAK,EACT,OAAQxD,GACN,KAAKb,GAAM9e,KACTiiB,EAAcvU,SAAS1J,EAAKmM,IAAM,GAGlC+S,GAAMF,EAFKf,EAAcE,gBAGzBgB,GAAMF,EAAKpB,EAFAI,EAAcI,gBAGzB,MAEF,KAAKvD,GAAMnP,OACTuT,EAAKF,EAAKvD,EAAY,EACtB0D,EAAKF,EAAKpB,EAAa,EACvB,MAEF,KAAK/C,GAAMzb,MACT4e,EAAcvU,SAAS1J,EAAKmM,IAAM,GAGlC+S,GAAMF,EAAKvD,EAFAwC,EAAcE,gBAGzBgB,GAAMF,EAFKhB,EAAcI,gBAO7B,IAAM9D,EAAK2E,EAAKlf,EAAKmM,IAAM,EACrBqO,EAAK2E,EAAKlpB,EAAO,GAIZ,IAAPlE,IACFsoB,EAAGjI,KAAK,CAAE6K,UAAW,YACrB5C,EAAGjB,SAAS4F,EAAIC,EAAIxD,EAAWoC,GAC/BxD,EAAGjI,KAAK,CAAE6K,UAAW,SAEvB,IAAMuB,EAAU,IAAIpE,GAAU,CAC5BC,KACAlC,QACAT,KAAM,IAAI+B,GAAK,CACb1iB,EAAGwjB,EAAIvjB,EAAGwjB,EAAIpgB,MAAO4F,EAAKmM,IAAK7R,OAAQrE,MAG3CuoB,EAAQ9F,SACR2B,EAAGhB,SAASrZ,EAAKgC,KAAMuY,EAAIC,IACvBoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa4E,EAAIC,EAAIxa,EAAKmM,KAEtC0P,GACF7hB,KAAK2b,SAAS,SAAU4E,EAAIC,EAAIxa,EAAKmM,KAEvCqS,EAAQC,SAEV,OAAOtZ,EAKT,IAAMsW,EAAYzhB,KAAKyhB,UAAUzZ,GAAQ8V,KACzCmG,EAAcvU,SAAS+R,GACvB,IAgCItW,EAhCE+Y,EAAqBD,EAAcE,gBACnCC,EAAsBH,EAAcI,gBAKtCC,EAAM5G,EAAK3gB,EACXwnB,EAAM7G,EAAK1gB,EACf,OAAQ2kB,GACN,KAAKb,GAAM9e,KACTsiB,GAr1CM,EAs1CN,MACF,KAAKxD,GAAMnP,OACT2S,GAAOlkB,EAAQ,EAAI8jB,EAAqB,EACxC,MACF,KAAKpD,GAAMzb,MACTif,GAAOlkB,EAAQ8jB,EA31CT,EA+1CV,OAAQxC,GACN,KAAKX,GAAejf,IAClByiB,GAj2CM,EAk2CN,MACF,KAAKxD,GAAepP,OAClB4S,GAAOjkB,EAAS,EAAI8jB,EAAsB,EAC1C,MACF,KAAKrD,GAAezb,OAClBif,GAAOjkB,EAAS8jB,EAv2CV,EA42CV,OAAQzC,GACN,KAAKb,GAAMzb,MACX,KAAKyb,GAAM9e,KACTmJ,EAAe+Y,EAAqBpC,GACpC,MACF,KAAKhB,GAAMnP,OACX,QACExG,EAAe+Y,EAKnB,IAAMM,EAAU,IAAIpE,GAAU,CAC5BC,KACAlC,QACAT,KAAM,IAAI+B,GAAK,CACb1iB,EAAGunB,EAAKtnB,EAAGunB,EAAKnkB,MAAO8jB,EAAoB5jB,OAAQ8jB,MAGvDI,EAAQ9F,SACR,IAAM6B,EAAK+D,GAAOJ,EAAqB,EAAIzC,EAAY,GACjDjB,EAAK+D,GAAOH,EAAsB,EAAInoB,EAAO,GAYnD,OAXAokB,EAAGhB,SAASrX,EAAMuY,EAAIC,IAClBoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa4E,EAAIC,EAAIiB,GAEjCI,GACF7hB,KAAK2b,SAAS,SAAU4E,EAAIC,EAAIiB,GAElC+C,EAAQC,SACDtZ,EAET,GAAIgT,EAAQ,EAAG,CAEb,IAAM8F,EAAgB,IAAIpD,GAAsB,CAC9C1C,UAKF8F,EAAcS,UAAUpkB,EAASwhB,IACjC,IAAM6C,EAAsBV,EAAcW,iBAG1CX,EAAcS,UAAUzoB,EA75CJ,GAw6CpB,IAVA,IAAM4oB,EAAaZ,EAAcW,iBAG3BzC,EAAY,GACZC,EAAW,CACfjQ,IAAK,EACLkQ,MAAO,GAEHlQ,EAAMnK,EAAKnN,OACb9C,GAAI,EACDA,GAAIoa,GAAK,CACd,IAAMqQ,GAAYxiB,KAAKyhB,UAAUzZ,EAAK/K,OAAOlF,KAAM+lB,KAC7C2D,GAAYW,EAASjQ,IAAMqQ,GAC7Bf,GAAYkD,GACO,IAAjBvC,EAASjQ,KACXgQ,EAAUpjB,KAAK,CACbiJ,KAAMA,EAAKuK,UAAUxa,GAAGA,GAAI,GAC5Boa,IAAKsP,GACLlB,GAAI,EACJC,GAAI,IAENzoB,IAAK,GAELoqB,EAAUpjB,KAAK,CACbiJ,KAAMA,EAAKuK,UAAU6P,EAASC,MAAOtqB,IACrCoa,IAAKiQ,EAASjQ,IACdoO,GAAI,EACJC,GAAI,IAGR4B,EAASjQ,IAAM,EACfiQ,EAASC,MAAQtqB,KAEjBqqB,EAASjQ,IAAMsP,GACf1pB,IAAK,GAGLqqB,EAASjQ,IAAM,GACjBgQ,EAAUpjB,KAAK,CACbiJ,KAAMA,EAAKuK,UAAU6P,EAASC,OAC9BlQ,IAAKiQ,EAASjQ,IACdoO,GAAI,EACJC,GAAI,IAQR,IALA,IAAMsE,GAAe3C,EAAUtnB,OAI3B6oB,GAAU,EACL3rB,GAAI+sB,GAAe,EAAG/sB,IAAK,EAAGA,IAAK,EAAG,CAChCoqB,EAAUpqB,IAClBwoB,GAAKmD,GACVA,IAAWmB,EAMb,GAAIC,GAAe,EAAG,CAGpBb,EAAcvU,SAASiV,GACvB,IA+BIxZ,GA/BEsW,GAAYwC,EAAcE,gBAC1BN,GAAaI,EAAcI,gBAG3BU,GAAatD,IAAcU,EAAUtnB,OAAS,GAAKgqB,EACrDpC,GAAK/E,EAAK3gB,EACV2lB,GAAKhF,EAAK1gB,EACd,OAAQ2kB,GACN,KAAKb,GAAM9e,KACTygB,IAp+CI,EAq+CJ,MACF,KAAK3B,GAAMnP,OACT8Q,IAAMriB,EAAQ,EAAI2kB,GAAa,EAC/B,MACF,KAAKjE,GAAMzb,MACTod,IAAMriB,EAAQ2kB,GA1+CV,EA8+CR,OAAQrD,GACN,KAAKX,GAAejf,IAClB4gB,IAh/CI,EAi/CJ,MACF,KAAK3B,GAAepP,OAClB+Q,IAAMpiB,EAAS,EAAIujB,GAAa,EAChC,MACF,KAAK9C,GAAezb,OAClBod,IAAMpiB,EAASujB,GAt/CX,EA2/CR,OAAQlC,GACN,KAAKb,GAAMzb,MACX,KAAKyb,GAAM9e,KACTmJ,GAAe4Z,GAAajD,GAC5B,MACF,KAAKhB,GAAMnP,OACX,QACExG,GAAe4Z,GAEnB,IAAK,IAAIhtB,GAAI,EAAGA,GAAIoqB,EAAUtnB,OAAQ9C,IAAK,EAAG,CAK5C,IAAMiO,GAAOmc,EAAUpqB,IACjBitB,GAAKhf,GAAKua,GAAKkC,GACfwC,GAAKjf,GAAKwa,GAAKkC,GACjBwC,GAAK,EACLC,GAAK,EACT,OAAQxD,GACN,KAAKb,GAAM9e,KACTiiB,EAAcvU,SAAS1J,GAAKmM,IAAM,GAGlC+S,IAAMF,GAFKf,EAAcE,gBAGzBgB,IAAMF,GAFKhB,EAAcI,gBAGzB,MAEF,KAAKvD,GAAMnP,OACTuT,GAAKF,GAAKvD,GAAY,EACtB0D,GAAKF,GAAKpB,GAAa,EACvB,MAEF,KAAK/C,GAAMzb,MACT4e,EAAcvU,SAAS1J,GAAKmM,IAAM,GAGlC+S,IAAMF,GAAKvD,GAFAwC,EAAcE,gBAGzBgB,IAAMF,GAAKpB,GAFAI,EAAcI,gBAO7B,IAAM9D,GAAK2E,GAAKlf,GAAKmM,IAAM,EACrBqO,GAAK2E,GAAKlpB,EAAO,GACZ,IAAPlE,KACFsoB,EAAGjI,KAAK,CAAE6K,UAAW,YACrB5C,EAAGjB,SAAS4F,GAAIC,GAAIxD,GAAWoC,IAC/BxD,EAAGjI,KAAK,CAAE6K,UAAW,SAKvB,IAAMuB,GAAU,IAAIpE,GAAU,CAC5BC,KACAlC,QACAT,KAAM,IAAI+B,GAAK,CACb1iB,EAAGwjB,GAAIvjB,EAAGwjB,GAAIpgB,MAAO4F,GAAKmM,IAAK7R,OAAQrE,MAG3CuoB,GAAQ9F,SACR2B,EAAGhB,SAASrZ,GAAKgC,KAAMuY,GAAIC,KACvBoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa4E,GAAIC,GAAIxa,GAAKmM,KAEtC0P,GACF7hB,KAAK2b,SAAS,SAAU4E,GAAIC,GAAIxa,GAAKmM,KAEvCqS,GAAQC,SAEV,OAAOtZ,GAKT,IAAMsW,GAAYzhB,KAAKyhB,UAAUzZ,GAAQ8V,KACzCmG,EAAcvU,SAAS+R,IACvB,IAgCItW,GAhCE+Y,GAAqBD,EAAcE,gBACnCC,GAAsBH,EAAcI,gBAKtCC,GAAM5G,EAAK3gB,EACXwnB,GAAM7G,EAAK1gB,EACf,OAAQ2kB,GACN,KAAKb,GAAM9e,KACTsiB,IArlDM,EAslDN,MACF,KAAKxD,GAAMnP,OACT2S,IAAOlkB,EAAQ,EAAI8jB,GAAqB,EACxC,MACF,KAAKpD,GAAMzb,MACTif,IAAOlkB,EAAQ8jB,GA3lDT,EA+lDV,OAAQxC,GACN,KAAKX,GAAejf,IAClByiB,IAjmDM,EAkmDN,MACF,KAAKxD,GAAepP,OAClB4S,IAAOjkB,EAAS,EAAI8jB,GAAsB,EAC1C,MACF,KAAKrD,GAAezb,OAClBif,IAAOjkB,EAAS8jB,GAvmDV,EA4mDV,OAAQzC,GACN,KAAKb,GAAMzb,MACX,KAAKyb,GAAM9e,KACTmJ,GAAe+Y,GAAqBpC,GACpC,MACF,KAAKhB,GAAMnP,OACX,QACExG,GAAe+Y,GAKnB,IAAMM,GAAU,IAAIpE,GAAU,CAC5BC,KACAlC,QACAT,KAAM,IAAI+B,GAAK,CACb1iB,EAAGunB,GAAKtnB,EAAGunB,GAAKnkB,MAAO8jB,GAAoB5jB,OAAQ8jB,OAGvDI,GAAQ9F,SACR,IAAM6B,GAAK+D,IAAOJ,GAAqB,EAAIzC,GAAY,GACjDjB,GAAK+D,IAAOH,GAAsB,EAAInoB,EAAO,GAYnD,OAXAokB,EAAGhB,SAASrX,EAAMuY,GAAIC,KAClBoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa4E,GAAIC,GAAIiB,IAEjCI,GACF7hB,KAAK2b,SAAS,SAAU4E,GAAIC,GAAIiB,IAElC+C,GAAQC,SACDtZ,GAET,GAAc,IAAVgT,EAAa,CAYf,IAXA,IAAM+D,GAAe9hB,EAAQ0hB,GACvBK,GAAY,GACZC,GAAW,CACfjQ,IAAK,EACLkQ,MAAO,GAEHlQ,GAAMnK,EAAKnN,OAGb9C,GAAI,EACJwqB,GAAS,EACNxqB,GAAIoa,IAAK,CACd,IAAMqQ,GAAYxiB,KAAKyhB,UAAUzZ,EAAK/K,OAAOlF,KAAM+lB,KAC7C2D,GAAYW,GAASjQ,IAAMqQ,GAC7Bf,GAAYS,IACO,IAAjBE,GAASjQ,KACXgQ,GAAUpjB,KAAK,CACbiJ,KAAMA,EAAKuK,UAAUxa,GAAGA,GAAI,GAC5Boa,IAAKsP,GACLlB,GAAI,EACJC,GAAI,IAENzoB,IAAK,EACD0pB,GAAYc,KACdA,GAASd,MAGXU,GAAUpjB,KAAK,CACbiJ,KAAMA,EAAKuK,UAAU6P,GAASC,MAAOtqB,IACrCoa,IAAKiQ,GAASjQ,IACdoO,GAAI,EACJC,GAAI,IAEF4B,GAASjQ,IAAMoQ,KACjBA,GAASH,GAASjQ,MAGtBiQ,GAASjQ,IAAM,EACfiQ,GAASC,MAAQtqB,KAEjBqqB,GAASjQ,IAAMsP,GACf1pB,IAAK,GAGLqqB,GAASjQ,IAAM,IACjBgQ,GAAUpjB,KAAK,CACbiJ,KAAMA,EAAKuK,UAAU6P,GAASC,OAC9BlQ,IAAKiQ,GAASjQ,IACdoO,GAAI,EACJC,GAAI,IAEF4B,GAASjQ,IAAMoQ,KACjBA,GAASH,GAASjQ,MAOtB,IAJA,IAAM2S,GAAe3C,GAAUtnB,OAG3BynB,GAAU,EACLvqB,GAAI,EAAGA,GAAI+sB,GAAc/sB,IAAK,EAAG,CAC3BoqB,GAAUpqB,IAClByoB,GAAK8B,GACVA,IAAWrmB,EAltDY,EAotDzB,IAEIkP,GAFEia,GAAkBN,IAAgB7oB,EAptDf,GAutDzB,OAAQ0lB,GACN,KAAKb,GAAMzb,MACX,KAAKyb,GAAM9e,KACTmJ,GAAeoX,GAAST,GACxB,MACF,KAAKhB,GAAMnP,OACX,QACExG,GAAeoX,GAGnB,IAAMR,GAAO,IAAItE,GAAK,CAAEtF,KAAMkI,EAAI3C,SAClCqE,GAAK1T,OACL,IAAK,IAAItW,GAAI,EAAGA,GAAI+sB,GAAc/sB,IAAK,EAAG,CACxC,IAAMiO,GAAOmc,GAAUpqB,IACnBwoB,GAAK7C,EAAK3gB,EACVyjB,GAAK9C,EAAK1gB,EACd,OAAQ2kB,GACN,KAAKb,GAAM9e,KACTue,IAruDI,EAsuDJ,MACF,KAAKO,GAAMnP,OACT4O,IAAMngB,EAAQ,EAAI4F,GAAKmM,IAAM,EAC7B,MACF,KAAK2O,GAAMzb,MACTkb,IAAMngB,EAAQ4F,GAAKmM,IA3uDf,EA+uDR,OAAQuP,GACN,KAAKX,GAAejf,IAClB0e,IAAMxa,GAAKwa,GAjvDP,EAkvDJ,MACF,KAAKO,GAAepP,OAClB6O,IAAMxa,GAAKwa,IAAMlgB,EAAS,EAAI8kB,GAAkB,GAChD,MACF,KAAKrE,GAAezb,OAClBkb,IAAMxa,GAAKwa,IAAMlgB,EAAS8kB,GAvvDtB,GA2vDR/E,EAAGhB,SAASrZ,GAAKgC,KAAMuY,GAAIC,KACvBoB,GAAaC,IACfxB,EAAG5H,YAEDmJ,GACF5hB,KAAK2b,SAAS,YAAa4E,GAAIC,GAAIxa,GAAKmM,KAEtC0P,GACF7hB,KAAK2b,SAAS,SAAU4E,GAAIC,GAAIxa,GAAKmM,KAIzC,OADA4P,GAAKpU,QACExC,GAET,OAAO,I,6BAGF,IACGkV,EAAargB,KAAbqgB,GAAIjI,EAASpY,KAAToY,KACJuK,EAAavK,EAAbuK,SAQR,OAPAtC,EAAGjI,KAAK,CACNwK,UAAW9B,GAAM9e,KACjB6gB,aAAc9B,GAAejf,IAC7BghB,KAAM,GAAF,OAAK1K,EAAK2K,OAAS,SAAW,GAA9B,YAAoC3K,EAAK4K,KAAO,OAAS,GAAzD,YAA+D/E,GAAI7F,EAAKnc,MAAxE,cAAmFmc,EAAK9f,MAC5F2qB,UAAW7K,EAAKjH,MAChBwH,YAAaP,EAAKjH,QAEZwR,GACN,KAAK3B,GAAUG,SACb,OAAOnhB,KAAKkjB,mBACd,KAAKlC,GAAUE,UACb,OAAOlhB,KAAKmjB,eACd,KAAKnC,GAAUC,UACf,QACE,OAAOjhB,KAAKojB,wB,KAQdpT,G,WACJ,cAEG,IADDhI,EACC,EADDA,KAAM0V,EACL,EADKA,KAAM2C,EACX,EADWA,GAAIhT,EACf,EADeA,SAAU+K,EACzB,EADyBA,KACzB,WACDpY,KAAKoY,KAAOje,EAAMkB,UAAU,GAAI,CAC9B/C,KAAM,QACN2D,KAAMgiB,GAAI,IACV9M,MAAO,UACP6R,MAAM,EACND,QAAQ,EACRJ,UAAU,EACVf,WAAW,EACXC,eAAe,EACfF,MAAOb,GAAM9e,KACb0f,cAAeX,GAAepP,OAC9B0T,UAAWjE,GAAeC,WAC1BlD,MAAO,GACN/F,GACHpY,KAAKslB,iBAAmB,IAAIjC,GAAiB,CAC3Crb,OAAM0V,OAAM2C,KAAIhT,WAAU+K,KAAMpY,KAAKoY,OAEvCpY,KAAKulB,mBAAqB,IAAI/D,GAAmB,CAC/CxZ,OAAM0V,OAAM2C,KAAIhT,WAAU+K,KAAMpY,KAAKoY,OAEvCpY,KAAKwlB,cAAgB,IAAIxB,GAAc,CACrChc,OAAM0V,OAAM2C,KAAIhT,WAAU+K,KAAMpY,KAAKoY,O,0CAMvC,OADiBpY,KAAToY,KACKiN,WACX,KAAKjE,GAAeE,SAClB,OAAOthB,KAAKslB,iBAAiBnN,OAC/B,KAAKiJ,GAAeG,MAClB,OAAOvhB,KAAKwlB,cAAcrN,OAC5B,KAAKiJ,GAAeC,WACpB,QACE,OAAOrhB,KAAKulB,mBAAmBpN,U,kCAIzBwK,GAEV,OADiB3iB,KAAToY,KACKiN,WACX,KAAKjE,GAAeE,SAClBthB,KAAKslB,iBAAiBG,YAAY9C,GAClC,MACF,KAAKvB,GAAeC,WACpB,QACErhB,KAAKulB,mBAAmBE,YAAY9C,Q,kpBC11DtC+C,G,YACJ,aAA0B,MAAd9e,EAAc,uDAAJ,I,4FAAI,UACxB,oCAAS7M,EAAT,iCAAmDI,EAAMkB,UAAU,CACjE0T,SAAU,cACTnI,MACE+e,gBAAkB,IAAItI,GAC3B,EAAKuI,gBAAkB,IAAItI,GAC3B,EAAKuI,gBAAkB,IAAItI,GAC3B,IAAMf,EAAOrW,EAAE,MAAD,UAAWpM,EAAX,iDAPU,OAQxByiB,EAAKxZ,SAAS,EAAK2iB,iBACnBnJ,EAAKxZ,SAAS,EAAK4iB,iBACnBpJ,EAAKxZ,SAAS,EAAK6iB,iBACnB,EAAKC,gBAAkB,IAAItI,GAC3B,EAAKsI,gBAAgB/hB,YAAY,SACjC,EAAK+hB,gBAAgB9iB,SAASwZ,GAC9B,EAAKrN,QAAQ,EAAK2W,iBAElB/b,GAAUxQ,KAAK,EAAKosB,gBAAiBvd,GAASC,kBAAkBG,YAAY,SAAC7M,GAC3E,EAAKiL,QAAQmI,SAAS+R,GAAM9e,MAC5BrG,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAKqsB,gBAAiBxd,GAASC,kBAAkBG,YAAY,SAAC7M,GAC3E,EAAKiL,QAAQmI,SAAS+R,GAAMnP,QAC5BhW,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAKssB,gBAAiBzd,GAASC,kBAAkBG,YAAY,SAAC7M,GAC3E,EAAKiL,QAAQmI,SAAS+R,GAAMzb,OAC5B1J,EAAEiG,kBACFjG,EAAEiQ,oBA7BoB,E,mPADQsC,I,wkBCL9B6X,G,YACJ,aAA0B,M,IAAdnf,EAAc,uDAAJ,GAAI,O,4FAAA,S,EACxB,U,EAAA,0BAAS7M,EAAT,8B,gDACK6M,QAAUzM,EAAMkB,UAAU,CAAEoU,YAAa,IAAM7I,GACpD,EAAKU,KAAO,IAAIJ,EAAK,cACrB,EAAKmP,QAAQ,EAAK/O,MAClB,EAAK0e,sBAAwB,IAAIN,GAAsBvrB,EAAMqV,SAAS,CACpEzO,GAAI,MACJmE,SAAUuH,GAAkBG,QAC3B,EAAKhG,QAAQ6I,cARQ,E,mPADE5H,I,6oBCJxBoe,G,YACJ,aAAc,O,4FAAA,2CACHlsB,EADG,sC,mPADsBuU,I,6oBCChC4X,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASnsB,EAAT,2BACKuN,KAAO,IAAIJ,EAAK,aACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADYF,I,6oBCAtB+e,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASpsB,EAAT,2BACKuN,KAAO,IAAIJ,EAAK,gBACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADYF,I,6oBCAtBgf,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASrsB,EAAT,2BACKuN,KAAO,IAAIJ,EAAK,gBACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADYF,I,6oBCQtBif,G,YACJ,aAA0B,MAAdzf,EAAc,uDAAJ,I,4FAAI,UACxB,oCAAS7M,EAAT,+BAAiDI,EAAMkB,UAAU,CAC/D0T,SAAU,cACTnI,MACE0f,cAAgB,IAAIJ,GACzB,EAAKK,cAAgB,IAAIJ,GACzB,EAAKK,cAAgB,IAAIJ,GACzB,IAAM5J,EAAOrW,EAAE,MAAD,UAAWpM,EAAX,+CAPU,OAQxByiB,EAAKxZ,SAAS,EAAKsjB,eACnB9J,EAAKxZ,SAAS,EAAKujB,eACnB/J,EAAKxZ,SAAS,EAAKwjB,eACnB,EAAKC,cAAgB,IAAIR,GACzB,EAAKQ,cAAc1iB,YAAY,SAC/B,EAAK0iB,cAAczjB,SAASwZ,GAC5B,EAAKrN,QAAQ,EAAKsX,eAElB1c,GAAUxQ,KAAK,EAAK+sB,cAAele,GAASC,kBAAkBG,YAAY,SAAC7M,GACzE,EAAKiL,QAAQmI,SAASgS,GAAejf,KACrCnG,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAKgtB,cAAene,GAASC,kBAAkBG,YAAY,SAAC7M,GACzE,EAAKiL,QAAQmI,SAASgS,GAAepP,QACrChW,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAKitB,cAAepe,GAASC,kBAAkBG,YAAY,SAAC7M,GACzE,EAAKiL,QAAQmI,SAASgS,GAAezb,QACrC3J,EAAEiG,kBACFjG,EAAEiQ,oBA7BoB,E,mPADMsC,I,wkBCL5BwY,G,YACJ,aAA0B,M,IAAd9f,EAAc,uDAAJ,GAAI,O,4FAAA,S,EACxB,U,EAAA,0BAAS7M,EAAT,4B,gDACK6M,QAAUzM,EAAMkB,UAAU,CAAEoU,YAAa,IAAM7I,GACpD,EAAKU,KAAO,IAAIJ,EAAK,gBACrB,EAAKmP,QAAQ,EAAK/O,MAClB,EAAKqf,oBAAsB,IAAIN,GAAoBlsB,EAAMqV,SAAS,CAChEzO,GAAI,MACJmE,SAAUuH,GAAkBG,QAC3B,EAAKhG,QAAQ6I,cARQ,E,mPADA5H,I,6oBCHtB+e,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAS7sB,EAAT,4BACKuN,KAAO,IAAIJ,EAAK,YACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADgBF,I,6oBCA1Byf,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAS9sB,EAAT,4BACKuN,KAAO,IAAIJ,EAAK,YACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADgBF,I,6oBCA1B0f,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAS/sB,EAAT,4BACKuN,KAAO,IAAIJ,EAAK,QACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADgBF,I,6oBCD1B2f,G,YACJ,aAAc,O,4FAAA,2CACHhtB,EADG,sC,mPAD0BuU,I,6oBCSpC0Y,G,YACJ,aAA0B,MAAdpgB,EAAc,uDAAJ,I,4FAAI,UACxB,oCAAS7M,EAAT,+BAAiDI,EAAMkB,UAAU,CAC/D0T,SAAU,cACTnI,MACEqgB,kBAAoB,IAAIL,GAC7B,EAAKM,kBAAoB,IAAIL,GAC7B,EAAKM,kBAAoB,IAAIL,GAC7B,IAAMtK,EAAOrW,EAAE,MAAD,UAAWpM,EAAX,+CAPU,OAQxByiB,EAAKxZ,SAAS,EAAKikB,mBACnBzK,EAAKxZ,SAAS,EAAKkkB,mBACnB1K,EAAKxZ,SAAS,EAAKmkB,mBACnB,EAAKC,kBAAoB,IAAIL,GAC7B,EAAKK,kBAAkBrjB,YAAY,SACnC,EAAKqjB,kBAAkBpkB,SAASwZ,GAChC,EAAKrN,QAAQ,EAAKiY,mBAElBrd,GAAUxQ,KAAK,EAAK0tB,kBAAmB7e,GAASC,kBAAkBG,YAAY,SAAC7M,GAC7E,EAAKiL,QAAQmI,SAASiS,GAAUG,UAChCxlB,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAK2tB,kBAAmB9e,GAASC,kBAAkBG,YAAY,SAAC7M,GAC7E,EAAKiL,QAAQmI,SAASiS,GAAUC,WAChCtlB,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK,EAAK4tB,kBAAmB/e,GAASC,kBAAkBG,YAAY,SAAC7M,GAC7E,EAAKiL,QAAQmI,SAASiS,GAAUE,WAChCvlB,EAAEiG,kBACFjG,EAAEiQ,oBA7BoB,E,mPADUsC,I,wkBCLhCmZ,G,YACJ,aAA0B,M,IAAdzgB,EAAc,uDAAJ,GAAI,O,4FAAA,S,EACxB,U,EAAA,0BAAS7M,EAAT,2B,gDACK6M,QAAUzM,EAAMkB,UAAU,CAAEoU,YAAa,IAAM7I,GACpD,EAAKU,KAAO,IAAIJ,EAAK,aACrB,EAAKmP,QAAQ,EAAK/O,MAClB,EAAKggB,wBAA0B,IAAIN,GAAwB7sB,EAAMqV,SAAS,CACxEzO,GAAI,MACJmE,SAAUuH,GAAkBG,QAC3B,EAAKhG,QAAQ6I,cARQ,E,mPADD5H,I,6oBCHrB0f,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASxtB,EAAT,mBACKuN,KAAO,IAAIJ,EAAK,UACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADIF,I,6oBCAdogB,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASztB,EAAT,oBACKuN,KAAO,IAAIJ,EAAK,UACrB,EAAKlE,SAAS,EAAKsE,MAHP,E,mPADKF,I,6oBCAfqgB,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAS1tB,EAAT,oBACKuN,KAAO,IAAIJ,EAAK,aACrB,EAAKmP,QAAQ,EAAK/O,MAHN,E,mPADQO,I,yoBCCxB,IAAM6f,GAAM,mBAAH,OACO3tB,EADP,6GAEUA,EAFV,uFAGUA,EAHV,wFAIUA,EAJV,gGAKUA,EALV,iFASH4tB,G,YACJ,WAAY/gB,GAAS,a,4FAAA,UACnB,oCAAS7M,EAAT,kBACK6M,QAAUzM,EAAMkB,UAAU,GAAIuL,GACnC,EAAKkK,KAAO3K,EAAE,MAAD,UAAWpM,EAAX,qBACb,EAAKkO,KAAKyf,IACV,EAAK1kB,SAAS,EAAK8N,MACnB,EAAKhP,IAAM,EAAK8lB,KAAL,WAAc7tB,EAAd,4BACX,EAAKiI,KAAO,EAAK4lB,KAAL,WAAc7tB,EAAd,6BACZ,EAAKuL,OAAS,EAAKsiB,KAAL,WAAc7tB,EAAd,+BACd,EAAKsL,MAAQ,EAAKuiB,KAAL,WAAc7tB,EAAd,8BACb,EAAK8K,OAVc,E,mPADCuB,G,2KCdlByhB,G,WACJ,WAAYC,I,4FAAQ,SAClB9nB,KAAK8nB,OAASA,EACd9nB,KAAK+nB,GAAK,KACV/nB,KAAK/G,EAAI,KACT+G,KAAKhI,EAAI,KACTgI,KAAKgoB,GAAK,K,uDAIV,OAAOhoB,KAAK+nB,K,6BAIZ,OAAO/nB,KAAK/G,I,6BAIZ,OAAO+G,KAAKhI,I,8BAIZ,OAAOgI,KAAKgoB,Q,osBCpBVC,G,WAWJ,WAAYC,EAAKC,EAAKC,EAAKC,GAAmB,IAAdlJ,EAAc,uDAAV,EAAGhZ,EAAO,uDAAH,G,4FAAG,SAC5CnG,KAAKkoB,IAAMA,EACXloB,KAAKmoB,IAAMA,EACXnoB,KAAKooB,IAAMA,EACXpoB,KAAKqoB,IAAMA,EACXroB,KAAKmf,EAAIA,EACTnf,KAAKmG,EAAIA,E,sDAoRImiB,GACb,IAAMC,EAAOD,EAAIlnB,MAAM,KADL,KAECjH,EAAMmD,QAAQirB,EAAK,IAFpB,GAEXJ,EAFW,KAEND,EAFM,KAGbE,EAAaF,EAARG,EAAaF,EACvB,GAAII,EAAK1tB,OAAS,EAAG,UACNV,EAAMmD,QAAQirB,EAAK,IADb,GAClBF,EADkB,KACbD,EADa,KAGrB,OAAO,IAAIH,EAAUC,EAAKC,EAAKC,EAAKC,O,6BAjRlCH,EAAKC,EAAKC,EAAKC,GACjBroB,KAAKkoB,IAAMA,EACXloB,KAAKmoB,IAAMA,EACXnoB,KAAKooB,IAAMA,EACXpoB,KAAKqoB,IAAMA,I,iCAQX,OAAOroB,KAAKooB,IAAMpoB,KAAKkoB,IAAM,GAAKloB,KAAKqoB,IAAMroB,KAAKmoB,IAAM,I,iCASxC,QACXK,EAAW,EAAPC,EAAU,EADH,mBAANhmB,EAAM,yBAANA,EAAM,gBAEhB,GAAoB,IAAhBA,EAAK5H,OAAc,OACVV,EAAMmD,QAAQmF,EAAK,IADT,UACpBgmB,EADoB,KAChBD,EADgB,UAEI,IAAhB/lB,EAAK5H,SACb2tB,EAAU/lB,EADiB,GACvBgmB,EAAMhmB,EADiB,IAJd,IAQdylB,EACEloB,KADFkoB,IAAKC,EACHnoB,KADGmoB,IAAKC,EACRpoB,KADQooB,IAAKC,EACbroB,KADaqoB,IAEjB,OAAOH,GAAOM,GAAMA,GAAMJ,GAAOD,GAAOM,GAAMA,GAAMJ,I,2BAQjDtsB,GAIH,IAJ+B,IAAxB2sB,EAAwB,uDAAZ,kBAAM,GAEvBR,EACEloB,KADFkoB,IAAKC,EACHnoB,KADGmoB,IAAKC,EACRpoB,KADQooB,IAAKC,EACbroB,KADaqoB,IAERtwB,EAAImwB,EAAKnwB,GAAKqwB,EAAKrwB,GAAK,EAC/B,GAAI2wB,EAAU3wB,GACZ,IAAK,IAAIgsB,EAAIoE,EAAKpE,GAAKsE,EAAKtE,GAAK,EAC/BhoB,EAAGhE,EAAGgsB,K,+BAWL4E,GACP,OAAO3oB,KAAKkoB,KAAOS,EAAMT,KACpBloB,KAAKmoB,KAAOQ,EAAMR,KAClBnoB,KAAKooB,KAAOO,EAAMP,KAClBpoB,KAAKqoB,KAAOM,EAAMN,M,6BAQlBM,GACL,OAAO3oB,KAAKkoB,KAAOS,EAAMT,KACpBloB,KAAKmoB,KAAOQ,EAAMR,KAClBnoB,KAAKooB,KAAOO,EAAMP,KAClBpoB,KAAKqoB,KAAOM,EAAMN,M,+BAQhBM,GACP,OAAO3oB,KAAKkoB,IAAMS,EAAMP,KACnBpoB,KAAKmoB,IAAMQ,EAAMN,KACjBM,EAAMT,IAAMloB,KAAKooB,KACjBO,EAAMR,IAAMnoB,KAAKqoB,M,iCAQbM,GACT,OAAO3oB,KAAKkoB,KAAOS,EAAMP,KACpBpoB,KAAKmoB,KAAOQ,EAAMN,KAClBM,EAAMT,KAAOloB,KAAKooB,KAClBO,EAAMR,KAAOnoB,KAAKqoB,M,4BAQnBM,GAAO,IAETT,EACEloB,KADFkoB,IAAKC,EACHnoB,KADGmoB,IAAKC,EACRpoB,KADQooB,IAAKC,EACbroB,KADaqoB,IAEjB,OAAO,IAAIJ,EACTU,EAAMT,IAAMA,EAAMS,EAAMT,IAAMA,EAC9BS,EAAMR,IAAMA,EAAMQ,EAAMR,IAAMA,EAC9BQ,EAAMP,IAAMA,EAAMO,EAAMP,IAAMA,EAC9BO,EAAMN,IAAMA,EAAMM,EAAMN,IAAMA,K,+BASzBM,GAAO,IAEZT,EACEloB,KADFkoB,IAAKC,EACHnoB,KADGmoB,IAAKC,EACRpoB,KADQooB,IAAKC,EACbroB,KADaqoB,IAEjB,OAAIroB,KAAK4oB,SAASD,GACT,IAAIV,GAAW,GAAI,GAAI,GAAI,GAE7B,IAAIA,EACTU,EAAMT,IAAMA,EAAMS,EAAMT,IAAMA,EAC9BS,EAAMR,IAAMA,EAAMQ,EAAMR,IAAMA,EAC9BQ,EAAMP,IAAMA,EAAMO,EAAMP,IAAMA,EAC9BO,EAAMN,IAAMA,EAAMM,EAAMN,IAAMA,K,iCASvBM,GACT,IAAMhsB,EAAM,GACNksB,EAAS,SAACX,EAAKC,EAAKC,EAAKC,GAC7B1rB,EAAIoC,KAAK,IAAIkpB,EAAUC,EAAKC,EAAKC,EAAKC,KAGtCH,EACEloB,KADFkoB,IAAKC,EACHnoB,KADGmoB,IAAKC,EACRpoB,KADQooB,IAAKC,EACbroB,KADaqoB,IAEXS,EAAMH,EAAMT,IAAMA,EAClBa,EAAMJ,EAAMR,IAAMA,EAClBa,EAAMZ,EAAMO,EAAMP,IAClBa,EAAMZ,EAAMM,EAAMN,IAuDxB,OAtDIS,EAAM,GACRD,EAAOX,EAAKC,EAAKQ,EAAMT,IAAM,EAAGG,GAC5BW,EAAM,GACRH,EAAOF,EAAMP,IAAM,EAAGD,EAAKC,EAAKC,GAC5BU,EAAM,GACRF,EAAOF,EAAMT,IAAKC,EAAKQ,EAAMP,IAAKO,EAAMR,IAAM,GAE5Cc,EAAM,GACRJ,EAAOF,EAAMT,IAAKS,EAAMN,IAAM,EAAGM,EAAMP,IAAKC,KAG1CU,EAAM,GACRF,EAAOF,EAAMT,IAAKC,EAAKC,EAAKO,EAAMR,IAAM,GAEtCc,EAAM,GACRJ,EAAOF,EAAMT,IAAKS,EAAMN,IAAM,EAAGD,EAAKC,KAGjCW,EAAM,IACfH,EAAOF,EAAMP,IAAM,EAAGD,EAAKC,EAAKC,GAC5BU,EAAM,GACRF,EAAOX,EAAKC,EAAKQ,EAAMP,IAAKO,EAAMR,IAAM,GAEtCc,EAAM,GACRJ,EAAOX,EAAKS,EAAMN,IAAM,EAAGM,EAAMP,IAAKC,IAGtCU,EAAM,GACRF,EAAOX,EAAKC,EAAKC,EAAKO,EAAMR,IAAM,GAC9Bc,EAAM,GACRJ,EAAOX,EAAKS,EAAMP,IAAM,EAAGA,EAAKC,GAC5BS,EAAM,GACRD,EAAOX,EAAKS,EAAMR,IAAKQ,EAAMT,IAAM,EAAGS,EAAMN,KAE1CW,EAAM,GACRH,EAAOF,EAAMT,IAAM,EAAGS,EAAMR,IAAKC,EAAKO,EAAMN,OAG1CS,EAAM,GACRD,EAAOX,EAAKS,EAAMR,IAAKQ,EAAMT,IAAM,EAAGG,GAEpCW,EAAM,GACRH,EAAOF,EAAMT,IAAM,EAAGS,EAAMR,IAAKC,EAAKC,KAGjCY,EAAM,IACfJ,EAAOT,EAAKO,EAAMN,IAAM,EAAGD,EAAKC,GAC5BS,EAAM,GACRD,EAAOX,EAAKC,EAAKQ,EAAMT,IAAM,EAAGS,EAAMN,KAEpCW,EAAM,GACRH,EAAOF,EAAMP,IAAM,EAAGD,EAAKC,EAAKO,EAAMN,MAGnC1rB,I,6BAQP,MAAO,CACLqD,KAAKooB,IAAMpoB,KAAKkoB,IAAM,EACtBloB,KAAKqoB,IAAMroB,KAAKmoB,IAAM,K,8BAIlB,IACED,EAAuBloB,KAAvBkoB,IAAKE,EAAkBpoB,KAAlBooB,IAAKD,EAAanoB,KAAbmoB,IAAKE,EAAQroB,KAARqoB,IACjBvmB,EAAM,IAAImmB,EAAUC,EAAKC,EAAKD,EAAKG,GACnC/iB,EAAS,IAAI2iB,EAAUG,EAAKD,EAAKC,EAAKC,GAG5C,MAAO,CAAEvmB,MAAKuD,MAFA,IAAI4iB,EAAUC,EAAKG,EAAKD,EAAKC,GAEtB/iB,SAAQtD,KADhB,IAAIimB,EAAUC,EAAKC,EAAKC,EAAKD,M,iCAIjC,IAEPD,EACEloB,KADFkoB,IAAKC,EACHnoB,KADGmoB,IAAKC,EACRpoB,KADQooB,IAAKC,EACbroB,KADaqoB,IAEbC,EAAMnuB,EAAMoD,QAAQ4qB,EAAKD,GAI7B,OAHIloB,KAAKkpB,aACPZ,EAAM,GAAH,OAAMA,EAAN,YAAanuB,EAAMoD,QAAQ8qB,EAAKD,KAE9BE,I,8BAOP,OAAO,IAAIL,EADPjoB,KADFkoB,IACEloB,KADGmoB,IACHnoB,KADQooB,IACRpoB,KADaqoB,IACbroB,KADkBmf,EAClBnf,KADqBmG,K,6BAUpBwiB,GACL,OAAO3oB,KAAKooB,MAAQO,EAAMP,KACrBpoB,KAAKqoB,MAAQM,EAAMN,KACnBroB,KAAKkoB,MAAQS,EAAMT,KACnBloB,KAAKmoB,MAAQQ,EAAMR,S,s1BCtRtBgB,G,YACJ,WAAYrB,GAAsB,MAAdlhB,EAAc,uDAAJ,GAAI,O,4FAAA,UAChC,0BAAMkhB,KACDlhB,QAAUzM,EAAMkB,UAAU,GAAIuL,GACnC,EAAKmhB,GAAK,IAAIJ,GACd,EAAK1uB,EAAI,IAAI0uB,GACb,EAAK3vB,EAAI,IAAI2vB,GACb,EAAKK,GAAK,IAAIL,GACd,EAAKyB,aAAe,KACpB,EAAK7vB,OAR2B,E,oSAWtB6vB,GAAc,IAEhBC,EADWrpB,KAAX8nB,OACAuB,MAENC,EACED,EADFC,cAAeC,EACbF,EADaE,KAAMC,EACnBH,EADmBG,KAAMC,EACzBJ,EADyBI,KAEvBC,EAAYJ,EAAcK,qBACxBjM,EAAS0L,EAAT1L,KAEFkM,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,GAAIE,EAAMG,OAAOF,GACf7pB,KAAK+nB,GAAGljB,WADV,CAKA,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAC9D/nB,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAChEtmB,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GAEjEzK,EAAK2K,IAAMqB,EAAUrB,KACvBroB,KAAK+nB,GAAG1iB,MAAMR,OACd7E,KAAK+nB,GAAGjX,KAAKjP,IAAI,eAAgB,UAEjC7B,KAAK+nB,GAAG1iB,MAAMT,OACd5E,KAAK+nB,GAAGjX,KAAK3I,cAAc,iBAEzBuV,EAAK0K,IAAMsB,EAAUtB,KACvBpoB,KAAK+nB,GAAGziB,OAAOT,OACf7E,KAAK+nB,GAAGjX,KAAKjP,IAAI,gBAAiB,UAElC7B,KAAK+nB,GAAGziB,OAAOV,OACf5E,KAAK+nB,GAAGjX,KAAK3I,cAAc,kBAG7B,IAAMlM,EAAO,IAAIwjB,GAAK,CACpB1iB,EAAGiF,EAAMhF,EAAG8E,EAAK1B,QAAOE,WAE1BrE,EAAKiuB,WAAWT,EAAK/Q,aACrB1Y,KAAK+nB,GAAG/Z,OAAO,CACb5N,MAAOnE,EAAKmE,MACZE,OAAQrE,EAAKqE,OACb0B,KAAM/F,EAAKc,EACX+E,IAAK7F,EAAKe,IACT4H,U,iCAGMwkB,GAAc,IAEfC,EADWrpB,KAAX8nB,OACAuB,MAENc,EACEd,EADFc,SAAUZ,EACRF,EADQE,KAAMC,EACdH,EADcG,KAAMC,EACpBJ,EADoBI,KAElBC,EAAYS,EAASR,qBACnBjM,EAAS0L,EAAT1L,KAEFkM,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,GAAIE,EAAMG,OAAOF,GACf7pB,KAAK/G,EAAE4L,WADT,CAKA,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAC9D/nB,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAChEtmB,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GAEjEzK,EAAKyK,IAAMuB,EAAUvB,KACvBnoB,KAAK/G,EAAE+I,KAAK6C,OACZ7E,KAAK/G,EAAE6X,KAAKjP,IAAI,cAAe,UAE/B7B,KAAK/G,EAAE+I,KAAK4C,OACZ5E,KAAK/G,EAAE6X,KAAK3I,cAAc,gBAExBuV,EAAK0K,IAAMsB,EAAUtB,KACvBpoB,KAAK/G,EAAEqM,OAAOT,OACd7E,KAAK/G,EAAE6X,KAAKjP,IAAI,gBAAiB,UAEjC7B,KAAK/G,EAAEqM,OAAOV,OACd5E,KAAK/G,EAAE6X,KAAK3I,cAAc,kBAExBuV,EAAK2K,IAAMqB,EAAUrB,KACvBroB,KAAK/G,EAAEoM,MAAMR,OACb7E,KAAK/G,EAAE6X,KAAKjP,IAAI,eAAgB,UAEhC7B,KAAK/G,EAAEoM,MAAMT,OACb5E,KAAK/G,EAAE6X,KAAK3I,cAAc,iBAG5B,IAAMlM,EAAO,IAAIwjB,GAAK,CACpB1iB,EAAGiF,EAAMhF,EAAG8E,EAAK1B,QAAOE,WAE1BrE,EAAKiuB,WAAWT,EAAK/Q,aACrB1Y,KAAK/G,EAAE+U,OAAO,CACZ5N,MAAOnE,EAAKmE,MACZE,OAAQrE,EAAKqE,OACb0B,KAAM/F,EAAKc,EACX+E,IAAK7F,EAAKe,IACT4H,U,iCAGMwkB,GAAc,IAEfC,EADWrpB,KAAX8nB,OACAuB,MAENe,EACEf,EADFe,UAAWb,EACTF,EADSE,KAAMC,EACfH,EADeG,KAAMC,EACrBJ,EADqBI,KAEnBC,EAAYU,EAAUT,qBACpBjM,EAAS0L,EAAT1L,KAEFkM,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,GAAIE,EAAMG,OAAOF,GACf7pB,KAAKhI,EAAE6M,WADT,CAKA,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAC9D/nB,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAChEtmB,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GAEjEzK,EAAKwK,IAAMwB,EAAUxB,KACvBloB,KAAKhI,EAAE8J,IAAI+C,OACX7E,KAAKhI,EAAE8Y,KAAKjP,IAAI,aAAc,UAE9B7B,KAAKhI,EAAE8J,IAAI8C,OACX5E,KAAKhI,EAAE8Y,KAAK3I,cAAc,eAExBuV,EAAK2K,IAAMqB,EAAUrB,KACvBroB,KAAKhI,EAAEqN,MAAMR,OACb7E,KAAKhI,EAAE8Y,KAAKjP,IAAI,eAAgB,UAEhC7B,KAAKhI,EAAEqN,MAAMT,OACb5E,KAAKhI,EAAE8Y,KAAK3I,cAAc,iBAExBuV,EAAK0K,IAAMsB,EAAUtB,KACvBpoB,KAAKhI,EAAEsN,OAAOT,OACd7E,KAAKhI,EAAE8Y,KAAKjP,IAAI,gBAAiB,UAEjC7B,KAAKhI,EAAEsN,OAAOV,OACd5E,KAAKhI,EAAE8Y,KAAK3I,cAAc,kBAG5B,IAAMlM,EAAO,IAAIwjB,GAAK,CACpB1iB,EAAGiF,EAAMhF,EAAG8E,EAAK1B,QAAOE,WAE1BrE,EAAKiuB,WAAWT,EAAK/Q,aACrB1Y,KAAKhI,EAAEgW,OAAO,CACZ5N,MAAOnE,EAAKmE,MACZE,OAAQrE,EAAKqE,OACb0B,KAAM/F,EAAKc,EACX+E,IAAK7F,EAAKe,IACT4H,U,kCAGOwkB,GAAc,IAEhBC,EADWrpB,KAAX8nB,OACAuB,MAENE,EACEF,EADFE,KAAMC,EACJH,EADIG,KAAMC,EACVJ,EADUI,KAERC,EAAYL,EAAMM,qBAChBjM,EAAS0L,EAAT1L,KAEFkM,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,GAAIE,EAAMG,OAAOF,GACf7pB,KAAKgoB,GAAGnjB,WADV,CAKA,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAC9D/nB,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAChEtmB,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GAEjEzK,EAAKyK,IAAMuB,EAAUvB,KACvBnoB,KAAKgoB,GAAGhmB,KAAK6C,OACb7E,KAAKgoB,GAAGlX,KAAKjP,IAAI,cAAe,UAEhC7B,KAAKgoB,GAAGhmB,KAAK4C,OACb5E,KAAKgoB,GAAGlX,KAAK3I,cAAc,gBAEzBuV,EAAKwK,IAAMwB,EAAUxB,KACvBloB,KAAKgoB,GAAGlmB,IAAI+C,OACZ7E,KAAKgoB,GAAGlX,KAAKjP,IAAI,aAAc,UAE/B7B,KAAKgoB,GAAGlmB,IAAI8C,OACZ5E,KAAKgoB,GAAGlX,KAAK3I,cAAc,eAEzBuV,EAAK0K,IAAMsB,EAAUtB,KACvBpoB,KAAKgoB,GAAG1iB,OAAOT,OACf7E,KAAKgoB,GAAGlX,KAAKjP,IAAI,gBAAiB,UAElC7B,KAAKgoB,GAAG1iB,OAAOV,OACf5E,KAAKgoB,GAAGlX,KAAK3I,cAAc,kBAEzBuV,EAAK2K,IAAMqB,EAAUrB,KACvBroB,KAAKgoB,GAAG3iB,MAAMR,OACd7E,KAAKgoB,GAAGlX,KAAKjP,IAAI,eAAgB,UAEjC7B,KAAKgoB,GAAG3iB,MAAMT,OACd5E,KAAKgoB,GAAGlX,KAAK3I,cAAc,iBAG7B,IAAMlM,EAAO,IAAIwjB,GAAK,CACpB1iB,EAAGiF,EAAMhF,EAAG8E,EAAK1B,QAAOE,WAE1BrE,EAAKiuB,WAAWT,EAAK/Q,aACrB1Y,KAAKgoB,GAAGha,OAAO,CACb5N,MAAOnE,EAAKmE,MACZE,OAAQrE,EAAKqE,OACb0B,KAAM/F,EAAKc,EACX+E,IAAK7F,EAAKe,IACT4H,U,gCAGKwkB,GACRppB,KAAKqqB,YAAYjB,GACjBppB,KAAKsqB,WAAWlB,GAChBppB,KAAKuqB,WAAWnB,GAChBppB,KAAKwqB,YAAYpB,K,6BAGZ,WAEGC,EADWrpB,KAAX8nB,OACAuB,MACRtf,GAAUxQ,KAAK8vB,EAAOjhB,GAASC,kBAAkBa,QAAQ,WACnD,EAAKkgB,cACP,EAAKqB,UAAU,EAAKrB,iBAGxBrf,GAAUxQ,KAAK8vB,EAAOjhB,GAASmB,iBAAiBC,eAAe,SAAC7N,GAC1D,EAAKytB,cACP,EAAKqB,UAAU,EAAKrB,cAEtBztB,EAAEiG,qBAEJmI,GAAUxQ,KAAK8vB,EAAOjhB,GAASmB,iBAAiBE,cAAc,SAAC9N,GACzD,EAAKytB,cACP,EAAKqB,UAAU,EAAKrB,cAEtBztB,EAAEiG,uB,8BAIEwnB,GACNppB,KAAKopB,aAAeA,EACpBppB,KAAKyqB,UAAUrB,K,gCAIfppB,KAAKopB,aAAe,KACpBppB,KAAK+nB,GAAGljB,OACR7E,KAAK/G,EAAE4L,OACP7E,KAAKhI,EAAE6M,OACP7E,KAAKgoB,GAAGnjB,Y,gCA/QkBgjB,I,6oBCLxB6C,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAS3wB,EAAT,gBACK4wB,SAAWxkB,EAAE,MAAD,UAAWpM,EAAX,qBACjB,EAAK6wB,OAASzkB,EAAE,MAAD,UAAWpM,EAAX,mBACf,EAAK8wB,cAAgB1kB,EAAE,MAAD,UAAWpM,EAAX,6BACtB,EAAK6wB,OAAO5nB,SAAS,EAAK2nB,UAC1B,EAAK3nB,SAAS,EAAK6nB,eACnB,EAAK7nB,SAAS,EAAK4nB,QACnB,EAAK/lB,OARO,E,mPADOuB,G,ozBCKjB0kB,G,YACJ,WAAYhD,GAAsB,MAAdlhB,EAAc,uDAAJ,GAAI,O,4FAAA,UAChC,0BAAMkhB,KACDlhB,QAAUA,EACf,EAAKwiB,aAAe,KACpB,EAAK2B,iBAAmB,KACxB,EAAKC,cAAgB,GACrB,EAAKC,oBAAsB,GAC3B,EAAKC,mBAAqB,GAC1B,EAAKC,kBAAoB,GACzB,EAAKpD,GAAK,IAAI2C,GACd,EAAKzxB,EAAI,IAAIyxB,GACb,EAAK1yB,EAAI,IAAI0yB,GACb,EAAK1C,GAAK,IAAI0C,GACd,EAAKnxB,OAb2B,E,+RAgB3B,WAEG8vB,EADWrpB,KAAX8nB,OACAuB,MACA+B,EAA6D/B,EAA7D+B,eAAgBC,EAA6ChC,EAA7CgC,eAAgB9B,EAA6BF,EAA7BE,KAAMC,EAAuBH,EAAvBG,KAAM8B,EAAiBjC,EAAjBiC,KAAMC,EAAWlC,EAAXkC,OAC1DxhB,GAAUxQ,KAAK8vB,EAAOjhB,GAASC,kBAAkBa,QAAQ,WACnD,EAAKkgB,cACP,EAAKqB,UAAU,EAAKrB,iBAGxBrf,GAAUxQ,KAAK8vB,EAAOjhB,GAASC,kBAAkBG,YAAY,SAACkL,GAC5D,GAAkB,IAAdA,EAAG/R,OAAP,CADmE,MAElD0nB,EAAM7d,eAAekI,GAA9B3W,EAF2D,EAE3DA,EAAGC,EAFwD,EAExDA,EACLwuB,EAAiB,EAAKC,sBAAsB1uB,EAAGC,GASrD,OAPA,EAAK0uB,cAAcF,GACnB,EAAKG,kBAAkBH,GACvB,EAAKf,UAAUe,GACf,EAAKL,kBAAkBrwB,SAAQ,SAAAiB,GAAE,OAAIA,OACrC,EAAKivB,cAAclwB,SAAQ,SAAAiB,GAAE,OAAIA,OACjC,EAAKkvB,oBAAoBnwB,SAAQ,SAAAiB,GAAE,OAAIA,OAClByvB,EAAbI,UAEN,IAAK,WACHR,EAAezmB,GAAG,CAAC,eACnB,MACF,IAAK,OACHymB,EAAezmB,GAAG,CAAC,aACnB,MACF,IAAK,MACHymB,EAAezmB,GAAG,CAAC,aACnB,MACF,QACEymB,EAAezmB,GAAG,CAAC,eAGvBoF,GAAU0B,YAAY/L,UAAU,SAACoU,GAAO,MACrBuV,EAAM7d,eAAesI,GAA9B/W,EAD8B,EAC9BA,EAAGC,EAD2B,EAC3BA,EACL6uB,EAAmB,EAAKC,sBAAsBN,EAAgBzuB,EAAGC,GACvE,EAAK0uB,cAAcG,GACnB,EAAKpB,UAAUoB,GACf,EAAKb,cAAclwB,SAAQ,SAAAiB,GAAE,OAAIA,OACjC,EAAKkvB,oBAAoBnwB,SAAQ,SAAAiB,GAAE,OAAIA,OACvC+X,EAAGlS,kBACHkS,EAAGlI,oBACF,WACDwf,EAAepe,MACf,EAAKke,mBAAmBpwB,SAAQ,SAAAiB,GAAE,OAAIA,cAG1CgO,GAAUxQ,KAAK8vB,EAAOjhB,GAASmB,iBAAiBC,eAAe,SAAC7N,GAC1D,EAAKytB,eACP,EAAKqB,UAAU,EAAKrB,cACpB,EAAK4B,cAAclwB,SAAQ,SAAAiB,GAAE,OAAIA,QAEnCJ,EAAEiG,qBAEJmI,GAAUxQ,KAAK8vB,EAAOjhB,GAASmB,iBAAiBE,cAAc,SAAC9N,GACzD,EAAKytB,eACP,EAAKqB,UAAU,EAAKrB,cACpB,EAAK4B,cAAclwB,SAAQ,SAAAiB,GAAE,OAAIA,QAEnCJ,EAAEiG,qBAEJ,IAAImqB,EAAQ,EACRC,EAAU,KACdX,EAAeY,SAAS,CACtBlrB,GAAIsoB,EACJ6C,KAAM,EACNC,SAAU,WACRb,EAAKc,WACL,IAAMC,EAAK,EAAKjD,aACV1L,EAAO,EAAK0L,aAAa1L,KAAK4O,QACpC,GAAIP,IAAUM,EAAI,KACRnE,EAAaxK,EAAbwK,IAAKC,EAAQzK,EAARyK,IACb4D,EAAQM,EACRL,EAAU,CAAE9D,MAAKC,OAEnB,IAAMoE,EAAOhD,EAAKpX,IAAM,EAClBqa,EAAOhD,EAAKrX,IAAM,EAVV,EAWK6Z,EAAb9D,EAXQ,EAWRA,IAAKC,EAXG,EAWHA,IACLsE,EAAYlB,EAAOmB,iBAAiBxE,EAAKC,GAI/C,GAHIsE,IACFtE,EAAMsE,EAAUpE,OAEdF,GAAOoE,GAAQrE,GAAOsE,GAA1B,CAGIrE,GAAOoE,GACTrE,GAAO,EACPC,EAAM,GAENA,GAAO,EAET6D,EAAQ9D,IAAMA,EACd8D,EAAQ7D,IAAMA,EACd,IAAIC,EAAMF,EACNG,EAAMF,EACJwE,EAAepB,EAAOmB,iBAAiBxE,EAAKC,GAC9CwE,IACFzE,EAAMyE,EAAazE,IACnBC,EAAMwE,EAAaxE,IACnBC,EAAMuE,EAAavE,IACnBC,EAAMsE,EAAatE,KAErB3K,EAAKwK,IAAMA,EACXxK,EAAKyK,IAAMA,EACXzK,EAAK0K,IAAMA,EACX1K,EAAK2K,IAAMA,EACX,EAAKe,aAAa1L,KAAOA,EACzB,EAAK+M,UAAU,EAAKrB,cACpB,EAAK4B,cAAclwB,SAAQ,SAAAiB,GAAE,OAAIA,OACjC,EAAKkvB,oBAAoBnwB,SAAQ,SAAAiB,GAAE,OAAIA,OACvCuvB,EAAKsB,iB,kCAKCxD,GAAc,IAEhBC,EADWrpB,KAAX8nB,OACAuB,MAENC,EACED,EADFC,cAAeC,EACbF,EADaE,KAAMC,EACnBH,EADmBG,KAAMC,EACzBJ,EADyBI,KAEvBC,EAAYJ,EAAcK,qBACxBjM,EAAS0L,EAAT1L,KAEFkM,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,GAAIE,EAAMG,OAAOF,GACf7pB,KAAK+nB,GAAGljB,WADV,CAKA,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAC9D/nB,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAChEtmB,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GAEjEzK,EAAK2K,IAAMqB,EAAUrB,IACvBroB,KAAK+nB,GAAG6C,OAAO/oB,IAAI,eAAgB,QAEnC7B,KAAK+nB,GAAG6C,OAAOziB,cAAc,gBAE3BuV,EAAK0K,IAAMsB,EAAUtB,IACvBpoB,KAAK+nB,GAAG6C,OAAO/oB,IAAI,gBAAiB,QAEpC7B,KAAK+nB,GAAG6C,OAAOziB,cAAc,iBAG/B,IAAMlM,EAAO,IAAIwjB,GAAK,CACpB1iB,EAAGiF,EAAMhF,EAAG8E,EAAK1B,QAAOE,WAE1BrE,EAAKiuB,WAAWT,EAAK/Q,aACrB1Y,KAAK+nB,GAAG/Z,OAAO,CACb5N,MAAOnE,EAAKmE,MACZE,OAAQrE,EAAKqE,OACb0B,KAAM/F,EAAKc,EACX+E,IAAK7F,EAAKe,IACT4H,U,iCAGMwkB,GAAc,IAEfC,EADWrpB,KAAX8nB,OACAuB,MAENc,EACEd,EADFc,SAAUZ,EACRF,EADQE,KAAMC,EACdH,EADcG,KAAMC,EACpBJ,EADoBI,KAElBC,EAAYS,EAASR,qBACnBjM,EAAS0L,EAAT1L,KAEFkM,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,GAAIE,EAAMG,OAAOF,GACf7pB,KAAK/G,EAAE4L,WADT,CAKA,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAC9D/nB,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAChEtmB,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GAEjEzK,EAAKyK,IAAMuB,EAAUvB,IACvBnoB,KAAK/G,EAAE2xB,OAAO/oB,IAAI,cAAe,QAEjC7B,KAAK/G,EAAE2xB,OAAOziB,cAAc,eAE1BuV,EAAK0K,IAAMsB,EAAUtB,IACvBpoB,KAAK/G,EAAE2xB,OAAO/oB,IAAI,gBAAiB,QAEnC7B,KAAK/G,EAAE2xB,OAAOziB,cAAc,iBAE1BuV,EAAK2K,IAAMqB,EAAUrB,IACvBroB,KAAK/G,EAAE2xB,OAAO/oB,IAAI,eAAgB,QAElC7B,KAAK/G,EAAE2xB,OAAOziB,cAAc,gBAG9B,IAAMlM,EAAO,IAAIwjB,GAAK,CACpB1iB,EAAGiF,EAAMhF,EAAG8E,EAAK1B,QAAOE,WAE1BrE,EAAKiuB,WAAWT,EAAK/Q,aACrB1Y,KAAK/G,EAAE+U,OAAO,CACZ5N,MAAOnE,EAAKmE,MACZE,OAAQrE,EAAKqE,OACb0B,KAAM/F,EAAKc,EACX+E,IAAK7F,EAAKe,IACT4H,U,iCAGMwkB,GAAc,IAEfC,EADWrpB,KAAX8nB,OACAuB,MAENe,EACEf,EADFe,UAAWb,EACTF,EADSE,KAAMC,EACfH,EADeG,KAAMC,EACrBJ,EADqBI,KAEnBC,EAAYU,EAAUT,qBACpBjM,EAAS0L,EAAT1L,KAEFkM,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,GAAIE,EAAMG,OAAOF,GACf7pB,KAAKhI,EAAE6M,WADT,CAKA,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAC9D/nB,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAChEtmB,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GAEjEzK,EAAKwK,IAAMwB,EAAUxB,IACvBloB,KAAKhI,EAAE4yB,OAAO/oB,IAAI,aAAc,QAEhC7B,KAAKhI,EAAE4yB,OAAOziB,cAAc,cAE1BuV,EAAK2K,IAAMqB,EAAUrB,IACvBroB,KAAKhI,EAAE4yB,OAAO/oB,IAAI,eAAgB,QAElC7B,KAAKhI,EAAE4yB,OAAOziB,cAAc,gBAE1BuV,EAAK0K,IAAMsB,EAAUtB,IACvBpoB,KAAKhI,EAAE4yB,OAAO/oB,IAAI,gBAAiB,QAEnC7B,KAAKhI,EAAE4yB,OAAOziB,cAAc,iBAG9B,IAAMlM,EAAO,IAAIwjB,GAAK,CACpB1iB,EAAGiF,EAAMhF,EAAG8E,EAAK1B,QAAOE,WAE1BrE,EAAKiuB,WAAWT,EAAK/Q,aACrB1Y,KAAKhI,EAAEgW,OAAO,CACZ5N,MAAOnE,EAAKmE,MACZE,OAAQrE,EAAKqE,OACb0B,KAAM/F,EAAKc,EACX+E,IAAK7F,EAAKe,IACT4H,U,kCAGOwkB,GAAc,IAEhBC,EADWrpB,KAAX8nB,OACAuB,MAENE,EACEF,EADFE,KAAMC,EACJH,EADIG,KAAMC,EACVJ,EADUI,KAERC,EAAYL,EAAMM,qBAChBjM,EAAS0L,EAAT1L,KAEFkM,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,GAAIE,EAAMG,OAAOF,GACf7pB,KAAKgoB,GAAGnjB,WADV,CAKA,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAC9D/nB,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAChEtmB,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GAEjEzK,EAAKyK,IAAMuB,EAAUvB,IACvBnoB,KAAKgoB,GAAG4C,OAAO/oB,IAAI,cAAe,QAElC7B,KAAKgoB,GAAG4C,OAAOziB,cAAc,eAE3BuV,EAAKwK,IAAMwB,EAAUxB,IACvBloB,KAAKgoB,GAAG4C,OAAO/oB,IAAI,aAAc,QAEjC7B,KAAKgoB,GAAG4C,OAAOziB,cAAc,cAE3BuV,EAAK0K,IAAMsB,EAAUtB,IACvBpoB,KAAKgoB,GAAG4C,OAAO/oB,IAAI,gBAAiB,QAEpC7B,KAAKgoB,GAAG4C,OAAOziB,cAAc,iBAE3BuV,EAAK2K,IAAMqB,EAAUrB,IACvBroB,KAAKgoB,GAAG4C,OAAO/oB,IAAI,eAAgB,QAEnC7B,KAAKgoB,GAAG4C,OAAOziB,cAAc,gBAG/B,IAAMlM,EAAO,IAAIwjB,GAAK,CACpB1iB,EAAGiF,EAAMhF,EAAG8E,EAAK1B,QAAOE,WAE1BrE,EAAKiuB,WAAWT,EAAK/Q,aACrB1Y,KAAKgoB,GAAGha,OAAO,CACb5N,MAAOnE,EAAKmE,MACZE,OAAQrE,EAAKqE,OACb0B,KAAM/F,EAAKc,EACX+E,IAAK7F,EAAKe,IACT4H,U,kCAGOwkB,EAAcyD,GAAgB,IAIlCnD,EAHa1pB,KAAX8nB,OACAuB,MACAC,cACwBK,qBACxBjM,EAAyB0L,EAAzB1L,KAAMoP,EAAmB1D,EAAnB0D,KAAMlB,EAAaxC,EAAbwC,SAEdhC,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,IAAIE,EAAMG,OAAOF,GAUjB,GANA7pB,KAAK+nB,GAAG4C,SAASxiB,cAAc,QAC/BnI,KAAK+nB,GAAG4C,SAASxiB,cAAc,OAC/BnI,KAAK+nB,GAAG4C,SAASxiB,cAAc,SAC/BnI,KAAK+nB,GAAG4C,SAASxiB,cAAc,UAC/BnI,KAAK+nB,GAAG4C,SAAS9lB,OAEbioB,EAAM,CACR,IACMC,EAAyB,QAAnBF,EACK,SAAbjB,GAF2B,QAAnBiB,IAGV7sB,KAAK+nB,GAAG4C,SAAS/lB,OACjB5E,KAAK+nB,GAAG4C,SAAS9oB,IAAI,OAAQ,OAC7B7B,KAAK+nB,GAAG4C,SAAS9oB,IAAI,SAAU,QAEhB,QAAb+pB,GAAsBmB,IACxB/sB,KAAK+nB,GAAG4C,SAAS/lB,OACjB5E,KAAK+nB,GAAG4C,SAAS9oB,IAAI,QAAS,OAC9B7B,KAAK+nB,GAAG4C,SAAS9oB,IAAI,MAAO,YAGA,OAAnBgrB,IAET7sB,KAAK+nB,GAAG4C,SAAS/lB,OACjB5E,KAAK+nB,GAAG4C,SAAS9oB,IAAI,QAAS,OAC9B7B,KAAK+nB,GAAG4C,SAAS9oB,IAAI,SAAU,QAE7B6b,EAAK2K,IAAMqB,EAAUrB,KACvBroB,KAAK+nB,GAAG4C,SAAS9lB,OAEf6Y,EAAK0K,IAAMsB,EAAUtB,KACvBpoB,KAAK+nB,GAAG4C,SAAS9lB,S,iCAKZukB,EAAcyD,GAAgB,IAIjCnD,EAHa1pB,KAAX8nB,OACAuB,MACAc,SACmBR,qBACnBjM,EAAyB0L,EAAzB1L,KAAMoP,EAAmB1D,EAAnB0D,KAAMlB,EAAaxC,EAAbwC,SAEdhC,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,IAAIE,EAAMG,OAAOF,GAUjB,GANA7pB,KAAK/G,EAAE0xB,SAASxiB,cAAc,QAC9BnI,KAAK/G,EAAE0xB,SAASxiB,cAAc,OAC9BnI,KAAK/G,EAAE0xB,SAASxiB,cAAc,SAC9BnI,KAAK/G,EAAE0xB,SAASxiB,cAAc,UAC9BnI,KAAK/G,EAAE0xB,SAAS9lB,OAEZioB,EAAM,CACR,IACME,EAA4B,WAAnBH,EACE,QAAbjB,GAF2B,QAAnBiB,IAGV7sB,KAAK/G,EAAE0xB,SAAS/lB,OAChB5E,KAAK/G,EAAE0xB,SAAS9oB,IAAI,QAAS,OAC7B7B,KAAK/G,EAAE0xB,SAAS9oB,IAAI,MAAO,QAEZ,QAAb+pB,GAAsBoB,IACxBhtB,KAAK/G,EAAE0xB,SAAS/lB,OAChB5E,KAAK/G,EAAE0xB,SAAS9oB,IAAI,QAAS,OAC7B7B,KAAK/G,EAAE0xB,SAAS9oB,IAAI,MAAO,QAEZ,QAAb+pB,GAAsBlO,EAAK2K,IAAMqB,EAAUrB,KAC7CroB,KAAK/G,EAAE0xB,SAAS9lB,YAGW,MAAnBgoB,GACqB,QAAnBA,KAEV7sB,KAAK/G,EAAE0xB,SAAS/lB,OAChB5E,KAAK/G,EAAE0xB,SAAS9oB,IAAI,QAAS,OAC7B7B,KAAK/G,EAAE0xB,SAAS9oB,IAAI,SAAU,QAE5B6b,EAAK2K,IAAMqB,EAAUrB,KACvBroB,KAAK/G,EAAE0xB,SAAS9lB,OAEd6Y,EAAK0K,IAAMsB,EAAUtB,KACvBpoB,KAAK/G,EAAE0xB,SAAS9lB,S,iCAKXukB,EAAcyD,GAAgB,IAIjCnD,EAHa1pB,KAAX8nB,OACAuB,MACAe,UACoBT,qBACpBjM,EAAyB0L,EAAzB1L,KAAMoP,EAAmB1D,EAAnB0D,KAAMlB,EAAaxC,EAAbwC,SAEdhC,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,IAAIE,EAAMG,OAAOF,GAUjB,GANA7pB,KAAKhI,EAAE2yB,SAASxiB,cAAc,QAC9BnI,KAAKhI,EAAE2yB,SAASxiB,cAAc,OAC9BnI,KAAKhI,EAAE2yB,SAASxiB,cAAc,SAC9BnI,KAAKhI,EAAE2yB,SAASxiB,cAAc,UAC9BnI,KAAKhI,EAAE2yB,SAAS9lB,OAEZioB,EAAM,CACR,IACME,EAA4B,WAAnBH,EACE,SAAbjB,GAF2B,QAAnBiB,IAGV7sB,KAAKhI,EAAE2yB,SAAS/lB,OAChB5E,KAAKhI,EAAE2yB,SAAS9oB,IAAI,OAAQ,KAC5B7B,KAAKhI,EAAE2yB,SAAS9oB,IAAI,SAAU,MAEf,SAAb+pB,GAAuBoB,IACzBhtB,KAAKhI,EAAE2yB,SAAS/lB,OAChB5E,KAAKhI,EAAE2yB,SAAS9oB,IAAI,OAAQ,KAC5B7B,KAAKhI,EAAE2yB,SAAS9oB,IAAI,SAAU,MAEf,SAAb+pB,GAAuBlO,EAAK0K,IAAMsB,EAAUtB,KAC9CpoB,KAAKhI,EAAE2yB,SAAS9lB,YAGW,MAAnBgoB,GACqB,QAAnBA,KAEV7sB,KAAKhI,EAAE2yB,SAAS/lB,OAChB5E,KAAKhI,EAAE2yB,SAAS9oB,IAAI,QAAS,OAC7B7B,KAAKhI,EAAE2yB,SAAS9oB,IAAI,SAAU,QAE5B6b,EAAK2K,IAAMqB,EAAUrB,KACvBroB,KAAKhI,EAAE2yB,SAAS9lB,OAEd6Y,EAAK0K,IAAMsB,EAAUtB,KACvBpoB,KAAKhI,EAAE2yB,SAAS9lB,S,kCAKVukB,EAAcyD,GAAgB,IAGlCnD,EAFa1pB,KAAX8nB,OACAuB,MACgBM,qBAChBjM,EAAyB0L,EAAzB1L,KAAMoP,EAAmB1D,EAAnB0D,KAAMlB,EAAaxC,EAAbwC,SAEdhC,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,IAAIE,EAAMG,OAAOF,GAUjB,GANA7pB,KAAKgoB,GAAG2C,SAASxiB,cAAc,QAC/BnI,KAAKgoB,GAAG2C,SAASxiB,cAAc,OAC/BnI,KAAKgoB,GAAG2C,SAASxiB,cAAc,SAC/BnI,KAAKgoB,GAAG2C,SAASxiB,cAAc,UAC/BnI,KAAKgoB,GAAG2C,SAAS9lB,OAEbioB,EAAM,CACR,IAAM9E,EAAwB,OAAnB6E,EACLI,EAA4B,WAAnBJ,EACE,SAAbjB,GAAuB5D,IACzBhoB,KAAKgoB,GAAG2C,SAAS/lB,OACjB5E,KAAKgoB,GAAG2C,SAAS9oB,IAAI,OAAQ,KAC7B7B,KAAKgoB,GAAG2C,SAAS9oB,IAAI,SAAU,MAEhB,QAAb+pB,GAAsB5D,IACxBhoB,KAAKgoB,GAAG2C,SAAS/lB,OACjB5E,KAAKgoB,GAAG2C,SAAS9oB,IAAI,QAAS,KAC9B7B,KAAKgoB,GAAG2C,SAAS9oB,IAAI,MAAO,MAEb,aAAb+pB,GAA2BqB,IAC7BjtB,KAAKgoB,GAAG2C,SAAS/lB,OACjB5E,KAAKgoB,GAAG2C,SAAS9oB,IAAI,QAAS,KAC9B7B,KAAKgoB,GAAG2C,SAAS9oB,IAAI,SAAU,MAEhB,aAAb+pB,GAA2B5D,IAC7BhoB,KAAKgoB,GAAG2C,SAAS/lB,OACjB5E,KAAKgoB,GAAG2C,SAAS9oB,IAAI,QAAS,KAC9B7B,KAAKgoB,GAAG2C,SAAS9oB,IAAI,SAAU,MAEhB,SAAb+pB,GAAuBlO,EAAK0K,IAAMsB,EAAUtB,KAC9CpoB,KAAKgoB,GAAG2C,SAAS9lB,OAEF,QAAb+mB,GAAsBlO,EAAK2K,IAAMqB,EAAUrB,KAC7CroB,KAAKgoB,GAAG2C,SAAS9lB,WAEd,CACL,IAEMqoB,EAAyB,QAAnBL,GAFkB,OAAnBA,GACoB,QAAnBA,GAGKK,GAAOA,GADU,WAAnBL,KAEb7sB,KAAKgoB,GAAG2C,SAAS/lB,OACjB5E,KAAKgoB,GAAG2C,SAAS9oB,IAAI,QAAS,OAC9B7B,KAAKgoB,GAAG2C,SAAS9oB,IAAI,SAAU,QAE7B6b,EAAK0K,IAAMsB,EAAUtB,KACvBpoB,KAAKgoB,GAAG2C,SAAS9lB,OAEf6Y,EAAK2K,IAAMqB,EAAUrB,KACvBroB,KAAKgoB,GAAG2C,SAAS9lB,U,oCAKTukB,GACZppB,KAAKopB,aAAeA,EACpBppB,KAAKopB,aAAaiD,GAAK7tB,KAAK2B,Q,wCAGZ4qB,GAChB/qB,KAAK+qB,iBAAmBA,I,wCAGR3B,GAAc,IAEtBC,EADWrpB,KAAX8nB,OACAuB,MACA8D,EAAsB9D,EAAtB8D,MAAO5D,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KACb9L,EAAS0L,EAAT1L,KACJrjB,EAAO,GACL+yB,EAAU,IAAInF,GAAU,EAAG,EAAGkF,EAAME,MAAOF,EAAMG,QACjDC,EAAS,IAAItF,GAAU,EAAGkF,EAAMG,OAAS,EAAGH,EAAME,MAAO9D,EAAKpX,KAC9Dqb,EAAS,IAAIvF,GAAUkF,EAAME,MAAQ,EAAG,EAAG7D,EAAKrX,IAAKgb,EAAMG,QAC3DG,EAAU,IAAIxF,GAAUkF,EAAME,MAAQ,EAAGF,EAAMG,OAAS,EAAG9D,EAAKrX,IAAKoX,EAAKpX,KAKhF,OAJIuL,EAAKgQ,WAAWN,KAAU/yB,GAAQ,MAClCqjB,EAAKgQ,WAAWH,KAASlzB,GAAQ,KACjCqjB,EAAKgQ,WAAWF,KAASnzB,GAAQ,KACjCqjB,EAAKgQ,WAAWD,KAAUpzB,GAAQ,MAC/BA,I,gCAGC+uB,GACR,IAAMyD,EAAiB7sB,KAAK2tB,kBAAkBvE,GAG9CppB,KAAKqqB,YAAYjB,GACjBppB,KAAKsqB,WAAWlB,GAChBppB,KAAKuqB,WAAWnB,GAChBppB,KAAKwqB,YAAYpB,GAEjBppB,KAAK4tB,YAAYxE,EAAcyD,GAC/B7sB,KAAK6tB,WAAWzE,EAAcyD,GAC9B7sB,KAAK8tB,WAAW1E,EAAcyD,GAC9B7sB,KAAK+tB,YAAY3E,EAAcyD,K,qCAGlB,IAELxD,EADWrpB,KAAX8nB,OACAuB,MACAE,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KACRE,EAAYL,EAAMM,qBAClBzB,EAAawB,EAAbxB,IAAKC,EAAQuB,EAARvB,IACHC,EAAasB,EAAbtB,IAAKC,EAAQqB,EAARrB,IAETgB,EAAM2E,gBAAkB,IAC1B9F,EAAM,GAEJmB,EAAM4E,iBAAmB,IAC3B9F,EAAM,GAGR,IAAM/nB,EAAQmpB,EAAKS,gBAAgB7B,EAAKE,GAClC/nB,EAASkpB,EAAKS,iBAAiB/B,EAAKE,GAE1C,OAAO,IAAIH,GAAUC,EAAKC,EAAKC,EAAKC,EAAKjoB,EAAOE,K,4CAG5BvD,EAAGC,GAAG,IAElBqsB,EADWrpB,KAAX8nB,OACAuB,MACAkC,EAAuBlC,EAAvBkC,OAAQ/B,EAAeH,EAAfG,KAAMD,EAASF,EAATE,KAHI,EAIPF,EAAM6E,YAAYnxB,EAAGC,GAAhCwrB,EAJkB,EAIlBA,GAAIC,EAJc,EAIdA,GACZ,IAAY,IAARD,IAAqB,IAARC,EAEf,MAAO,CACL/K,KAFW,IAAIuK,GAAU,EAAG,EAAGuB,EAAKrX,IAAM,EAAGoX,EAAKpX,IAAM,GAElD2a,MAAM,EAAMlB,SAAU,YAGhC,IAAY,IAARpD,EAEF,MAAO,CACL9K,KAFW,IAAIuK,GAAU,EAAGQ,EAAIe,EAAKrX,IAAM,EAAGsW,GAExCqE,MAAM,EAAMlB,SAAU,OAGhC,IAAY,IAARnD,EAEF,MAAO,CACL/K,KAFW,IAAIuK,GAAUO,EAAI,EAAGA,EAAIe,EAAKpX,IAAM,GAEzC2a,MAAM,EAAMlB,SAAU,QAGhC,IAAMuC,EAAQ5C,EAAOmB,iBAAiBlE,EAAIC,GACtC/K,EAAO,IAAIuK,GAAUO,EAAIC,EAAID,EAAIC,GAIrC,OAHI0F,IACFzQ,EAAOyQ,GAEF,CAAEzQ,U,4CAGW0L,EAAcrsB,EAAGC,GAAG,IAEhCqsB,EADWrpB,KAAX8nB,OACAuB,MAENkC,EACElC,EADFkC,OAAQ/B,EACNH,EADMG,KAAMD,EACZF,EADYE,KAEF6E,EAAyBhF,EAA/B1L,KAAkBkO,EAAaxC,EAAbwC,SACpBlC,EAAY1pB,KAAKquB,eAPiB,EAQvBhF,EAAM6E,YAAYnxB,EAAGC,GAAhCwrB,EARkC,EAQlCA,GAAIC,EAR8B,EAQ9BA,GAGV,QAFY,IAARD,IAAWA,EAAKkB,EAAUxB,MAClB,IAARO,IAAWA,EAAKiB,EAAUvB,KACtByD,GACN,IAAK,WACH,IAAIlO,EAAO0Q,EAAWE,MAAM,IAAIrG,GAAU,EAAG,EAAGuB,EAAKrX,IAAM,EAAGoX,EAAKpX,IAAM,IAEzE,MAAO,CACLuL,KAFFA,EAAO0Q,EAAWE,MAAM5Q,GAEhBoP,MAAM,EAAMlB,SAAU,YAGhC,IAAK,MACH,IAAIlO,EAAO0Q,EAAWE,MAAM,IAAIrG,GAAU,EAAGQ,EAAI,EAAGA,IAEpD,MAAO,CACL/K,KAFFA,EAAO0Q,EAAWE,MAAM5Q,GAEhBoP,MAAM,EAAMlB,SAAU,OAGhC,IAAK,OACH,IAAIlO,EAAO0Q,EAAWE,MAAM,IAAIrG,GAAUO,EAAI,EAAGA,EAAI,IAErD,MAAO,CACL9K,KAFFA,EAAO0Q,EAAWE,MAAM5Q,GAEhBoP,MAAM,EAAMlB,SAAU,QAKlC,IAAIlO,EAAO0Q,EAAWE,MAAM,IAAIrG,GAAUO,EAAIC,EAAID,EAAIC,IAEtD,MAAO,CAAE/K,KADTA,EAAO6N,EAAO+C,MAAM5Q,M,uCAMpB,OADiB1d,KAAKopB,aAAd1L,O,sCAMM3hB,GACdiE,KAAKmrB,kBAAkBpsB,KAAKhD,K,yCAGXA,GACjB,IAAK,IAAIhE,EAAI,EAAGA,EAAIiI,KAAKgrB,cAAcnwB,OAAQ9C,GAAK,EAElD,GADaiI,KAAKmrB,kBAAkBpzB,KACvBgE,EAEX,YADAiE,KAAKmrB,kBAAkBxjB,OAAO5P,EAAG,K,kCAQ3BgE,GACViE,KAAKgrB,cAAcjsB,KAAKhD,K,qCAGXA,GACb,IAAK,IAAIhE,EAAI,EAAGA,EAAIiI,KAAKgrB,cAAcnwB,OAAQ9C,GAAK,EAElD,GADaiI,KAAKgrB,cAAcjzB,KACnBgE,EAEX,YADAiE,KAAKgrB,cAAcrjB,OAAO5P,EAAG,K,wCAQjBgE,GAChBiE,KAAKirB,oBAAoBlsB,KAAKhD,K,2CAGXA,GACnB,IAAK,IAAIhE,EAAI,EAAGA,EAAIiI,KAAKirB,oBAAoBpwB,OAAQ9C,GAAK,EAExD,GADaiI,KAAKirB,oBAAoBlzB,KACzBgE,EAEX,YADAiE,KAAKirB,oBAAoBtjB,OAAO5P,EAAG,K,4CAQnBgE,GACpBiE,KAAKkrB,mBAAmBnsB,KAAKhD,K,+CAGNA,GACvB,IAAK,IAAIhE,EAAI,EAAGA,EAAIiI,KAAKkrB,mBAAmBrwB,OAAQ9C,GAAK,EAEvD,GADaiI,KAAKkrB,mBAAmBnzB,KACxBgE,EAEX,YADAiE,KAAKkrB,mBAAmBvjB,OAAO5P,EAAG,Q,gCAxuBb8vB,I,2KCEvB0G,G,WAiBJ,cAaG,QAZD5M,aAYC,MAZOb,GAAM9e,KAYb,MAXD0f,qBAWC,MAXeX,GAAepP,OAW9B,MAVDgR,gBAUC,MAVU3B,GAAUC,UAUpB,MATDY,qBASC,aARDD,iBAQC,aAPDzQ,aAOC,MAPO,aAOP,MAND7Y,YAMC,MANM,QAMN,MALD2D,YAKC,MALM,GAKN,MAJD+mB,YAIC,aAHDD,cAGC,aAFD5E,aAEC,MAFO,EAEP,MADDkH,iBACC,MADWjE,GAAeC,WAC1B,G,4FAAA,SACDrhB,KAAK2hB,MAAQA,EACb3hB,KAAK0hB,cAAgBA,EACrB1hB,KAAK2iB,SAAWA,EAChB3iB,KAAK6hB,cAAgBA,EACrB7hB,KAAK4hB,UAAYA,EACjB5hB,KAAKmR,MAAQA,EACbnR,KAAK1H,KAAOA,EACZ0H,KAAK/D,KAAOA,EACZ+D,KAAKgjB,KAAOA,EACZhjB,KAAK+iB,OAASA,EACd/iB,KAAKqlB,UAAYA,EACjBrlB,KAAKme,MAAQA,E,uDAkBb,OAAO,IAAIoQ,EAAS,CAClB5M,MAFE3hB,KAZF2hB,MAeAD,cAHE1hB,KAXF0hB,cAeAiB,SAJE3iB,KAVF2iB,SAeAd,cALE7hB,KATF6hB,cAeAD,UANE5hB,KARF4hB,UAeAzQ,MAPEnR,KAPFmR,MAeA7Y,KARE0H,KANF1H,KAeA2D,KATE+D,KALF/D,KAeA+mB,KAVEhjB,KAJFgjB,KAeAD,OAXE/iB,KAHF+iB,OAeA5E,MAZEne,KAFFme,MAeAkH,UAbErlB,KADFqlB,iB,6MC9DAnI,G,WAUJ,cAMG,QALDtf,YAKC,MALMzD,EAAMgG,MAKZ,MAJDuE,eAIC,aAHDtE,aAGC,MAHO,EAGP,MAFD+Q,aAEC,MAFO,UAEP,MADD9W,YACC,MADMwd,GAAUC,WAChB,G,4FAAA,SACD9X,KAAKwuB,MAAQ5wB,EACboC,KAAKyuB,SAAW/pB,EAChB1E,KAAK0uB,OAAStuB,EACdJ,KAAK2uB,OAASxd,EACdnR,KAAK4uB,MAAQv0B,E,qDAmFT0D,GACJ,IAAMoT,EAAQnR,KAAKmR,QAAUpT,EAAOoT,MAC9B/Q,EAAQJ,KAAKI,QAAUrC,EAAOqC,MAC9B/F,EAAO2F,KAAK3F,OAAS0D,EAAO1D,KAClC,OAAO8W,GAAS/Q,GAAS/F,I,kCAWf0D,GACV,GAAI5D,EAAMQ,QAAQoD,GAChB,OAAQ,EAEV,IAAM8wB,EAAU7uB,KAAKpC,KACfkxB,EAAa/wB,EAAOH,KAC1B,OAAIixB,EAAUC,EACL,EAELA,EAAaD,GACP,EAEH,I,2BAtGP,OAAO7uB,KAAKwuB,Q,8BAQZ,OAAOxuB,KAAKyuB,U,aAOFz1B,GACVgH,KAAKwuB,MAAQr0B,EAAMgG,MACnBH,KAAKyuB,SAAWz1B,I,4BAQhB,OAAOgH,KAAK0uB,Q,aAOJ11B,GACRgH,KAAKwuB,MAAQr0B,EAAMgG,MACnBH,KAAK0uB,OAAS11B,I,4BAQd,OAAOgH,KAAK2uB,Q,aAOJ31B,GACRgH,KAAKwuB,MAAQr0B,EAAMgG,MACnBH,KAAK2uB,OAAS31B,I,2BAQd,OAAOgH,KAAK4uB,O,aAOL51B,GACPgH,KAAKwuB,MAAQr0B,EAAMgG,MACnBH,KAAK4uB,MAAQ51B,O,6MClGX+1B,G,WAUJ,cAKG,QAJD/sB,YAIC,MAJM,GAIN,MAHDF,WAGC,MAHK,GAGL,MAFDuD,aAEC,MAFO,GAEP,MADDC,cACC,MADQ,GACR,G,4FAAA,SACDtF,KAAKgC,KAAO,IAAIkb,GAAOlb,GACvBhC,KAAK8B,IAAM,IAAIob,GAAOpb,GACtB9B,KAAKqF,MAAQ,IAAI6X,GAAO7X,GACxBrF,KAAKsF,OAAS,IAAI4X,GAAO5X,G,uDAUzB,OAAO,IAAIypB,EAAW,CACpB/sB,KAFEhC,KAJFgC,KAOAF,IAHE9B,KAHF8B,IAOAuD,MAJErF,KAFFqF,MAOAC,OALEtF,KADFsF,c,6MCzBA0pB,G,WAWJ,cAOG,QANDhnB,YAMC,MANM7N,EAAMqG,MAMZ,MALDyuB,kBAKC,MALY90B,EAAMsG,IAKlB,MAJD6O,cAIC,MAJQ,UAIR,MAHD4f,gBAGC,MAHU,GAGV,MAFDC,kBAEC,MAFY,GAEZ,MADDhkB,oBACC,MADc,EACd,G,4FAAA,SACDnL,KAAKivB,WAAaA,EAClBjvB,KAAKsP,OAASA,EACdtP,KAAKgI,KAAOA,EACZhI,KAAKkvB,SAAW,IAAIX,GAASW,GAC7BlvB,KAAKmvB,WAAa,IAAIJ,GAAWI,GACjCnvB,KAAKmL,aAAeA,E,+DAGNA,GACdnL,KAAKmL,aAAeA,I,8BAGd,IAEJ8jB,EAKEjvB,KALFivB,WACA3f,EAIEtP,KAJFsP,OACAtH,EAGEhI,KAHFgI,KACAknB,EAEElvB,KAFFkvB,SACAC,EACEnvB,KADFmvB,WAEF,OAAO,IAAIH,EAAK,CACdC,aACA3f,SACAtH,OACAknB,SAAUA,EAAS5C,QACnB6C,WAAYA,EAAW7C,e,2pCClBvB8C,G,YACJ,aAAc,oDACHr1B,EADG,oB,kBADMqM,GAMhBipB,G,YAEJ,WAAYC,GAAS,kBACnB,oCAASv1B,EAAT,kBACKu1B,QAAUA,EAFI,IAIXC,EADS,EAAKD,QAAQE,KAAtBtpB,KACAqpB,UAJW,OAMnB,EAAKE,KAAO,IAAIpoB,GAChB,EAAKqoB,KAAO,IAAInoB,GAChB,EAAKooB,YAAc,IAAInoB,GACvB,EAAKooB,YAAc,IAAIhoB,GACvB,EAAK0H,OAAS,IAAIC,GAAO,CACvBE,YAAa,CACXV,SAAU,SAACO,EAAQvH,GACjB,IACQshB,EADMkG,EAAUM,iBAChBxG,MAENvB,EAGEuB,EAHFvB,OACAgI,EAEEzG,EAFFyG,YACAC,EACE1G,EADF0G,aAGM3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,EAAK9Z,OAAOD,SAAStH,GACjBqhB,IACF0G,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAK7gB,OAASA,KAGlBygB,EAAaK,WACb/G,EAAMgH,cAKd,EAAKvN,KAAO,IAAI9S,GAAK,CACnBP,YAAa,CACXV,SAAU,SAAC1U,GACT,IACQgvB,EADMkG,EAAUM,iBAChBxG,MAENvB,EAGEuB,EAHFvB,OACAgI,EAEEzG,EAFFyG,YACAC,EACE1G,EADF0G,aAGM3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,EAAKtG,KAAKzT,SAAShV,GACf+uB,IACF0G,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKjB,SAAS52B,KAAO+B,KAGzB01B,EAAaK,WACb/G,EAAMgH,cAKd,EAAKC,SAAW,IAAIlgB,GAAS,CAC3BX,YAAa,CACXV,SAAU,SAAC9S,GACT,IACQotB,EADMkG,EAAUM,iBAChBxG,MAENvB,EAGEuB,EAHFvB,OACAgI,EAEEzG,EAFFyG,YACAC,EACE1G,EADF0G,aAGM3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,EAAKkH,SAASjhB,SAASpT,GACnBmtB,IACF0G,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKjB,SAASjzB,KAAOA,KAGzB8zB,EAAaK,WACb/G,EAAMgH,cAKd,EAAKE,UAAY,IAAIpa,GAAU,CAC7B1G,YAAa,CACXV,SAAU,SAACoC,GACT,IACQkY,EADMkG,EAAUM,iBAChBxG,MAENvB,EAGEuB,EAHFvB,OACAgI,EAEEzG,EAFFyG,YACAC,EACE1G,EADF0G,aAGM3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,EAAKmH,UAAUja,SAASnF,GACpBiY,IACF0G,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKjB,SAAS/d,MAAQA,KAG1B4e,EAAaK,WACb/G,EAAMgH,cAKd,EAAKG,UAAY,IAAI/Z,GAAU,CAC7BhH,YAAa,CACXV,SAAU,SAACoC,GACT,IACQkY,EADMkG,EAAUM,iBAChBxG,MAENvB,EAGEuB,EAHFvB,OACAgI,EAEEzG,EAFFyG,YACAC,EACE1G,EADF0G,aAGM3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,EAAKoH,UAAUla,SAASnF,GACpBiY,IACF0G,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKlB,WAAa9d,KAGtB4e,EAAaK,WACb/G,EAAMgH,cAKd,EAAKI,OAAS,IAAIvT,GAAO,CACvBzN,YAAa,CACXV,SAAU,SAAC4N,EAAYxL,EAAOuf,GAC5B,IACQrH,EADMkG,EAAUM,iBAChBxG,MAENvB,EAIEuB,EAJFvB,OACAgI,EAGEzG,EAHFyG,YACAa,EAEEtH,EAFFsH,MACAZ,EACE1G,EADF0G,aAGM3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,GAAIA,EAAc,CAChB,IAAIhpB,EAAQ,EACR/F,EAAOwd,GAAUC,WAErB,OAAQ4Y,GACN,IAAK,QACHtwB,EAAQ,EACR/F,EAAOwd,GAAUC,WACjB,MACF,IAAK,QACH1X,EAAQ,EACR/F,EAAOwd,GAAUC,WACjB,MACF,IAAK,QACH1X,EAAQ,EACR/F,EAAOwd,GAAUC,WACjB,MACF,IAAK,QACHzd,EAAOwd,GAAUE,YACjB,MACF,IAAK,QACH1d,EAAOwd,GAAUG,WACjB,MACF,IAAK,QACH3d,EAAOwd,GAAUI,YAKrB,OAAQ0E,GACN,IAAK,UACHmT,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWntB,KAAK0C,SAAU,EAC/ByrB,EAAKhB,WAAWrtB,IAAI4C,SAAU,EAC9ByrB,EAAKhB,WAAW9pB,MAAMX,SAAU,EAChCyrB,EAAKhB,WAAW7pB,OAAOZ,SAAU,KAGrCorB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWntB,KAAKmP,MAAQA,EAC7Bgf,EAAKhB,WAAWrtB,IAAIqP,MAAQA,EAC5Bgf,EAAKhB,WAAW9pB,MAAM8L,MAAQA,EAC9Bgf,EAAKhB,WAAW7pB,OAAO6L,MAAQA,KAGnC2e,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWntB,KAAK5B,MAAQA,EAC7B+vB,EAAKhB,WAAWrtB,IAAI1B,MAAQA,EAC5B+vB,EAAKhB,WAAW9pB,MAAMjF,MAAQA,EAC9B+vB,EAAKhB,WAAW7pB,OAAOlF,MAAQA,KAGnC0vB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWntB,KAAK3H,KAAOA,EAC5B81B,EAAKhB,WAAWrtB,IAAIzH,KAAOA,EAC3B81B,EAAKhB,WAAW9pB,MAAMhL,KAAOA,EAC7B81B,EAAKhB,WAAW7pB,OAAOjL,KAAOA,KAGlC,MACF,IAAK,UACHy1B,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKwK,MAAQrvB,EAC5Bs3B,EAAKhB,WAAW7pB,OAAOZ,SAAU,EACxB0kB,EAAa1L,KAAK0K,MAAQvvB,EACnCs3B,EAAKhB,WAAWrtB,IAAI4C,SAAU,GAE9ByrB,EAAKhB,WAAW7pB,OAAOZ,SAAU,EACjCyrB,EAAKhB,WAAWrtB,IAAI4C,SAAU,GAE5B0kB,EAAa1L,KAAKyK,MAAQ/vB,EAC5B+3B,EAAKhB,WAAW9pB,MAAMX,SAAU,EACvB0kB,EAAa1L,KAAK2K,MAAQjwB,EACnC+3B,EAAKhB,WAAWntB,KAAK0C,SAAU,GAE/ByrB,EAAKhB,WAAW9pB,MAAMX,SAAU,EAChCyrB,EAAKhB,WAAWntB,KAAK0C,SAAU,MAIrCorB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKwK,MAAQrvB,EAC5Bs3B,EAAKhB,WAAW7pB,OAAO6L,MAAQA,EACtBiY,EAAa1L,KAAK0K,MAAQvvB,EACnCs3B,EAAKhB,WAAWrtB,IAAIqP,MAAQA,GAE5Bgf,EAAKhB,WAAW7pB,OAAO6L,MAAQA,EAC/Bgf,EAAKhB,WAAWrtB,IAAIqP,MAAQA,GAE1BiY,EAAa1L,KAAKyK,MAAQ/vB,EAC5B+3B,EAAKhB,WAAW9pB,MAAM8L,MAAQA,EACrBiY,EAAa1L,KAAK2K,MAAQjwB,EACnC+3B,EAAKhB,WAAWntB,KAAKmP,MAAQA,GAE7Bgf,EAAKhB,WAAW9pB,MAAM8L,MAAQA,EAC9Bgf,EAAKhB,WAAWntB,KAAKmP,MAAQA,MAInC2e,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKwK,MAAQrvB,EAC5Bs3B,EAAKhB,WAAW7pB,OAAOlF,MAAQA,EACtBgpB,EAAa1L,KAAK0K,MAAQvvB,EACnCs3B,EAAKhB,WAAWrtB,IAAI1B,MAAQA,GAE5B+vB,EAAKhB,WAAW7pB,OAAOlF,MAAQA,EAC/B+vB,EAAKhB,WAAWrtB,IAAI1B,MAAQA,GAE1BgpB,EAAa1L,KAAKyK,MAAQ/vB,EAC5B+3B,EAAKhB,WAAW9pB,MAAMjF,MAAQA,EACrBgpB,EAAa1L,KAAK2K,MAAQjwB,EACnC+3B,EAAKhB,WAAWntB,KAAK5B,MAAQA,GAE7B+vB,EAAKhB,WAAW9pB,MAAMjF,MAAQA,EAC9B+vB,EAAKhB,WAAWntB,KAAK5B,MAAQA,MAInC0vB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKwK,MAAQrvB,EAC5Bs3B,EAAKhB,WAAW7pB,OAAOjL,KAAOA,EACrB+uB,EAAa1L,KAAK0K,MAAQvvB,EACnCs3B,EAAKhB,WAAWrtB,IAAIzH,KAAOA,GAE3B81B,EAAKhB,WAAW7pB,OAAOjL,KAAOA,EAC9B81B,EAAKhB,WAAWrtB,IAAIzH,KAAOA,GAEzB+uB,EAAa1L,KAAKyK,MAAQ/vB,EAC5B+3B,EAAKhB,WAAW9pB,MAAMhL,KAAOA,EACpB+uB,EAAa1L,KAAK2K,MAAQjwB,EACnC+3B,EAAKhB,WAAWntB,KAAK3H,KAAOA,GAE5B81B,EAAKhB,WAAW9pB,MAAMhL,KAAOA,EAC7B81B,EAAKhB,WAAWntB,KAAK3H,KAAOA,MAIlC,MACF,IAAK,UACHy1B,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKwK,MAAQrvB,EAC5Bs3B,EAAKhB,WAAW7pB,OAAOZ,SAAU,EACxB0kB,EAAa1L,KAAK0K,MAAQvvB,EACnCs3B,EAAKhB,WAAWrtB,IAAI4C,SAAU,GAE9ByrB,EAAKhB,WAAW7pB,OAAOZ,SAAU,EACjCyrB,EAAKhB,WAAWrtB,IAAI4C,SAAU,MAIpCorB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKwK,MAAQrvB,EAC5Bs3B,EAAKhB,WAAW7pB,OAAO6L,MAAQA,EACtBiY,EAAa1L,KAAK0K,MAAQvvB,EACnCs3B,EAAKhB,WAAWrtB,IAAIqP,MAAQA,GAE5Bgf,EAAKhB,WAAW7pB,OAAO6L,MAAQA,EAC/Bgf,EAAKhB,WAAWrtB,IAAIqP,MAAQA,MAIlC2e,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKwK,MAAQrvB,EAC5Bs3B,EAAKhB,WAAW7pB,OAAOlF,MAAQA,EACtBgpB,EAAa1L,KAAK0K,MAAQvvB,EACnCs3B,EAAKhB,WAAWrtB,IAAI1B,MAAQA,GAE5B+vB,EAAKhB,WAAW7pB,OAAOlF,MAAQA,EAC/B+vB,EAAKhB,WAAWrtB,IAAI1B,MAAQA,MAIlC0vB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKwK,MAAQrvB,EAC5Bs3B,EAAKhB,WAAW7pB,OAAOjL,KAAOA,EACrB+uB,EAAa1L,KAAK0K,MAAQvvB,EACnCs3B,EAAKhB,WAAWrtB,IAAIzH,KAAOA,GAE3B81B,EAAKhB,WAAW7pB,OAAOjL,KAAOA,EAC9B81B,EAAKhB,WAAWrtB,IAAIzH,KAAOA,MAIjC,MACF,IAAK,UACHy1B,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKyK,MAAQ/vB,EAC5B+3B,EAAKhB,WAAW9pB,MAAMX,SAAU,EACvB0kB,EAAa1L,KAAK2K,MAAQjwB,EACnC+3B,EAAKhB,WAAWntB,KAAK0C,SAAU,GAE/ByrB,EAAKhB,WAAW9pB,MAAMX,SAAU,EAChCyrB,EAAKhB,WAAWntB,KAAK0C,SAAU,MAIrCorB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKyK,MAAQ/vB,EAC5B+3B,EAAKhB,WAAW9pB,MAAM8L,MAAQA,EACrBiY,EAAa1L,KAAK2K,MAAQjwB,EACnC+3B,EAAKhB,WAAWntB,KAAKmP,MAAQA,GAE7Bgf,EAAKhB,WAAW9pB,MAAM8L,MAAQA,EAC9Bgf,EAAKhB,WAAWntB,KAAKmP,MAAQA,MAInC2e,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKyK,MAAQ/vB,EAC5B+3B,EAAKhB,WAAW9pB,MAAMjF,MAAQA,EACrBgpB,EAAa1L,KAAK2K,MAAQjwB,EACnC+3B,EAAKhB,WAAWntB,KAAK5B,MAAQA,GAE7B+vB,EAAKhB,WAAW9pB,MAAMjF,MAAQA,EAC9B+vB,EAAKhB,WAAWntB,KAAK5B,MAAQA,MAInC0vB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKyK,MAAQ/vB,EAC5B+3B,EAAKhB,WAAW9pB,MAAMhL,KAAOA,EACpB+uB,EAAa1L,KAAK2K,MAAQjwB,EACnC+3B,EAAKhB,WAAWntB,KAAK3H,KAAOA,GAE5B81B,EAAKhB,WAAW9pB,MAAMhL,KAAOA,EAC7B81B,EAAKhB,WAAWntB,KAAK3H,KAAOA,MAIlC,MACF,IAAK,UACHy1B,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKyK,MAAQ/vB,EAC5B+3B,EAAKhB,WAAWntB,KAAK0C,SAAU,EACtB0kB,EAAa1L,KAAK2K,MAAQjwB,IACnC+3B,EAAKhB,WAAW9pB,MAAMX,SAAU,GAE9B0kB,EAAa1L,KAAKwK,MAAQrvB,EAC5Bs3B,EAAKhB,WAAWrtB,IAAI4C,SAAU,EACrB0kB,EAAa1L,KAAK0K,MAAQvvB,IACnCs3B,EAAKhB,WAAW7pB,OAAOZ,SAAU,MAIvCorB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKyK,MAAQ/vB,EAC5B+3B,EAAKhB,WAAWntB,KAAKmP,MAAQA,EACpBiY,EAAa1L,KAAK2K,MAAQjwB,IACnC+3B,EAAKhB,WAAW9pB,MAAM8L,MAAQA,GAE5BiY,EAAa1L,KAAKwK,MAAQrvB,EAC5Bs3B,EAAKhB,WAAWrtB,IAAIqP,MAAQA,EACnBiY,EAAa1L,KAAK0K,MAAQvvB,IACnCs3B,EAAKhB,WAAW7pB,OAAO6L,MAAQA,MAIrC2e,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKyK,MAAQ/vB,EAC5B+3B,EAAKhB,WAAWntB,KAAK5B,MAAQA,EACpBgpB,EAAa1L,KAAK2K,MAAQjwB,IACnC+3B,EAAKhB,WAAW9pB,MAAMjF,MAAQA,GAE5BgpB,EAAa1L,KAAKwK,MAAQrvB,EAC5Bs3B,EAAKhB,WAAWrtB,IAAI1B,MAAQA,EACnBgpB,EAAa1L,KAAK0K,MAAQvvB,IACnCs3B,EAAKhB,WAAW7pB,OAAOlF,MAAQA,MAIrC0vB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/G,EAAa1L,KAAKyK,MAAQ/vB,EAC5B+3B,EAAKhB,WAAWntB,KAAK3H,KAAOA,EACnB+uB,EAAa1L,KAAK2K,MAAQjwB,IACnC+3B,EAAKhB,WAAW9pB,MAAMhL,KAAOA,GAE3B+uB,EAAa1L,KAAKwK,MAAQrvB,EAC5Bs3B,EAAKhB,WAAWrtB,IAAIzH,KAAOA,EAClB+uB,EAAa1L,KAAK0K,MAAQvvB,IACnCs3B,EAAKhB,WAAW7pB,OAAOjL,KAAOA,MAIpC,MACF,IAAK,UACHy1B,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/3B,IAAMgxB,EAAa1L,KAAKyK,MAC1BgI,EAAKhB,WAAWntB,KAAK0C,SAAU,MAIrCorB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWntB,KAAKmP,MAAQA,KAGjC2e,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWntB,KAAK5B,MAAQA,KAGjC0vB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWntB,KAAK3H,KAAOA,KAGhC,MACF,IAAK,UACHy1B,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACXt3B,IAAMuwB,EAAa1L,KAAKwK,MAC1BiI,EAAKhB,WAAWrtB,IAAI4C,SAAU,MAIpCorB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWrtB,IAAIqP,MAAQA,KAGhC2e,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWrtB,IAAI1B,MAAQA,KAGhC0vB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWrtB,IAAIzH,KAAOA,KAG/B,MACF,IAAK,UACHy1B,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACX/3B,IAAMgxB,EAAa1L,KAAK2K,MAC1B8H,EAAKhB,WAAW9pB,MAAMX,SAAU,MAItCorB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAW9pB,MAAM8L,MAAQA,KAGlC2e,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAW9pB,MAAMjF,MAAQA,KAGlC0vB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAW9pB,MAAMhL,KAAOA,KAGjC,MACF,IAAK,UACHy1B,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACXt3B,IAAMuwB,EAAa1L,KAAK0K,MAC1B+H,EAAKhB,WAAW7pB,OAAOZ,SAAU,MAIvCorB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAW7pB,OAAO6L,MAAQA,KAGnC2e,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAW7pB,OAAOlF,MAAQA,KAGnC0vB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAW7pB,OAAOjL,KAAOA,KAGlC,MACF,IAAK,WACHy1B,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,GACZ,IAAM+3B,EAAOQ,EAAMC,aAAa/3B,EAAGT,GAC/BgxB,EAAa1L,KAAKwK,MAAQrvB,IAChB83B,EAAMC,aAAa/3B,EAAI,EAAGT,GAClC+2B,WAAW7pB,OAAOZ,SAAU,GAE9B0kB,EAAa1L,KAAK0K,MAAQvvB,IACb83B,EAAMC,aAAa/3B,EAAI,EAAGT,GAClC+2B,WAAWrtB,IAAI4C,SAAU,GAE9B0kB,EAAa1L,KAAKyK,MAAQ/vB,IACfu4B,EAAMC,aAAa/3B,EAAGT,EAAI,GAClC+2B,WAAW9pB,MAAMX,SAAU,GAE9B0kB,EAAa1L,KAAK2K,MAAQjwB,IACdu4B,EAAMC,aAAa/3B,EAAGT,EAAI,GAClC+2B,WAAWntB,KAAK0C,SAAU,GAElCyrB,EAAKhB,WAAWntB,KAAK0C,SAAU,EAC/ByrB,EAAKhB,WAAWrtB,IAAI4C,SAAU,EAC9ByrB,EAAKhB,WAAW9pB,MAAMX,SAAU,EAChCyrB,EAAKhB,WAAW7pB,OAAOZ,SAAU,KAGrCorB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWntB,KAAKmP,OAAQ,EAC7Bgf,EAAKhB,WAAWrtB,IAAIqP,OAAQ,EAC5Bgf,EAAKhB,WAAW9pB,MAAM8L,OAAQ,EAC9Bgf,EAAKhB,WAAW7pB,OAAO6L,OAAQ,KAGnC2e,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWntB,KAAK5B,OAAQ,EAC7B+vB,EAAKhB,WAAWrtB,IAAI1B,OAAQ,EAC5B+vB,EAAKhB,WAAW9pB,MAAMjF,OAAQ,EAC9B+vB,EAAKhB,WAAW7pB,OAAOlF,OAAQ,KAGnC0vB,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKhB,WAAWntB,KAAK3H,MAAO,EAC5B81B,EAAKhB,WAAWrtB,IAAIzH,MAAO,EAC3B81B,EAAKhB,WAAW9pB,MAAMhL,MAAO,EAC7B81B,EAAKhB,WAAW7pB,OAAOjL,MAAO,KAOtC01B,EAAaK,WAEb/G,EAAMgH,cAKd,EAAKQ,SAAW,IAAIvgB,GACpB,EAAKwgB,WAAa,IAAIvgB,GACtB,EAAKwgB,UAAY,IAAIvgB,GACrB,EAAKwgB,WAAa,IAAIvgB,GACtB,EAAK0d,MAAQ,IAAI/Q,GACjB,EAAK6T,gBAAkB,IAAIlL,GAAgB,CACzCtW,YAAa,CACXV,SAAU,SAAC1U,GACT,IACQgvB,EADMkG,EAAUM,iBAChBxG,MAENvB,EAGEuB,EAHFvB,OACAgI,EAEEzG,EAFFyG,YACAC,EACE1G,EADF0G,aAGM3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,OAAQ/uB,GACN,KAAKymB,GAAM9e,KACT,EAAKivB,gBAAgB5a,QAAQ,IAAInP,EAAK,eACtC,MACF,KAAK4Z,GAAMnP,OACT,EAAKsf,gBAAgB5a,QAAQ,IAAInP,EAAK,iBACtC,MACF,KAAK4Z,GAAMzb,MACT,EAAK4rB,gBAAgB5a,QAAQ,IAAInP,EAAK,gBAItCkiB,IACF0G,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKjB,SAASvN,MAAQtnB,KAG1B01B,EAAaK,WACb/G,EAAMgH,cAKd,EAAK3O,cAAgB,IAAIgF,GAAc,CACrCjX,YAAa,CACXV,SAAU,SAAC1U,GACT,IACQgvB,EADMkG,EAAUM,iBAChBxG,MAENvB,EAGEuB,EAHFvB,OACAgI,EAEEzG,EAFFyG,YACAC,EACE1G,EADF0G,aAGM3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,OAAQ/uB,GACN,KAAK0mB,GAAejf,IAClB,EAAK4f,cAAcrL,QAAQ,IAAInP,EAAK,cACpC,MACF,KAAK6Z,GAAepP,OAClB,EAAK+P,cAAcrL,QAAQ,IAAInP,EAAK,iBACpC,MACF,KAAK6Z,GAAezb,OAClB,EAAKoc,cAAcrL,QAAQ,IAAInP,EAAK,iBAIpCkiB,IACF0G,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKjB,SAASxN,cAAgBrnB,KAGlC01B,EAAaK,WACb/G,EAAMgH,cAKd,EAAKa,aAAe,IAAI7J,GAAa,CACnC5X,YAAa,CACXV,SAAU,SAAC1U,GACT,IASIiN,EARI+hB,EADMkG,EAAUM,iBAChBxG,MAENvB,EAGEuB,EAHFvB,OACAgI,EAEEzG,EAFFyG,YACAC,EACE1G,EADF0G,aAGM3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aAER,OAAQ/uB,GACN,KAAK2mB,GAAUG,SACb7Z,EAAO,IAAIJ,EAAK,YAChB,MACF,KAAK8Z,GAAUE,UACb5Z,EAAO,IAAIJ,EAAK,aAChB,MACF,KAAK8Z,GAAUC,UACf,QACE3Z,EAAO,IAAIJ,EAAK,YAGpB,EAAKgqB,aAAa7a,QAAQ/O,GACtB8hB,IACF0G,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKjB,SAASvM,SAAWtoB,KAG7B01B,EAAaK,WACb/G,EAAMgH,cAKd,EAAKlD,MAAQ,IAAI5F,GACjB,EAAK7Z,OAAS,IAAI8Z,GAClB,EAAK2J,UAAY,IAAI1J,GACrB,EAAKzkB,SAAS,EAAKysB,MACnB,EAAKzsB,SAAS,EAAK0sB,MACnB,EAAK1sB,SAAS,EAAK2sB,aACnB,EAAK3sB,SAAS,EAAK4sB,aACnB,EAAK5sB,SAAS,IAAIosB,IAClB,EAAKpsB,SAAS,EAAKsM,QACnB,EAAKtM,SAAS,IAAIosB,IAClB,EAAKpsB,SAAS,EAAK8f,MACnB,EAAK9f,SAAS,EAAKstB,UACnB,EAAKttB,SAAS,IAAIosB,IAClB,EAAKpsB,SAAS,EAAK6tB,UACnB,EAAK7tB,SAAS,EAAK8tB,YACnB,EAAK9tB,SAAS,EAAK+tB,WACnB,EAAK/tB,SAAS,EAAKguB,YACnB,EAAKhuB,SAAS,EAAKutB,WACnB,EAAKvtB,SAAS,IAAIosB,IAClB,EAAKpsB,SAAS,EAAKwtB,WACnB,EAAKxtB,SAAS,EAAKytB,QACnB,EAAKztB,SAAS,EAAKmrB,OACnB,EAAKnrB,SAAS,EAAKiuB,iBACnB,EAAKjuB,SAAS,EAAK0e,eACnB,EAAK1e,SAAS,EAAKkuB,cACnB,EAAKluB,SAAS,EAAKmqB,OACnB,EAAKnqB,SAAS,EAAK0K,QACnB,EAAK1K,SAAS,EAAKmuB,WACnB,EAAK53B,OAhyBc,E,8DAmyBd,WACG2M,EAASlG,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,EAAcrpB,EAAdqpB,UACRxlB,GAAUxQ,KAAK2M,EAAMkC,GAASyB,eAAeC,eAAe,WAC1D,EAAKsnB,eAEPrnB,GAAUxQ,KAAK2M,EAAMkC,GAASmB,iBAAiBG,aAAa,WAC1D,EAAK0nB,eAEPrnB,GAAUxQ,KAAK2M,EAAMkC,GAASmB,iBAAiBK,aAAa,WAE1D,EAAKynB,kBACL,EAAKC,gBACL,EAAKC,oBACL,EAAKC,oBACL,EAAKC,sBACL,EAAKC,qBACL,EAAKC,sBACL,EAAKC,qBACL,EAAKC,qBACL,EAAKC,2BACL,EAAKC,yBACL,EAAKC,2BAEPjoB,GAAUxQ,KAAKyG,KAAKyvB,KAAMrnB,GAASC,kBAAkBG,YAAY,WAC/D,IAEQunB,EAFMR,EAAUM,iBAChBxG,MACA0G,aACJA,EAAaN,KAAK50B,SAAW,GAAGk1B,EAAaN,KAAKzwB,SAExD+K,GAAUxQ,KAAKyG,KAAK0vB,KAAMtnB,GAASC,kBAAkBG,YAAY,WACjD+mB,EAAUM,iBAChBxG,MACA0G,aACKL,KAAK1wB,SAEpB+K,GAAUxQ,KAAKyG,KAAK2vB,YAAavnB,GAASC,kBAAkBG,YAAY,WACtE,IAAMd,EAAQ6nB,EAAUM,iBAChBxG,EAAU3hB,EAAV2hB,MACAvB,EAA6CuB,EAA7CvB,OAAQ6I,EAAqCtH,EAArCsH,MAAOb,EAA8BzG,EAA9ByG,YAAaC,EAAiB1G,EAAjB0G,aAC9BkC,EAAkBnK,EAAOkI,YAAY7G,IACrC+I,EAAiBpK,EAAOkI,YAAYlF,IAClC1B,EAAiB8I,EAAjB9I,aACJA,IACF6I,EAAgBE,QAAQ/I,GACxB,EAAKuG,YAAY3rB,QAAO,GACxB,EAAK2rB,YAAYyC,SAAS1qB,GAqB1BwqB,EAAeG,uBApBJ,SAALt2B,IAEJk2B,EAAgBK,UAChB,EAAK3C,YAAY3rB,QAAO,GACxB,EAAK2rB,YAAY4C,YAAY7qB,GAC7BwqB,EAAeM,yBAAyBz2B,GALzB,IAOO02B,EAAoBP,EAAlC9I,aACFtsB,EAAM6zB,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KACxE2H,EAAYG,4BAA4B,CACtCC,UAAWuC,EAAgB/U,KAC3ByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GAAS,IAChBnoB,EAASmoB,EAATnoB,KACR7N,EAAMkB,UAAU80B,EAAMrzB,GACtBqzB,EAAKnoB,KAAOA,KAGhB+nB,EAAaK,WACb/G,EAAMgH,gBAKZtmB,GAAUxQ,KAAKyG,KAAK4vB,YAAaxnB,GAASC,kBAAkBG,YAAY,WACtE,IACQ6gB,EADMkG,EAAUM,iBAChBxG,MACAvB,EAAwBuB,EAAxBvB,OAAQgI,EAAgBzG,EAAhByG,YAER1G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJA,IACF0G,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GAAS,IAChBnoB,EAASmoB,EAATnoB,KACRqhB,EAAMqJ,QAAQ75B,EAAGT,EAAG,IAAI42B,GAAK,CAAEhnB,UAC/B7N,EAAMkB,UAAU80B,EAAM,IAAInB,GAAK,CAAEhnB,UACjCmoB,EAAKnoB,KAAOA,KAGhBqhB,EAAMgH,aAGVtmB,GAAUxQ,KAAKyG,KAAKsP,OAAQlH,GAASC,kBAAkBG,YAAY,SAAC7M,GAAM,IAEhEiU,EADW,EAAXN,OACAM,kBACAxB,EAAYwB,EAAZxB,QACRrB,GAAQiQ,SAAS,CAAC5O,IACdwB,EAAkBqN,SACpBrN,EAAkBvB,OAElBuB,EAAkBjC,QAEpBhS,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAKyG,KAAK8iB,KAAM1a,GAASC,kBAAkBG,YAAY,SAAC7M,GAAM,IAE9DsU,EADS,EAAT6S,KACA7S,gBACA7B,EAAY6B,EAAZ7B,QACRrB,GAAQiQ,SAAS,CAAC5O,IACd6B,EAAgBgN,SAClBhN,EAAgB5B,OAEhB4B,EAAgBtC,QAElBhS,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAKyG,KAAKswB,SAAUloB,GAASC,kBAAkBG,YAAY,SAAC7M,GAAM,IAElE0U,EADa,EAAbigB,SACAjgB,oBACAjC,EAAYiC,EAAZjC,QACRrB,GAAQiQ,SAAS,CAAC5O,IACdiC,EAAoB4M,SACtB5M,EAAoBhC,OAEpBgC,EAAoB1C,QAEtBhS,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAKyG,KAAK6wB,SAAUzoB,GAASC,kBAAkBG,YAAY,WACnE,IACQ6gB,EADMkG,EAAUM,iBAChBxG,MACAvB,EAA6CuB,EAA7CvB,OAAQ6I,EAAqCtH,EAArCsH,MAAOb,EAA8BzG,EAA9ByG,YAAaC,EAAiB1G,EAAjB0G,aAE5B3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,GAAIA,EAAc,CAChB,IACMpG,GADY2N,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KACtD+G,SAASlM,KACjC8M,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKjB,SAASlM,KAAOA,KAGzB+M,EAAaK,WACb/G,EAAMgH,aAGVtmB,GAAUxQ,KAAKyG,KAAK8wB,WAAY1oB,GAASC,kBAAkBG,YAAY,WACrE,IACQ6gB,EADMkG,EAAUM,iBAChBxG,MACAvB,EAA6CuB,EAA7CvB,OAAQ6I,EAAqCtH,EAArCsH,MAAOb,EAA8BzG,EAA9ByG,YAAaC,EAAiB1G,EAAjB0G,aAE5B3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,GAAIA,EAAc,CAChB,IACMrG,GADY4N,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KACpD+G,SAASnM,OACnC+M,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKjB,SAASnM,OAASA,KAG3BgN,EAAaK,WACb/G,EAAMgH,aAGVtmB,GAAUxQ,KAAKyG,KAAK+wB,UAAW3oB,GAASC,kBAAkBG,YAAY,WACpE,IACQ6gB,EADMkG,EAAUM,iBAChBxG,MACAvB,EAA6CuB,EAA7CvB,OAAQ6I,EAAqCtH,EAArCsH,MAAOb,EAA8BzG,EAA9ByG,YAAaC,EAAiB1G,EAAjB0G,aAE5B3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,GAAIA,EAAc,CAChB,IACMxH,GADY+O,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KACjD+G,SAAStN,UACtCkO,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKjB,SAAStN,UAAYA,KAG9BmO,EAAaK,WACb/G,EAAMgH,aAGVtmB,GAAUxQ,KAAKyG,KAAKgxB,WAAY5oB,GAASC,kBAAkBG,YAAY,WACrE,IACQ6gB,EADMkG,EAAUM,iBAChBxG,MACAvB,EAA6CuB,EAA7CvB,OAAQ6I,EAAqCtH,EAArCsH,MAAOb,EAA8BzG,EAA9ByG,YAAaC,EAAiB1G,EAAjB0G,aAE5B3G,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,GAAIA,EAAc,CAChB,IACMvH,GADY8O,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAC7C+G,SAASrN,cAC1CiO,EAAYG,4BAA4B,CACtCC,UAAW9G,EAAa1L,KACxByO,SAAU,SAACtzB,EAAGT,EAAG+3B,GACfA,EAAKjB,SAASrN,cAAgBA,KAGlCkO,EAAaK,WACb/G,EAAMgH,aAGVtmB,GAAUxQ,KAAKyG,KAAKuwB,UAAWnoB,GAASC,kBAAkBG,YAAY,SAAC7M,GAAM,IAEnEya,EADc,EAAdma,UACAna,qBACAhI,EAAYgI,EAAZhI,QACRrB,GAAQiQ,SAAS,CAAC5O,IACdgI,EAAqB6G,SACvB7G,EAAqB/H,OAErB+H,EAAqBzI,QAEvBhS,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAKyG,KAAKwwB,UAAWpoB,GAASC,kBAAkBG,YAAY,SAAC7M,GAAM,IAEnE+a,EADc,EAAd8Z,UACA9Z,qBACAtI,EAAYsI,EAAZtI,QACRrB,GAAQiQ,SAAS,CAAC5O,IACdsI,EAAqBuG,SACvBvG,EAAqBrI,OAErBqI,EAAqB/I,QAEvBhS,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAKyG,KAAKywB,OAAQroB,GAASC,kBAAkBG,YAAY,SAAC7M,GAAM,IAEhEwhB,EADW,EAAXsT,OACAtT,sBACA/O,EAAY+O,EAAZ/O,QACRrB,GAAQiQ,SAAS,CAAC5O,IACd+O,EAAsBF,SACxBE,EAAsB9O,OAEtB8O,EAAsBxP,QAExBhS,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAKyG,KAAKmuB,MAAO/lB,GAASC,kBAAkBG,YAAY,SAAC7M,GACjE,IACQ0tB,EADMkG,EAAUM,iBAChBxG,MACAvB,EAAiCuB,EAAjCvB,OAAQiI,EAAyB1G,EAAzB0G,aAAcxE,EAAWlC,EAAXkC,OAEtBnC,EADetB,EAAOkI,YAAYlF,IAClC1B,aACR,GAAIA,EAAc,CAChB,IAAM+E,EAAQ/E,EAAa1L,KAAK4O,QAC1B1E,EAAO2D,EAAOmB,iBAAiByB,EAAMjG,IAAKiG,EAAMhG,KACzC,OAATP,EACF2D,EAAOoH,iBAAiB/K,GACfuG,EAAMjF,YACfqC,EAAO/nB,IAAI2qB,GAEb4B,EAAaK,WACb/G,EAAMgH,SAER10B,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAKyG,KAAKixB,gBAAiB7oB,GAASC,kBAAkBG,YAAY,SAAC7M,GAAM,IAEzEqqB,EADoB,EAApBiL,gBACAjL,sBACA5X,EAAY4X,EAAZ5X,QACRrB,GAAQiQ,SAAS,CAAC5O,IACd4X,EAAsB/I,SACxB+I,EAAsB3X,OAEtB2X,EAAsBrY,QAExBhS,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAKyG,KAAK0hB,cAAetZ,GAASC,kBAAkBG,YAAY,SAAC7M,GAAM,IAEvEgrB,EADkB,EAAlBjF,cACAiF,oBACAvY,EAAYuY,EAAZvY,QACRrB,GAAQiQ,SAAS,CAAC5O,IACduY,EAAoB1J,SACtB0J,EAAoBtY,OAEpBsY,EAAoBhZ,QAEtBhS,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAKyG,KAAKkxB,aAAc9oB,GAASC,kBAAkBG,YAAY,SAAC7M,GAAM,IAEtE2rB,EADiB,EAAjB4J,aACA5J,wBACAlZ,EAAYkZ,EAAZlZ,QACRrB,GAAQiQ,SAAS,CAAC5O,IACdkZ,EAAwBrK,SAC1BqK,EAAwBjZ,OAExBiZ,EAAwB3Z,QAE1BhS,EAAEiG,kBACFjG,EAAEiQ,sB,sCAIU,IAKNmkB,EAJS/vB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACA0G,aACR/vB,KAAKyvB,KAAKzrB,OAAO+rB,EAAaN,KAAK50B,SAAW,K,sCAGhC,IAKNk1B,EAJS/vB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACA0G,aACR/vB,KAAK0vB,KAAK1rB,QAAQ+rB,EAAaL,KAAKkD,a,6CAGf,IAGflrB,EAFW1H,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBACxB7vB,KAAK2vB,YAAY3rB,OAAOhE,KAAK2vB,YAAYkD,aAAanrB,M,wCAGtC,IAIR2hB,EAHSrpB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACAvB,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJphB,EAAO,KACPsH,EAAS,UACb,GAAI8Z,EAIF,OADA9Z,EAFkBqhB,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAE3D7Y,QAEjB,IAAK,UACHtH,EAAO,KACP,MACF,IAAK,OACHA,EAAO,KACP,MACF,IAAK,SACHA,EAAO,KACP,MACF,IAAK,aACHA,EAAO,MACP,MACF,IAAK,WACHA,EAAO,KACP,MACF,IAAK,YACHA,EAAO,OACP,MACF,IAAK,MACHA,EAAO,MACP,MACF,IAAK,KACHA,EAAO,KACP,MACF,IAAK,SACHA,EAAO,KACP,MACF,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,QACHA,EAAO,KACP,MACF,IAAK,OACHA,EAAO,KAKbhI,KAAKsP,OAAOD,SAASrH,GACrBhI,KAAKsP,OAAOM,kBAAkBG,gBAAgBT,K,sCAGhC,IAIN+Z,EAHSrpB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACAvB,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJ9wB,EAAO,QACP8wB,IAGF9wB,EAFkBq4B,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAE7D+G,SAAS52B,MAE5B0H,KAAK8iB,KAAKzT,SAAS/W,GACnB0H,KAAK8iB,KAAK7S,gBAAgBF,gBAAgBzX,K,0CAGxB,IAIV+wB,EAHSrpB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACAvB,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJntB,EAAO,KACPmtB,IAGFntB,EAFkB00B,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAE7D+G,SAASjzB,MAE5B+D,KAAKswB,SAASjhB,SAASpT,K,0CAGL,IAIVotB,EAHSrpB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACAvB,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJpG,GAAO,EACPoG,IAGFpG,EAFkB2N,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAE7D+G,SAASlM,MAE5BhjB,KAAK6wB,SAAS7sB,OAAOgf,K,4CAGD,IAIZqG,EAHSrpB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACAvB,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJrG,GAAS,EACTqG,IAGFrG,EAFkB4N,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAE3D+G,SAASnM,QAE9B/iB,KAAK8wB,WAAW9sB,OAAO+e,K,2CAGJ,IAIXsG,EAHSrpB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACAvB,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJxH,GAAY,EACZwH,IAGFxH,EAFkB+O,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAExD+G,SAAStN,WAEjC5hB,KAAK+wB,UAAU/sB,OAAO4d,K,4CAGF,IAIZyH,EAHSrpB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACAvB,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJvH,GAAgB,EAChBuH,IAGFvH,EAFkB8O,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAEpD+G,SAASrN,eAErC7hB,KAAKgxB,WAAWhtB,OAAO6d,K,2CAGJ,IAIXwH,EAHSrpB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACAvB,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJjY,EAAQ,eACRiY,IAGFjY,EAFkBwf,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAE5D+G,SAAS/d,OAE7BnR,KAAKuwB,UAAUja,SAASnF,GACxBnR,KAAKuwB,UAAUna,qBAAqBV,iBAAiBvE,K,2CAGlC,IAIXkY,EAHSrpB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACAvB,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJjY,EAAQ,qBACZ,GAAIiY,EAAc,CAChB,IAAM0J,EAAYnC,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAE1E2K,EAAU7D,aACZ9d,EAAQ2hB,EAAU7D,YAGtBjvB,KAAKwwB,UAAUla,SAASnF,GACxBnR,KAAKwwB,UAAU9Z,qBAAqBhB,iBAAiBvE,K,iDAG5B,IAIjBkY,EAHSrpB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACAvB,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJ9hB,EAAO,IAAIJ,EAAK,cACpB,GAAIkiB,EAEF,OADkBuH,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAC5D+G,SAASvN,OACzB,KAAKb,GAAM9e,KACTsF,EAAO,IAAIJ,EAAK,cAChB,MACF,KAAK4Z,GAAMnP,OACTrK,EAAO,IAAIJ,EAAK,gBAChB,MACF,KAAK4Z,GAAMzb,MACTiC,EAAO,IAAIJ,EAAK,eAKtBlH,KAAKixB,gBAAgB5a,QAAQ/O,K,+CAGN,IAIf+hB,EAHSrpB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACAvB,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJ9hB,EAAO,IAAIJ,EAAK,gBACpB,GAAIkiB,EAEF,OADkBuH,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAC5D+G,SAASxN,eACzB,KAAKX,GAAejf,IAClBwF,EAAO,IAAIJ,EAAK,aAChB,MACF,KAAK6Z,GAAepP,OAClBrK,EAAO,IAAIJ,EAAK,gBAChB,MACF,KAAK6Z,GAAezb,OAClBgC,EAAO,IAAIJ,EAAK,gBAKtBlH,KAAK0hB,cAAcrL,QAAQ/O,K,8CAGL,IAId+hB,EAHSrpB,KAAKsvB,QAAQE,KAAtBtpB,KACAqpB,UACgBM,iBAChBxG,MACAvB,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADetB,EAAOkI,YAAYlF,IAClC1B,aACJ9hB,EAAO,IAAIJ,EAAK,aACpB,GAAIkiB,EAEF,OADkBuH,EAAMC,aAAaxH,EAAa1L,KAAKwK,IAAKkB,EAAa1L,KAAKyK,KAC5D+G,SAASvM,UACzB,KAAK3B,GAAUG,SACb7Z,EAAO,IAAIJ,EAAK,YAChB,MACF,KAAK8Z,GAAUE,UACb5Z,EAAO,IAAIJ,EAAK,aAChB,MACF,KAAK8Z,GAAUC,UACf,QACE3Z,EAAO,IAAIJ,EAAK,YAItBlH,KAAKkxB,aAAa7a,QAAQ/O,K,kCAI1BtH,KAAK+yB,gBACL/yB,KAAKgzB,gBACLhzB,KAAKizB,uBACLjzB,KAAKqxB,kBACLrxB,KAAKsxB,gBACLtxB,KAAKuxB,oBACLvxB,KAAKwxB,oBACLxxB,KAAKyxB,sBACLzxB,KAAK0xB,qBACL1xB,KAAK2xB,sBACL3xB,KAAK4xB,qBACL5xB,KAAK6xB,qBACL7xB,KAAK8xB,2BACL9xB,KAAK+xB,yBACL/xB,KAAKgyB,6B,gCAt5Ca5rB,G,ozBCrChBgB,G,YACJ,WAAYtG,GAAW,a,4FAAA,UACrB,oCAAS/G,EAAT,wBAAkC+G,MAC7BiH,MAAQ,GAFQ,E,iSAKdA,GACP/H,KAAK+H,MAAQA,EACb/H,KAAKgI,KAAKhI,KAAK+H,Y,gCARA3B,G,6oBCAb8sB,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASn5B,EAAT,kBACKsV,SAAS,MAFF,E,mPADGjI,I,6oBCAb+rB,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASp5B,EAAT,oBACKsV,SAAS,MAFF,E,mPADMjI,I,6oBCAhBgsB,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASr5B,EAAT,oBACKsV,SAAS,MAFF,E,mPADKjI,I,6oBCAfisB,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASt5B,EAAT,kBACKsV,SAAS,MAFF,E,mPADGjI,I,6oBCAbksB,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASv5B,EAAT,oBACKsV,SAAS,MAFF,E,mPADKjI,I,ozBCMfmsB,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASx5B,EAAT,cACKgO,MAAQ,eACb,EAAKyrB,QAAUrtB,EAAE,MAAD,UAAWpM,EAAX,iBAChB,EAAK05B,SAAWttB,EAAE,MAAD,UAAWpM,EAAX,kBACjB,EAAK25B,WAAavtB,EAAE,MAAD,UAAWpM,EAAX,gBACnB,EAAK45B,QAAUxtB,EAAE,MAAD,UAAWpM,EAAX,iBAChB,EAAK65B,SAAWztB,EAAE,MAAD,UAAWpM,EAAX,kBACjB,EAAK45B,QAAQ3wB,SAAS,EAAKwwB,SAC3B,EAAKI,SAAS5wB,SAAS,EAAKywB,SAAU,EAAKC,YAC3C,EAAK1wB,SAAS,EAAK2wB,SACnB,EAAK3wB,SAAS,EAAK4wB,UACnB,EAAKvkB,SAAS,EAAKtH,OACnB,EAAK8rB,KAAO,IAAIX,GAChB,EAAK5jB,OAAS,IAAI6jB,GAClB,EAAKW,OAAS,IAAIV,GAClB,EAAKW,KAAO,IAAIV,GAChB,EAAKpkB,OAAS,IAAIqkB,GAClB,EAAKI,WAAW1wB,SAAS,EAAK6wB,MAC9B,EAAKH,WAAW1wB,SAAS,EAAKsM,QAC9B,EAAKokB,WAAW1wB,SAAS,EAAK8wB,QAC9B,EAAKJ,WAAW1wB,SAAS,EAAK+wB,MAC9B,EAAKL,WAAW1wB,SAAS,EAAKiM,QAtBlB,E,iSAyBLlH,GACP/H,KAAK+H,MAAQA,EACb/H,KAAKyzB,SAASzrB,KAAKD,Q,gCA5BC3B,G,wkBCJlB4tB,G,YACJ,WAAYxE,GAAM,M,IAAA,O,4FAAA,S,EAChB,U,EAAA,0BAASz1B,EAAT,gB,gDACKy1B,KAAOA,EACZ,EAAKyE,UAAY,IAAI5E,GAAJ,OACjB,EAAK7kB,OAAS,IAAI+oB,GAAJ,OACd,EAAKvwB,SAAS,EAAKwH,QACnB,EAAKxH,SAAS,EAAKixB,WANH,E,mPADE7tB,G,ozBCDhB8tB,G,YACJ,WAAY7tB,EAASO,GAAS,a,4FAAA,UAC5B,0BAAM,MAAN,UAAgB7M,EAAhB,+BACK6M,QAAUzM,EAAMkB,UAAU,CAC7BiJ,MAAO,IACNsC,GACH,EAAKP,QAAUA,EACf,EAAKS,OANuB,E,+RAU5B9G,KAAK6B,IAAI7B,KAAK4G,QAAQtC,OACtBtE,KAAKgD,SAAShD,KAAKqG,c,gCAZazF,G,ozBCA9BuzB,G,YACJ,WAAYvtB,GAAS,a,4FAAA,UACnB,0BAAM,MAAN,UAAgB7M,EAAhB,uBACK6M,QAAUzM,EAAMkB,UAAU,CAC7B+4B,eAAgB,GAChB9vB,MAAO,IACNsC,GACH,EAAKE,OANc,E,+RAUnB9G,KAAK6B,IAAI7B,KAAK4G,QAAQtC,OADjB,2BAGL,YAA4BtE,KAAK4G,QAAQwtB,eAAzC,oDAAWC,EAAX,QAAyDr0B,KAAKgD,SAASqxB,IAHlE,wF,gCAVoBzzB,G,2KCJvB0zB,G,uLACcC,EAAKC,GACrB,IAAMh8B,EAAI,CACR,KAAMg8B,EAAKC,WAAa,EACxB,KAAMD,EAAKE,UACX,KAAMF,EAAKG,WACX,KAAMH,EAAKI,aACX,KAAMJ,EAAKK,aACX,KAAMviB,KAAK0L,OAAOwW,EAAKC,WAAa,GAAK,GACzCK,EAAGN,EAAKO,mBAGJC,EADS,OACWC,KAAKV,GAC/B,GAAIS,EAAY,CACd,IAAME,EAAiBF,EAAW,GAC5BG,EAAWX,EAAKY,cAAc96B,WAAY+6B,OAAO,EAAIH,EAAer6B,QAE1E05B,EAAMA,EAAIpvB,QAAQ+vB,EAAgBC,GAGpC,IAAK,IAAMzzB,KAAKlJ,EAAG,CACjB,IACM88B,EADK,IAAI72B,OAAJ,WAAeiD,EAAf,MACIuzB,KAAKV,GACpB,GAAIe,EAAK,CACP,IAAMC,EAAM/8B,EAAEkJ,GAAGpH,WACXk7B,EAAaF,EAAI,GACjBG,EAAoC,IAAtBD,EAAW36B,OAAiB06B,EAAQ,YAAMA,GAAOF,OAAOE,EAAI16B,QAEhF05B,EAAMA,EAAIpvB,QAAQqwB,EAAYC,IAGlC,OAAOlB,I,mCAGWmB,EAAUpmB,GAC5B,IAAKomB,EACH,OAAO,KA0BT,IAxBA,IAAMC,EAAa,IAAIn3B,KAAK,uBACtBhG,EAAI,CAAC,CACTo9B,IAAK,MACJ,CACDA,IAAK,MACJ,CACDA,IAAK,MACJ,CACDA,IAAK,MACJ,CACDA,IAAK,MACJ,CACDA,IAAK,MACJ,CACDA,IAAK,MAEHC,EAAOF,EAAWP,cAClBU,EAAQH,EAAWlB,WAAa,EAChCsB,EAAMJ,EAAWjB,UACjBsB,EAAQL,EAAWhB,WACnBsB,EAAUN,EAAWf,aACrBsB,EAAUP,EAAWd,aACrBsB,EAAeR,EAAWZ,kBAC1Bv4B,EAAQ,EACHunB,EAAI,EAAGA,EAAIzU,EAAOzU,OAAQkpB,GAAK,EAEtC,IADA,IAAMqS,EAAU9mB,EAAOyU,GACdhsB,EAAI,EAAGA,EAAIS,EAAEqC,OAAQ9C,GAAK,EAAG,CACpC,IAAMs+B,EAAU79B,EAAET,GAElB,GADmBs+B,EAAQT,IACZ,KAAOQ,EAAS,CACxBC,EAAQ75B,QACX65B,EAAQ75B,MAAQA,EAChBA,GAAS,GAEX,OAIN,IAAK,IAAIzE,EAAI,EAAGA,EAAIS,EAAEqC,OAAQ9C,GAAK,EAAG,CACpC,IACMu+B,EADU99B,EAAET,GACS69B,IAErBN,EADK,IAAI72B,OAAJ,WAAe63B,EAAf,MACIrB,KAAK3lB,GACpB,GAAIgmB,EAAK,CACP,IAAME,EAAaF,EAAI,GACjBG,EAAa,YAAH,OAAeD,EAAW36B,OAA1B,MAEhByU,EAASA,EAAOnK,QAAQqwB,EAAYC,IAGxC,IAAMc,EAAW,GAEXjB,EADK,IAAI72B,OAAO6Q,GACP2lB,KAAKS,GACpB,IAAIJ,EAKF,OAAO,KAJP,IAAK,IAAIv9B,EAAI,EAAGA,EAAIu9B,EAAIz6B,OAAQ9C,GAAK,EACnCw+B,EAASx+B,GAAKu9B,EAAIv9B,GAiCtB,OA5BIS,EAAE,GAAGgE,QAEPq5B,EAAOU,EADW/9B,EAAE,GAAZgE,QAGNhE,EAAE,GAAGgE,QAEPs5B,EAAQS,EADU/9B,EAAE,GAAZgE,QAGNhE,EAAE,GAAGgE,QAEPu5B,EAAMQ,EADY/9B,EAAE,GAAZgE,QAGNhE,EAAE,GAAGgE,QAEPw5B,EAAQO,EADU/9B,EAAE,GAAZgE,QAGNhE,EAAE,GAAGgE,QAEPy5B,EAAUM,EADQ/9B,EAAE,GAAZgE,QAGNhE,EAAE,GAAGgE,QAEP05B,EAAUK,EADQ/9B,EAAE,GAAZgE,QAGNhE,EAAE,GAAGgE,QAEP25B,EAAeI,EADG/9B,EAAE,GAAZgE,QAGH,IAAIgC,KAAKq3B,EAAMC,EAAQ,EAAGC,EAAKC,EAAOC,EAASC,EAASC,O,kNC3HnE,SAASK,GAAaxuB,GACpB,IAAIhK,EAASs2B,GAAUkC,aAAaxuB,EAAM,uBAC1C,OAAIhK,KACJA,EAASs2B,GAAUkC,aAAaxuB,EAAM,eACnBhK,GACnBA,EAASs2B,GAAUkC,aAAaxuB,EAAM,aACnBhK,GACnBA,EAASs2B,GAAUkC,aAAaxuB,EAAM,WACnBhK,GACnBA,EAASs2B,GAAUkC,aAAaxuB,EAAM,aACnBhK,GACnBA,EAASs2B,GAAUkC,aAAaxuB,EAAM,iBAE/B,M,IA0GHsH,GAAS,I,qLArGLtW,GACN,OAAOA,I,2BAGJA,GACH,OAAOA,I,6BAGFA,GACL,GAAImB,EAAMkC,SAASrD,GAAQ,CACzB,IAAuC,IAAnCA,EAAMsB,WAAWwE,QAAQ,KAAa,CACxC,IAAM23B,EAAYz9B,EAAMsB,WAAWo8B,YAAY,KAAO,EACtD,OAAO19B,EAAMsB,WAAWiY,UAAU,EAAGkkB,EAAY,GAEnD,gBAAUz9B,EAAV,OAEF,OAAOA,I,iCAGEA,GACT,OAAImB,EAAMkC,SAASrD,GACjB,UAAUA,EAAV,KAEKA,I,+BAGAA,GACP,GAAImB,EAAMw8B,WAAW39B,GAAQ,CAC3B,IAAMgJ,EAAOhJ,EAAMoI,MAAM,KAAK,GACxBiE,EAAQrM,EAAMoI,MAAM,KAAK,GAC/B,OAAOjH,EAAMoC,SAASyF,GAAQ7H,EAAMoC,SAAS8I,GAE/C,OAAOrM,I,gCAGCA,GACR,OAAImB,EAAMkC,SAASrD,GACFmB,EAAMmC,WAAWtD,GAClB49B,cAAc,GAEvB59B,I,0BAGLA,GACF,OAAImB,EAAMkC,SAASrD,GACjB,WAAWA,GAENA,I,yBAGNA,GACD,OAAImB,EAAMkC,SAASrD,GACjB,YAAYA,GAEPA,I,6BAGFA,GACL,OAAImB,EAAMkC,SAASrD,GACjB,WAAWA,GAENA,I,4BAGHA,GACJ,IAAMgF,EAASw4B,GAAax9B,GAC5B,OAAIgF,EAAes2B,GAAUuC,WAAW,aAAc74B,GAC/ChF,I,4BAGHA,GACJ,IAAMgF,EAASw4B,GAAax9B,GAC5B,OAAIgF,EAAes2B,GAAUuC,WAAW,SAAU74B,GAC3ChF,I,4BAGHA,GACJ,IAAMgF,EAASw4B,GAAax9B,GAC5B,OAAIgF,EAAes2B,GAAUuC,WAAW,WAAY74B,GAC7ChF,I,4BAGHA,GACJ,IAAMgF,EAASw4B,GAAax9B,GAC5B,OAAIgF,EAAes2B,GAAUuC,WAAW,cAAe74B,GAChDhF,I,4BAGHA,GACJ,IAAMgF,EAASw4B,GAAax9B,GAC5B,OAAIgF,EAAes2B,GAAUuC,WAAW,sBAAuB74B,GACxDhF,I,2BAGJA,GACH,IAAMgF,EAASw4B,GAAax9B,GAC5B,OAAIgF,EAAes2B,GAAUuC,WAAW,WAAY74B,GAC7ChF,O,mCAMI,YAACqB,EAAMrB,GAAP,OAAiBsW,GAAOjV,GAAMrB,I,2KC1HvC89B,G,WAEJ,cAA6C,QAA/B71B,YAA+B,MAAxB,GAAwB,MAApBkR,WAAoB,MAAd,GAAc,EAAV7R,EAAU,EAAVA,Q,4FAAU,SAC3CN,KAAK+2B,EAAI,GACT/2B,KAAKg3B,UAAY,EACjBh3B,KAAKM,OAASnG,EAAM88B,MAAM32B,EAAQN,KAAKg3B,WACvCh3B,KAAKmS,IAAMA,EACXnS,KAAKk3B,kBAAoB,EACzBl3B,KAAKm3B,QAAQl2B,G,mDAGXunB,GACF,OAAOxoB,KAAK+2B,EAAEvO,K,+BAGPA,GAEP,OADAxoB,KAAK+2B,EAAEvO,GAAMxoB,KAAK+2B,EAAEvO,IAAO,GACpBxoB,KAAK+2B,EAAEvO,K,gCAGNA,GACR,IAAM5O,EAAM5Z,KAAKpH,IAAI4vB,GACrB,OAAI5O,GAAOA,EAAItZ,OACNsZ,EAAItZ,OAENN,KAAKM,S,gCAGJkoB,EAAIloB,GACAN,KAAKo3B,SAAS5O,GACtBloB,OAASnG,EAAM88B,MAAM32B,EAAQN,KAAKg3B,WACtCh3B,KAAKk3B,kBAAoB,I,iCAGhB1O,EAAI6O,EAAIt7B,GAEjB,IAF6B,IAARuc,EAAQ,uDAAH,EACtBtb,EAAIsb,EACCvgB,EAAIywB,EAAIzwB,GAAKs/B,EAAIt/B,GAAK,EAAG,CAChC,IAAMu/B,EAAYt3B,KAAKu3B,UAAUx/B,GACjCgE,EAAGhE,EAAGu/B,EAAWt6B,GACjBA,GAAKs6B,K,uCAIQpP,EAAKE,GAAK,WACzB,OAAOjuB,EAAMq9B,SAAStP,EAAKE,EAAM,GAAG,SAAArwB,GAAC,OAAI,EAAKw/B,UAAUx/B,Q,yCAGvCm4B,GACjB,OAAOlwB,KAAKiqB,iBAAiBiG,EAAUhI,IAAKgI,EAAU9H,O,oCAG1C,WAIZ,OAH+B,IAA3BpoB,KAAKk3B,mBACPl3B,KAAKk3B,iBAAmB/8B,EAAMq9B,SAAS,EAAGx3B,KAAKmS,KAAK,SAAApa,GAAC,OAAI,EAAKw/B,UAAUx/B,OAEnEiI,KAAKk3B,mB,gCAIZ,OAAOl3B,KAAK+2B,I,8BAGN91B,GACNjB,KAAK+2B,EAAI91B,O,6MC/DPw2B,G,WAEJ,cAA4C,QAA9Bx2B,YAA8B,MAAvB,GAAuB,MAAnBkR,WAAmB,MAAb,GAAa,EAAT/R,EAAS,EAATA,O,4FAAS,SAC1CJ,KAAK+2B,EAAI,GACT/2B,KAAK03B,SAAW,EAChB13B,KAAKI,MAAQjG,EAAM88B,MAAM72B,EAAOJ,KAAK03B,UACrC13B,KAAKmS,IAAMA,EACXnS,KAAK23B,iBAAmB,EACxB33B,KAAKm3B,QAAQl2B,G,mDAGXwnB,GACF,OAAOzoB,KAAK+2B,EAAEtO,K,+BAGPA,GAEP,OADAzoB,KAAK+2B,EAAEtO,GAAMzoB,KAAK+2B,EAAEtO,IAAO,GACpBzoB,KAAK+2B,EAAEtO,K,+BAGP1wB,GACP,IAAM8hB,EAAM7Z,KAAK+2B,EAAEh/B,GACnB,OAAI8hB,GAAOA,EAAIzZ,MACNyZ,EAAIzZ,MAENJ,KAAKI,Q,+BAGLrI,EAAGqI,GACEJ,KAAKo3B,SAASr/B,GACtBqI,MAAQjG,EAAM88B,MAAM72B,EAAOJ,KAAK03B,UACpC13B,KAAK23B,iBAAmB,I,gCAGhBlP,EAAI4O,EAAIt7B,GAEhB,IAF4B,IAARsc,EAAQ,uDAAH,EACrBtb,EAAIsb,EACCtgB,EAAI0wB,EAAI1wB,GAAKs/B,EAAIt/B,GAAK,EAAG,CAChC,IAAM6/B,EAAW53B,KAAK63B,SAAS9/B,GAC/BgE,EAAGhE,EAAG6/B,EAAU76B,GAChBA,GAAK66B,K,sCAIOzP,EAAKE,GAAK,WACxB,OAAOluB,EAAMq9B,SAASrP,EAAKE,EAAM,GAAG,SAAAtwB,GAAC,OAAI,EAAK8/B,SAAS9/B,Q,wCAGvCm4B,GAChB,OAAOlwB,KAAKgqB,gBAAgBkG,EAAU/H,IAAK+H,EAAU7H,O,mCAG1C,WAIX,OAH8B,IAA1BroB,KAAK23B,kBACP33B,KAAK23B,gBAAkBx9B,EAAMq9B,SAAS,EAAGx3B,KAAKmS,KAAK,SAAApa,GAAC,OAAI,EAAK8/B,SAAS9/B,OAEjEiI,KAAK23B,kB,gCAIZ,OAAO33B,KAAK+2B,I,8BAGN91B,GACNjB,KAAK+2B,EAAI91B,O,sCCjEP62B,GAEJ,WAAYzO,I,4FAAO,SACjBrpB,KAAKqpB,MAAQA,EACbrpB,KAAKjD,EAAI,EACTiD,KAAKhD,EAAI,EACTgD,KAAKwoB,GAAKa,EAAM8D,MAAME,MAAQ,EAC9BrtB,KAAKyoB,GAAKY,EAAM8D,MAAMG,OAAS,G,mGCP7B/F,GAEJ,aAA+C,IAAnC4F,EAAmC,uDAA3B,CAAEE,OAAQ,EAAGC,QAAS,GAAK,WAC7CttB,KAAKqtB,MAAQF,EAAME,MACnBrtB,KAAKstB,OAASH,EAAMG,Q,2KCFlByK,G,WAMJ,cAA2B,QAAb92B,YAAa,MAAN,GAAM,G,4FAAA,SACzBjB,KAAK+2B,EAAI,GACT/2B,KAAKm3B,QAAQl2B,G,uDAOPlF,GACNiE,KAAK+2B,EAAEj8B,QAAQiB,K,mCAOJi8B,GACXh4B,KAAK+2B,EAAI/2B,KAAK+2B,EAAErpB,QAAO,SAAAuqB,GAAE,OAAKA,EAAGC,OAAOF,Q,uCASzBxP,EAAIC,GACnB,IAAK,IAAI1wB,EAAI,EAAGA,EAAIiI,KAAK+2B,EAAEl8B,OAAQ9C,GAAK,EAAG,CACzC,IAAMkgC,EAAKj4B,KAAK+2B,EAAEh/B,GAClB,GAAIkgC,EAAGE,SAAS3P,EAAIC,GAClB,OAAOwP,EAGX,OAAO,O,uCAQQG,GACf,OAAO,IAAIL,EAAO/3B,KAAK+2B,EAAErpB,QAAO,SAAAuqB,GAAE,OAAIA,EAAGvK,WAAW0K,S,iCAQ3CA,GACT,IAAK,IAAIrgC,EAAI,EAAGA,EAAIiI,KAAK+2B,EAAEl8B,OAAQ9C,GAAK,EAEtC,GADWiI,KAAK+2B,EAAEh/B,GACX21B,WAAW0K,GAEhB,OAAO,EAGX,OAAO,I,uCAGQA,GACf,IAAK,IAAIrgC,EAAI,EAAGA,EAAIiI,KAAK+2B,EAAEl8B,OAAQ9C,GAAK,EAC3BiI,KAAK+2B,EAAEh/B,GACX21B,WAAW0K,IAChBp4B,KAAK+2B,EAAEpvB,OAAO5P,EAAG,K,4BAUjBqgC,GAGJ,IAHe,WACXJ,EAAKI,EACH1qB,EAAS,GAFA,cAIb,IAAM1H,EAAO,EAAK+wB,EAAEh/B,GACpB,GAAI2V,EAAOka,MAAK,SAAAjsB,GAAC,OAAIA,IAAMqK,KACzB,OADgC,IAChC,WAEEA,EAAK0nB,WAAWsK,KAClBtqB,EAAO3O,KAAKiH,GACZgyB,EAAKhyB,EAAKsoB,MAAM0J,GAChBjgC,GAAK,GAXM,KAGNA,EAAI,EAAGA,EAAIiI,KAAK+2B,EAAEl8B,OAAQ9C,GAAK,EAAG,EAAlCA,GAWT,OAAOigC,I,0BAOLA,GACFh4B,KAAKq4B,aAAaL,GAClBh4B,KAAK+2B,EAAEh4B,KAAKi5B,K,2BASTI,EAAWE,EAAIC,GAClBv4B,KAAK+2B,EAAEj8B,SAAQ,SAAC09B,GACd,IAAMP,EAAKO,EACPP,EAAGC,OAAOE,KACZH,EAAG7P,KAAOkQ,EACVL,EAAG/P,KAAOoQ,EACVL,EAAG9P,KAAOoQ,EACVN,EAAG5P,KAAOkQ,Q,4BAMVl+B,EAAMmC,EAAOhD,EAAGi/B,GACpBz4B,KAAK+2B,EAAEj8B,SAAQ,SAACs9B,GAAc,IAE1BlQ,EACEkQ,EADFlQ,IAAKC,EACHiQ,EADGjQ,IAAKC,EACRgQ,EADQhQ,IAAKC,EACb+P,EADa/P,IAEX9oB,EAAQ64B,EACD,QAAT/9B,EACE6tB,GAAO1rB,GACT+C,EAAM2oB,KAAO1uB,EACb+F,EAAM6oB,KAAO5uB,GACJ0uB,EAAM1rB,GAASA,GAAS4rB,IACjC7oB,EAAM6oB,KAAO5uB,EACbi/B,EAASvQ,EAAKC,EAAK3uB,EAAG,IAEN,WAATa,IACL8tB,GAAO3rB,GACT+C,EAAM4oB,KAAO3uB,EACb+F,EAAM8oB,KAAO7uB,GACJ2uB,EAAM3rB,GAASA,GAAS6rB,IACjC9oB,EAAM8oB,KAAO7uB,EACbi/B,EAASvQ,EAAKC,EAAK,EAAG3uB,U,gCAMT,IAAb+xB,EAAa,uDAAJ,GAEf,OADAvrB,KAAK+2B,EAAIxL,EAAOmN,KAAI,SAAAvK,GAAK,OAAIlG,GAAU0Q,QAAQxK,MACxCnuB,O,gCAIP,OAAOA,KAAK+2B,EAAE2B,KAAI,SAAAvK,GAAK,OAAIA,EAAM7zB,mB,s1BC9J/Bs+B,G,YACJ,WAAY93B,GAAW,a,4FAAA,UACrB,oCAAS/G,EAAT,2BAAqC+G,MAChC+3B,QAAU,GAFM,E,kSAKbC,GACR94B,KAAK64B,QAAQ95B,KAAK+5B,GAClB94B,KAAKgD,SAAS81B,Q,gCARU1yB,G,ozBCKtB2yB,G,YACJ,WAAY1P,GAAO,a,4FAAA,UACjB,oCAAStvB,EAAT,cACKsvB,MAAQA,EACb,EAAKtB,GAAK,IAAI6Q,GAAJ,UAAqB7+B,EAArB,uBACV,EAAKd,EAAI,IAAI2/B,GAAJ,UAAqB7+B,EAArB,sBACT,EAAK/B,EAAI,IAAI4gC,GAAJ,UAAqB7+B,EAArB,sBACT,EAAKiuB,GAAK,IAAI4Q,GAAJ,UAAqB7+B,EAArB,uBACV,EAAKi/B,YAAc,KACnB,EAAKh2B,SAAS,EAAK+kB,GAAI,EAAK9uB,EAAG,EAAKjB,EAAG,EAAKgwB,IAC5C,EAAK6Q,QAAU,GATE,E,+RAajB74B,KAAKi5B,iBACLj5B,KAAKzG,S,6BAGA,WACG8vB,EAAUrpB,KAAVqpB,MACRtf,GAAUxQ,KAAK6F,OAAQgJ,GAASC,kBAAkBc,QAAQ,WACxD,EAAK8vB,oBAEPlvB,GAAUxQ,KAAK8vB,EAAOjhB,GAASmB,iBAAiBC,eAAe,SAAC7N,GAC9D,EAAKs9B,iBACLt9B,EAAEiG,qBAEJmI,GAAUxQ,KAAK8vB,EAAOjhB,GAASmB,iBAAiBE,cAAc,SAAC9N,GAC7D,EAAKs9B,iBACLt9B,EAAEiG,uB,gCAIIk3B,GACR94B,KAAK64B,QAAQ95B,KAAK+5B,GAClB94B,KAAK+nB,GAAGmR,UAAUJ,EAAOK,MAAMn5B,OAC/BA,KAAK/G,EAAEigC,UAAUJ,EAAOM,KAAKp5B,OAC7BA,KAAKhI,EAAEkhC,UAAUJ,EAAOO,KAAKr5B,OAC7BA,KAAKgoB,GAAGkR,UAAUJ,EAAOQ,MAAMt5B,S,uCAGhB,IACPqpB,EAAUrpB,KAAVqpB,MACAkQ,EAAmBlQ,EAAnBkQ,SAAU9P,EAASJ,EAATI,KACVjtB,EAAU+8B,EAAV/8B,MACFg9B,EAAanQ,EAAM2E,gBACnByL,EAAcpQ,EAAM4E,iBACpByL,EAASl9B,EAAM4D,MAAQo5B,EACvBG,EAAQn9B,EAAM8D,OAASm5B,EAC7Bz5B,KAAKgoB,GAAGha,OAAO,CAAEhM,KAAM03B,EAAQ53B,IAAK63B,IAChCH,EAAa,GAAKC,EAAc,GAClCz5B,KAAK+nB,GAAG/Z,OAAO,CACbhM,KAAMxF,EAAM4D,MAAO0B,IAAKtF,EAAM8D,OAAQF,MAAOo5B,EAAYl5B,OAAQm5B,IAChE70B,OACH5E,KAAK+nB,GAAGlmB,IAAI,eAAZ,UAA+B4nB,EAAK/Q,YAApC,QAEA1Y,KAAK+nB,GAAGljB,OAEN20B,EAAa,GACfx5B,KAAKhI,EAAEgW,OAAO,CAAEhM,KAAMxF,EAAM4D,MAAO0B,IAAK63B,EAAOv5B,MAAOo5B,IAAc50B,OACpE5E,KAAKhI,EAAE6J,IAAI,eAAX,UAA8B4nB,EAAK/Q,YAAnC,QAEA1Y,KAAKhI,EAAE6M,OAEL40B,EAAc,GAChBz5B,KAAK/G,EAAE+U,OAAO,CAAEhM,KAAM03B,EAAQ53B,IAAKtF,EAAM8D,OAAQA,OAAQm5B,IAAe70B,OACxE5E,KAAK/G,EAAE4I,IAAI,eAAX,UAA8B4nB,EAAK/Q,YAAnC,QAEA1Y,KAAK/G,EAAE4L,S,kCAIC+0B,GACV,IAAIhS,EAAO,KAQX,OAPA5nB,KAAK64B,QAAQ/9B,SAAQ,SAACkL,GACpB,QAAIA,aAAgB4zB,IAClBhS,EAAO5hB,EACA,OAIJ4hB,O,gCAjFUxhB,G,ozBCEfyzB,G,YACJ,WAAYxQ,GAA+B,QAAxBziB,EAAwB,uDAAd,CAAExG,MAAO,GAAK,O,4FAAA,UACzC,oCAASrG,EAAT,2BACKsvB,MAAQA,EACb,EAAKziB,QAAUA,EACf,EAAKxG,MAAQwG,EAAQxG,MACrB,EAAK05B,QAAU3zB,EAAE,MAAD,UAAWpM,EAAX,oBAChB,EAAKggC,OAAS5zB,EAAE,MAAD,UAAWpM,EAAX,oBACf,KAAKiJ,SAAL,QAAiB,CACf,EAAK82B,QACL,EAAKC,SAEP,EAAKxgC,OAXoC,E,qSAc9BiM,GAAO,IACV6jB,EAAUrpB,KAAVqpB,MAENkQ,EACElQ,EADFkQ,SAAUhQ,EACRF,EADQE,KAAM4D,EACd9D,EADc8D,MAAO1iB,EACrB4e,EADqB5e,OAEjBjO,EAAU+8B,EAAV/8B,MALU,EAMD6sB,EAAM7d,eAAehG,GAA9BzI,EANU,EAMVA,EAAGC,EANO,EAMPA,EANO,EAOCqsB,EAAM6E,YAAYnxB,EAAGC,GAAhCwrB,EAPU,EAOVA,GAAIC,EAPM,EAONA,GACZ,IAAY,IAARD,EACF,MAAO,CACLxmB,MAAO,EACPjF,IACAC,IACAwrB,KACAC,MAGJ,IAAIzmB,EAAOxF,EAAM4D,MAAQmpB,EAAKS,gBAAgB,EAAGvB,GAIjD,OAHIA,EAAK0E,EAAMG,SACbtrB,GAAQyI,EAAO1N,GAEV,CACLiF,OACAjF,IACAC,IACAwrB,KACAC,Q,6BAIG,WACGY,EAAUrpB,KAAVqpB,MACAkQ,EAAmClQ,EAAnCkQ,SAAUhQ,EAAyBF,EAAzBE,KAAM6B,EAAmB/B,EAAnB+B,eAChB5uB,EAAU+8B,EAAV/8B,MACJw9B,GAAU,EACdjwB,GAAUxQ,KAAKyG,KAAMoI,GAASC,kBAAkBC,YAAY,SAAC3M,GAC3DyvB,EAAe6O,IAAI,aAAc,YACjCt+B,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAKyG,KAAMoI,GAASC,kBAAkBG,YAAY,SAAC7M,GAC3Dq+B,GAAU,EACV5O,EAAezmB,GAAG,CAAC,aACnBymB,EAAe6O,IAAI,aAAc,YAHgC,MAI5C,EAAKC,aAAav+B,GAA/BqG,EAJyD,EAIzDA,KAAMymB,EAJmD,EAInDA,GACRvsB,EAAM8F,EAAOunB,EAAKsO,SAASpP,GAAMc,EAAKmO,SACnCyC,EAAO9Q,EAAM7d,eAAe7P,GAA/BoB,EAGNgN,GAAU0B,YAAY/L,UAAU,SAAC/D,GAAM,MACxB0tB,EAAM7d,eAAe7P,GAA5Bw+B,EAD+B,EAClCp9B,EAEHo9B,GAAM,EAAK/5B,MAAQ,EACnB+5B,EAAKnc,GAAM7jB,EAAM88B,MAAMkD,EAAIj+B,IAC3B,EAAK2F,IAAI,OAAT,UAAoBs4B,EAApB,OACA,EAAKJ,OAAOl4B,IAAI,SAAhB,UAA6BwnB,EAAM+Q,eAAnC,OACA,EAAKL,OAAOn1B,OACZjJ,EAAEiG,kBACFjG,EAAEiQ,oBACD,SAACjQ,GACFq+B,GAAU,EACV5O,EAAepe,MACf,EAAK+sB,OAAOl1B,OACZ,EAAKhD,IAAI,OAAT,UAAoBs4B,EAApB,OACc9Q,EAAM7d,eAAe7P,GAA3BqB,GACC,GACP,EAAK6H,OAEP,IAAMw1B,EAAUF,GAAMn4B,EAAOunB,EAAKsO,SAASpP,IAAO,EAAKroB,MACvDipB,EAAM3Z,SAAS+Y,EAAI4R,MAErB1+B,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK8vB,EAAOjhB,GAASC,kBAAkBC,YAAY,SAAC3M,GAC5D,IAAIq+B,EAAJ,CADkE,MAG/C,EAAKE,aAAav+B,GAA/BqG,EAH4D,EAG5DA,KAAMymB,EAHsD,EAGtDA,GACNvsB,EAAM8F,EAAOunB,EAAKsO,SAASpP,GAAMc,EAAKmO,SACtC4C,EAAcjR,EAAMiR,cAGtBt4B,EAAOs4B,IACTt4B,EAAOs4B,IAEK,IAAVt4B,GAAe9F,EAAMo+B,IAAuB,IAAR7R,EACtC,EAAK5jB,QAEL,EAAKD,OACL,EAAK/C,IAAI,OAAT,UAAoBG,EAAO,EAAK5B,MAAhC,OACA,EAAK05B,QAAQj4B,IAAI,QAAjB,UAA6B,EAAKzB,MAAlC,OACA,EAAK05B,QAAQj4B,IAAI,SAAjB,UAA8BrF,EAAM8D,OAApC,YAGJyJ,GAAUxQ,KAAK8vB,EAAOjhB,GAASC,kBAAkBM,aAAa,WACxDqxB,GACJ,EAAKn1B,e,gCA/GYuB,G,ozBCAjBm0B,G,YACJ,WAAYlR,GAAgC,QAAzBziB,EAAyB,uDAAf,CAAEtG,OAAQ,GAAK,O,4FAAA,UAC1C,oCAASvG,EAAT,yBACKsvB,MAAQA,EACb,EAAKziB,QAAUA,EACf,EAAKtG,OAASsG,EAAQtG,OACtB,EAAKw5B,QAAU3zB,EAAE,MAAD,UAAWpM,EAAX,oBAChB,EAAKggC,OAAS5zB,EAAE,MAAD,UAAWpM,EAAX,oBACf,KAAKiJ,SAAL,QAAiB,CACf,EAAK82B,QACL,EAAKC,SAEP,EAAKxgC,OAXqC,E,oSAchCiM,GAAO,IACT6jB,EAAUrpB,KAAVqpB,MAENkQ,EACElQ,EADFkQ,SAAU/P,EACRH,EADQG,KAAM2D,EACd9D,EADc8D,MAAO1iB,EACrB4e,EADqB5e,OAEjBjO,EAAU+8B,EAAV/8B,MALS,EAMA6sB,EAAM7d,eAAehG,GAA9BzI,EANS,EAMTA,EAAGC,EANM,EAMNA,EANM,EAOEqsB,EAAM6E,YAAYnxB,EAAGC,GAAhCwrB,EAPS,EAOTA,GAAIC,EAPK,EAOLA,GACZ,IAAY,IAARA,EACF,MAAO,CACL3mB,KAAM,EACN/E,IACAC,IACAwrB,KACAC,MAGJ,IAAI3mB,EAAMtF,EAAM8D,OAASkpB,EAAKS,iBAAiB,EAAGzB,GAIlD,OAHIA,EAAK2E,EAAME,QACbvrB,GAAO2I,EAAOzN,GAET,CACL8E,MACA/E,IACAC,IACAwrB,KACAC,Q,6BAIG,WACGY,EAAUrpB,KAAVqpB,MACAkQ,EAAmClQ,EAAnCkQ,SAAU/P,EAAyBH,EAAzBG,KAAM4B,EAAmB/B,EAAnB+B,eAChB5uB,EAAU+8B,EAAV/8B,MACJw9B,GAAU,EACdjwB,GAAUxQ,KAAKyG,KAAMoI,GAASC,kBAAkBC,YAAY,SAAC3M,GAC3DyvB,EAAe6O,IAAI,aAAc,YACjCt+B,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAKyG,KAAMoI,GAASC,kBAAkBG,YAAY,SAAC7M,GAC3Dq+B,GAAU,EACV5O,EAAezmB,GAAG,CAAC,aACnBymB,EAAe6O,IAAI,aAAc,YAHgC,MAI7C,EAAKO,YAAY7+B,GAA7BmG,EAJyD,EAIzDA,IAAK0mB,EAJoD,EAIpDA,GACPtsB,EAAM4F,EAAM0nB,EAAK+N,UAAU/O,GAAMgB,EAAKwN,UACnCyD,EAAOpR,EAAM7d,eAAe7P,GAA/BqB,EACN+M,GAAU0B,YAAY/L,UAAU,SAAC/D,GAAM,MACxB0tB,EAAM7d,eAAe7P,GAA5B8+B,EAD+B,EAClCz9B,EAEHy9B,GAAM,EAAKn6B,OAAS,EACpBm6B,EAAKzc,GAAM7jB,EAAM88B,MAAMwD,EAAIv+B,IAC3B,EAAK2F,IAAI,MAAT,UAAmB44B,EAAnB,OACA,EAAKV,OAAOl4B,IAAI,QAAhB,UAA4BwnB,EAAMiR,cAAlC,OACA,EAAKP,OAAOn1B,OACZjJ,EAAEiG,kBACFjG,EAAEiQ,oBACD,SAACjQ,GACFq+B,GAAU,EACV5O,EAAepe,MACf,EAAK+sB,OAAOl1B,OACZ,EAAKhD,IAAI,MAAT,UAAmB44B,EAAnB,OACcpR,EAAM7d,eAAe7P,GAA3BoB,GACC,GACP,EAAK8H,OAEP,IAAM61B,EAASD,GAAM34B,EAAM0nB,EAAK+N,UAAU/O,IAAO,EAAKloB,OACtD+oB,EAAM3E,UAAU8D,EAAIkS,MAEtB/+B,EAAEiG,kBACFjG,EAAEiQ,oBAEJ7B,GAAUxQ,KAAK8vB,EAAOjhB,GAASC,kBAAkBC,YAAY,SAAC3M,GAC5D,IAAIq+B,EAAJ,CADkE,MAGhD,EAAKQ,YAAY7+B,GAA7BmG,EAH4D,EAG5DA,IAAK0mB,EAHuD,EAGvDA,GACLtsB,EAAM4F,EAAM0nB,EAAK+N,UAAU/O,GAAMgB,EAAKwN,UACtCoD,EAAe/Q,EAAM+Q,eAIvBt4B,EAAMs4B,IACRt4B,EAAMs4B,IAEK,IAATt4B,GAAc5F,EAAMk+B,IAAwB,IAAR5R,EACtC,EAAK3jB,QAEL,EAAKD,OACL,EAAK/C,IAAI,MAAT,UAAmBC,EAAM,EAAKxB,OAA9B,OACA,EAAKw5B,QAAQj4B,IAAI,QAAjB,UAA6BrF,EAAM4D,MAAnC,OACA,EAAK05B,QAAQj4B,IAAI,SAAjB,UAA8B,EAAKvB,OAAnC,YAGJyJ,GAAUxQ,KAAK8vB,EAAOjhB,GAASC,kBAAkBM,aAAa,WACxDqxB,GACJ,EAAKn1B,e,gCA9GYuB,G,oOCNjBu0B,G,WAEJ,WAAYtR,I,4FAAO,SACjBrpB,KAAKqpB,MAAQA,EACbrpB,KAAA,QAAc,EACdA,KAAK46B,YAAc,G,kDAGlBC,GACD76B,KAAA,QAAc,EACdA,KAAK46B,YAAc56B,KAAK46B,YAAYE,OAAOD,K,0BAGzCxgC,EAAM/B,GACR,IAAI0H,KAAA,SAAmD,IAApCA,KAAK46B,YAAY97B,QAAQxG,GAA5C,CADc,IAEN+wB,EAAUrpB,KAAVqpB,MACR,OAAQhvB,GACN,IAAK,OACHgvB,EAAMxnB,IAAI,SAAV,cAA2BsuB,KAA3B,mBACA,MACF,IAAK,WACH9G,EAAMxnB,IAAI,SAAV,cAA2Bk5B,KAA3B,mBACA,MACF,IAAK,WACH1R,EAAMxnB,IAAI,SAAV,cAA2Bm5B,KAA3B,mBACA,MACF,QACE3R,EAAMxnB,IAAI,SAAUxH,O,4BAMxB2F,KAAA,QAAc,EACdA,KAAK46B,YAAc,Q,+qBClCjBK,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASlhC,EAAT,gBACK6wB,OAASzkB,EAAE,MAAD,UAAWpM,EAAX,mBACf,EAAKiJ,SAAS,EAAK4nB,QACnB,EAAK/lB,OAJO,E,mPADOuB,G,2yCCMjB80B,G,YACJ,WAAYpT,GAAsB,MAAdlhB,EAAc,uDAAJ,GAAI,O,4FAAA,UAChC,0BAAMkhB,KACDlhB,QAAUzM,EAAMkB,UAAU,CAC7B8/B,iBAAiB,EACjBC,iBAAkB,aAClBC,gBAAiB,cAChBz0B,GACH,EAAKmhB,GAAK,IAAIkT,GACd,EAAKhiC,EAAI,IAAIgiC,GACb,EAAKjjC,EAAI,IAAIijC,GACb,EAAKjT,GAAK,IAAIiT,GACd,EAAKK,aAAe,KACpB,EAAKpJ,eAAiBpK,EAAOkI,YAAYlF,IACzC,EAAKvxB,OAb2B,E,+RAgB3B,WACGuuB,EAA2B9nB,KAA3B8nB,OAAQoK,EAAmBlyB,KAAnBkyB,eACR7I,EAAUvB,EAAVuB,MACA+B,EAAmB/B,EAAnB+B,eACRrhB,GAAUxQ,KAAK,CACb24B,EAAenK,GAAG4C,SAClBuH,EAAej5B,EAAE0xB,SACjBuH,EAAel6B,EAAE2yB,SACjBuH,EAAelK,GAAG2C,UACjBviB,GAASC,kBAAkBG,YAAY,SAACkL,GACzC0X,EAAezmB,GAAG,CAAC,aACnBymB,EAAe6O,IAAI,YAAa,YAChClwB,GAAU0B,YAAY/L,UAAU,SAACoU,GAAO,MACrBuV,EAAM7d,eAAesI,GAA9B/W,EAD8B,EAC9BA,EAAGC,EAD2B,EAC3BA,EACLu+B,EAAe,EAAKC,oBAAoBz+B,EAAGC,GAC7Cu+B,EAEF,EAAK9Q,UAAU8Q,IAEf,EAAKxT,GAAGljB,OACR,EAAK5L,EAAE4L,OACP,EAAK7M,EAAE6M,OACP,EAAKmjB,GAAGnjB,QAEV,EAAKy2B,aAAeC,EACpBznB,EAAGlS,kBACHkS,EAAGlI,oBACF,WACDwf,EAAepe,MACf,EAAK+a,GAAGljB,OACR,EAAK5L,EAAE4L,OACP,EAAK7M,EAAE6M,OACP,EAAKmjB,GAAGnjB,OACJ,EAAKy2B,eACP,EAAKG,aACLpS,EAAMgH,aAGV3c,EAAG9R,kBACH8R,EAAG9H,oBAEL7B,GAAUxQ,KAAK,CACb24B,EAAenK,GAAG4C,SAClBuH,EAAej5B,EAAE0xB,SACjBuH,EAAel6B,EAAE2yB,SACjBuH,EAAelK,GAAG2C,UACjBviB,GAASC,kBAAkBC,YAAY,SAAC3M,GACzCyvB,EAAe6O,IAAI,YAAa,YAChCt+B,EAAEiG,kBACFjG,EAAEiQ,sB,kCAIM0vB,GAAc,IAEhBjS,EADWrpB,KAAX8nB,OACAuB,MACAC,EAA8BD,EAA9BC,cAAeC,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KACvBE,EAAYJ,EAAcK,qBACxBjM,EAAS4d,EAAT5d,KACFkM,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,GAAIE,EAAMG,OAAOF,GACf7pB,KAAK+nB,GAAGljB,WADV,CAIA,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAC9D/nB,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAChEtmB,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GACjEzK,EAAK2K,IAAMqB,EAAUrB,IACvBroB,KAAK+nB,GAAG6C,OAAO/oB,IAAI,eAAgB,QAEnC7B,KAAK+nB,GAAG6C,OAAOziB,cAAc,gBAE3BuV,EAAK0K,IAAMsB,EAAUtB,IACvBpoB,KAAK+nB,GAAG6C,OAAO/oB,IAAI,gBAAiB,QAEpC7B,KAAK+nB,GAAG6C,OAAOziB,cAAc,iBAE/BnI,KAAK+nB,GAAG/Z,OAAO,CACb5N,QACAE,SACA0B,OACAF,QACC8C,U,iCAGM02B,GAAc,IAEfjS,EADWrpB,KAAX8nB,OACAuB,MACAc,EAAyBd,EAAzBc,SAAUZ,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KAClBE,EAAYS,EAASR,qBACnBjM,EAAS4d,EAAT5d,KACFkM,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,GAAIE,EAAMG,OAAOF,GACf7pB,KAAK/G,EAAE4L,WADT,CAIA,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAC9D/nB,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAChEtmB,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GACjEzK,EAAKyK,IAAMuB,EAAUvB,IACvBnoB,KAAK/G,EAAE2xB,OAAO/oB,IAAI,cAAe,QAEjC7B,KAAK/G,EAAE2xB,OAAOziB,cAAc,eAE1BuV,EAAK0K,IAAMsB,EAAUtB,IACvBpoB,KAAK/G,EAAE2xB,OAAO/oB,IAAI,gBAAiB,QAEnC7B,KAAK/G,EAAE2xB,OAAOziB,cAAc,iBAE1BuV,EAAK2K,IAAMqB,EAAUrB,IACvBroB,KAAK/G,EAAE2xB,OAAO/oB,IAAI,eAAgB,QAElC7B,KAAK/G,EAAE2xB,OAAOziB,cAAc,gBAE9BnI,KAAK/G,EAAE+U,OAAO,CACZ5N,QACAE,SACA0B,OACAF,QACC8C,U,iCAGM02B,GAAc,IAEfjS,EADWrpB,KAAX8nB,OACAuB,MACAe,EAA0Bf,EAA1Be,UAAWb,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KACnBE,EAAYU,EAAUT,qBACpBjM,EAAS4d,EAAT5d,KACFkM,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,GAAIE,EAAMG,OAAOF,GACf7pB,KAAKhI,EAAE6M,WADT,CAIA,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAC9D/nB,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAChEtmB,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GACjEzK,EAAKwK,IAAMwB,EAAUxB,IACvBloB,KAAKhI,EAAE4yB,OAAO/oB,IAAI,aAAc,QAEhC7B,KAAKhI,EAAE4yB,OAAOziB,cAAc,cAE1BuV,EAAK2K,IAAMqB,EAAUrB,IACvBroB,KAAKhI,EAAE4yB,OAAO/oB,IAAI,eAAgB,QAElC7B,KAAKhI,EAAE4yB,OAAOziB,cAAc,gBAE1BuV,EAAK0K,IAAMsB,EAAUtB,IACvBpoB,KAAKhI,EAAE4yB,OAAO/oB,IAAI,gBAAiB,QAEnC7B,KAAKhI,EAAE4yB,OAAOziB,cAAc,iBAE9BnI,KAAKhI,EAAEgW,OAAO,CACZ5N,QACAE,SACA0B,OACAF,QACC8C,U,kCAGO02B,GAAc,IAEhBjS,EADWrpB,KAAX8nB,OACAuB,MAENE,EACEF,EADFE,KAAMC,EACJH,EADIG,KAEFE,EAAYL,EAAMM,qBAChBjM,EAAS4d,EAAT5d,KACFkM,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACnC4B,EAAgBnM,EAAKoM,SAASJ,GACpC,GAAIE,EAAMG,OAAOF,GACf7pB,KAAKgoB,GAAGnjB,WADV,CAIA,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAC9D/nB,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAChEtmB,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GACjEzK,EAAKyK,IAAMuB,EAAUvB,IACvBnoB,KAAKgoB,GAAG4C,OAAO/oB,IAAI,cAAe,QAElC7B,KAAKgoB,GAAG4C,OAAOziB,cAAc,eAE3BuV,EAAKwK,IAAMwB,EAAUxB,IACvBloB,KAAKgoB,GAAG4C,OAAO/oB,IAAI,aAAc,QAEjC7B,KAAKgoB,GAAG4C,OAAOziB,cAAc,cAE3BuV,EAAK0K,IAAMsB,EAAUtB,IACvBpoB,KAAKgoB,GAAG4C,OAAO/oB,IAAI,gBAAiB,QAEpC7B,KAAKgoB,GAAG4C,OAAOziB,cAAc,iBAE3BuV,EAAK2K,IAAMqB,EAAUrB,IACvBroB,KAAKgoB,GAAG4C,OAAO/oB,IAAI,eAAgB,QAEnC7B,KAAKgoB,GAAG4C,OAAOziB,cAAc,gBAE/BnI,KAAKgoB,GAAGha,OAAO,CACb5N,QACAE,SACA0B,OACAF,QACC8C,U,gCAGK02B,GACRt7B,KAAKqqB,YAAYiR,GACjBt7B,KAAKsqB,WAAWgR,GAChBt7B,KAAKuqB,WAAW+Q,GAChBt7B,KAAKwqB,YAAY8Q,K,0CAGCv+B,EAAGC,GAAG,IAChB8qB,EAA2B9nB,KAA3B8nB,OAAQoK,EAAmBlyB,KAAnBkyB,eACR7I,EAAUvB,EAAVuB,MACAD,EAAiB8I,EAAjB9I,aACAG,EAAuBF,EAAvBE,KAAMC,EAAiBH,EAAjBG,KAAM+B,EAAWlC,EAAXkC,OACNmQ,EAAiCtS,EAAvC1L,KAAoBoP,EAAmB1D,EAAnB0D,KAAMlB,EAAaxC,EAAbwC,SAC5B+P,EAAuB7O,GAAQvB,EAAOmC,WAAWgO,GAN/B,KAODA,EAAaz/B,OAPZ,GAOjB2/B,EAPiB,KAOVC,EAPU,OAQPxS,EAAM6E,YAAYnxB,EAAGC,GAAhCwrB,EARkB,EAQlBA,GAAIC,EARc,EAQdA,GAEND,EAAK,EAAGA,EAAK,EAAYA,EAAKgB,EAAKrX,MAAKqW,EAAKgB,EAAKrX,IAAM,GACxDsW,EAAK,EAAGA,EAAK,EAAYA,EAAKc,EAAKpX,MAAKsW,EAAKc,EAAKpX,IAAM,GAXpC,IAYX2pB,EAAkCJ,EAAvCxT,IAAuB6T,EAAgBL,EAArBvT,IACf6T,EAAkCN,EAAvCtT,IAAuB6T,EAAgBP,EAArBrT,IACP,SAAbuD,IAAqBqQ,EAAc1S,EAAKpX,IAAM,GACjC,QAAbyZ,IAAoBoQ,EAAcxS,EAAKrX,IAAM,GACjD,IAAIuL,EAAO,KACP2H,EAAY,KAChB,GAAImD,EAAKsT,GAAetT,EAAKwT,EAAa,CACxC,GAAIxT,EAAKsT,EAEP,GADAzW,EAAY,MACRsW,EAAsB,CACxB,IAAIO,EAAQJ,EAAcF,EAC1B,GAAIM,GAAS,EAAG,CAEd,IADA,IAAMC,EAAQL,EAAc,EAAKtT,EACxBzwB,EAAI,EAAGA,GAAKokC,EAAMpkC,GAAK,EAC1BA,EAAI6jC,GAAU,GAAKM,EAAQN,GAAS,IAAGM,GAASN,GAEtDle,EAAO,IAAIuK,GAAUiU,EAAOH,EAAaD,EAAc,EAAGG,SAG5Dve,EAAO,IAAIuK,GAAUO,EAAIuT,EAAaD,EAAc,EAAGG,GAG3D,GAAIzT,EAAKwT,EAEP,GADA3W,EAAY,SACRsW,EAAsB,CACxB,IAAIS,EAAQJ,EAAcJ,EAC1B,GAAIQ,GAAS5S,EAAKrX,IAAM,EAAG,CAEzB,IADA,IAAMgqB,EAAO3T,GAAMwT,EAAc,GACxBjkC,EAAI,EAAGA,GAAKokC,EAAMpkC,GAAK,EAC1BA,EAAI6jC,GAAU,GAAKQ,EAAQR,GAASpS,EAAKrX,IAAM,IAAGiqB,GAASR,GAEjEle,EAAO,IAAIuK,GAAU+T,EAAc,EAAGD,EAAaK,EAAOH,SAG5Dve,EAAO,IAAIuK,GAAU+T,EAAc,EAAGD,EAAavT,EAAIyT,QAGtD,GAAIxT,EAAKsT,GAAetT,EAAKwT,EAAa,CAC/C,GAAIxT,EAAKsT,EAEP,GADA1W,EAAY,OACRsW,EAAsB,CACxB,IAAIU,EAAQN,EAAcF,EAC1B,GAAIQ,GAAS,EAAG,CAEd,IADA,IAAMF,EAAQJ,EAAc,EAAKtT,EACxB1wB,EAAI,EAAGA,GAAKokC,EAAMpkC,GAAK,EAC1BA,EAAI8jC,GAAU,GAAKQ,EAAQR,GAAS,IAAGQ,GAASR,GAEtDne,EAAO,IAAIuK,GAAU6T,EAAaO,EAAOL,EAAaD,EAAc,SAGtEre,EAAO,IAAIuK,GAAU6T,EAAarT,EAAIuT,EAAaD,EAAc,GAGrE,GAAItT,EAAKwT,EAEP,GADA5W,EAAY,QACRsW,EAAsB,CACxB,IAAIW,EAAQL,EAAcJ,EAC1B,GAAIS,GAAS/S,EAAKpX,IAAM,EAAG,CAEzB,IADA,IAAMgqB,EAAO1T,GAAMwT,EAAc,GACxBlkC,EAAI,EAAGA,GAAKokC,EAAMpkC,GAAK,EAC1BA,EAAI8jC,GAAU,GAAKS,EAAQT,GAAStS,EAAKpX,IAAM,IAAGmqB,GAAST,GAEjEne,EAAO,IAAIuK,GAAU6T,EAAaG,EAAc,EAAGD,EAAaM,SAGlE5e,EAAO,IAAIuK,GAAU6T,EAAaG,EAAc,EAAGD,EAAavT,GAItE,GAAa,OAAT/K,EAAe,CACjB,IAAMtd,EAAQmpB,EAAKS,gBAAgBtM,EAAKyK,IAAKzK,EAAK2K,KAC5C/nB,EAASkpB,EAAKS,iBAAiBvM,EAAKwK,IAAKxK,EAAK0K,KAGpD,OAFA1K,EAAKyB,EAAI/e,EACTsd,EAAKvX,EAAI7F,EACF,CACLod,OAAM2H,aAGV,OAAO,O,4CAaP,IAVoB,IACZyC,EAA2B9nB,KAA3B8nB,OAAQoK,EAAmBlyB,KAAnBkyB,eAER3G,EADUzD,EAAVuB,MACAkC,OACA+P,EAAiBt7B,KAAjBs7B,aACAlS,EAAiB8I,EAAjB9I,aACMmT,EAAiBjB,EAAvB5d,KACMge,EAAiBtS,EAAvB1L,KACJ8e,EAAWd,EAAaxT,IACxBuU,EAAWF,EAAarU,IACrBuU,GAAYF,EAAanU,KAAK,CAGnC,IAFA,IAAIsU,EAAWhB,EAAavT,IACxBwU,EAAWJ,EAAapU,IACrBwU,GAAYJ,EAAalU,KAAK,CACnC,IAAM3K,EAAO,IAAIuK,GAAUwU,EAAUE,EAAUF,EAAUE,GACnDC,EAAYrR,EAAOmB,iBAAiB+P,EAAUE,GAC/CC,GAAclB,EAAahO,WAAWkP,IACzCrR,EAAOoH,iBAAiBjV,GAG1Bif,GAAY,GADZD,GAAY,GAEGhB,EAAarT,MAAKqU,EAAWhB,EAAavT,KAG3DsU,GAAY,GADZD,GAAY,GAEGd,EAAatT,MAAKoU,EAAWd,EAAaxT,Q,oCAe3D,IAVA,IAAI2U,EAAQ,EACJ/U,EAA2B9nB,KAA3B8nB,OAAQoK,EAAmBlyB,KAAnBkyB,eAERvB,EADU7I,EAAVuB,MACAsH,MACA2K,EAAiBt7B,KAAjBs7B,aACAlS,EAAiB8I,EAAjB9I,aACMmT,EAAiBjB,EAAvB5d,KACMge,EAAiBtS,EAAvB1L,KACJ8e,EAAWd,EAAaxT,IACxBuU,EAAWF,EAAarU,IACrBuU,GAAYF,EAAanU,KAAK,CAGnC,IAFA,IAAIsU,EAAWhB,EAAavT,IACxBwU,EAAWJ,EAAapU,IACrBwU,GAAYJ,EAAalU,KAAK,CACnC,IAAMvrB,EAAM6zB,EAAMmM,QAAQN,EAAUE,GACpC,GAAI5/B,EAAK,CACP,IAAMiB,EAASjB,EAAIwvB,QACnBqE,EAAMoM,aAAaN,EAAUE,EAAU5+B,GAClC5D,EAAM8F,QAAQnD,EAAIkL,QACrB60B,GAAS,GAIbF,GAAY,GADZD,GAAY,GAEGhB,EAAarT,MAAKqU,EAAWhB,EAAavT,KAG3DsU,GAAY,GADZD,GAAY,GAEGd,EAAatT,MAAKoU,EAAWd,EAAaxT,KAE3D,OAAO2U,I,kCAGG,IACF/U,EAA2B9nB,KAA3B8nB,OAAQoK,EAAmBlyB,KAAnBkyB,eAER3G,EADUzD,EAAVuB,MACAkC,OACA+P,EAAiBt7B,KAAjBs7B,aACAlS,EAAiB8I,EAAjB9I,aACMmT,EAA4BjB,EAAlC5d,KAAoB2H,EAAciW,EAAdjW,UACdqW,EAAuBtS,EAA7B1L,KAAoBoP,EAAS1D,EAAT0D,KACxB0P,EAAWd,EAAaxT,IACxBuU,EAAWF,EAAarU,IAC5B,IAAI4E,GAAuB,QAAdzH,GAAqC,SAAdA,EACpC,KAAOoX,GAAYF,EAAanU,KAAK,CAGnC,IAFA,IAAIsU,EAAWhB,EAAavT,IACxBwU,EAAWJ,EAAapU,IACrBwU,GAAYJ,EAAalU,KAAK,CACnC,IAAMuU,EAAYrR,EAAOmB,iBAAiB8P,EAAUE,GACpD,GAAIE,GACeA,EAAU1U,MAAQsU,GAAYI,EAAUzU,MAAQuU,EACnD,UACSE,EAAU3gC,OADnB,GACP2/B,EADO,KACAC,EADA,KAINmB,EAAW,IAAI/U,GAAUwU,EAAUE,EAAUF,GAFnDb,GAAS,GAE4De,GADrEd,GAAS,IAEJtQ,EAAOmC,WAAWsP,IACrBzR,EAAO/nB,IAAIw5B,GAKjBL,GAAY,GADZD,GAAY,GAEGhB,EAAarT,MAAKqU,EAAWhB,EAAavT,KAG3DsU,GAAY,GADZD,GAAY,GAEGd,EAAatT,MAAKoU,EAAWd,EAAaxT,Q,mCAIhD,IACHJ,EAAoB9nB,KAApB8nB,OACAqT,EADoBn7B,KAAZ4G,QACRu0B,gBAEA5P,EADUzD,EAAVuB,MACAkC,OAEMgR,EADWv8B,KAAjBs7B,aACA5d,KACFkf,EAAYrR,EAAOmB,iBAAiB6P,EAAarU,IAAKqU,EAAapU,KACzE,GAAIyU,GAAaA,EAAU7S,OAAOwS,GAAe,CAC/Cv8B,KAAK4G,QAAQw0B,mBACbp7B,KAAKi9B,sBACL,IAAMJ,EAAQ78B,KAAKk9B,cACnBl9B,KAAKm9B,YACLn9B,KAAK4G,QAAQy0B,gBAAgBwB,OACxB,CACL,GAAItR,EAAOmC,WAAW6O,KAAqC,IAApBpB,EAGrC,YADAiC,MAAM,qBAGRp9B,KAAK4G,QAAQw0B,mBACbp7B,KAAKi9B,sBACL,IAAMJ,EAAQ78B,KAAKk9B,cACnBl9B,KAAKm9B,YACLn9B,KAAK4G,QAAQy0B,gBAAgBwB,S,gCArcNhV,I,ozBCHvBwV,G,YACJ,WAAYhU,GAAO,a,4FAAA,UACjB,oCAAStvB,EAAT,4BACKsvB,MAAQA,EACb,EAAKxkB,OAHY,E,+RAMZ,IAGGrI,EAFUwD,KAAVqpB,MACAkQ,SACA/8B,MACRwD,KAAK6B,IAAI,SAAT,UAAsBrF,EAAM8D,OAA5B,OACAN,KAAKzG,S,+BAGE+jC,EAAOC,GACd,OAAOD,EAAMnV,IAAMoV,EAAMlV,KAAOkV,EAAMpV,IAAMmV,EAAMjV,M,+BAG3CiV,EAAOC,GACd,OAAIv9B,KAAK4oB,SAAS0U,EAAOC,GAChB,IAAItV,GAAU,GAAI,EAAG,GAAI,GAE3B,IAAIA,GACT,EACAsV,EAAMpV,IAAMmV,EAAMnV,IAAMoV,EAAMpV,IAAMmV,EAAMnV,IAC1C,EACAoV,EAAMlV,IAAMiV,EAAMjV,IAAMkV,EAAMlV,IAAMiV,EAAMjV,O,wCAI5Be,EAAcyD,GAAgB,IACtCxD,EAAUrpB,KAAVqpB,MAEA7sB,EADa6sB,EAAbkQ,SACA/8B,MACFotB,EAAQ,IAAI3B,GAAU,GAAI,EAAG,GAAI,GAEvC,OADAjoB,KAAK6E,OACGgoB,GACN,IAAK,KAAM,IACDnP,EAAS0L,EAAT1L,KACA4L,EAAwBD,EAAxBC,cAAeC,EAASF,EAATE,KACjBiU,EAAclU,EAAcK,qBAC5B8T,EAAkBz9B,KAAK8pB,SAASpM,EAAM8f,GAC5C,IAAK5T,EAAMG,OAAO0T,GAAkB,CAClC,IAAMr9B,EAAQmpB,EAAKS,gBAAgByT,EAAgBtV,IAAKsV,EAAgBpV,KAClErmB,EAAOunB,EAAKS,gBAAgBwT,EAAYrV,IAAKsV,EAAgBtV,IAAM,GAAK3rB,EAAM4D,MAChF,UAAGA,EAAH,QAAiBJ,KAAK6B,IAAI,UAC5B7B,KAAK6B,IAAI,QAAT,UAAqBzB,EAArB,OAEE,UAAG4B,EAAH,QAAgBhC,KAAK6B,IAAI,SAC3B7B,KAAK6B,IAAI,OAAT,UAAoBG,EAApB,OAEFhC,KAAK4E,OAEP,MAEF,IAAK,IAAK,IACA8Y,EAAS0L,EAAT1L,KACAyM,EAAmBd,EAAnBc,SAAUZ,EAASF,EAATE,KACZmU,EAAavT,EAASR,qBACtBgU,EAAiB39B,KAAK8pB,SAASpM,EAAMggB,GAC3C,IAAK9T,EAAMG,OAAO4T,GAAiB,CACjC,IAAMv9B,EAAQmpB,EAAKS,gBAAgB2T,EAAexV,IAAKwV,EAAetV,KAChErmB,EAAOunB,EAAKS,gBAAgB0T,EAAWvV,IAAKwV,EAAexV,IAAM,GACnEkB,EAAM2E,gBAAkBxxB,EAAM4D,MAC9B,UAAGA,EAAH,QAAiBJ,KAAK6B,IAAI,UAC5B7B,KAAK6B,IAAI,QAAT,UAAqBzB,EAArB,OAEE,UAAG4B,EAAH,QAAgBhC,KAAK6B,IAAI,SAC3B7B,KAAK6B,IAAI,OAAT,UAAoBG,EAApB,OAEFhC,KAAK4E,OAEP,MAEF,IAAK,KAAM,IACD8Y,EAAS0L,EAAT1L,KACA6L,EAASF,EAATE,KACFqU,EAAavU,EAAMM,qBACnBkU,EAAiB79B,KAAK8pB,SAASpM,EAAMkgB,GAC3C,IAAKhU,EAAMG,OAAO8T,GAAiB,CACjC,IAAMz9B,EAAQmpB,EAAKS,gBAAgB6T,EAAe1V,IAAK0V,EAAexV,KAChErmB,EAAOunB,EAAKS,gBAAgB4T,EAAWzV,IAAK0V,EAAe1V,IAAM,GACnEkB,EAAM2E,gBAAkBxxB,EAAM4D,MAC9B,UAAGA,EAAH,QAAiBJ,KAAK6B,IAAI,UAC5B7B,KAAK6B,IAAI,QAAT,UAAqBzB,EAArB,OAEE,UAAG4B,EAAH,QAAgBhC,KAAK6B,IAAI,SAC3B7B,KAAK6B,IAAI,OAAT,UAAoBG,EAApB,OAEFhC,KAAK4E,OAEP,MAEF,IAAK,IAAK,IACA8Y,EAAS0L,EAAT1L,KACA0M,EAAoBf,EAApBe,UAAWb,EAASF,EAATE,KACbuU,EAAa1T,EAAUT,qBACvBoU,EAAiB/9B,KAAK8pB,SAASpM,EAAMogB,GAC3C,IAAKlU,EAAMG,OAAOgU,GAAiB,CACjC,IAAM39B,EAAQmpB,EAAKS,gBAAgB+T,EAAe5V,IAAK4V,EAAe1V,KAChErmB,EAAOunB,EAAKS,gBAAgB8T,EAAW3V,IAAK4V,EAAe5V,IAAM,GAAK3rB,EAAM4D,MAC9E,UAAGA,EAAH,QAAiBJ,KAAK6B,IAAI,UAC5B7B,KAAK6B,IAAI,QAAT,UAAqBzB,EAArB,OAEE,UAAG4B,EAAH,QAAgBhC,KAAK6B,IAAI,SAC3B7B,KAAK6B,IAAI,OAAT,UAAoBG,EAApB,OAEFhC,KAAK4E,OAEP,MAEF,IAAK,MAAO,IACF8Y,EAAS0L,EAAT1L,KACA4L,EAAkCD,EAAlCC,cAAea,EAAmBd,EAAnBc,SAAUZ,EAASF,EAATE,KAC3BiU,EAAclU,EAAcK,qBAC5B+T,EAAavT,EAASR,qBACtB8T,EAAkBz9B,KAAK8pB,SAASpM,EAAM8f,GACtCG,EAAiB39B,KAAK8pB,SAASpM,EAAMggB,GACvCt9B,EAAQ,EACN4B,EAAOunB,EAAKS,gBAAgBwT,EAAYrV,IAAKsV,EAAgBtV,IAAM,GAAK3rB,EAAM4D,MAC/EwpB,EAAMG,OAAO0T,KAChBr9B,GAASmpB,EAAKS,gBAAgByT,EAAgBtV,IAAKsV,EAAgBpV,MAEhEuB,EAAMG,OAAO4T,KAChBv9B,GAASmpB,EAAKS,gBAAgB2T,EAAexV,IAAKwV,EAAetV,MAE/D,UAAGjoB,EAAH,QAAiBJ,KAAK6B,IAAI,UAC5B7B,KAAK6B,IAAI,QAAT,UAAqBzB,EAArB,OAEE,UAAG4B,EAAH,QAAgBhC,KAAK6B,IAAI,SAC3B7B,KAAK6B,IAAI,OAAT,UAAoBG,EAApB,OAEFhC,KAAK4E,OACL,MAEF,IAAK,MAAO,IACF8Y,EAAS0L,EAAT1L,KACA4L,EAAwBD,EAAxBC,cAAeC,EAASF,EAATE,KACjBiU,EAAclU,EAAcK,qBAC5B8T,EAAkBz9B,KAAK8pB,SAASpM,EAAM8f,GAC5C,IAAK5T,EAAMG,OAAO0T,GAAkB,CAClC,IAAMr9B,EAAQmpB,EAAKS,gBAAgByT,EAAgBtV,IAAKsV,EAAgBpV,KAClErmB,EAAOunB,EAAKS,gBAAgBwT,EAAYrV,IAAKsV,EAAgBtV,IAAM,GAAK3rB,EAAM4D,MAChF,UAAGA,EAAH,QAAiBJ,KAAK6B,IAAI,UAC5B7B,KAAK6B,IAAI,QAAT,UAAqBzB,EAArB,OAEE,UAAG4B,EAAH,QAAgBhC,KAAK6B,IAAI,SAC3B7B,KAAK6B,IAAI,OAAT,UAAoBG,EAApB,OAEFhC,KAAK4E,OAEP,MAEF,IAAK,MAAO,IACF8Y,EAAS0L,EAAT1L,KACAyM,EAAmBd,EAAnBc,SAAUZ,EAASF,EAATE,KACZmU,EAAavT,EAASR,qBACtBgU,EAAiB39B,KAAK8pB,SAASpM,EAAMggB,GAC3C,IAAK9T,EAAMG,OAAO4T,GAAiB,CACjC,IAAMv9B,GAAQmpB,EAAKS,gBAAgB2T,EAAexV,IAAKwV,EAAetV,KAChErmB,GAAOunB,EAAKS,gBAAgB0T,EAAWvV,IAAKwV,EAAexV,IAAM,GACnEkB,EAAM2E,gBAAkBxxB,EAAM4D,MAC9B,UAAGA,GAAH,QAAiBJ,KAAK6B,IAAI,UAC5B7B,KAAK6B,IAAI,QAAT,UAAqBzB,GAArB,OAEE,UAAG4B,GAAH,QAAgBhC,KAAK6B,IAAI,SAC3B7B,KAAK6B,IAAI,OAAT,UAAoBG,GAApB,OAEFhC,KAAK4E,OAEP,MAEF,IAAK,MAAO,IACF8Y,GAAS0L,EAAT1L,KACA0M,GAAoBf,EAApBe,UAAWb,GAASF,EAATE,KACbuU,GAAa1T,GAAUT,qBACvBiU,GAAavU,EAAMM,qBACnBoU,GAAiB/9B,KAAK8pB,SAASpM,GAAMogB,IACrCD,GAAiB79B,KAAK8pB,SAASpM,GAAMkgB,IACvCx9B,GAAQ,EACN4B,GAAOunB,GAAKS,gBAAgB8T,GAAW3V,IAAK4V,GAAe5V,IAAM,GAAK3rB,EAAM4D,MAC7EwpB,EAAMG,OAAOgU,MAChB39B,IAASmpB,GAAKS,gBAAgB+T,GAAe5V,IAAK4V,GAAe1V,MAE9DuB,EAAMG,OAAO8T,MAChBz9B,IAASmpB,GAAKS,gBAAgB6T,GAAe1V,IAAK0V,GAAexV,MAE/D,UAAGjoB,GAAH,QAAiBJ,KAAK6B,IAAI,UAC5B7B,KAAK6B,IAAI,QAAT,UAAqBzB,GAArB,OAEE,UAAG4B,GAAH,QAAgBhC,KAAK6B,IAAI,SAC3B7B,KAAK6B,IAAI,OAAT,UAAoBG,GAApB,OAEFhC,KAAK4E,OACL,MAEF,IAAK,SAAU,IACL8Y,GAAS0L,EAAT1L,KACA4L,GAAkCD,EAAlCC,cAAea,GAAmBd,EAAnBc,SAAUZ,GAASF,EAATE,KAC3BiU,GAAclU,GAAcK,qBAC5B+T,GAAavT,GAASR,qBACtB8T,GAAkBz9B,KAAK8pB,SAASpM,GAAM8f,IACtCG,GAAiB39B,KAAK8pB,SAASpM,GAAMggB,IACvCt9B,GAAQ,EACN4B,GAAOunB,GAAKS,gBAAgBwT,GAAYrV,IAAKsV,GAAgBtV,IAAM,GAAK3rB,EAAM4D,MAC/EwpB,EAAMG,OAAO0T,MAChBr9B,IAASmpB,GAAKS,gBAAgByT,GAAgBtV,IAAKsV,GAAgBpV,MAEhEuB,EAAMG,OAAO4T,MAChBv9B,IAASmpB,GAAKS,gBAAgB2T,GAAexV,IAAKwV,GAAetV,MAE/D,UAAGjoB,GAAH,QAAiBJ,KAAK6B,IAAI,UAC5B7B,KAAK6B,IAAI,QAAT,UAAqBzB,GAArB,OAEE,UAAG4B,GAAH,QAAgBhC,KAAK6B,IAAI,SAC3B7B,KAAK6B,IAAI,OAAT,UAAoBG,GAApB,OAEFhC,KAAK4E,U,6BAOJ,WACGykB,EAAUrpB,KAAVqpB,MAEF6I,EADa7I,EAAXvB,OACsBkI,YAAYlF,IAC1CoH,EAAe8L,aAAY,WAAM,IACvB5U,EAAiB8I,EAAjB9I,aACR,GAAIA,EAAc,CAChB,IAAMyD,EAAiBqF,EAAevE,kBAAkBvE,GACxD,EAAK6U,kBAAkB7U,EAAcyD,OAGzC9iB,GAAUxQ,KAAK8vB,EAAOjhB,GAASC,kBAAkBa,QAAQ,WAAM,IACrDkgB,EAAiB8I,EAAjB9I,aACR,GAAIA,EAAc,CAChB,IAAMyD,EAAiBqF,EAAevE,kBAAkBvE,GACxD,EAAK6U,kBAAkB7U,EAAcyD,Y,gCAhPlBzmB,G,ozBCArB83B,G,YACJ,WAAY7U,GAAO,a,4FAAA,UACjB,oCAAStvB,EAAT,4BACKsvB,MAAQA,EACb,EAAKxkB,OAHY,E,+RAMZ,IAGGrI,EAFUwD,KAAVqpB,MACAkQ,SACA/8B,MACRwD,KAAK6B,IAAI,QAAT,UAAqBrF,EAAM4D,MAA3B,OACAJ,KAAKzG,S,+BAGE+jC,EAAOC,GACd,OAAOD,EAAMpV,IAAMqV,EAAMnV,KAAOmV,EAAMrV,IAAMoV,EAAMlV,M,+BAG3CkV,EAAOC,GACd,OAAIv9B,KAAK4oB,SAAS0U,EAAOC,GAChB,IAAItV,IAAW,EAAG,GAAI,EAAG,GAE3B,IAAIA,GACTsV,EAAMrV,IAAMoV,EAAMpV,IAAMqV,EAAMrV,IAAMoV,EAAMpV,IAC1C,EACAqV,EAAMnV,IAAMkV,EAAMlV,IAAMmV,EAAMnV,IAAMkV,EAAMlV,IAC1C,K,wCAIcgB,EAAcyD,GAAgB,IACtCxD,EAAUrpB,KAAVqpB,MAEA7sB,EADa6sB,EAAbkQ,SACA/8B,MACFotB,EAAQ,IAAI3B,IAAW,EAAG,GAAI,EAAG,GAEvC,OADAjoB,KAAK6E,OACGgoB,GACN,IAAK,KAAM,IACDnP,EAAS0L,EAAT1L,KACA4L,EAAwBD,EAAxBC,cAAeE,EAASH,EAATG,KACjBgU,EAAclU,EAAcK,qBAC5B8T,EAAkBz9B,KAAK8pB,SAASpM,EAAM8f,GAC5C,IAAK5T,EAAMG,OAAO0T,GAAkB,CAClC,IAAMn9B,EAASkpB,EAAKS,iBAAiBwT,EAAgBvV,IAAKuV,EAAgBrV,KAEpEtmB,EAAM0nB,EAAKS,iBAAiBuT,EAAYtV,IAAKuV,EAAgBvV,IAAM,GAAK1rB,EAAM8D,OAChF,UAAGA,EAAH,QAAkBN,KAAK6B,IAAI,WAC7B7B,KAAK6B,IAAI,SAAT,UAAsBvB,EAAtB,OAEE,UAAGwB,EAAH,QAAe9B,KAAK6B,IAAI,QAC1B7B,KAAK6B,IAAI,MAAT,UAAmBC,EAAnB,OAEF9B,KAAK4E,OAEP,MAEF,IAAK,IAAK,IACA8Y,EAAS0L,EAAT1L,KACAyM,EAAmBd,EAAnBc,SAAUX,EAASH,EAATG,KACZkU,EAAavT,EAASR,qBACtBgU,EAAiB39B,KAAK8pB,SAASpM,EAAMggB,GAE3C,IAAK9T,EAAMG,OAAO4T,GAAiB,CACjC,IAAMr9B,EAASkpB,EAAKS,iBAAiB0T,EAAezV,IAAKyV,EAAevV,KAClEtmB,EAAM0nB,EAAKS,iBAAiByT,EAAWxV,IAAKyV,EAAezV,IAAM,GAAK1rB,EAAM8D,OAG9E,UAAGA,EAAH,QAAkBN,KAAK6B,IAAI,WAC7B7B,KAAK6B,IAAI,SAAT,UAAsBvB,EAAtB,OAEE,UAAGwB,EAAH,QAAe9B,KAAK6B,IAAI,QAC1B7B,KAAK6B,IAAI,MAAT,UAAmBC,EAAnB,OAEF9B,KAAK4E,OAEP,MAEF,IAAK,IAAK,IACA8Y,EAAS0L,EAAT1L,KACA0M,EAAoBf,EAApBe,UAAWZ,EAASH,EAATG,KACbsU,EAAa1T,EAAUT,qBACvBoU,EAAiB/9B,KAAK8pB,SAASpM,EAAMogB,GAC3C,IAAKlU,EAAMG,OAAOgU,GAAiB,CACjC,IAAMz9B,EAASkpB,EAAKS,iBAAiB8T,EAAe7V,IAAK6V,EAAe3V,KAClEtmB,EAAM0nB,EAAKS,iBAAiB6T,EAAW5V,IAAK6V,EAAe7V,IAAM,GACnEmB,EAAM4E,iBAAmBzxB,EAAM8D,OAC/B,UAAGA,EAAH,QAAkBN,KAAK6B,IAAI,WAC7B7B,KAAK6B,IAAI,SAAT,UAAsBvB,EAAtB,OAEE,UAAGwB,EAAH,QAAe9B,KAAK6B,IAAI,QAC1B7B,KAAK6B,IAAI,MAAT,UAAmBC,EAAnB,OAEF9B,KAAK4E,OAEP,MAEF,IAAK,KAAM,IACD8Y,EAAS0L,EAAT1L,KACA8L,EAASH,EAATG,KACFoU,EAAavU,EAAMM,qBACnBkU,EAAiB79B,KAAK8pB,SAASpM,EAAMkgB,GAE3C,IAAKhU,EAAMG,OAAO8T,GAAiB,CACjC,IAAMv9B,EAASkpB,EAAKS,iBAAiB4T,EAAe3V,IAAK2V,EAAezV,KAClEtmB,EAAM0nB,EAAKS,iBAAiB2T,EAAW1V,IAAK2V,EAAe3V,IAAM,GACnEmB,EAAM4E,iBAAmBzxB,EAAM8D,OAG/B,UAAGA,EAAH,QAAkBN,KAAK6B,IAAI,WAC7B7B,KAAK6B,IAAI,SAAT,UAAsBvB,EAAtB,OAEE,UAAGwB,EAAH,QAAe9B,KAAK6B,IAAI,QAC1B7B,KAAK6B,IAAI,MAAT,UAAmBC,EAAnB,OAEF9B,KAAK4E,OAEP,MAEF,IAAK,MAAO,IACF8Y,EAAS0L,EAAT1L,KACA4L,EAAwBD,EAAxBC,cAAeE,EAASH,EAATG,KACjBgU,EAAclU,EAAcK,qBAC5B8T,EAAkBz9B,KAAK8pB,SAASpM,EAAM8f,GAC5C,IAAK5T,EAAMG,OAAO0T,GAAkB,CAElC,IAAM37B,EAAM0nB,EAAKS,iBAAiBuT,EAAYtV,IAAKuV,EAAgBvV,IAAM,GAAK1rB,EAAM8D,OAC9EA,EAASkpB,EAAKS,iBAAiBwT,EAAgBvV,IAAKuV,EAAgBrV,KACtE,UAAG9nB,EAAH,QAAkBN,KAAK6B,IAAI,WAC7B7B,KAAK6B,IAAI,SAAT,UAAsBvB,EAAtB,OAEE,UAAGwB,EAAH,QAAe9B,KAAK6B,IAAI,QAC1B7B,KAAK6B,IAAI,MAAT,UAAmBC,EAAnB,OAEF9B,KAAK4E,OAEP,MAEF,IAAK,MAAO,IACF8Y,EAAS0L,EAAT1L,KACA4L,EAAmCD,EAAnCC,cAAec,EAAoBf,EAApBe,UAAWZ,EAASH,EAATG,KAC5BgU,EAAclU,EAAcK,qBAC5BmU,EAAa1T,EAAUT,qBACvB8T,EAAkBz9B,KAAK8pB,SAASpM,EAAM8f,GACtCO,EAAiB/9B,KAAK8pB,SAASpM,EAAMogB,GACrCh8B,EAAM0nB,EAAKS,iBAAiBuT,EAAYtV,IAAKuV,EAAgBvV,IAAM,GAAK1rB,EAAM8D,OAChFA,EAAS,EACRspB,EAAMG,OAAO0T,KAChBn9B,GAAUkpB,EAAKS,iBAAiBwT,EAAgBvV,IAAKuV,EAAgBrV,MAElEwB,EAAMG,OAAOgU,KAChBz9B,GAAUkpB,EAAKS,iBAAiB8T,EAAe7V,IAAK6V,EAAe3V,MAEjE,UAAG9nB,EAAH,QAAkBN,KAAK6B,IAAI,WAC7B7B,KAAK6B,IAAI,SAAT,UAAsBvB,EAAtB,OAEE,UAAGwB,EAAH,QAAe9B,KAAK6B,IAAI,QAC1B7B,KAAK6B,IAAI,MAAT,UAAmBC,EAAnB,OAEF9B,KAAK4E,OACL,MAEF,IAAK,MAAO,IACF8Y,EAAS0L,EAAT1L,KACAyM,EAAmBd,EAAnBc,SAAUX,EAASH,EAATG,KACZkU,EAAavT,EAASR,qBACtBiU,EAAavU,EAAMM,qBACnBgU,GAAiB39B,KAAK8pB,SAASpM,EAAMggB,GACrCG,GAAiB79B,KAAK8pB,SAASpM,EAAMkgB,GACrC97B,GAAM0nB,EAAKS,iBAAiByT,EAAWxV,IAAKyV,GAAezV,IAAM,GAAK1rB,EAAM8D,OAC9EA,GAAS,EACRspB,EAAMG,OAAO4T,MAChBr9B,IAAUkpB,EAAKS,iBAAiB0T,GAAezV,IAAKyV,GAAevV,MAEhEwB,EAAMG,OAAO8T,MAChBv9B,IAAUkpB,EAAKS,iBAAiB4T,GAAe3V,IAAK2V,GAAezV,MAMjE,UAAG9nB,GAAH,QAAkBN,KAAK6B,IAAI,WAC7B7B,KAAK6B,IAAI,SAAT,UAAsBvB,GAAtB,OAEE,UAAGwB,GAAH,QAAe9B,KAAK6B,IAAI,QAC1B7B,KAAK6B,IAAI,MAAT,UAAmBC,GAAnB,OAEF9B,KAAK4E,OACL,MAEF,IAAK,MAAO,IACF8Y,GAAS0L,EAAT1L,KACA0M,GAAoBf,EAApBe,UAAWZ,GAASH,EAATG,KACbsU,GAAa1T,GAAUT,qBACvBoU,GAAiB/9B,KAAK8pB,SAASpM,GAAMogB,IAC3C,IAAKlU,EAAMG,OAAOgU,IAAiB,CACjC,IAAMz9B,GAASkpB,GAAKS,iBAAiB8T,GAAe7V,IAAK6V,GAAe3V,KAClEtmB,GAAM0nB,GAAKS,iBAAiB6T,GAAW5V,IAAK6V,GAAe7V,IAAM,GACnEmB,EAAM4E,iBAAmBzxB,EAAM8D,OAC/B,UAAGA,GAAH,QAAkBN,KAAK6B,IAAI,WAC7B7B,KAAK6B,IAAI,SAAT,UAAsBvB,GAAtB,OAEE,UAAGwB,GAAH,QAAe9B,KAAK6B,IAAI,QAC1B7B,KAAK6B,IAAI,MAAT,UAAmBC,GAAnB,OAEF9B,KAAK4E,OAEP,MAEF,IAAK,SAAU,IACL8Y,GAAS0L,EAAT1L,KACA4L,GAAmCD,EAAnCC,cAAec,GAAoBf,EAApBe,UAAWZ,GAASH,EAATG,KAC5BgU,GAAclU,GAAcK,qBAC5BmU,GAAa1T,GAAUT,qBACvB8T,GAAkBz9B,KAAK8pB,SAASpM,GAAM8f,IACtCO,GAAiB/9B,KAAK8pB,SAASpM,GAAMogB,IACvCx9B,GAAS,EACPwB,GAAM0nB,GAAKS,iBAAiBuT,GAAYtV,IAAKuV,GAAgBvV,IAAM,GAAK1rB,EAAM8D,OAC/EspB,EAAMG,OAAO0T,MAChBn9B,IAAUkpB,GAAKS,iBAAiBwT,GAAgBvV,IAAKuV,GAAgBrV,MAElEwB,EAAMG,OAAOgU,MAChBz9B,IAAUkpB,GAAKS,iBAAiB8T,GAAe7V,IAAK6V,GAAe3V,MAEjE,UAAG9nB,GAAH,QAAkBN,KAAK6B,IAAI,WAC7B7B,KAAK6B,IAAI,SAAT,UAAsBvB,GAAtB,OAEE,UAAGwB,GAAH,QAAe9B,KAAK6B,IAAI,QAC1B7B,KAAK6B,IAAI,MAAT,UAAmBC,GAAnB,OAEF9B,KAAK4E,U,6BAOJ,WACGykB,EAAUrpB,KAAVqpB,MAEF6I,EADa7I,EAAXvB,OACsBkI,YAAYlF,IAC1CoH,EAAe8L,aAAY,WAAM,IACvB5U,EAAiB8I,EAAjB9I,aACR,GAAIA,EAAc,CAChB,IAAMyD,EAAiBqF,EAAevE,kBAAkBvE,GACxD,EAAK6U,kBAAkB7U,EAAcyD,OAGzC9iB,GAAUxQ,KAAK8vB,EAAOjhB,GAASC,kBAAkBa,QAAQ,WAAM,IACrDkgB,EAAiB8I,EAAjB9I,aACR,GAAIA,EAAc,CAChB,IAAMyD,EAAiBqF,EAAevE,kBAAkBvE,GACxD,EAAK6U,kBAAkB7U,EAAcyD,Y,gCA5PlBzmB,G,ozBCErB+3B,G,YAEJ,WAAY9U,GAAO,a,4FAAA,UACjB,oCAAStvB,EAAT,kBACKqkC,MAAQj4B,EAAE,MAAD,UAAWpM,EAAX,sBACd,EAAKqkC,MAAMhmB,KAAK,mBAAmB,GACnC,EAAKgmB,MAAMn2B,KAAK,WAChB,EAAKohB,MAAQA,EACb,EAAKrhB,KAAO,GACZ,EAAKjI,OAAS,KACd,EAAKiD,SAAS,EAAKo7B,OACnB,EAAKv5B,OATY,E,+RAajB7E,KAAKzG,S,6BAGA,WACG8vB,EAAUrpB,KAAVqpB,MAEFgV,EADahV,EAAXvB,OACgBkI,YAAYlF,IACpC/gB,GAAUxQ,KAAKyG,KAAMoI,GAASC,kBAAkBG,YAAY,SAAC7M,GAC3DA,EAAEiG,qBAEJmI,GAAUxQ,KAAKyG,KAAMoI,GAASC,kBAAkBC,YAAY,SAAC3M,GAC3DA,EAAEiG,qBAEJmI,GAAUxQ,KAAKyG,KAAKo+B,MAAOh2B,GAASC,kBAAkBgB,OAAO,WAAM,IACzD+0B,EAAU,EAAVA,MACJjkC,EAAM8F,QAAQ,EAAKm+B,MAAMp2B,SAC3Bo2B,EAAMn2B,KAAK,WAEb,EAAKD,KAAOo2B,EAAMp2B,UAEpB+B,GAAUxQ,KAAK8vB,EAAOjhB,GAASC,kBAAkBa,QAAQ,WACvD,EAAKkjB,cAEPriB,GAAUxQ,KAAK8vB,EAAOjhB,GAASC,kBAAkBG,YAAY,WAC3D,EAAK4jB,cAEPriB,GAAUu0B,QAAQ,CAChBD,EAAStW,GACTsW,EAASplC,EACTolC,EAASrmC,EACTqmC,EAASrW,KACR,WACD,EAAK4E,gB,iCAIE,IACDvD,EAAiBrpB,KAAjBqpB,MAAO+U,EAAUp+B,KAAVo+B,MACPtW,EAAkBuB,EAAlBvB,OAAQ6I,EAAUtH,EAAVsH,MAERvH,EADStB,EAAOkI,YAAYlF,IAC5B1B,aACR,GAAIA,EAAc,KACR1L,EAAS0L,EAAT1L,KACFyS,EAAOQ,EAAMC,aAAalT,EAAKwK,IAAKxK,EAAKyK,KAC/CnoB,KAAKD,OAAS2d,EACd1d,KAAKu+B,WAAW7gB,GAChB1d,KAAKgI,KAAOmoB,EAAKnoB,KACb7N,EAAM8F,QAAQD,KAAKgI,MACrBo2B,EAAMn2B,KAAK,WAEXm2B,EAAMp2B,KAAKhI,KAAKgI,MAElB7N,EAAMqkC,cAAcx+B,KAAKo+B,MAAMr9B,O,iCAIxB,IACDhB,EAAWC,KAAXD,OACAspB,EAAUrpB,KAAVqpB,MACAsH,EAAUtH,EAAVsH,MACR,GAAI5wB,EAAQ,CACV,IAAMowB,EAAOQ,EAAMC,aAAa7wB,EAAOmoB,IAAKnoB,EAAOooB,KAC7CngB,EAAO7N,EAAM+F,KAAKF,KAAKgI,MACzBmoB,EAAKnoB,OAASA,IAChBmoB,EAAKnoB,KAAOA,EACZqhB,EAAMqJ,QAAQ3yB,EAAOmoB,IAAKnoB,EAAOooB,IAAKgI,IAG1CnwB,KAAK6E,S,mCAGM,IACHwkB,EAAUrpB,KAAVqpB,MAEFgV,EADahV,EAAXvB,OACgBkI,YAAYlF,IAC5B1B,EAAiBiV,EAAjBjV,aACA1L,EAAS0L,EAAT1L,KACA6L,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KAGd,OADuB6U,EAAS1Q,kBAAkBvE,IAEhD,IAAK,KAAM,IAEHM,EADoBL,EAAlBC,cACwBK,qBAC1BE,EAAgBnM,EAAKoM,SAASJ,GAEpC,GADc,IAAIzB,IAAW,GAAI,GAAI,GAAI,GAC/B8B,OAAOF,GAEf,YADA7pB,KAAK6E,OAGP,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAAOra,EACrE1N,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAAOpa,EACzElM,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GACnErmB,GAAOunB,EAAMoV,iBAhBF,EAiBXz8B,GAAQqnB,EAAMqV,gBAjBH,EAkBX1+B,KAAKgO,OAAO,CACV5N,QACAE,SACAwB,MACAE,SACC4C,OACH,MAEF,IAAK,IAAK,IAEF8kB,EADeL,EAAbc,SACmBR,qBACrBE,EAAgBnM,EAAKoM,SAASJ,GAEpC,GADc,IAAIzB,IAAW,GAAI,GAAI,GAAI,GAC/B8B,OAAOF,GAEf,YADA7pB,KAAK6E,OAGP,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAAOra,EACrE1N,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAAOpa,EACzElM,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GACnErmB,GAAOunB,EAAMoV,iBAvCF,EAwCXz8B,GAAQqnB,EAAM2E,gBAAkB3E,EAAMqV,gBAxC3B,EAyCX1+B,KAAKgO,OAAO,CACV5N,QACAE,SACAwB,MACAE,SACC4C,OACH,MAEF,IAAK,KACH,IAAM8kB,EAAYL,EAAMM,qBAClBE,EAAgBnM,EAAKoM,SAASJ,GAEpC,GADc,IAAIzB,IAAW,GAAI,GAAI,GAAI,GAC/B8B,OAAOF,GAEf,YADA7pB,KAAK6E,OAGP,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAAOra,EACrE1N,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAAOpa,EACzElM,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GACnErmB,GAAOunB,EAAM4E,iBAAmB5E,EAAMoV,iBA7D3B,EA8DXz8B,GAAQqnB,EAAM2E,gBAAkB3E,EAAMqV,gBA9D3B,EA+DX1+B,KAAKgO,OAAO,CACV5N,QACAE,SACAwB,MACAE,SACC4C,OACH,MAEF,IAAK,IAAK,IAEF8kB,EADgBL,EAAde,UACoBT,qBACtBE,EAAgBnM,EAAKoM,SAASJ,GAEpC,GADc,IAAIzB,IAAW,GAAI,GAAI,GAAI,GAC/B8B,OAAOF,GAEf,YADA7pB,KAAK6E,OAGP,IAAMzE,EAAQmpB,EAAKS,gBAAgBH,EAAc1B,IAAK0B,EAAcxB,KAAOra,EACrE1N,EAASkpB,EAAKS,iBAAiBJ,EAAc3B,IAAK2B,EAAczB,KAAOpa,EACzElM,EAAM0nB,EAAKS,iBAAiBP,EAAUxB,IAAK2B,EAAc3B,IAAM,GAC/DlmB,EAAOunB,EAAKS,gBAAgBN,EAAUvB,IAAK0B,EAAc1B,IAAM,GACnErmB,GAAOunB,EAAM4E,iBAAmB5E,EAAMoV,iBApF3B,EAqFXz8B,GAAQqnB,EAAMqV,gBArFH,EAsFX1+B,KAAKgO,OAAO,CACV5N,QACAE,SACAwB,MACAE,SACC4C,OACH,MAEF,IAAK,MAAO,IACF0kB,EAA4BD,EAA5BC,cAAea,EAAad,EAAbc,SACjBqT,EAAclU,EAAcK,qBAC5B8T,EAAkB/f,EAAKoM,SAAS0T,GAChCE,EAAavT,EAASR,qBACtBgU,EAAiBjgB,EAAKoM,SAAS4T,GAC/B9T,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACzC,GAAI2B,EAAMG,OAAO4T,IAAmB/T,EAAMG,OAAO0T,GAE/C,YADAz9B,KAAK6E,OAGP,IAAM85B,EAAUpV,EAAKS,gBAAgByT,EAAgBtV,IAAKsV,EAAgBpV,KACpEuW,EAAWpV,EAAKS,iBAAiBwT,EAAgBvV,IAAKuV,EAAgBrV,KACtEyW,EAAQrV,EAAKS,iBAAiBuT,EAAYtV,IAAKuV,EAAgBvV,IAAM,GACrE4W,EAASvV,EAAKS,gBAAgBwT,EAAYrV,IAAKsV,EAAgBtV,IAAM,GACrE4W,EAASxV,EAAKS,gBAAgB2T,EAAexV,IAAKwV,EAAetV,KACvEroB,KAAKgO,OAAO,CACV5N,MAAQu+B,EAAUI,EAAU/wB,EAC5B1N,OAAQs+B,EAAW5wB,EACnBlM,IAAK+8B,EAAQxV,EAAMoV,iBAjHV,EAkHTz8B,KAAM88B,EAASzV,EAAMqV,gBAlHZ,IAmHR95B,OACH,MAEF,IAAK,MAAO,IACF0kB,EAA6BD,EAA7BC,cAAec,EAAcf,EAAde,UACjBoT,EAAclU,EAAcK,qBAC5B8T,EAAkB/f,EAAKoM,SAAS0T,GAChCM,EAAa1T,EAAUT,qBACvBoU,EAAiBrgB,EAAKoM,SAASgU,GAC/BlU,EAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACzC,GAAI2B,EAAMG,OAAO0T,IAAoB7T,EAAMG,OAAOgU,GAEhD,YADA/9B,KAAK6E,OAGP,IAAM85B,EAAUpV,EAAKS,gBAAgByT,EAAgBtV,IAAKsV,EAAgBpV,KACpEuW,EAAWpV,EAAKS,iBAAiBwT,EAAgBvV,IAAKuV,EAAgBrV,KACtE4W,EAAUxV,EAAKS,iBAAiB8T,EAAe7V,IAAK6V,EAAe3V,KACrEyW,EAAQrV,EAAKS,iBAAiBuT,EAAYtV,IAAKuV,EAAgBvV,IAAM,GACrE4W,EAASvV,EAAKS,gBAAgBwT,EAAYrV,IAAKsV,EAAgBtV,IAAM,GACzE0W,GAASxV,EAAMoV,iBAtIJ,EAuIXK,GAAUzV,EAAMqV,gBAvIL,EAwIX1+B,KAAKgO,OAAO,CACV5N,MAAOu+B,EAAU3wB,EACjB1N,OAASs+B,EAAWI,EAAWhxB,EAC/BlM,IAAK+8B,EACL78B,KAAM88B,IACLl6B,OACH,MAEF,IAAK,MAAO,IACFulB,GAAad,EAAbc,SACFyT,GAAavU,EAAMM,qBACnBkU,GAAiBngB,EAAKoM,SAAS8T,IAC/BF,GAAavT,GAASR,qBACtBgU,GAAiBjgB,EAAKoM,SAAS4T,IAC/B9T,GAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACzC,GAAI2B,GAAMG,OAAO8T,KAAmBjU,GAAMG,OAAO4T,IAE/C,YADA39B,KAAK6E,OAGP,IAAMk6B,GAASxV,EAAKS,gBAAgB2T,GAAexV,IAAKwV,GAAetV,KACjE4W,GAAUzV,EAAKS,iBAAiB0T,GAAezV,IAAKyV,GAAevV,KACnE8W,GAAO1V,EAAKS,iBAAiByT,GAAWxV,IAAKyV,GAAezV,IAAM,GAClEiX,GAAQ5V,EAAKS,gBAAgB0T,GAAWvV,IAAKwV,GAAexV,IAAM,GAClEiX,GAAU5V,EAAKS,iBAAiB4T,GAAe3V,IAAK2V,GAAezV,KACzEpoB,KAAKgO,OAAO,CACV5N,MAAO2+B,GAAS/wB,EAChB1N,OAAS8+B,GAAUH,GAAWjxB,EAC9BlM,IAAKo9B,GAAO7V,EAAMoV,iBAnKT,EAoKTz8B,KAAMm9B,GAAQ9V,EAAM2E,gBAAkB3E,EAAMqV,gBApKnC,IAqKR95B,OACH,MAEF,IAAK,MAAO,IACFwlB,GAAcf,EAAde,UACFwT,GAAavU,EAAMM,qBACnBkU,GAAiBngB,EAAKoM,SAAS8T,IAC/BE,GAAa1T,GAAUT,qBACvBoU,GAAiBrgB,EAAKoM,SAASgU,IAC/BlU,GAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACzC,GAAI2B,GAAMG,OAAO8T,KAAmBjU,GAAMG,OAAOgU,IAE/C,YADA/9B,KAAK6E,OAGP,IAAMw6B,GAAS9V,EAAKS,gBAAgB+T,GAAe5V,IAAK4V,GAAe1V,KACjE2W,GAAUxV,EAAKS,iBAAiB8T,GAAe7V,IAAK6V,GAAe3V,KACnEkX,GAAO9V,EAAKS,iBAAiB6T,GAAW5V,IAAK6V,GAAe7V,IAAM,GAClEqX,GAAQhW,EAAKS,gBAAgB8T,GAAW3V,IAAK4V,GAAe5V,IAAM,GAClEqX,GAASjW,EAAKS,gBAAgB6T,GAAe1V,IAAK0V,GAAexV,KACvEroB,KAAKgO,OAAO,CACV5N,MAAQi/B,GAASG,GAAUxxB,EAC3B1N,OAAQ0+B,GAAUhxB,EAClBlM,IAAKw9B,GAAOjW,EAAM4E,iBAAmB5E,EAAMoV,iBA3LlC,EA4LTz8B,KAAMu9B,GAAQlW,EAAMqV,gBA5LX,IA6LR95B,OACH,MAEF,IAAK,SAAU,IAEP44B,GADoBnU,EAAlBC,cAC0BK,qBAC5B8T,GAAkB/f,EAAKoM,SAAS0T,IAEhCE,GADerU,EAAbc,SACoBR,qBACtBgU,GAAiBjgB,EAAKoM,SAAS4T,IAE/BI,GADgBzU,EAAde,UACqBT,qBACvBoU,GAAiBrgB,EAAKoM,SAASgU,IAC/BlU,GAAQ,IAAI3B,IAAW,GAAI,GAAI,GAAI,GACzC,GAAI2B,GAAMG,OAAO0T,KACZ7T,GAAMG,OAAO4T,KACb/T,GAAMG,OAAOgU,IAEhB,YADA/9B,KAAK6E,OAGP,IAAM85B,GAAUpV,EAAKS,gBAAgByT,GAAgBtV,IAAKsV,GAAgBpV,KACpEuW,GAAWpV,EAAKS,iBAAiBwT,GAAgBvV,IAAKuV,GAAgBrV,KACtE2W,GAASxV,EAAKS,gBAAgB2T,GAAexV,IAAKwV,GAAetV,KACjE2W,GAAUxV,EAAKS,iBAAiB8T,GAAe7V,IAAK6V,GAAe3V,KACnEtmB,GAAM0nB,EAAKS,iBAAiBuT,GAAYtV,IAAKuV,GAAgBvV,IAAM,GACnElmB,GAAOunB,EAAKS,gBAAgBwT,GAAYrV,IAAKsV,GAAgBtV,IAAM,GACzEnoB,KAAKgO,OAAO,CACV5N,MAAQu+B,GAAUI,GAAU/wB,EAC5B1N,OAASs+B,GAAWI,GAAWhxB,EAC/BlM,IAAKA,GAAMunB,EAAMoV,iBA1NR,EA2NTz8B,KAAMA,GAAOqnB,EAAMqV,gBA3NV,IA4NR95B,a,gCAzTQwB,G,2KCNbq5B,G,WACJ,WAAYtnB,GAAiB,IAAXC,EAAW,uDAAJ,I,4FAAI,SAC3BpY,KAAKmY,KAAOA,EACZnY,KAAKmR,MAAQ,UACbhX,EAAMkB,UAAU2E,KAAMoY,G,2DAItB,IAAMhY,EAAQkS,KAAK0L,MAAMF,MACzB,OAAO1d,EAAQ,EAAIA,EAAQ,I,mCAGhBiY,EAAIC,EAAIC,EAAIC,GACvB,GAAIH,IAAOE,EACT,MAAM,IAAImnB,MAAM,kDAFS,IAInBvnB,EAAgBnY,KAAhBmY,KAAMhH,EAAUnR,KAAVmR,MACR/Q,EAAQJ,KAAK0Y,YACnBP,EAAKC,KAAK,CACR6K,UAAW9R,IAEb,IAAMgrB,EAAO3jB,EAAKF,EAClBH,EAAKiH,SAAS/G,EAAIC,EAAIlY,EAAO+7B,K,qCAGhB9jB,EAAIC,EAAIC,EAAIC,GACzB,GAAIF,IAAOE,EACT,MAAM,IAAIknB,MAAM,kDAFW,IAIrBvnB,EAAgBnY,KAAhBmY,KAAMhH,EAAUnR,KAAVmR,MACR/Q,EAAQJ,KAAK0Y,YACnBP,EAAKC,KAAK,CACR6K,UAAW9R,IAEb,IAAMgrB,EAAO5jB,EAAKF,EAClBF,EAAKiH,SAAS/G,EAAIC,EAAI6jB,EAAM/7B,Q,6MCtC1Bu/B,G,WACJ,cAA4B,IAAdjiB,EAAc,EAAdA,KAAMvF,EAAQ,EAARA,M,4FAAQ,SAC1BnY,KAAKmY,KAAOA,EACZnY,KAAK0d,KAAOA,EACZ1d,KAAK4/B,gBAAkB,K,mEAGLzuB,GAClB,GAAIA,EAAO,CACTnR,KAAK4/B,gBAAkBzuB,EADd,IAEDgH,EAAenY,KAAfmY,KAAMuF,EAAS1d,KAAT0d,KACdvF,EAAKC,KAAK,CACR6K,UAAW9R,IAEbgH,EAAKiH,SAAS1B,EAAK3gB,EAAG2gB,EAAK1gB,EAAG0gB,EAAKtd,MAAOsd,EAAKpd,c,6MCZ/Cu/B,G,WAEJ,WAAYr1B,I,4FAAQ,SAClBxK,KAAK+2B,EAAI,GACT/2B,KAAKwK,OAASrQ,EAAMkB,UAAU,GAAI,CAChCykC,MAAO,aACPC,MAAO,aACPC,QAAS,cACRx1B,G,mDAGD7H,GACF3C,KAAK+2B,EAAEkJ,QAAQt9B,GACf3C,KAAKwK,OAAOs1B,MAAMn9B,K,4BAIlB,IAAK3C,KAAK4yB,UAAW,CACnB,IAAM50B,EAASgC,KAAK+2B,EAAEmJ,QACtBlgC,KAAKwK,OAAOu1B,MAAM/hC,M,4BAKpB,OAAOgC,KAAK+2B,EAAE,K,8BAId/2B,KAAK+2B,EAAI,GACT/2B,KAAKwK,OAAOw1B,Y,gCAIZ,OAAyB,IAAlBhgC,KAAK+2B,EAAEl8B,S,+BAId,OAAOmF,KAAK+2B,EAAEl8B,Y,6MCnCZslC,G,WAEJ,WAAY9W,GAAO,Y,4FAAA,SACjBrpB,KAAKqpB,MAAQA,EADI,IAETsH,EAAkBtH,EAAlBsH,MAAOpF,EAAWlC,EAAXkC,OACfvrB,KAAKyvB,KAAO,IAAIoQ,GAAQ,CACtBE,MAAO,SAACpkC,GACN,EAAK+zB,KAAKlsB,IAAIrJ,EAAMimC,UAAUzkC,IAC9B,IAAMmG,EAAM,EAAK2tB,KAAK72B,MACtB+3B,EAAMwG,QAAQh9B,EAAMimC,UAAUt+B,EAAI6uB,QAClCpF,EAAO4L,QAAQh9B,EAAMimC,UAAUt+B,EAAIypB,SACnClC,EAAMgX,QAAQj4B,GAASmB,iBAAiBG,aACxC2f,EAAMgH,YAGVrwB,KAAK0vB,KAAO,IAAImQ,GAAQ,CACtBE,MAAO,SAACpkC,GACN,EAAK8zB,KAAKjsB,IAAIrJ,EAAMimC,UAAUzkC,IAC9B,IAAMmG,EAAM,EAAK2tB,KAAK72B,MACtB+3B,EAAMwG,QAAQh9B,EAAMimC,UAAUt+B,EAAI6uB,QAClCpF,EAAO4L,QAAQh9B,EAAMimC,UAAUt+B,EAAIypB,SACnClC,EAAMgX,QAAQj4B,GAASmB,iBAAiBG,aACxC2f,EAAMgH,YAGVrwB,KAAKyvB,KAAKjsB,IAAI,CACZmtB,MAAOx2B,EAAMimC,UAAUzP,EAAM2P,WAC7B/U,OAAQpxB,EAAMimC,UAAU7U,EAAO+U,a,0DAIX,IAAfC,EAAe,wDACdlX,EAAUrpB,KAAVqpB,MACAsH,EAAkBtH,EAAlBsH,MAAOpF,EAAWlC,EAAXkC,OACXgV,GACFvgC,KAAK0vB,KAAK6Q,QAEZvgC,KAAKyvB,KAAKjsB,IAAI,CACZmtB,MAAOx2B,EAAMimC,UAAUzP,EAAM2P,WAC7B/U,OAAQpxB,EAAMimC,UAAU7U,EAAO+U,aAEjCjX,EAAMgX,QAAQj4B,GAASmB,iBAAiBG,kB,6MC1CtC82B,G,WAEJ,WAAYnX,I,4FAAO,SACjBrpB,KAAKqpB,MAAQA,E,wDAmBb,IAPC,QARDK,iBAQC,MARW,IAAIzB,GAAU,EAAG,EAAG,EAAG,GAQlC,MAPDwY,cAOC,MAPQ,kBAAM,GAOd,MAND/yB,cAMC,MANQ,kBAAM,GAMd,MALDgzB,YAKC,MALM,kBAAM,GAKZ,MAJDC,cAIC,MAJQ,kBAAM,GAId,MAHDC,cAGC,MAHQ,kBAAM,GAGd,MAFDne,UAEC,MAFI,EAEJ,MADDC,UACC,MADI,EACJ,EACO2G,EAAUrpB,KAAVqpB,MACAE,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KAEZtB,EACEwB,EADFxB,IAAKE,EACHsB,EADGtB,IAAKD,EACRuB,EADQvB,IAAKE,EACbqB,EADarB,IAEbrrB,EAAI0lB,EACC3qB,EAAImwB,EAAKnwB,GAAKqwB,EAAKrwB,GAAK,EAAG,CAClC,IAAMuI,EAASkpB,EAAK+N,UAAUx/B,GAC1BgF,EAAI0lB,EACRge,EAAO1oC,EAAGiF,GACV,IAAK,IAAI+mB,EAAIoE,EAAKpE,GAAKsE,EAAKtE,GAAK,EAAG,CAClC,IAAM3jB,EAAQmpB,EAAKsO,SAAS9T,GACbrW,EAAO3V,EAAGgsB,EAAGhnB,EAAGC,GAE7B2jC,EAAO5oC,EAAGgsB,EAAGhnB,EAAGC,GAEhB0jC,EAAK3oC,EAAGgsB,EAAGhnB,EAAGC,GAEhBD,GAAKqD,EAEPwgC,IACA5jC,GAAKsD,K,+BAoBP,IAPC,QARDopB,iBAQC,MARW,IAAIzB,GAAU,EAAG,EAAG,EAAG,GAQlC,MAPD4Y,cAOC,MAPQ,kBAAM,GAOd,MANDnzB,cAMC,MANQ,kBAAM,GAMd,MALDgzB,YAKC,MALM,kBAAM,GAKZ,MAJDC,cAIC,MAJQ,kBAAM,GAId,MAHDG,cAGC,MAHQ,kBAAM,GAGd,MAFDre,UAEC,MAFI,EAEJ,MADDC,UACC,MADI,EACJ,EACO2G,EAAUrpB,KAAVqpB,MACAE,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KAEZtB,EACEwB,EADFxB,IAAKE,EACHsB,EADGtB,IAAKD,EACRuB,EADQvB,IAAKE,EACbqB,EADarB,IAEbtrB,EAAI0lB,EACC1qB,EAAIowB,EAAKpwB,GAAKswB,EAAKtwB,GAAK,EAAG,CAClC,IAAMqI,EAAQmpB,EAAKsO,SAAS9/B,GACxBiF,EAAI0lB,EACRme,EAAO9oC,EAAGgF,GACV,IAAK,IAAIgnB,EAAImE,EAAKnE,GAAKqE,EAAKrE,GAAK,EAAG,CAClC,IAAMzjB,EAASkpB,EAAK+N,UAAUxT,GACfrW,EAAO3V,EAAGgsB,EAAGhnB,EAAGC,GAE7B2jC,EAAO5oC,EAAGgsB,EAAGhnB,EAAGC,GAEhB0jC,EAAK3oC,EAAGgsB,EAAGhnB,EAAGC,GAEhBA,GAAKsD,EAEPwgC,IACA/jC,GAAKqD,K,uDAMN,QADDspB,iBACC,MADW,IAAIzB,GAAU,EAAG,EAAG,EAAG,GAClC,EACOoB,EAAUrpB,KAAVqpB,MACAkC,EAAuBlC,EAAvBkC,OAAQhC,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KAChB9b,EAAS,GACT1P,EAAS,GAef,OAdAgC,KAAK+gC,MAAM,CACTrX,YACAiX,OAAQ,SAAC/mB,EAAKC,EAAK9c,EAAGC,GACpB,IAAMmxB,EAAQ5C,EAAOmB,iBAAiB9S,EAAKC,GAC3C,GAAIsU,IAAoC,IAA3BzgB,EAAO5O,QAAQqvB,GAAe,CACzCzgB,EAAO3O,KAAKovB,GACZ,IAAM6S,EAAOtX,EAAUI,SAASqE,GAC1B/tB,EAAQmpB,EAAKS,gBAAgBgX,EAAK7Y,IAAK6Y,EAAK3Y,KAC5C/nB,EAASkpB,EAAKS,iBAAiB+W,EAAK9Y,IAAK8Y,EAAK5Y,KAC9C1K,EAAO,IAAI+B,GAAK,CAAE1iB,IAAGC,IAAGoD,QAAOE,WACrCtC,EAAOe,KAAK,CAAE2e,OAAMsjB,OAAM7S,cAIzBnwB,I,2CASP,IAJC,IADDijC,EACC,EADDA,aAEQ5X,EAAUrpB,KAAVqpB,MACAE,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KACRxrB,EAAS,GACNjG,EAAI,EAAGA,EAAIkpC,EAAapmC,OAAQ9C,GAAK,EAAG,OACjBkpC,EAAalpC,GAAnCipC,EADuC,EACvCA,KAAMtjB,EADiC,EACjCA,KAAMyQ,EAD2B,EAC3BA,MACd+S,EAAQF,EAAKE,QACbp/B,EAAM,CACVk/B,KAAME,EAAMp/B,IACZ/E,EAAG2gB,EAAK3gB,EACRC,EAAG0gB,EAAK1gB,GAEJgF,EAAO,CACXg/B,KAAME,EAAMl/B,KACZjF,EAAG2gB,EAAK3gB,EACRC,EAAG0gB,EAAK1gB,GAEJsI,EAAS,CACb07B,KAAME,EAAM57B,OACZvI,EAAG2gB,EAAK3gB,EACRC,EAAG0gB,EAAK1gB,EAAI0gB,EAAKpd,OAASkpB,EAAK2X,mBAAmBD,EAAM57B,SAEpDD,EAAQ,CACZ27B,KAAME,EAAM77B,MACZtI,EAAG2gB,EAAK3gB,EAAI2gB,EAAKtd,MAAQmpB,EAAK6X,kBAAkBF,EAAM77B,OACtDrI,EAAG0gB,EAAK1gB,GAEJgJ,EAAO,GACTmoB,EAAMjG,MAAQ8Y,EAAK9Y,MACrBliB,EAAKlE,IAAMA,GAETqsB,EAAMhG,MAAQ6Y,EAAK7Y,MACrBniB,EAAKhE,KAAOA,GAEVmsB,EAAM/F,MAAQ4Y,EAAK5Y,MACrBpiB,EAAKV,OAASA,GAEZ6oB,EAAM9F,MAAQ2Y,EAAK3Y,MACrBriB,EAAKX,MAAQA,GAEfrH,EAAOe,KAAKiH,GAEd,OAAOhI,O,6MC9ILqjC,G,WAEJ,c,4FAAc,SACZrhC,KAAKuO,KAAO,GACZvO,KAAKgE,OAAS,KACdhE,KAAKzG,O,2DAG6C,WAAzCwH,EAAyC,EAAzCA,GAAyC,IAArCzH,WAAqC,MAA/B,KAA+B,MAAzB4yB,YAAyB,MAAlB,KAAkB,EAAZC,EAAY,EAAZA,SACtCnsB,KAAKuO,KAAKxP,KAAK,CAAEgC,KAAIzH,MAAK4yB,OAAMC,aAChC,IAAMha,EAAMnS,KAAKuO,KAAK1T,OAAS,EAC/BkP,GAAUxQ,KAAKwH,EAAIqH,GAASC,kBAAkBG,YAAY,WACxD,EAAKxE,OAAS,EAAKuK,KAAK4D,Q,6BAIrB,WACLpI,GAAUxQ,KAAKmG,SAAU0I,GAASC,kBAAkBU,UAAU,SAACpN,GAAM,IAC3DqI,EAAW,EAAXA,OACAs9B,EAAY3lC,EAAZ2lC,QACR,GAAIt9B,EAAQ,KACF1K,EAAwB0K,EAAxB1K,IAAK4yB,EAAmBloB,EAAnBkoB,KAAMC,EAAanoB,EAAbmoB,SACf7yB,EACEqC,EAAErC,IAAQgoC,IAAYpV,GACxBC,EAASxwB,GAEF2lC,IAAYpV,GACrBC,EAASxwB,GAGG,IAAZ2lC,GACF3lC,EAAEiQ,yB,6MC7BJ21B,G,WASJ,cAEG,IADDlY,EACC,EADDA,MAAOE,EACN,EADMA,KAAMC,EACZ,EADYA,KACZ,IADkBvoB,YAClB,MADyB,GACzB,G,4FAAA,SACDjB,KAAKqpB,MAAQA,EACbrpB,KAAKupB,KAAOA,EACZvpB,KAAKwpB,KAAOA,EACZxpB,KAAKiB,KAAOA,E,uDAQNunB,EAAIC,GACV,IAAM7O,EAAM5Z,KAAKiB,KAAKunB,GACtB,GAAI5O,GAAOA,EAAI6O,GAAK,CAClB,IAAIziB,EAAO4T,EAAI6O,GACf,OAAIziB,aAAgBgpB,GACXpV,EAAI6O,IAETtuB,EAAMqnC,SAASx7B,KACjBA,EAAO,CACLgC,KAAMhC,IAGV4T,EAAI6O,GAAM,IAAIuG,GAAKhpB,GACZ4T,EAAI6O,IAEb,OAAO,O,yCAUUD,EAAIC,GAAI,IAGnB0F,EAFYnuB,KAAVqpB,MACAkC,OACamB,iBAAiBlE,EAAIC,GAC1C,OAAI0F,EACKnuB,KAAK88B,QAAQ3O,EAAMjG,IAAKiG,EAAMhG,KAEhCnoB,KAAK88B,QAAQtU,EAAIC,K,mCAQbD,EAAIC,GASf,OARItuB,EAAMQ,QAAQqF,KAAKiB,KAAKunB,MAC1BxoB,KAAKiB,KAAKunB,GAAM,IAEdruB,EAAMQ,QAAQqF,KAAKiB,KAAKunB,GAAIC,MAC9BzoB,KAAKiB,KAAKunB,GAAIC,GAAM,CAClBzgB,KAAM,KAGHhI,KAAK88B,QAAQtU,EAAIC,K,8BASlBD,EAAIC,EAAI0H,GACd,IAAMvW,EAAM5Z,KAAKiB,KAAKunB,GAClB5O,GAAOA,EAAI6O,KACb7O,EAAI6O,GAAM0H,K,mCAWD3H,EAAIC,EAAI0H,GACfh2B,EAAMQ,QAAQqF,KAAKiB,KAAKunB,MAC1BxoB,KAAKiB,KAAKunB,GAAM,IAElBxoB,KAAKiB,KAAKunB,GAAIC,GAAM0H,I,gCAQpB,OAAOnwB,KAAKiB,O,gCAQK,IAAXA,EAAW,uDAAJ,GAEb,OADAjB,KAAKiB,KAAOA,EACLjB,U,6MCpHLyhC,G,WAEJ,cAA2C,IAA7B9Q,EAA6B,EAA7BA,MAAOpF,EAAsB,EAAtBA,OAAQ/B,EAAc,EAAdA,KAAMD,EAAQ,EAARA,M,4FAAQ,SACzCvpB,KAAK2wB,MAAQA,EACb3wB,KAAKurB,OAASA,EACdvrB,KAAKwpB,KAAOA,EACZxpB,KAAKupB,KAAOA,E,mEAGMf,EAAIC,GAAI,IAClBkI,EAAgB3wB,KAAhB2wB,MAAOpH,EAASvpB,KAATupB,KAGP5H,EAFKgP,EAAMmM,QAAQtU,EAAIC,GACvByG,SACAvN,MACJvhB,EAAQ,EACR4N,EAAS,EACb,GAAI2T,IAAUb,GAAM9e,KAClB,IAAS,IAAAjK,EAAI0wB,EAAMtW,EAAQoX,EAARpX,IAAcpa,GAAKoa,EAAKpa,GAAK,EAAG,CACjD,IAAMo4B,EAAOQ,EAAMmM,QAAQtU,EAAIzwB,GAC/B,GAAIA,IAAM0wB,EACRroB,GAASmpB,EAAKsO,SAAS9/B,OAClB,KAAIoC,EAAMQ,QAAQw1B,KAASh2B,EAAM8F,QAAQkwB,EAAKnoB,MAGnD,MAFA5H,GAASmpB,EAAKsO,SAAS9/B,IAM7B,GAAI4pB,IAAUb,GAAMnP,OAAQ,CAC1B,IAAS,IAAA5Z,EAAI0wB,EAAMtW,EAAQoX,EAARpX,IAAcpa,GAAKoa,EAAKpa,GAAK,EAAG,CACjD,IAAMo4B,EAAOQ,EAAMmM,QAAQtU,EAAIzwB,GAC/B,GAAIA,IAAM0wB,EACRroB,GAASmpB,EAAKsO,SAAS9/B,OAClB,KAAIoC,EAAMQ,QAAQw1B,KAASh2B,EAAM8F,QAAQkwB,EAAKnoB,MAGnD,MAFA5H,GAASmpB,EAAKsO,SAAS9/B,IAK3B,IAAK,IAAIA,EAAI0wB,EAAK,EAAG1wB,GAAK,EAAGA,GAAK,EAAG,CACnC,IAAMo4B,EAAOQ,EAAMmM,QAAQtU,EAAIzwB,GAC/B,IAAIoC,EAAMQ,QAAQw1B,KAASh2B,EAAM8F,QAAQkwB,EAAKnoB,MAK5C,MAJA,IAAM05B,EAAMnY,EAAKsO,SAAS9/B,GAC1BqI,GAASshC,EACT1zB,GAAU0zB,GAMhB,GAAI/f,IAAUb,GAAMzb,MAClB,IAAK,IAAItN,EAAI0wB,EAAI1wB,GAAK,EAAGA,GAAK,EAAG,CAC/B,IAAMo4B,EAAOQ,EAAMmM,QAAQtU,EAAIzwB,GAC/B,GAAIA,IAAM0wB,EACRroB,GAASmpB,EAAKsO,SAAS9/B,OAClB,KAAIoC,EAAMQ,QAAQw1B,KAASh2B,EAAM8F,QAAQkwB,EAAKnoB,MAKnD,MAJA,IAAM05B,EAAMnY,EAAKsO,SAAS9/B,GAC1BqI,GAASshC,EACT1zB,GAAU0zB,GAMhB,MAAO,CAAEthC,QAAO4N,Y,2CAGGwa,EAAIC,GAAI,IACnBkI,EAAgB3wB,KAAhB2wB,MAAOnH,EAASxpB,KAATwpB,KAGP9H,EAFKiP,EAAMmM,QAAQtU,EAAIC,GACvByG,SACAxN,cACJphB,EAAS,EACT0N,EAAS,EACb,GAAI0T,IAAkBX,GAAejf,IACnC,IAAS,IAAA/J,EAAIywB,EAAMrW,EAAQqX,EAARrX,IAAcpa,GAAKoa,EAAKpa,GAAK,EAAG,CACjD,IAAMo4B,EAAOQ,EAAMmM,QAAQ/kC,EAAG0wB,GAC9B,GAAI1wB,IAAM0wB,EACRnoB,GAAUkpB,EAAK+N,UAAUx/B,OACpB,KAAIoC,EAAMQ,QAAQw1B,KAASh2B,EAAM8F,QAAQkwB,EAAKnoB,MAGnD,MAFA1H,GAAUkpB,EAAK+N,UAAUx/B,IAM/B,GAAI2pB,IAAkBX,GAAepP,OAAQ,CAC3C,IAAS,IAAA5Z,EAAIywB,EAAMrW,EAAQqX,EAARrX,IAAcpa,GAAKoa,EAAKpa,GAAK,EAAG,CACjD,IAAMo4B,EAAOQ,EAAMmM,QAAQ/kC,EAAG0wB,GAC9B,GAAI1wB,IAAM0wB,EACRnoB,GAAUkpB,EAAK+N,UAAUx/B,OACpB,KAAIoC,EAAMQ,QAAQw1B,KAASh2B,EAAM8F,QAAQkwB,EAAKnoB,MAGnD,MAFA1H,GAAUkpB,EAAK+N,UAAUx/B,IAK7B,IAAK,IAAIA,EAAIywB,EAAK,EAAGzwB,GAAK,EAAGA,GAAK,EAAG,CACnC,IAAMo4B,EAAOQ,EAAMmM,QAAQtU,EAAIzwB,GAC/B,IAAIoC,EAAMQ,QAAQw1B,KAASh2B,EAAM8F,QAAQkwB,EAAKnoB,MAK5C,MAJA,IAAM05B,EAAMlY,EAAK+N,UAAUx/B,GAC3BuI,GAAUohC,EACV1zB,GAAU0zB,GAMhB,GAAIhgB,IAAkBX,GAAezb,OACnC,IAAK,IAAIvN,EAAIywB,EAAIzwB,GAAK,EAAGA,GAAK,EAAG,CAC/B,IAAMo4B,EAAOQ,EAAMmM,QAAQtU,EAAIzwB,GAC/B,GAAIA,IAAM0wB,EACRnoB,GAAUkpB,EAAK+N,UAAUx/B,OACpB,KAAIoC,EAAMQ,QAAQw1B,KAASh2B,EAAM8F,QAAQkwB,EAAKnoB,MAKnD,MAJA,IAAM05B,EAAMlY,EAAK+N,UAAUx/B,GAC3BuI,GAAUohC,EACV1zB,GAAU0zB,GAMhB,MAAO,CAAEphC,SAAQ0N,Y,sCAGHwa,EAAIC,EAAI/K,EAAMyS,GAAM,IAC1BjB,EAAaiB,EAAbjB,SACA7J,EAAwB6J,EAAxB7J,UAAW1C,EAAauM,EAAbvM,SACX5lB,EAAwB2gB,EAAxB3gB,EAAGC,EAAqB0gB,EAArB1gB,EAAGoD,EAAkBsd,EAAlBtd,MAAOE,EAAWod,EAAXpd,OACrB,GAAIqiB,IAAa3B,GAAUC,UAAW,CACpC,GAAIoE,IAAcjE,GAAeE,SAAU,CACzC,IAAMnlB,EAAM6D,KAAK2hC,qBAAqBnZ,EAAIC,GAC1C,OAAO,IAAIhJ,GAAK,CAAE1iB,IAAGC,EAAGA,EAAIb,EAAI6R,OAAQ5N,QAAOE,OAAQnE,EAAImE,SAE7D,IAAMnE,EAAM6D,KAAK4hC,oBAAoBpZ,EAAIC,GACzC,OAAO,IAAIhJ,GAAK,CAAE1iB,EAAGA,EAAIZ,EAAI6R,OAAQhR,IAAGoD,MAAOjE,EAAIiE,MAAOE,WAE5D,OAAO,O,4CAWP,IANC,IADD4vB,EACC,EADDA,UAAW/D,EACV,EADUA,SACV,IADoB0V,cACpB,MAD6B,EAC7B,MADgCC,cAChC,MADyC,EACzC,EACOtY,EAAsBxpB,KAAtBwpB,KAAMD,EAAgBvpB,KAAhBupB,KAAMoH,EAAU3wB,KAAV2wB,MAElBzI,EACEgI,EADFhI,IAAKE,EACH8H,EADG9H,IAAKD,EACR+H,EADQ/H,IAAKE,EACb6H,EADa7H,IAEbrrB,EAAI8kC,EACC/pC,EAAImwB,EAAKnwB,GAAKqwB,EAAKrwB,GAAK,EAAG,CAGlC,IAFA,IAAMuI,EAASkpB,EAAK+N,UAAUx/B,GAC1BgF,EAAI8kC,EACC9d,EAAIoE,EAAKpE,GAAKsE,EAAKtE,GAAK,EAAG,CAClC,IAAM3jB,EAAQmpB,EAAKsO,SAAS9T,GACtBoM,EAAOQ,EAAMmM,QAAQ/kC,EAAGgsB,GAC9B,GAAIoM,EAAM,CACR,IAAMzS,EAAO,IAAI+B,GAAK,CAAE1iB,IAAGC,IAAGoD,QAAOE,WAGrC,IAAe,IADA6rB,EAASp0B,EAAGgsB,EAAGoM,EAAMzS,EADnB1d,KAAK+hC,gBAAgBhqC,EAAGgsB,EAAGrG,EAAMyS,IAGhD,OAGJpzB,GAAKqD,EAEPpD,GAAKsD,K,qDAYP,IANC,IADD4vB,EACC,EADDA,UAAW/D,EACV,EADUA,SACV,IADoB0V,cACpB,MAD6B,EAC7B,MADgCC,cAChC,MADyC,EACzC,EACOtY,EAAsBxpB,KAAtBwpB,KAAMD,EAAgBvpB,KAAhBupB,KAAMoH,EAAU3wB,KAAV2wB,MAElBzI,EACEgI,EADFhI,IAAKE,EACH8H,EADG9H,IAAKD,EACR+H,EADQ/H,IAAKE,EACb6H,EADa7H,IAEbrrB,EAAI8kC,EACC/pC,EAAImwB,EAAKnwB,GAAKqwB,EAAKrwB,GAAK,EAAG,CAGlC,IAFA,IAAMuI,EAASkpB,EAAK+N,UAAUx/B,GAC1BgF,EAAI8kC,EACC9d,EAAIoE,EAAKpE,GAAKsE,EAAKtE,GAAK,EAAG,CAClC,IAAM3jB,EAAQmpB,EAAKsO,SAAS9T,GACtBoM,EAAOQ,EAAMC,aAAa74B,EAAGgsB,GAC7BrG,EAAO,IAAI+B,GAAK,CAAE1iB,IAAGC,IAAGoD,QAAOE,WAGrC,IAAe,IADA6rB,EAASp0B,EAAGgsB,EAAGoM,EAAMzS,EADnB1d,KAAK+hC,gBAAgBhqC,EAAGgsB,EAAGrG,EAAMyS,IAGhD,OAEFpzB,GAAKqD,EAEPpD,GAAKsD,K,iDAYP,IANC,IADD4vB,EACC,EADDA,UAAW/D,EACV,EADUA,SACV,IADoB0V,cACpB,MAD6B,EAC7B,MADgCC,cAChC,MADyC,EACzC,EACOtY,EAA8BxpB,KAA9BwpB,KAAMD,EAAwBvpB,KAAxBupB,KAAMoH,EAAkB3wB,KAAlB2wB,MAAOpF,EAAWvrB,KAAXurB,OAEzBrD,EACEgI,EADFhI,IAAKE,EACH8H,EADG9H,IAAKD,EACR+H,EADQ/H,IAAKE,EACb6H,EADa7H,IAEX3a,EAAS,GACN3V,EAAImwB,EAAKnwB,GAAKqwB,EAAKrwB,GAAK,EAC/B,IADkC,eACzBgsB,GACP,IAAMoK,EAAQ5C,EAAOmB,iBAAiB30B,EAAGgsB,GACzC,GAAIoK,IAAUzgB,EAAOka,MAAK,SAAA5hB,GAAI,OAAIA,IAASmoB,KAAQ,CACjDzgB,EAAO3O,KAAKovB,GACZ,IAAMgC,EAAOQ,EAAMC,aAAazC,EAAMjG,IAAKiG,EAAMhG,KAC3C/nB,EAAQmpB,EAAKS,gBAAgBmE,EAAMhG,IAAKgG,EAAM9F,KAC9C/nB,EAASkpB,EAAKS,iBAAiBkE,EAAMjG,IAAKiG,EAAM/F,KAChD4Z,EAAS1vB,KAAKpW,IAAIg0B,EAAUhI,IAAKiG,EAAMjG,KACvC+Z,EAAS3vB,KAAKpW,IAAIg0B,EAAU/H,IAAKgG,EAAMhG,KACzC+Z,EAAS5vB,KAAKnW,IAAI+zB,EAAUhI,IAAKiG,EAAMjG,KACvCia,EAAS7vB,KAAKnW,IAAI+zB,EAAU/H,IAAKgG,EAAMhG,KAC3C+Z,GAAU,EACVC,GAAU,EACV,IAAIplC,EAAIwsB,EAAKS,gBAAgBiY,EAAQE,GACjCnlC,EAAIwsB,EAAKS,iBAAiB+X,EAAQE,GACtCnlC,EAAImzB,EAAU/H,IAAMgG,EAAMhG,KAAW,EAALprB,EAASA,EACzCC,EAAIkzB,EAAUhI,IAAMiG,EAAMjG,KAAW,EAALlrB,EAASA,EAGzC,IAAM0gB,EAAO,IAAI+B,GAAK,CAAE1iB,EAFxBA,GAAK8kC,EAEsB7kC,EAD3BA,GAAK8kC,EACyB1hC,QAAOE,WACrC6rB,EAASzO,EAAMyS,KApBVpM,EAAIoE,EAAKpE,GAAKsE,EAAKtE,GAAK,EAAG,EAA3BA,K,yDA4BV,IADDmM,EACC,EADDA,UAAW/D,EACV,EADUA,SACV,IADoB0V,cACpB,MAD6B,EAC7B,MADgCC,cAChC,MADyC,EACzC,EACOvW,EAAWvrB,KAAXurB,OACRvrB,KAAKoiC,mBAAmB,CACtBlS,YACA/D,SAAU,SAAC3D,EAAIC,EAAI0H,EAAMzS,EAAMrQ,GAEf,OADAke,EAAOmB,iBAAiBlE,EAAIC,IAExC0D,EAAS3D,EAAIC,EAAI0H,EAAMzS,EAAMrQ,IAGjCw0B,SACAC,gB,6MCpPAO,G,WAEJ,WAAYhZ,I,4FAAO,SACjBrpB,KAAKqpB,MAAQA,E,yEAaWZ,EAAID,GAQ5B,IARgC,IACxBa,EAAUrpB,KAAVqpB,MACAE,EAAgBF,EAAhBE,KAAMoH,EAAUtH,EAAVsH,MAGNtI,EADgBgB,EAAMM,qBACtBtB,IAEFia,EAAe/Y,EAAKS,gBAAgB,EAAGvB,GACpC1wB,EAAI,EAAGwqC,EAAY,EAAGxqC,GAAK0wB,EAAI1wB,GAAK,EAAG,CAC1CA,EAAI,IAAGwqC,GAAahZ,EAAKsO,SAAS9/B,EAAI,IAC1C,IAAMo4B,EAAOQ,EAAMmM,QAAQtU,EAAIzwB,GAC/B,GAAKo4B,EAAL,CAH8C,IAItCjB,EAA2BiB,EAA3BjB,SAAU/jB,EAAiBglB,EAAjBhlB,aACVwX,EAAsCuM,EAAtCvM,SAAUhB,EAA4BuN,EAA5BvN,MAAO0D,EAAqB6J,EAArB7J,UAAWlH,EAAU+Q,EAAV/Q,MACpC,GAAIkH,IAAcjE,GAAeG,MAAO,CACtC,GAAc,IAAVpD,EAAe,SACnB,GAAIwE,IAAa3B,GAAUG,SAAY,SACvC,GAAIQ,IAAUb,GAAM9e,KAAQ,aACvB,CACL,GAAI2gB,IAAa3B,GAAUC,UAAa,SACxC,GAAIU,IAAUb,GAAM9e,KAAQ,SAE9B,GAAIugC,EAAYp3B,GAAgBm3B,EAC9B,OAAO,GAIX,IAAK,IAAIvqC,EAAI0wB,EAAK,EAAG+Z,EAAa,EAAGzqC,EAAIswB,EAAKtwB,GAAK,EAAG,CACpDyqC,GAAcjZ,EAAKsO,SAAS9/B,GAC5B,IAAMo4B,EAAOQ,EAAMmM,QAAQtU,EAAIzwB,GAC/B,GAAKo4B,EAAL,CAHoD,IAI5CjB,EAA2BiB,EAA3BjB,SAAU/jB,EAAiBglB,EAAjBhlB,aACVwX,EAAsCuM,EAAtCvM,SAAUhB,EAA4BuN,EAA5BvN,MAAO0D,EAAqB6J,EAArB7J,UAAWlH,EAAU+Q,EAAV/Q,MACpC,GAAIkH,IAAcjE,GAAeG,MAAO,CACtC,GAAc,IAAVpD,EAAe,SACnB,GAAIwE,IAAa3B,GAAUG,SAAY,SACvC,GAAIQ,IAAUb,GAAMzb,MAAS,aACxB,CACL,GAAIsd,IAAa3B,GAAUC,UAAa,SACxC,GAAIU,IAAUb,GAAMzb,MAAS,SAE/B,GAAI8F,GAAgBq3B,EAClB,OAAO,GAGX,OAAO,I,yCASU/Z,EAAID,GAAI,IAEjBmI,EADU3wB,KAAVqpB,MACAsH,MACFR,EAAOQ,EAAM8R,mBAAmBja,EAAIC,GACpCia,EAAW/R,EAAM8R,mBAAmBja,EAAIC,EAAK,GAEnD,OAAI0H,GAAQuS,IACDvS,EAAKhB,WAAW9pB,MAAMX,SAAWg+B,EAASvT,WAAWntB,KAAK0C,SAEjEyrB,GACMA,EAAKhB,WAAW9pB,MAAMX,SAE5Bg+B,IACMA,EAASvT,WAAWntB,KAAK0C,U,yCAWlB8jB,EAAIC,GAAI,IAEjBkI,EADU3wB,KAAVqpB,MACAsH,MACFR,EAAOQ,EAAM8R,mBAAmBja,EAAIC,GACpCia,EAAW/R,EAAM8R,mBAAmBja,EAAK,EAAGC,GAElD,OAAI0H,GAAQuS,IACDvS,EAAKhB,WAAW7pB,OAAOZ,SAAWg+B,EAASvT,WAAWrtB,IAAI4C,SAEjEyrB,GACMA,EAAKhB,WAAW7pB,OAAOZ,SAE7Bg+B,IACMA,EAASvT,WAAWrtB,IAAI4C,U,gCAa1BglB,GAAgD,IAIpDrR,EACAC,EACAC,EACAC,EACAmqB,EARelgB,EAAqC,uDAAhC,EAAGC,EAA6B,uDAAxB,EAAGhV,EAAqB,uDAAZ,kBAAM,GAC1C2b,EAAUrpB,KAAVqpB,MACAuZ,EAA2BvZ,EAA3BuZ,WAAYrZ,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KACpB3Q,EAAO,GAqCb,OA/BA+pB,EAAW7B,MAAM,CACfrX,YACA+W,OAAQ,SAAC7mB,EAAK5c,GACZ,IAAMsD,EAASkpB,EAAK+N,UAAU3d,GAG9BrB,EAFAF,EAAKoK,EAGLjK,EAFAF,EAAKoK,EAAK1lB,EAAIsD,EAGdqiC,GAAa,GAEfj1B,SACAgzB,KAAM,SAAC9mB,EAAKC,GACN8oB,IACFA,GAAa,EACb9pB,EAAK9Z,KAAK,CAAEsZ,KAAIC,KAAIC,KAAIC,QAE1B,IAAMpY,EAAQmpB,EAAKsO,SAAShe,GAE5BtB,EADAF,EAAKE,EAAKnY,GAGZugC,OAAQ,SAAC/mB,EAAKC,GACZ8oB,GAAa,EACb,IAAMviC,EAAQmpB,EAAKsO,SAAShe,GAC5BtB,GAAMnY,GAERwgC,OAAQ,WACF+B,GACF9pB,EAAK9Z,KAAK,CAAEsZ,KAAIC,KAAIC,KAAIC,UAIvBK,I,gCAWC6Q,GAAgD,IAIpDrR,EACAC,EACAC,EACAC,EACAmqB,EARelgB,EAAqC,uDAAhC,EAAGC,EAA6B,uDAAxB,EAAGhV,EAAqB,uDAAZ,kBAAM,GAC1C2b,EAAUrpB,KAAVqpB,MACAuZ,EAA2BvZ,EAA3BuZ,WAAYrZ,EAAeF,EAAfE,KAAMC,EAASH,EAATG,KACpB3Q,EAAO,GAqCb,OA/BA+pB,EAAWC,MAAM,CACfnZ,YACAmX,OAAQ,SAAChnB,EAAK9c,GACZ,IAAMqD,EAAQmpB,EAAKsO,SAAShe,GAG5BtB,EAFAF,EAAKoK,EAAK1lB,EAAIqD,EAGdoY,EAFAF,EAAKoK,EAGLigB,GAAa,GAEfj1B,SACAgzB,KAAM,SAAC7mB,EAAKD,GACN+oB,IACFA,GAAa,EACb9pB,EAAK9Z,KAAK,CAAEsZ,KAAIC,KAAIC,KAAIC,QAE1B,IAAMlY,EAASkpB,EAAK+N,UAAU3d,GAE9BpB,EADAF,EAAKE,EAAKlY,GAGZqgC,OAAQ,SAAC9mB,EAAKD,GACZ+oB,GAAa,EACb,IAAMriC,EAASkpB,EAAK+N,UAAU3d,GAC9BpB,GAAMlY,GAERwgC,OAAQ,WACF6B,GACF9pB,EAAK9Z,KAAK,CAAEsZ,KAAIC,KAAIC,KAAIC,UAIvBK,I,4BASH6Q,GAAW,WAEP6B,EADUvrB,KAAVqpB,MACAkC,OACR,OAAOvrB,KAAK8iC,UAAUpZ,EAAW,EAAG,GAAG,SAAClB,EAAIC,GAE1C,OADc8C,EAAOmB,iBAAiBlE,EAAIC,IAInC,EAAKsa,mBAAmBva,EAAIC,Q,4BAUjCiB,GAAW,WAEP6B,EADUvrB,KAAVqpB,MACAkC,OACR,OAAOvrB,KAAKgjC,UAAUtZ,EAAW,EAAG,GAAG,SAACjB,EAAID,GAE1C,OADc+C,EAAOmB,iBAAiBlE,EAAIC,IAInC,EAAKwa,mBAAmBxa,EAAID,IAC9B,EAAK0a,0BAA0Bza,EAAID,Q,iCAUjC2a,GAET,IAFsB,WAClBnlC,EAAS,GACJjG,EAAI,EAAGA,EAAIorC,EAAYtoC,OAAQ9C,GAAK,EAAG,CAC9C,IACQuN,EADM69B,EAAYprC,GAClBuN,OACR,GAAIA,EAAQ,KACF07B,EAAe17B,EAAf07B,KAAMjkC,EAASuI,EAATvI,EAAGC,EAAMsI,EAANtI,EACXgJ,EAAOhG,KAAK8iC,UAAU9B,EAAMjkC,EAAGC,GAAG,SAACwrB,EAAIC,GAAL,OAAY,EAAKsa,mBAAmBva,EAAIC,MAChFzqB,EAASA,EAAO88B,OAAO90B,IAG3B,OAAOhI,I,iCASEmlC,GAET,IAFsB,WAClBnlC,EAAS,GACJjG,EAAI,EAAGA,EAAIorC,EAAYtoC,OAAQ9C,GAAK,EAAG,CAC9C,IACQsN,EADM89B,EAAYprC,GAClBsN,MACR,GAAIA,EAAO,KACD27B,EAAe37B,EAAf27B,KAAMjkC,EAASsI,EAATtI,EAAGC,EAAMqI,EAANrI,EACXgJ,EAAOhG,KAAKgjC,UAAUhC,EAAMjkC,EAAGC,GAAG,SAACyrB,EAAID,GAAL,OAAY,EAAKya,mBAAmBxa,EAAID,IAC3E,EAAK0a,0BAA0Bza,EAAID,MACxCxqB,EAASA,EAAO88B,OAAO90B,IAG3B,OAAOhI,O,6MClSLolC,G,WAEJ,WAAY/Z,I,4FAAO,SACjBrpB,KAAKqpB,MAAQA,EACbrpB,KAAKqjC,kBAAmB,EACxBrjC,KAAKsjC,oBAAqB,E,4DAGf5Z,GAAgD,IAIvDrR,EACAC,EACAC,EACAC,EAPkBiK,EAAqC,uDAAhC,EAAGC,EAA6B,uDAAxB,EAAGhV,EAAqB,uDAAZ,kBAAM,GAC7C2b,EAA4BrpB,KAA5BqpB,MAAOga,EAAqBrjC,KAArBqjC,iBACPT,EAA4BvZ,EAA5BuZ,WAAYrZ,EAAgBF,EAAhBE,KAAMoH,EAAUtH,EAAVsH,MACpB9X,EAAO,GAoCb,GA/BA+pB,EAAW7B,MAAM,CACfrX,YACA+W,OAAQ,SAAC7mB,EAAK5c,GAGZub,EAFAF,EAAKoK,EAGLjK,EAFAF,EAAKoK,EAAK1lB,GAIZ0Q,SACAgzB,KAAM,SAAC9mB,EAAKC,GACV,IAAMzZ,EAAQmpB,EAAKsO,SAAShe,GAE5BtB,EADAF,EAAKE,EAAKnY,GAGZugC,OAAQ,SAAC/mB,EAAKC,GACZ,IAAMzZ,EAAQmpB,EAAKsO,SAAShe,GAEpBsV,EADKwB,EAAMmM,QAAQljB,EAAKC,GACxBsV,WACR5W,GAAMnY,EACNyY,EAAK9Z,KAAK,CACRsZ,KACAC,KACAC,KACAC,KACAoB,MACAC,MACAsV,eAEF9W,EAAKE,KAGL8qB,EACF,IAAK,IAAItrC,EAAI,EAAGA,EAAI8gB,EAAKhe,QAAS,CAChC,IAAMmL,EAAO6S,EAAK9gB,GACZ6rB,EAAO/K,EAAK9gB,EAAI,GAChBwrC,EAAMv9B,EAAKmpB,WAAWrtB,IAAI3D,MAAMylB,EAAKuL,WAAWrtB,KAChD0hC,EAAMx9B,EAAK6T,IAAM+J,EAAK/J,KAAQ,EAC9B4pB,EAAMz9B,EAAK4T,MAAQgK,EAAKhK,IAC1B2pB,GAAOC,GAAOC,GAChB7f,EAAKrL,GAAKvS,EAAKuS,GACfqL,EAAK/J,IAAM7T,EAAK6T,IAChBhB,EAAKlR,OAAO5P,EAAG,IAEfA,GAAK,EAIX,OAAO8gB,I,mCAGI6Q,GAAgD,IAIvDrR,EACAC,EACAC,EACAC,EAPkBiK,EAAqC,uDAAhC,EAAGC,EAA6B,uDAAxB,EAAGhV,EAAqB,uDAAZ,kBAAM,GAC7C2b,EAA4BrpB,KAA5BqpB,MAAOga,EAAqBrjC,KAArBqjC,iBACPT,EAAkCvZ,EAAlCuZ,WAAYrZ,EAAsBF,EAAtBE,KAAMC,EAAgBH,EAAhBG,KAAMmH,EAAUtH,EAAVsH,MAC1B9X,EAAO,GAqCb,GAhCA+pB,EAAW7B,MAAM,CACfrX,YACA+W,OAAQ,SAAC7mB,EAAK5c,GACZ,IAAMsD,EAASkpB,EAAK+N,UAAU3d,GAG9BrB,EAFAF,EAAKoK,EAGLjK,EAFAF,EAAKoK,EAAK1lB,EAAIsD,GAIhBoN,SACAgzB,KAAM,SAAC9mB,EAAKC,GACV,IAAMzZ,EAAQmpB,EAAKsO,SAAShe,GAE5BtB,EADAF,EAAKE,EAAKnY,GAGZugC,OAAQ,SAAC/mB,EAAKC,GACZ,IAAMzZ,EAAQmpB,EAAKsO,SAAShe,GAEpBsV,EADKwB,EAAMmM,QAAQljB,EAAKC,GACxBsV,WACR5W,GAAMnY,EACNyY,EAAK9Z,KAAK,CACRsZ,KACAC,KACAC,KACAC,KACAoB,MACAC,MACAsV,eAEF9W,EAAKE,KAGL8qB,EACF,IAAK,IAAItrC,EAAI,EAAGA,EAAI8gB,EAAKhe,QAAS,CAChC,IAAMmL,EAAO6S,EAAK9gB,GACZ6rB,EAAO/K,EAAK9gB,EAAI,GAChBwrC,EAAMv9B,EAAKmpB,WAAW7pB,OAAOnH,MAAMylB,EAAKuL,WAAW7pB,QACnDk+B,EAAMx9B,EAAK6T,IAAM+J,EAAK/J,KAAQ,EAC9B4pB,EAAMz9B,EAAK4T,MAAQgK,EAAKhK,IAC1B2pB,GAAOC,GAAOC,GAChB7f,EAAKrL,GAAKvS,EAAKuS,GACfqL,EAAK/J,IAAM7T,EAAK6T,IAChBhB,EAAKlR,OAAO5P,EAAG,IAEfA,GAAK,EAIX,OAAO8gB,I,mCAGI6Q,GAAgD,IAIvDrR,EACAC,EACAC,EACAC,EAPkBiK,EAAqC,uDAAhC,EAAGC,EAA6B,uDAAxB,EAAGhV,EAAqB,uDAAZ,kBAAM,GAC7C2b,EAA4BrpB,KAA5BqpB,MAAOga,EAAqBrjC,KAArBqjC,iBACPT,EAA4BvZ,EAA5BuZ,WAAYpZ,EAAgBH,EAAhBG,KAAMmH,EAAUtH,EAAVsH,MACpB9X,EAAO,GAoCb,GA/BA+pB,EAAWC,MAAM,CACfnZ,YACAmX,OAAQ,SAAChnB,EAAK9c,GAGZwb,EAFAF,EAAKoK,EAAK1lB,EAGVyb,EAFAF,EAAKoK,GAIPhV,SACAgzB,KAAM,SAAC7mB,EAAKD,GACV,IAAMtZ,EAASkpB,EAAK+N,UAAU3d,GAE9BpB,EADAF,EAAKE,EAAKlY,GAGZqgC,OAAQ,SAAC9mB,EAAKD,GACZ,IAAMtZ,EAASkpB,EAAK+N,UAAU3d,GAEtBuV,EADKwB,EAAMmM,QAAQljB,EAAKC,GACxBsV,WACR3W,GAAMlY,EACNuY,EAAK9Z,KAAK,CACRsZ,KACAC,KACAC,KACAC,KACAoB,MACAC,MACAsV,eAEF7W,EAAKE,KAGL6qB,EACF,IAAK,IAAItrC,EAAI,EAAGA,EAAI8gB,EAAKhe,QAAS,CAChC,IAAMmL,EAAO6S,EAAK9gB,GACZ6rB,EAAO/K,EAAK9gB,EAAI,GAChBwrC,EAAMv9B,EAAKmpB,WAAWntB,KAAK7D,MAAMylB,EAAKuL,WAAWntB,MACjDwhC,EAAMx9B,EAAK4T,IAAMgK,EAAKhK,KAAQ,EAC9B6pB,EAAMz9B,EAAK6T,MAAQ+J,EAAK/J,IAC1B0pB,GAAOC,GAAOC,GAChB7f,EAAKpL,GAAKxS,EAAKwS,GACfoL,EAAKhK,IAAM5T,EAAK4T,IAChBf,EAAKlR,OAAO5P,EAAG,IAEfA,GAAK,EAIX,OAAO8gB,I,mCAGI6Q,GAAgD,IAIvDrR,EACAC,EACAC,EACAC,EAPkBiK,EAAqC,uDAAhC,EAAGC,EAA6B,uDAAxB,EAAGhV,EAAqB,uDAAZ,kBAAM,GAC7C2b,EAA4BrpB,KAA5BqpB,MAAOga,EAAqBrjC,KAArBqjC,iBACPT,EAAkCvZ,EAAlCuZ,WAAYpZ,EAAsBH,EAAtBG,KAAMD,EAAgBF,EAAhBE,KAAMoH,EAAUtH,EAAVsH,MAC1B9X,EAAO,GAqCb,GAhCA+pB,EAAWC,MAAM,CACfnZ,YACAmX,OAAQ,SAAChnB,EAAK9c,GACZ,IAAMqD,EAAQmpB,EAAKsO,SAAShe,GAG5BtB,EAFAF,EAAKoK,EAAK1lB,EAAIqD,EAGdoY,EAFAF,EAAKoK,GAIPhV,SACAgzB,KAAM,SAAC7mB,EAAKD,GACV,IAAMtZ,EAASkpB,EAAK+N,UAAU3d,GAE9BpB,EADAF,EAAKE,EAAKlY,GAGZqgC,OAAQ,SAAC9mB,EAAKD,GACZ,IAAMtZ,EAASkpB,EAAK+N,UAAU3d,GAEtBuV,EADKwB,EAAMmM,QAAQljB,EAAKC,GACxBsV,WACR3W,GAAMlY,EACNuY,EAAK9Z,KAAK,CACRsZ,KACAC,KACAC,KACAC,KACAoB,MACAC,MACAsV,eAEF7W,EAAKE,KAGL6qB,EACF,IAAK,IAAItrC,EAAI,EAAGA,EAAI8gB,EAAKhe,QAAS,CAChC,IAAMmL,EAAO6S,EAAK9gB,GACZ6rB,EAAO/K,EAAK9gB,EAAI,GAChBwrC,EAAMv9B,EAAKmpB,WAAW9pB,MAAMlH,MAAMylB,EAAKuL,WAAW9pB,OAClDm+B,EAAMx9B,EAAK4T,IAAMgK,EAAKhK,KAAQ,EAC9B6pB,EAAMz9B,EAAK6T,MAAQ+J,EAAK/J,IAC1B0pB,GAAOC,GAAOC,GAChB7f,EAAKpL,GAAKxS,EAAKwS,GACfoL,EAAKhK,IAAM5T,EAAK4T,IAChBf,EAAKlR,OAAO5P,EAAG,IAEfA,GAAK,EAIX,OAAO8gB,I,6BAGF6Q,GAAW,IACRL,EAA8BrpB,KAA9BqpB,MAAOia,EAAuBtjC,KAAvBsjC,mBACP/X,EAAkBlC,EAAlBkC,OAAQoF,EAAUtH,EAAVsH,MAChB,OAAO3wB,KAAK0jC,aAAaha,EAAW,EAAG,GAAG,SAAClB,EAAIC,GAC7C,IAAM0F,EAAQ5C,EAAOmB,iBAAiBlE,EAAIC,GACpC0H,EAAOQ,EAAM8R,mBAAmBja,EAAIC,GACpCia,EAAW/R,EAAM8R,mBAAmBja,EAAK,EAAGC,GAElD,IAAK0H,GAAQhC,EACX,OAAO,EAGT,GAAIuU,GAAYY,EAAoB,CAClC,IAAM5+B,EAAUyrB,EAAKhB,WAAWrtB,IAAI4C,SAC/Bg+B,EAASvT,WAAW7pB,OAAOZ,QAC1Bi/B,EAAcxT,EAAKhB,WAAWrtB,IACjC6hC,YAAYjB,EAASvT,WAAW7pB,QACnC,GAAIZ,EACF,OAAuB,IAAhBi/B,EAIX,OAAOxT,EAAKhB,WAAWrtB,IAAI4C,a,6BAIxBglB,GAAW,IACRL,EAA8BrpB,KAA9BqpB,MAAOia,EAAuBtjC,KAAvBsjC,mBACP/X,EAAkBlC,EAAlBkC,OAAQoF,EAAUtH,EAAVsH,MAChB,OAAO3wB,KAAK4jC,aAAala,EAAW,EAAG,GAAG,SAAClB,EAAIC,GAC7C,IAAM0F,EAAQ5C,EAAOmB,iBAAiBlE,EAAIC,GACpC0H,EAAOQ,EAAM8R,mBAAmBja,EAAIC,GACpCia,EAAW/R,EAAM8R,mBAAmBja,EAAK,EAAGC,GAElD,IAAK0H,GAAQhC,EACX,OAAO,EAGT,GAAIuU,GAAYY,EAAoB,CAClC,IAAM5+B,EAAUyrB,EAAKhB,WAAW7pB,OAAOZ,SAClCg+B,EAASvT,WAAWrtB,IAAI4C,QACvBi/B,EAAcxT,EAAKhB,WAAW7pB,OACjCq+B,YAAYjB,EAASvT,WAAWrtB,KACnC,GAAI4C,EACF,OAAuB,IAAhBi/B,GAAqC,IAAhBA,EAIhC,OAAOxT,EAAKhB,WAAW7pB,OAAOZ,a,6BAI3BglB,GAAW,IACRL,EAA8BrpB,KAA9BqpB,MAAOia,EAAuBtjC,KAAvBsjC,mBACP/X,EAAkBlC,EAAlBkC,OAAQoF,EAAUtH,EAAVsH,MAChB,OAAO3wB,KAAK6jC,aAAana,EAAW,EAAG,GAAG,SAACjB,EAAID,GAC7C,IAAM2F,EAAQ5C,EAAOmB,iBAAiBlE,EAAIC,GACpC0H,EAAOQ,EAAM8R,mBAAmBja,EAAIC,GACpCia,EAAW/R,EAAM8R,mBAAmBja,EAAIC,EAAK,GAEnD,IAAK0H,GAAQhC,EACX,OAAO,EAGT,GAAIuU,GAAYY,EAAoB,CAClC,IAAM5+B,EAAUyrB,EAAKhB,WAAWntB,KAAK0C,SAChCg+B,EAASvT,WAAW9pB,MAAMX,QACzBi/B,EAAcxT,EAAKhB,WAAWntB,KACjC2hC,YAAYjB,EAASvT,WAAW9pB,OACnC,GAAIX,EACF,OAAuB,IAAhBi/B,EAIX,OAAOxT,EAAKhB,WAAWntB,KAAK0C,a,6BAIzBglB,GAAW,IACRL,EAA8BrpB,KAA9BqpB,MAAOia,EAAuBtjC,KAAvBsjC,mBACP/X,EAAkBlC,EAAlBkC,OAAQoF,EAAUtH,EAAVsH,MAChB,OAAO3wB,KAAK8jC,aAAapa,EAAW,EAAG,GAAG,SAACjB,EAAID,GAC7C,IAAM2F,EAAQ5C,EAAOmB,iBAAiBlE,EAAIC,GACpC0H,EAAOQ,EAAM8R,mBAAmBja,EAAIC,GACpCia,EAAW/R,EAAM8R,mBAAmBja,EAAIC,EAAK,GAEnD,IAAK0H,GAAQhC,EACX,OAAO,EAGT,GAAIuU,GAAYY,EAAoB,CAClC,IAAM5+B,EAAUyrB,EAAKhB,WAAW9pB,MAAMX,SACjCg+B,EAASvT,WAAWntB,KAAK0C,QACxBi/B,EAAcxT,EAAKhB,WAAW9pB,MACjCs+B,YAAYjB,EAASvT,WAAWntB,MACnC,GAAI0C,EACF,OAAuB,IAAhBi/B,GAAqC,IAAhBA,EAIhC,OAAOxT,EAAKhB,WAAW9pB,MAAMX,a,kCAIrBy+B,GAIV,IAJuB,IACf9Z,EAA8BrpB,KAA9BqpB,MAAOia,EAAuBtjC,KAAvBsjC,mBACP3S,EAAUtH,EAAVsH,MACJ3yB,EAAS,GACJjG,EAAI,EAAGA,EAAIorC,EAAYtoC,OAAQ9C,GAAK,EAAG,CAC9C,IACQ+J,EADMqhC,EAAYprC,GAClB+J,IACR,GAAIA,EAAK,CACP,IAAMkE,EAAOhG,KAAK0jC,aAAa5hC,EAAIk/B,KAAMl/B,EAAI/E,EAAG+E,EAAI9E,GAAG,SAACwrB,EAAIC,GAC1D,IAAM0H,EAAOQ,EAAMmM,QAAQtU,EAAIC,GACzBia,EAAW/R,EAAMmM,QAAQtU,EAAK,EAAGC,GACvC,IAAK0H,EACH,OAAO,EAGT,GAAIuS,GAAYY,EAAoB,CAClC,IAAM5+B,EAAUyrB,EAAKhB,WAAWrtB,IAAI4C,SAC/Bg+B,EAASvT,WAAW7pB,OAAOZ,QAC1Bi/B,EAAcxT,EAAKhB,WAAWrtB,IACjC6hC,YAAYjB,EAASvT,WAAW7pB,QACnC,GAAIZ,EACF,OAAuB,IAAhBi/B,EAIX,OAAOxT,EAAKhB,WAAWrtB,IAAI4C,WAE7B1G,EAASA,EAAO88B,OAAO90B,IAG3B,OAAOhI,I,kCAGGmlC,GAIV,IAJuB,IACf9Z,EAA8BrpB,KAA9BqpB,MAAOia,EAAuBtjC,KAAvBsjC,mBACP3S,EAAUtH,EAAVsH,MACJ3yB,EAAS,GACJjG,EAAI,EAAGA,EAAIorC,EAAYtoC,OAAQ9C,GAAK,EAAG,CAC9C,IACQuN,EADM69B,EAAYprC,GAClBuN,OACR,GAAIA,EAAQ,CACV,IAAMU,EAAOhG,KAAK4jC,aAAat+B,EAAO07B,KAAM17B,EAAOvI,EAAGuI,EAAOtI,GAAG,SAACwrB,EAAIC,GACnE,IAAM0H,EAAOQ,EAAMmM,QAAQtU,EAAIC,GACzBia,EAAW/R,EAAMmM,QAAQtU,EAAK,EAAGC,GACvC,IAAK0H,EACH,OAAO,EAGT,GAAIuS,GAAYY,EAAoB,CAClC,IAAM5+B,EAAUyrB,EAAKhB,WAAW7pB,OAAOZ,SAClCg+B,EAASvT,WAAWrtB,IAAI4C,QACvBi/B,EAAcxT,EAAKhB,WAAW7pB,OACjCq+B,YAAYjB,EAASvT,WAAWrtB,KACnC,GAAI4C,EACF,OAAuB,IAAhBi/B,GAAqC,IAAhBA,EAIhC,OAAOxT,EAAKhB,WAAW7pB,OAAOZ,WAEhC1G,EAASA,EAAO88B,OAAO90B,IAG3B,OAAOhI,I,kCAGGmlC,GAIV,IAJuB,IACf9Z,EAA8BrpB,KAA9BqpB,MAAOia,EAAuBtjC,KAAvBsjC,mBACP3S,EAAUtH,EAAVsH,MACJ3yB,EAAS,GACJjG,EAAI,EAAGA,EAAIorC,EAAYtoC,OAAQ9C,GAAK,EAAG,CAC9C,IACQiK,EADMmhC,EAAYprC,GAClBiK,KACR,GAAIA,EAAM,CACR,IAAMgE,EAAOhG,KAAK6jC,aAAa7hC,EAAKg/B,KAAMh/B,EAAKjF,EAAGiF,EAAKhF,GAAG,SAACyrB,EAAID,GAC7D,IAAM2H,EAAOQ,EAAMmM,QAAQtU,EAAIC,GACzBia,EAAW/R,EAAMmM,QAAQtU,EAAIC,EAAK,GACxC,IAAK0H,EACH,OAAO,EAGT,GAAIuS,GAAYY,EAAoB,CAClC,IAAM5+B,EAAUyrB,EAAKhB,WAAWntB,KAAK0C,SAChCg+B,EAASvT,WAAW9pB,MAAMX,QACzBi/B,EAAcxT,EAAKhB,WAAWntB,KACjC2hC,YAAYjB,EAASvT,WAAW9pB,OACnC,GAAIX,EACF,OAAuB,IAAhBi/B,EAIX,OAAOxT,EAAKhB,WAAWntB,KAAK0C,WAE9B1G,EAASA,EAAO88B,OAAO90B,IAG3B,OAAOhI,I,kCAGGmlC,GAIV,IAJuB,IACf9Z,EAA8BrpB,KAA9BqpB,MAAOia,EAAuBtjC,KAAvBsjC,mBACP3S,EAAUtH,EAAVsH,MACJ3yB,EAAS,GACJjG,EAAI,EAAGA,EAAIorC,EAAYtoC,OAAQ9C,GAAK,EAAG,CAC9C,IACQsN,EADM89B,EAAYprC,GAClBsN,MACR,GAAIA,EAAO,CACT,IAAMW,EAAOhG,KAAK8jC,aAAaz+B,EAAM27B,KAAM37B,EAAMtI,EAAGsI,EAAMrI,GAAG,SAACyrB,EAAID,GAChE,IAAM2H,EAAOQ,EAAMmM,QAAQtU,EAAIC,GACzBia,EAAW/R,EAAMmM,QAAQtU,EAAIC,EAAK,GACxC,IAAK0H,EACH,OAAO,EAGT,GAAIuS,GAAYY,EAAoB,CAClC,IAAM5+B,EAAUyrB,EAAKhB,WAAW9pB,MAAMX,SACjCg+B,EAASvT,WAAWntB,KAAK0C,QACxBi/B,EAAcxT,EAAKhB,WAAW9pB,MACjCs+B,YAAYjB,EAASvT,WAAWntB,MACnC,GAAI0C,EACF,OAAuB,IAAhBi/B,GAAqC,IAAhBA,EAIhC,OAAOxT,EAAKhB,WAAW9pB,MAAMX,WAE/B1G,EAASA,EAAO88B,OAAO90B,IAG3B,OAAOhI,I,6CAIPgC,KAAKqjC,kBAAmB,I,8CAIxBrjC,KAAKqjC,kBAAmB,I,+CAIxBrjC,KAAKsjC,oBAAqB,I,gDAI1BtjC,KAAKsjC,oBAAqB,O,m6CCvcxBS,G,WACJ,WAAY1a,GAAO,WACjBrpB,KAAKqpB,MAAQA,E,gDAOb,OAHkBrpB,KAAVqpB,MACAkQ,SACA/8B,MACK4D,Q,mCAOb,OAHkBJ,KAAVqpB,MACAkQ,SACA/8B,MACK8D,S,iCAGJ,IACD+oB,EAAUrpB,KAAVqpB,MACA8D,EAAgB9D,EAAhB8D,MAAO5D,EAASF,EAATE,KACP+D,EAAWH,EAAXG,OACR,OAAO/D,EAAKS,gBAAgB,EAAGsD,K,kCAGrB,IACFjE,EAAUrpB,KAAVqpB,MACA8D,EAAgB9D,EAAhB8D,MAAO3D,EAASH,EAATG,KACP6D,EAAUF,EAAVE,MACR,OAAO7D,EAAKS,iBAAiB,EAAGoD,K,2CAIhC,IAAMjtB,EAAQJ,KAAK63B,WACbv3B,EAASN,KAAKu3B,YAEZpK,EADUntB,KAAVqpB,MACA8D,MACAE,EAAkBF,EAAlBE,MAAOC,EAAWH,EAAXG,OACf,OAAO,IAAIrF,GAAU,EAAG,EAAGoF,EAAOC,EAAQltB,EAAOE,K,+BAG1CopB,EAAWlL,EAASC,GAAS,IAC5B4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMsR,EACJJ,EADII,KAAMmZ,EACVvZ,EADUuZ,WAAYoB,EACtB3a,EADsB2a,eAE1B7rB,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GACrBtG,EAAKC,KAAK,CACR6rB,YAAa,KAEf,IAAMhD,EAAe2B,EAAWsB,8BAA8B,CAAExa,cAC1Dya,EAAoBvB,EAAWuB,kBAAkB,CAAElD,iBACnDmD,EAAQJ,EAAeI,MAAM1a,GAC7B2a,EAAQL,EAAeK,MAAM3a,GACnC0a,EAAMtpC,SAAQ,SAACkL,GACbyjB,EAAK6a,eAAet+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEtD6rB,EAAMvpC,SAAQ,SAACkL,GACbyjB,EAAK8a,aAAav+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEpD,IAAMgsB,EAAaR,EAAeQ,WAAWL,GACvCM,EAAaT,EAAeS,WAAWN,GAC7CK,EAAW1pC,SAAQ,SAACkL,GAClByjB,EAAK6a,eAAet+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEtDisB,EAAW3pC,SAAQ,SAACkL,GAClByjB,EAAK8a,aAAav+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEpDL,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,iCAGI6L,EAAWlL,EAASC,GAAS,IAC9B4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMU,EACJwQ,EADIxQ,KAAM+pB,EACVvZ,EADUuZ,WAAY8B,EACtBrb,EADsBqb,iBAE1BvsB,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GACrB,IAAMwiB,EAAe2B,EAAWsB,8BAA8B,CAAExa,cAC1Dya,EAAoBvB,EAAWuB,kBAAkB,CAAElD,iBACnD0D,EAASD,EAAiBC,OAAOjb,GACjCkb,EAASF,EAAiBE,OAAOlb,GACjCmb,EAASH,EAAiBG,OAAOnb,GACjCob,EAASJ,EAAiBI,OAAOpb,GACvCib,EAAO7pC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB/X,EAAQqtB,EAARrtB,IACAqP,EAAuBrP,EAAvBqP,MAAO/Q,EAAgB0B,EAAhB1B,MAAO/F,EAASyH,EAATzH,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,UAE9D+qB,EAAO9pC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBvU,EAAW6pB,EAAX7pB,OACA6L,EAAuB7L,EAAvB6L,MAAO/Q,EAAgBkF,EAAhBlF,MAAO/F,EAASiL,EAATjL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,aAE9DgrB,EAAO/pC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB7X,EAASmtB,EAATntB,KACAmP,EAAuBnP,EAAvBmP,MAAO/Q,EAAgB4B,EAAhB5B,MAAO/F,EAAS2H,EAAT3H,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,WAE9DirB,EAAOhqC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBxU,EAAU8pB,EAAV9pB,MACA8L,EAAuB9L,EAAvB8L,MAAO/Q,EAAgBiF,EAAhBjF,MAAO/F,EAASgL,EAAThL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,YAE9D,IAAMmrB,EAAcN,EAAiBM,YAAYb,GAC3Cc,EAAcP,EAAiBO,YAAYd,GAC3Ce,EAAcR,EAAiBQ,YAAYf,GAC3CgB,EAAcT,EAAiBS,YAAYhB,GACjDa,EAAYlqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB/X,EAAQqtB,EAARrtB,IACAqP,EAAuBrP,EAAvBqP,MAAO/Q,EAAgB0B,EAAhB1B,MAAO/F,EAASyH,EAATzH,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,UAE9DorB,EAAYnqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBvU,EAAW6pB,EAAX7pB,OACA6L,EAAuB7L,EAAvB6L,MAAO/Q,EAAgBkF,EAAhBlF,MAAO/F,EAASiL,EAATjL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,aAE9DqrB,EAAYpqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB7X,EAASmtB,EAATntB,KACAmP,EAAuBnP,EAAvBmP,MAAO/Q,EAAgB4B,EAAhB5B,MAAO/F,EAAS2H,EAAT3H,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,WAE9DsrB,EAAYrqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBxU,EAAU8pB,EAAV9pB,MACA8L,EAAuB9L,EAAvB8L,MAAO/Q,EAAgBiF,EAAhBjF,MAAO/F,EAASgL,EAAThL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,YAE9D1B,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,qCAGQ6L,EAAWlL,EAASC,GAAS,IAClC4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMsR,EACJJ,EADII,KAAMqG,EACVzG,EADUyG,YAEd3X,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBqR,EAAYsS,mBAAmB,CAC7BlS,UAAWxG,EACXyC,SAAU,SAACp0B,EAAGK,EAAG+3B,EAAMzS,GAErBA,EAAKwM,WAAWT,EAAK/Q,aACT,IAAIinB,GAAI,CAAExnB,OAAMuF,SACxB0nB,oBAAoBjV,EAAKlB,eAIjCa,EAAYuV,wBAAwB,CAClCnV,UAAWxG,EACXyC,SAAU,SAACzO,EAAMyS,GAEfzS,EAAKwM,WAAWT,EAAK/Q,aACT,IAAIinB,GAAI,CAAExnB,OAAMuF,SACxB0nB,oBAAoBjV,EAAKlB,eAGjC9W,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,gCAGG6L,EAAWlL,EAASC,GAAS,IAC7B4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAM2X,EACJzG,EADIyG,YAAarG,EACjBJ,EADiBI,KAErBtR,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBqR,EAAYwV,gCAAgC,CAC1CpV,UAAWxG,EACXyC,SAAU,SAACp0B,EAAGK,EAAG+3B,EAAMzS,EAAMrQ,GAAa,IAEhC6hB,EAAaiB,EAAbjB,SACFpM,EAAO,IAAI9S,GAAK,CACpBhI,KAAMuH,GAAO4gB,EAAK7gB,OAAQ6gB,EAAKnoB,MAC/B0V,KAAMA,EAAKwM,WAAWT,EAAK/Q,aAC3B2H,GAAIlI,EACJ9K,WACA+K,KAAM8W,IAERiB,EAAKoV,gBAAgBziB,EAAK3K,WAI9B2X,EAAYuV,wBAAwB,CAClCnV,UAAWxG,EACXyC,SAAU,SAACzO,EAAMyS,GAAS,IAEhBjB,EAAaiB,EAAbjB,SACFpM,EAAO,IAAI9S,GAAK,CACpBhI,KAAMuH,GAAO4gB,EAAK7gB,OAAQ6gB,EAAKnoB,MAC/B0V,KAAMA,EAAKwM,WAAWT,EAAK/Q,aAC3B2H,GAAIlI,EACJ9K,SAAU,KACV+K,KAAM8W,IAERpM,EAAK2C,YAAYzE,GAAUE,WAC3BiP,EAAKoV,gBAAgBziB,EAAK3K,WAG9BA,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,+BAGE,IACCwL,EAAUrpB,KAAVqpB,MACAlR,EAAyBkR,EAAzBlR,KAAMsR,EAAmBJ,EAAnBI,KAAM8P,EAAalQ,EAAbkQ,SACd/a,EAAUxe,KAAKwlC,aACf/mB,EAAUze,KAAKylC,aACf/b,EAAY1pB,KAAK2pB,qBACjBjM,EAAO,IAAI+B,GAAK,CACpB1iB,EAAGyhB,EACHxhB,EAAGyhB,EACHre,MAAOspB,EAAUvK,EACjB7e,OAAQopB,EAAUvjB,IAEd4b,EAAO,IAAItE,GAAK,CAAEtF,OAAMuF,OAAM1P,OAAQyb,EAAK/Q,cACjDqJ,EAAK1T,OACLrO,KAAK0lC,eAAehc,EAAWlL,EAASC,GACxCze,KAAK2lC,UAAUjc,EAAWlL,EAASC,GAC/B8a,EAASlQ,MAAMuc,UACjB5lC,KAAK6lC,SAASnc,EAAWlL,EAASC,GAEpCze,KAAK8lC,WAAWpc,EAAWlL,EAASC,GACpCsD,EAAKpU,Y,KAOHo4B,G,WACJ,WAAY1c,GAAO,WACjBrpB,KAAKqpB,MAAQA,E,gDAQb,OAJkBrpB,KAAVqpB,MACAkQ,SACA/8B,MACA4D,Q,mCAOR,OAFkBJ,KAAVqpB,MACAjlB,QACOqhC,e,iCAGN,IACDpc,EAAUrpB,KAAVqpB,MAEAiE,EADUjE,EAAV8D,MACAG,OAER,OAAOjE,EAAME,KAAKS,gBAAgB,EAAGsD,K,kCAMrC,OAFkBttB,KAAVqpB,MACgB2c,sBACP7/B,I,2CAGE,IACXkjB,EAAUrpB,KAAVqpB,MAEAiE,EADUjE,EAAV8D,MACAG,OACF5D,EAAYL,EAAMM,qBAClBvpB,EAAQJ,KAAK63B,WACbv3B,EAASN,KAAKu3B,YAKpB,OAJA7N,EAAUvB,IAAM,EAChBuB,EAAUrB,IAAMiF,EAChB5D,EAAUvK,EAAI/e,EACdspB,EAAUvjB,EAAI7F,EACPopB,I,+BAGAA,EAAWlL,EAASC,GAAS,IAC5B4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMsR,EACJJ,EADII,KAAMmZ,EACVvZ,EADUuZ,WAAYoB,EACtB3a,EADsB2a,eAE1B7rB,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GACrBtG,EAAKC,KAAK,CACR6rB,YAAa,KAEf,IAAMhD,EAAe2B,EAAWsB,8BAA8B,CAAExa,cAC1Dya,EAAoBvB,EAAWuB,kBAAkB,CAAElD,iBACnDmD,EAAQJ,EAAeI,MAAM1a,GAC7B2a,EAAQL,EAAeK,MAAM3a,GACnC0a,EAAMtpC,SAAQ,SAACkL,GACbyjB,EAAK6a,eAAet+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEtD6rB,EAAMvpC,SAAQ,SAACkL,GACbyjB,EAAK8a,aAAav+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEpD,IAAMgsB,EAAaR,EAAeQ,WAAWL,GACvCM,EAAaT,EAAeS,WAAWN,GAC7CK,EAAW1pC,SAAQ,SAACkL,GAClByjB,EAAK6a,eAAet+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEtDisB,EAAW3pC,SAAQ,SAACkL,GAClByjB,EAAK8a,aAAav+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEpDL,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,iCAGI6L,EAAWlL,EAASC,GAAS,IAC9B4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMU,EACJwQ,EADIxQ,KAAM+pB,EACVvZ,EADUuZ,WAAY8B,EACtBrb,EADsBqb,iBAE1BvsB,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GACrB,IAAMwiB,EAAe2B,EAAWsB,8BAA8B,CAAExa,cAC1Dya,EAAoBvB,EAAWuB,kBAAkB,CAAElD,iBACnD0D,EAASD,EAAiBC,OAAOjb,GACjCkb,EAASF,EAAiBE,OAAOlb,GACjCmb,EAASH,EAAiBG,OAAOnb,GACjCob,EAASJ,EAAiBI,OAAOpb,GACvCib,EAAO7pC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB/X,EAAQqtB,EAARrtB,IACAqP,EAAuBrP,EAAvBqP,MAAO/Q,EAAgB0B,EAAhB1B,MAAO/F,EAASyH,EAATzH,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,UAE9D+qB,EAAO9pC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBvU,EAAW6pB,EAAX7pB,OACA6L,EAAuB7L,EAAvB6L,MAAO/Q,EAAgBkF,EAAhBlF,MAAO/F,EAASiL,EAATjL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,aAE9DgrB,EAAO/pC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB7X,EAASmtB,EAATntB,KACAmP,EAAuBnP,EAAvBmP,MAAO/Q,EAAgB4B,EAAhB5B,MAAO/F,EAAS2H,EAAT3H,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,WAE9DirB,EAAOhqC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBxU,EAAU8pB,EAAV9pB,MACA8L,EAAuB9L,EAAvB8L,MAAO/Q,EAAgBiF,EAAhBjF,MAAO/F,EAASgL,EAAThL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,YAE9D,IAAMmrB,EAAcN,EAAiBM,YAAYb,GAC3Cc,EAAcP,EAAiBO,YAAYd,GAC3Ce,EAAcR,EAAiBQ,YAAYf,GAC3CgB,EAAcT,EAAiBS,YAAYhB,GACjDa,EAAYlqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB/X,EAAQqtB,EAARrtB,IACAqP,EAAuBrP,EAAvBqP,MAAO/Q,EAAgB0B,EAAhB1B,MAAO/F,EAASyH,EAATzH,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,UAE9DorB,EAAYnqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBvU,EAAW6pB,EAAX7pB,OACA6L,EAAuB7L,EAAvB6L,MAAO/Q,EAAgBkF,EAAhBlF,MAAO/F,EAASiL,EAATjL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,aAE9DqrB,EAAYpqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB7X,EAASmtB,EAATntB,KACAmP,EAAuBnP,EAAvBmP,MAAO/Q,EAAgB4B,EAAhB5B,MAAO/F,EAAS2H,EAAT3H,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,WAE9DsrB,EAAYrqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBxU,EAAU8pB,EAAV9pB,MACA8L,EAAuB9L,EAAvB8L,MAAO/Q,EAAgBiF,EAAhBjF,MAAO/F,EAASgL,EAAThL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,YAE9D1B,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,qCAGQ6L,EAAWlL,EAASC,GAAS,IAClC4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMsR,EACJJ,EADII,KAAMqG,EACVzG,EADUyG,YAEd3X,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBqR,EAAYsS,mBAAmB,CAC7BlS,UAAWxG,EACXyC,SAAU,SAACp0B,EAAGK,EAAG+3B,EAAMzS,GAErBA,EAAKwM,WAAWT,EAAK/Q,aACT,IAAIinB,GAAI,CAAExnB,OAAMuF,SACxB0nB,oBAAoBjV,EAAKlB,eAIjCa,EAAYuV,wBAAwB,CAClCnV,UAAWxG,EACXyC,SAAU,SAACzO,EAAMyS,GAEfzS,EAAKwM,WAAWT,EAAK/Q,aACT,IAAIinB,GAAI,CAAExnB,OAAMuF,SACxB0nB,oBAAoBjV,EAAKlB,eAGjC9W,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,gCAGG6L,EAAWlL,EAASC,GAAS,IAC7B4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAM2X,EACJzG,EADIyG,YAAarG,EACjBJ,EADiBI,KAErBtR,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBqR,EAAYwV,gCAAgC,CAC1CpV,UAAWxG,EACXyC,SAAU,SAACp0B,EAAGK,EAAG+3B,EAAMzS,EAAMrQ,GAAa,IAEhC6hB,EAAaiB,EAAbjB,SACFpM,EAAO,IAAI9S,GAAK,CACpBhI,KAAMuH,GAAO4gB,EAAK7gB,OAAQ6gB,EAAKnoB,MAC/B0V,KAAMA,EAAKwM,WAAWT,EAAK/Q,aAC3B2H,GAAIlI,EACJ9K,WACA+K,KAAM8W,IAERiB,EAAKoV,gBAAgBziB,EAAK3K,WAI9B2X,EAAYuV,wBAAwB,CAClCnV,UAAWxG,EACXyC,SAAU,SAACzO,EAAMyS,GAAS,IAEhBjB,EAAaiB,EAAbjB,SACFpM,EAAO,IAAI9S,GAAK,CACpBhI,KAAMuH,GAAO4gB,EAAK7gB,OAAQ6gB,EAAKnoB,MAC/B0V,KAAMA,EAAKwM,WAAWT,EAAK/Q,aAC3B2H,GAAIlI,EACJ9K,SAAU,KACV+K,KAAM8W,IAERpM,EAAK2C,YAAYzE,GAAUE,WAC3BiP,EAAKoV,gBAAgBziB,EAAK3K,WAG9BA,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,+BAGE,IACCwL,EAAUrpB,KAAVqpB,MACAlR,EAAmBkR,EAAnBlR,KAAMohB,EAAalQ,EAAbkQ,SACR7P,EAAY1pB,KAAK2pB,qBACjBnL,EAAUxe,KAAKwlC,aACf/mB,EAAUze,KAAKylC,aACf/nB,EAAO,IAAI+B,GAAK,CACpB1iB,EAAGyhB,EACHxhB,EAAGyhB,EACHre,MAAOspB,EAAUvK,EACjB7e,OAAQopB,EAAUvjB,IAEd4b,EAAO,IAAItE,GAAK,CAAEtF,OAAMuF,SAC9BqE,EAAK1T,OACLrO,KAAK0lC,eAAehc,EAAWlL,EAASC,GACxCze,KAAK2lC,UAAUjc,EAAWlL,EAASC,GAC/B8a,EAASlQ,MAAMuc,UACjB5lC,KAAK6lC,SAASnc,EAAWlL,EAASC,GAEpCze,KAAK8lC,WAAWpc,EAAWlL,EAASC,GACpCsD,EAAKpU,Y,KAOHs4B,G,WACJ,WAAY5c,GAAO,WACjBrpB,KAAKqpB,MAAQA,E,gDAGF,IACHA,EAAUrpB,KAAVqpB,MACA8D,EAAoB9D,EAApB8D,MACA3wB,EADoB6sB,EAAbkQ,SACP/8B,MACA8wB,EAAWH,EAAXG,OACAltB,EAAU5D,EAAV4D,MAER,OADuBipB,EAAME,KAAKS,gBAAgB,EAAGsD,GAC7BltB,I,mCAGb,IACHipB,EAAUrpB,KAAVqpB,MACA8D,EAAoB9D,EAApB8D,MACA3wB,EADoB6sB,EAAbkQ,SACP/8B,MACA6wB,EAAUF,EAAVE,MAGR,OAFmB7wB,EAAX8D,OACe+oB,EAAMG,KAAKS,iBAAiB,EAAGoD,K,iCAI7C,IACDhE,EAAUrpB,KAAVqpB,MACA8D,EAAoB9D,EAApB8D,MACA3wB,EADoB6sB,EAAbkQ,SACP/8B,MACA8wB,EAAWH,EAAXG,OACAltB,EAAU5D,EAAV4D,MACF8lC,EAAiB7c,EAAME,KAAKS,gBAAgB,EAAGsD,GACrD,OAAOjE,EAAMiR,eAAiB4L,EAAiB9lC,K,kCAGrC,IACFipB,EAAUrpB,KAAVqpB,MACA8D,EAAoB9D,EAApB8D,MACA3wB,EADoB6sB,EAAbkQ,SACP/8B,MACA6wB,EAAUF,EAAVE,MACA/sB,EAAW9D,EAAX8D,OACF6lC,EAAiB9c,EAAMG,KAAKS,iBAAiB,EAAGoD,GACtD,OAAOhE,EAAM+Q,gBAAkB95B,EAAS6lC,K,2CAKxC,OADkBnmC,KAAVqpB,MACKM,uB,wCAGG,IACRN,EAAUrpB,KAAVqpB,MACAE,EAAgBF,EAAhBE,KAAM4D,EAAU9D,EAAV8D,MAGd,OAFc5D,EAAKxE,aACAwE,EAAKS,gBAAgB,EAAGmD,EAAMG,U,yCAIhC,IACTjE,EAAUrpB,KAAVqpB,MACAG,EAAgBH,EAAhBG,KAAM2D,EAAU9D,EAAV8D,MAGd,OAFc3D,EAAK4c,cACC5c,EAAKS,iBAAiB,EAAGkD,EAAME,S,+BAI5C3D,EAAWlL,EAASC,GAAS,IAC5B4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMsR,EACJJ,EADII,KAAMmZ,EACVvZ,EADUuZ,WAAYoB,EACtB3a,EADsB2a,eAE1B7rB,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GACrBtG,EAAKC,KAAK,CACR6rB,YAAa,KAEf,IAAMhD,EAAe2B,EAAWsB,8BAA8B,CAAExa,cAC1Dya,EAAoBvB,EAAWuB,kBAAkB,CAAElD,iBACnDmD,EAAQJ,EAAeI,MAAM1a,GAC7B2a,EAAQL,EAAeK,MAAM3a,GACnC0a,EAAMtpC,SAAQ,SAACkL,GACbyjB,EAAK6a,eAAet+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEtD6rB,EAAMvpC,SAAQ,SAACkL,GACbyjB,EAAK8a,aAAav+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEpD,IAAMgsB,EAAaR,EAAeQ,WAAWL,GACvCM,EAAaT,EAAeS,WAAWN,GAC7CK,EAAW1pC,SAAQ,SAACkL,GAClByjB,EAAK6a,eAAet+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEtDisB,EAAW3pC,SAAQ,SAACkL,GAClByjB,EAAK8a,aAAav+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEpDL,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,iCAGI6L,EAAWlL,EAASC,GAAS,IAC9B4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMU,EACJwQ,EADIxQ,KAAM+pB,EACVvZ,EADUuZ,WAAY8B,EACtBrb,EADsBqb,iBAE1BvsB,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GACrB,IAAMwiB,EAAe2B,EAAWsB,8BAA8B,CAAExa,cAC1Dya,EAAoBvB,EAAWuB,kBAAkB,CAAElD,iBACnD0D,EAASD,EAAiBC,OAAOjb,GACjCkb,EAASF,EAAiBE,OAAOlb,GACjCmb,EAASH,EAAiBG,OAAOnb,GACjCob,EAASJ,EAAiBI,OAAOpb,GACvCib,EAAO7pC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB/X,EAAQqtB,EAARrtB,IACAqP,EAAuBrP,EAAvBqP,MAAO/Q,EAAgB0B,EAAhB1B,MAAO/F,EAASyH,EAATzH,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,UAE9D+qB,EAAO9pC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBvU,EAAW6pB,EAAX7pB,OACA6L,EAAuB7L,EAAvB6L,MAAO/Q,EAAgBkF,EAAhBlF,MAAO/F,EAASiL,EAATjL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,aAE9DgrB,EAAO/pC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB7X,EAASmtB,EAATntB,KACAmP,EAAuBnP,EAAvBmP,MAAO/Q,EAAgB4B,EAAhB5B,MAAO/F,EAAS2H,EAAT3H,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,WAE9DirB,EAAOhqC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBxU,EAAU8pB,EAAV9pB,MACA8L,EAAuB9L,EAAvB8L,MAAO/Q,EAAgBiF,EAAhBjF,MAAO/F,EAASgL,EAAThL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,YAE9D,IAAMmrB,EAAcN,EAAiBM,YAAYb,GAC3Cc,EAAcP,EAAiBO,YAAYd,GAC3Ce,EAAcR,EAAiBQ,YAAYf,GAC3CgB,EAAcT,EAAiBS,YAAYhB,GACjDa,EAAYlqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB/X,EAAQqtB,EAARrtB,IACAqP,EAAuBrP,EAAvBqP,MAAO/Q,EAAgB0B,EAAhB1B,MAAO/F,EAASyH,EAATzH,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,UAE9DorB,EAAYnqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBvU,EAAW6pB,EAAX7pB,OACA6L,EAAuB7L,EAAvB6L,MAAO/Q,EAAgBkF,EAAhBlF,MAAO/F,EAASiL,EAATjL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,aAE9DqrB,EAAYpqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB7X,EAASmtB,EAATntB,KACAmP,EAAuBnP,EAAvBmP,MAAO/Q,EAAgB4B,EAAhB5B,MAAO/F,EAAS2H,EAAT3H,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,WAE9DsrB,EAAYrqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBxU,EAAU8pB,EAAV9pB,MACA8L,EAAuB9L,EAAvB8L,MAAO/Q,EAAgBiF,EAAhBjF,MAAO/F,EAASgL,EAAThL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,YAE9D1B,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,qCAGQ6L,EAAWlL,EAASC,GAAS,IAClC4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMsR,EACJJ,EADII,KAAMqG,EACVzG,EADUyG,YAEd3X,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBqR,EAAYsS,mBAAmB,CAC7BlS,UAAWxG,EACXyC,SAAU,SAACp0B,EAAGK,EAAG+3B,EAAMzS,GAErBA,EAAKwM,WAAWT,EAAK/Q,aACT,IAAIinB,GAAI,CAAExnB,OAAMuF,SACxB0nB,oBAAoBjV,EAAKlB,eAIjCa,EAAYuV,wBAAwB,CAClCnV,UAAWxG,EACXyC,SAAU,SAACzO,EAAMyS,GAEfzS,EAAKwM,WAAWT,EAAK/Q,aACT,IAAIinB,GAAI,CAAExnB,OAAMuF,SACxB0nB,oBAAoBjV,EAAKlB,eAGjC9W,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,gCAGG6L,EAAW2c,EAAmB7nB,EAASC,GAAS,IAChD4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAM2X,EACJzG,EADIyG,YAAarG,EACjBJ,EADiBI,KAErBtR,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBqR,EAAYwV,gCAAgC,CAC1CpV,UAAWxG,EACXyC,SAAU,SAACp0B,EAAGK,EAAG+3B,EAAMzS,EAAMrQ,GAAa,IAEhC6hB,EAAaiB,EAAbjB,SACFpM,EAAO,IAAI9S,GAAK,CACpBhI,KAAMuH,GAAO4gB,EAAK7gB,OAAQ6gB,EAAKnoB,MAC/B0V,KAAMA,EAAKwM,WAAWT,EAAK/Q,aAC3B2H,GAAIlI,EACJ9K,WACA+K,KAAM8W,IAERiB,EAAKoV,gBAAgBziB,EAAK3K,SAK5B0pB,OAAQwE,IAGVvW,EAAYuV,wBAAwB,CAClCnV,UAAWxG,EACXyC,SAAU,SAACzO,EAAMyS,GAAS,IAGhBjB,EAAaiB,EAAbjB,SACFpM,EAAO,IAAI9S,GAAK,CACpBhI,KAAMuH,GAAO4gB,EAAK7gB,OAAQ6gB,EAAKnoB,MAC/B0V,KAAMA,EAAKwM,WAAWT,EAAK/Q,aAC3B2H,GAAIlI,EACJ9K,SAAU,KACV+K,KAAM8W,IAERpM,EAAK2C,YAAYzE,GAAUE,WAC3BiP,EAAKoV,gBAAgBziB,EAAK3K,SAE5B0pB,OAAQwE,IAEVluB,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,+BAGE,IACCwL,EAAUrpB,KAAVqpB,MACAlR,EAAyBkR,EAAzBlR,KAAMsR,EAAmBJ,EAAnBI,KAAM8P,EAAalQ,EAAbkQ,SACd8M,EAAoBhd,EAAMid,uBAC1BC,EAAkBvmC,KAAK2pB,qBACvB6c,EAAmBnd,EAAM2c,sBACzBxnB,EAAUxe,KAAKwlC,aACf/mB,EAAUze,KAAKylC,aACfrlC,EAAQmmC,EAAgBpnB,EACxB7e,EAASimC,EAAgBpgC,EACzBuX,EAAO,IAAI+B,GAAK,CACpB1iB,EAAGyhB,EACHxhB,EAAGyhB,EACHre,QACAE,WAEIyhB,EAAO,IAAItE,GAAK,CAAEtF,OAAMuF,OAAM1P,OAAQyb,EAAK/Q,cACjDqJ,EAAK1T,OACLrO,KAAK0lC,eAAea,EAAiB/nB,EAASC,GAC9Cze,KAAK2lC,UAAUa,EAAkBH,EAAmB7nB,EAASC,GACzD8a,EAASlQ,MAAMuc,UACjB5lC,KAAK6lC,SAASU,EAAiB/nB,EAASC,GAE1Cze,KAAK8lC,WAAWS,EAAiB/nB,EAASC,GAC1CsD,EAAKpU,Y,KAOH84B,G,WACJ,WAAYpd,GAAO,WACjBrpB,KAAKqpB,MAAQA,E,gDAMb,OAFkBrpB,KAAVqpB,MACAjlB,QACOohC,e,mCAQf,OAJkBxlC,KAAVqpB,MACAkQ,SACA/8B,MACA8D,S,iCAOR,OAFkBN,KAAVqpB,MACgB2c,sBACP7mB,I,kCAGP,IACFkK,EAAUrpB,KAAVqpB,MAEAgE,EADUhE,EAAV8D,MACAE,MACR,OAAOhE,EAAMG,KAAKS,iBAAiB,EAAGoD,K,2CAGnB,IACXhE,EAAUrpB,KAAVqpB,MAEAgE,EADUhE,EAAV8D,MACAE,MACF3D,EAAYL,EAAMM,qBAClBvpB,EAAQJ,KAAK63B,WACbv3B,EAASN,KAAKu3B,YAKpB,OAJA7N,EAAUxB,IAAM,EAChBwB,EAAUtB,IAAMiF,EAChB3D,EAAUvK,EAAI/e,EACdspB,EAAUvjB,EAAI7F,EACPopB,I,4CAGa,IACZL,EAAUrpB,KAAVqpB,MAEAgE,EADUhE,EAAV8D,MACAE,MACF3D,EAAYL,EAAM2c,sBAClB5lC,EAAQJ,KAAK63B,WACbv3B,EAASN,KAAKu3B,YAKpB,OAJA7N,EAAUxB,IAAM,EAChBwB,EAAUtB,IAAMiF,EAChB3D,EAAUvK,EAAI/e,EACdspB,EAAUvjB,EAAI7F,EACPopB,I,+BAGAA,EAAWlL,EAASC,GAAS,IAC5B4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMsR,EACJJ,EADII,KAAMmZ,EACVvZ,EADUuZ,WAAYoB,EACtB3a,EADsB2a,eAE1B7rB,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GACrBtG,EAAKC,KAAK,CACR6rB,YAAa,KAEf,IAAMhD,EAAe2B,EAAWsB,8BAA8B,CAAExa,cAC1Dya,EAAoBvB,EAAWuB,kBAAkB,CAAElD,iBACnDmD,EAAQJ,EAAeI,MAAM1a,GAC7B2a,EAAQL,EAAeK,MAAM3a,GACnC0a,EAAMtpC,SAAQ,SAACkL,GACbyjB,EAAK6a,eAAet+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEtD6rB,EAAMvpC,SAAQ,SAACkL,GACbyjB,EAAK8a,aAAav+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEpD,IAAMgsB,EAAaR,EAAeQ,WAAWL,GACvCM,EAAaT,EAAeS,WAAWN,GAC7CK,EAAW1pC,SAAQ,SAACkL,GAClByjB,EAAK6a,eAAet+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEtDisB,EAAW3pC,SAAQ,SAACkL,GAClByjB,EAAK8a,aAAav+B,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,OAEpDL,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,iCAGI6L,EAAWlL,EAASC,GAAS,IAC9B4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMU,EACJwQ,EADIxQ,KAAM+pB,EACVvZ,EADUuZ,WAAY8B,EACtBrb,EADsBqb,iBAE1BvsB,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GACrB,IAAMwiB,EAAe2B,EAAWsB,8BAA8B,CAAExa,cAC1Dya,EAAoBvB,EAAWuB,kBAAkB,CAAElD,iBACnD0D,EAASD,EAAiBC,OAAOjb,GACjCkb,EAASF,EAAiBE,OAAOlb,GACjCmb,EAASH,EAAiBG,OAAOnb,GACjCob,EAASJ,EAAiBI,OAAOpb,GACvCib,EAAO7pC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB/X,EAAQqtB,EAARrtB,IACAqP,EAAuBrP,EAAvBqP,MAAO/Q,EAAgB0B,EAAhB1B,MAAO/F,EAASyH,EAATzH,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,UAE9D+qB,EAAO9pC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBvU,EAAW6pB,EAAX7pB,OACA6L,EAAuB7L,EAAvB6L,MAAO/Q,EAAgBkF,EAAhBlF,MAAO/F,EAASiL,EAATjL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,aAE9DgrB,EAAO/pC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB7X,EAASmtB,EAATntB,KACAmP,EAAuBnP,EAAvBmP,MAAO/Q,EAAgB4B,EAAhB5B,MAAO/F,EAAS2H,EAAT3H,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,WAE9DirB,EAAOhqC,SAAQ,SAACkL,GAAS,IACfmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBxU,EAAU8pB,EAAV9pB,MACA8L,EAAuB9L,EAAvB8L,MAAO/Q,EAAgBiF,EAAhBjF,MAAO/F,EAASgL,EAAThL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,YAE9D,IAAMmrB,EAAcN,EAAiBM,YAAYb,GAC3Cc,EAAcP,EAAiBO,YAAYd,GAC3Ce,EAAcR,EAAiBQ,YAAYf,GAC3CgB,EAAcT,EAAiBS,YAAYhB,GACjDa,EAAYlqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB/X,EAAQqtB,EAARrtB,IACAqP,EAAuBrP,EAAvBqP,MAAO/Q,EAAgB0B,EAAhB1B,MAAO/F,EAASyH,EAATzH,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,UAE9DorB,EAAYnqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBvU,EAAW6pB,EAAX7pB,OACA6L,EAAuB7L,EAAvB6L,MAAO/Q,EAAgBkF,EAAhBlF,MAAO/F,EAASiL,EAATjL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,aAE9DqrB,EAAYpqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjB7X,EAASmtB,EAATntB,KACAmP,EAAuBnP,EAAvBmP,MAAO/Q,EAAgB4B,EAAhB5B,MAAO/F,EAAS2H,EAAT3H,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,WAE9DsrB,EAAYrqC,SAAQ,SAACkL,GAAS,IACpBmpB,EAAyBnpB,EAAzBmpB,WAAYvV,EAAa5T,EAAb4T,IAAKC,EAAQ7T,EAAR6T,IACjBxU,EAAU8pB,EAAV9pB,MACA8L,EAAuB9L,EAAvB8L,MAAO/Q,EAAgBiF,EAAhBjF,MAAO/F,EAASgL,EAAThL,KACtBwe,EAAKksB,QAAQ1qC,GACbwe,EAAKvC,SAASnF,GACd0H,EAAKnJ,SAAStP,GACdyY,EAAK8C,SAAS3V,EAAKqS,GAAIrS,EAAKsS,GAAItS,EAAKuS,GAAIvS,EAAKwS,GAAIoB,EAAKC,EAAK,YAE9D1B,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,qCAGQ6L,EAAWlL,EAASC,GAAS,IAClC4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMsR,EACJJ,EADII,KAAMqG,EACVzG,EADUyG,YAEd3X,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBqR,EAAYsS,mBAAmB,CAC7BlS,UAAWxG,EACXyC,SAAU,SAACp0B,EAAGK,EAAG+3B,EAAMzS,GAErBA,EAAKwM,WAAWT,EAAK/Q,aACT,IAAIinB,GAAI,CAAExnB,OAAMuF,SACxB0nB,oBAAoBjV,EAAKlB,eAIjCa,EAAYuV,wBAAwB,CAClCnV,UAAWxG,EACXyC,SAAU,SAACzO,EAAMyS,GAEfzS,EAAKwM,WAAWT,EAAK/Q,aACT,IAAIinB,GAAI,CAAExnB,OAAMuF,SACxB0nB,oBAAoBjV,EAAKlB,eAGjC9W,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,gCAGG6L,EAAW2c,EAAmB7nB,EAASC,GAAS,IAChD4K,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAM2X,EACJzG,EADIyG,YAAarG,EACjBJ,EADiBI,KAErBtR,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBqR,EAAYwV,gCAAgC,CAC1CpV,UAAWxG,EACXyC,SAAU,SAACp0B,EAAGK,EAAG+3B,EAAMzS,EAAMrQ,GAAa,IAIhC6hB,EAAaiB,EAAbjB,SACFpM,EAAO,IAAI9S,GAAK,CACpBhI,KAAMuH,GAAO4gB,EAAK7gB,OAAQ6gB,EAAKnoB,MAC/B0V,KAAMA,EAAKwM,WAAWT,EAAK/Q,aAC3B2H,GAAIlI,EACJ9K,WACA+K,KAAM8W,IAERiB,EAAKoV,gBAAgBziB,EAAK3K,SAE5B0pB,OAAQwE,IAGVvW,EAAYuV,wBAAwB,CAClCnV,UAAWxG,EACXyC,SAAU,SAACzO,EAAMyS,GAAS,IAEhBjB,EAAaiB,EAAbjB,SACFpM,EAAO,IAAI9S,GAAK,CACpBhI,KAAMuH,GAAO4gB,EAAK7gB,OAAQ6gB,EAAKnoB,MAC/B0V,KAAMA,EAAKwM,WAAWT,EAAK/Q,aAC3B2H,GAAIlI,EACJ9K,SAAU,KACV+K,KAAM8W,IAERpM,EAAK2C,YAAYzE,GAAUE,WAC3BiP,EAAKoV,gBAAgBziB,EAAK3K,SAE5B0pB,OAAQwE,IAEVluB,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,+BAGE,IACCwL,EAAUrpB,KAAVqpB,MACAlR,EAAyBkR,EAAzBlR,KAAMsR,EAAmBJ,EAAnBI,KAAM8P,EAAalQ,EAAbkQ,SACd8M,EAAoBhd,EAAMid,uBAC1BC,EAAkBvmC,KAAK2pB,qBACvB6c,EAAmBxmC,KAAKgmC,sBACxBxnB,EAAUxe,KAAKwlC,aACf/mB,EAAUze,KAAKylC,aACf/nB,EAAO,IAAI+B,GAAK,CACpB1iB,EAAGyhB,EACHxhB,EAAGyhB,EACHre,MAAOmmC,EAAgBpnB,EACvB7e,OAAQimC,EAAgBpgC,IAEpB4b,EAAO,IAAItE,GAAK,CAAEtF,OAAMuF,OAAM1P,OAAQyb,EAAK/Q,cACjDqJ,EAAK1T,OACLrO,KAAK0lC,eAAea,EAAiB/nB,EAASC,GAC9Cze,KAAK2lC,UAAUa,EAAkBH,EAAmB7nB,EAASC,GACzD8a,EAASlQ,MAAMuc,UACjB5lC,KAAK6lC,SAASU,EAAiB/nB,EAASC,GAE1Cze,KAAK8lC,WAAWS,EAAiB/nB,EAASC,GAC1CsD,EAAKpU,Y,KAOH+4B,G,WACJ,WAAYrd,GAAO,WACjBrpB,KAAKqpB,MAAQA,E,gDAIb,OAAO,I,mCAOP,OAHkBrpB,KAAVqpB,MACAkQ,SACA/8B,MACK8D,S,iCAOb,OAHkBN,KAAVqpB,MACAkQ,SACA/8B,MACK4D,Q,kCAGH,IACFipB,EAAUrpB,KAAVqpB,MAEAgE,EADUhE,EAAV8D,MACAE,MACR,OAAOhE,EAAMG,KAAKS,iBAAiB,EAAGoD,K,2BAGnC3D,EAAWlL,EAASC,EAASre,EAAOE,GAAQ,IACvC+oB,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMsR,EACJJ,EADII,KAAMD,EACVH,EADUG,KAAM+P,EAChBlQ,EADgBkQ,SAEZrR,EAAawB,EAAbxB,IAAKE,EAAQsB,EAARtB,IACbjQ,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBtG,EAAKC,KAAK,CACR6K,UAAW,YAEb9K,EAAKiH,SAAS,EAAG,EAAGhf,EAAOE,GAE3B6X,EAAKC,KAAK,CACRwK,UAAW,SACXC,aAAc,SACdC,KAAM,GAAF,OAAK7E,GAAI,IAAT,YACJgF,UAAW,YAEbuG,EAAKmd,WAAWze,EAAKE,GAAK,SAACrwB,EAAG6uC,EAAI5pC,GAChCmb,EAAKkH,SAAStnB,EAAI,EAAGqI,EAAQ,EAAGpD,EAAK4pC,EAAK,MAG5C,IAAI/hB,EAAa,EACjB1M,EAAKC,KAAK,CACR6rB,YAAa,GACbtrB,YAAa4gB,EAASlQ,MAAM3M,cAE9B8M,EAAKmd,WAAWze,EAAKE,GAAK,SAACrwB,EAAG6uC,EAAI5pC,GAChC6nB,GAAc+hB,EACdnd,EAAK6a,eAAe,EAAGtnC,EAAGoD,EAAOpD,MAEnCysB,EAAK8a,aAAankC,EAAO,EAAGA,EAAOykB,GACnC1M,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,+BAGE,IAGCwP,EAFUrtB,KAAVqpB,MACA8D,MACAE,MACF7O,EAAUxe,KAAKwlC,aACf/mB,EAAUze,KAAKylC,aACfrlC,EAAQJ,KAAK63B,WACbv3B,EAASN,KAAKu3B,YACd7N,EAAY,IAAIzB,GAAU,EAAG,EAAGoF,EAAO,EAAGjtB,EAAOE,GACvDN,KAAKmY,KAAKuR,EAAWlL,EAASC,EAASre,EAAOE,O,KAO5CumC,G,WACJ,WAAYxd,GAAO,WACjBrpB,KAAKqpB,MAAQA,E,gDAOb,OAHkBrpB,KAAVqpB,MACAkQ,SACA/8B,MACK4D,Q,mCAIb,OAAO,I,iCAGE,IACDipB,EAAUrpB,KAAVqpB,MAEAiE,EADUjE,EAAV8D,MACAG,OACR,OAAOjE,EAAME,KAAKS,gBAAgB,EAAGsD,K,kCAOrC,OAHkBttB,KAAVqpB,MACAkQ,SACA/8B,MACK8D,S,2BAGVopB,EAAWlL,EAASC,EAASre,EAAOE,GAAQ,IACvC+oB,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMsR,EACJJ,EADII,KAAMF,EACVF,EADUE,KAAMgQ,EAChBlQ,EADgBkQ,SAEZpR,EAAauB,EAAbvB,IAAKE,EAAQqB,EAARrB,IACblQ,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBtG,EAAKC,KAAK,CACR6K,UAAW,YAEb9K,EAAKiH,SAAS,EAAG,EAAGhf,EAAOE,GAE3B6X,EAAKC,KAAK,CACRwK,UAAW,SACXC,aAAc,SACdC,KAAM,GAAF,OAAK7E,GAAI,IAAT,YACJgF,UAAW,YAEbsG,EAAKud,UAAU3e,EAAKE,GAAK,SAACtwB,EAAGgvC,EAAIhqC,GAC/Bob,EAAKkH,SAASllB,EAAMgD,SAASpF,GAAIgF,EAAKgqC,EAAK,EAAIzmC,EAAS,MAG1D,IAAIoY,EAAY,EAChBP,EAAKC,KAAK,CACR6rB,YAAa,GACbtrB,YAAa4gB,EAASlQ,MAAM3M,cAE9B6M,EAAKud,UAAU3e,EAAKE,GAAK,SAACtwB,EAAGgvC,EAAIhqC,GAC/B2b,GAAaquB,EACbtd,EAAK8a,aAAaxnC,EAAG,EAAGA,EAAGuD,MAE7BmpB,EAAK6a,eAAe,EAAGhkC,EAAQoY,EAAWpY,GAC1C6X,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,+BAGE,IAGCyP,EAFUttB,KAAVqpB,MACA8D,MACAG,OACF9O,EAAUxe,KAAKwlC,aACf/mB,EAAUze,KAAKylC,aACfrlC,EAAQJ,KAAK63B,WACbv3B,EAASN,KAAKu3B,YACd7N,EAAY,IAAIzB,GAAU,EAAG,EAAG,EAAGqF,EAAQltB,EAAOE,GACxDN,KAAKmY,KAAKuR,EAAWlL,EAASC,EAASre,EAAOE,O,KAO5C0mC,G,WACJ,WAAY3d,GAAO,WACjBrpB,KAAKqpB,MAAQA,E,gDAMb,OAFkBrpB,KAAVqpB,MACAjlB,QACOohC,e,mCAIf,OAAO,I,iCAGE,IACDnc,EAAUrpB,KAAVqpB,MACFK,EAAYL,EAAMM,qBAChBxB,EAAauB,EAAbvB,IAAKE,EAAQqB,EAARrB,IACb,OAAOgB,EAAME,KAAKS,gBAAgB7B,EAAKE,K,kCAOvC,OAHkBroB,KAAVqpB,MACAkQ,SACA/8B,MACK8D,S,2BAGVopB,EAAWlL,EAASC,EAASre,EAAOE,GAAQ,IACvC+oB,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMsR,EACJJ,EADII,KAAMF,EACVF,EADUE,KAAMgQ,EAChBlQ,EADgBkQ,SAEZpR,EAAauB,EAAbvB,IAAKE,EAAQqB,EAARrB,IACblQ,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBtG,EAAKC,KAAK,CACR6K,UAAW,YAEb9K,EAAKiH,SAAS,EAAG,EAAGhf,EAAOE,GAE3B6X,EAAKC,KAAK,CACRwK,UAAW,SACXC,aAAc,SACdC,KAAM,GAAF,OAAK7E,GAAI,IAAT,YACJgF,UAAW,YAEbsG,EAAKud,UAAU3e,EAAKE,GAAK,SAACtwB,EAAGgvC,EAAIhqC,GAC/Bob,EAAKkH,SAASllB,EAAMgD,SAASpF,GAAIgF,EAAKgqC,EAAK,EAAIzmC,EAAS,MAG1D,IAAIoY,EAAY,EAChBP,EAAKC,KAAK,CACR6rB,YAAa,GACbtrB,YAAa4gB,EAASlQ,MAAM3M,cAE9B6M,EAAKud,UAAU3e,EAAKE,GAAK,SAACtwB,EAAGgvC,EAAIhqC,GAC/B2b,GAAaquB,EACbtd,EAAK8a,aAAaxnC,EAAG,EAAGA,EAAGuD,GACvBvI,IAAMswB,GAAKoB,EAAK8a,aAAaxnC,EAAIgqC,EAAI,EAAGhqC,EAAIgqC,EAAIzmC,MAEtDmpB,EAAK6a,eAAe,EAAGhkC,EAAQoY,EAAWpY,GAC1C6X,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,+BAGE,IAED6L,EADY1pB,KAAVqpB,MACgBM,qBAClBnL,EAAUxe,KAAKwlC,aACf/mB,EAAUze,KAAKylC,aACfrlC,EAAQJ,KAAK63B,WACbv3B,EAASN,KAAKu3B,YACpB7N,EAAUxB,IAAM,EAChBwB,EAAUtB,IAAM,EAChBpoB,KAAKmY,KAAKuR,EAAWlL,EAASC,EAASre,EAAOE,O,KAO5C2mC,G,WACJ,WAAY5d,GAAO,WACjBrpB,KAAKqpB,MAAQA,E,gDAIb,OAAO,I,mCAMP,OAFkBrpB,KAAVqpB,MACAjlB,QACOqhC,e,iCAOf,OAHkBzlC,KAAVqpB,MACAkQ,SACA/8B,MACK4D,Q,kCAGH,IACFipB,EAAUrpB,KAAVqpB,MACFK,EAAYL,EAAMM,qBAChBzB,EAAawB,EAAbxB,IAAKE,EAAQsB,EAARtB,IACb,OAAOiB,EAAMG,KAAKS,iBAAiB/B,EAAKE,K,2BAGrCsB,EAAWlL,EAASC,EAASre,EAAOE,GAAQ,IACvC+oB,EAAUrpB,KAAVqpB,MAENlR,EACEkR,EADFlR,KAAMsR,EACJJ,EADII,KAAMD,EACVH,EADUG,KAAM+P,EAChBlQ,EADgBkQ,SAEZrR,EAAawB,EAAbxB,IAAKE,EAAQsB,EAARtB,IACbjQ,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBtG,EAAKC,KAAK,CACR6K,UAAW,YAEb9K,EAAKiH,SAAS,EAAG,EAAGhf,EAAOE,GAE3B6X,EAAKC,KAAK,CACRwK,UAAW,SACXC,aAAc,SACdC,KAAM,GAAF,OAAK7E,GAAI,IAAT,YACJgF,UAAW,YAEbuG,EAAKmd,WAAWze,EAAKE,GAAK,SAACrwB,EAAG6uC,EAAI5pC,GAChCmb,EAAKkH,SAAStnB,EAAI,EAAGqI,EAAQ,EAAGpD,EAAK4pC,EAAK,MAG5C,IAAI/hB,EAAa,EACjB1M,EAAKC,KAAK,CACR6rB,YAAa,GACbtrB,YAAa4gB,EAASlQ,MAAM3M,cAE9B8M,EAAKmd,WAAWze,EAAKE,GAAK,SAACrwB,EAAG6uC,EAAI5pC,GAChC6nB,GAAc+hB,EACdnd,EAAK6a,eAAe,EAAGtnC,EAAGoD,EAAOpD,GAC7BjF,IAAMqwB,GAAKqB,EAAK6a,eAAe,EAAGtnC,EAAI4pC,EAAIxmC,EAAOpD,EAAI4pC,MAE3Dnd,EAAK8a,aAAankC,EAAO,EAAGA,EAAOykB,GACnC1M,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,+BAGE,IAED6L,EADY1pB,KAAVqpB,MACgBM,qBAClBnL,EAAUxe,KAAKwlC,aACf/mB,EAAUze,KAAKylC,aACfrlC,EAAQJ,KAAK63B,WACbv3B,EAASN,KAAKu3B,YACpB7N,EAAUvB,IAAM,EAChBuB,EAAUrB,IAAM,EAChBroB,KAAKmY,KAAKuR,EAAWlL,EAASC,EAASre,EAAOE,O,KAO5C4mC,G,WACJ,WAAY7d,GAAO,WACjBrpB,KAAKqpB,MAAQA,E,wCAGV7K,EAASC,EAASre,EAAOE,GAAQ,IAE5B6X,EADUnY,KAAVqpB,MACAlR,KACRA,EAAKwF,OACLxF,EAAKnK,OAAOwQ,EAASC,GAErBtG,EAAKC,KAAK,CACR6K,UAAW,YAEb9K,EAAKiH,SAAS,EAAG,EAAGhf,EAAOE,GAC3B6X,EAAKnK,OAAO,EAAG,GACfmK,EAAK0F,Y,+BAGE,IAGCrhB,EAFUwD,KAAVqpB,MACAkQ,SACA/8B,MACRwD,KAAKmY,KAAK,EAAG,EAAG3b,EAAM4D,MAAO5D,EAAM8D,Y,KA0BjC6mC,GAAkB,CACtBC,gBAAgB,EAChBC,gBAAgB,EAChB7qC,MAAO,CACL8D,OAAQ,GACRF,MAAO,GACPknC,QAAS,UACTn2B,MAAO,WAETkY,MAAO,CACL4F,WAAY,UACZvS,YAAa,UACbkpB,UAAU,GAEZ3kC,KAAM,GACNuoB,KAAM,CACJrX,IAAK,IACL7R,OAAQ,IAEVipB,KAAM,CACJpX,IAAK,GACL/R,MAAO,KAETmrB,OAAQ,GACR4B,MAAO,CACLE,OAAQ,EACRC,QAAS,IAQPia,G,YAEJ,WAAYhO,GAAU,M,IAAA,kB,EACpB,K,EAAA,0BAASx/B,EAAT,e,mDAKKwsC,gBAAkB,KACvB,EAAKC,iBAAmB,KACxB,EAAKH,mBAAqB,EAG1B,EAAKmB,OAASrhC,EAAE,SAAD,UAAcpM,EAAd,kBACf,EAAKw/B,SAAWp/B,EAAMkB,UAAU,GAAI8rC,GAAiB5N,GACrD,EAAK5I,MAAQ,IAAI4Q,GAAM,CACrBlY,MAAO,MACPG,KAAM,EAAKA,KACXD,KAAM,EAAKA,KACXtoB,KAAM,EAAKs4B,SAASt4B,OAEtB,EAAKksB,MAAQ,IAAI5F,GAAM,EAAKgS,SAASpM,OACrC,EAAK3D,KAAO,IAAIsN,GAAK,EAAKyC,SAAS/P,MACnC,EAAKD,KAAO,IAAIkO,GAAK,EAAK8B,SAAShQ,MACnC,EAAKgC,OAAS,IAAIwM,GAAO,EAAKwB,SAAShO,QACvC,EAAK9gB,OAAS,IAAIqtB,GAAJ,OAGd,EAAKhI,YAAc,IAAI2R,GAAY,CACjC9Q,MAAO,EAAKA,MACZpF,OAAQ,EAAKA,OACb/B,KAAM,EAAKA,KACXD,KAAM,EAAKA,OAIb,EAAKqZ,WAAa,IAAIpC,GAAJ,OAClB,EAAKwD,eAAiB,IAAI3B,GAAJ,OACtB,EAAKqC,iBAAmB,IAAItB,GAAJ,OAGxB,EAAKrT,aAAe,IAAIoQ,GAAJ,OAGpB,EAAK/U,eAAiB,IAAIuP,GAAJ,OAGtB,EAAKtP,eAAiB,IAAIgW,GAG1B,EAAKlpB,KAAO,IAAIkG,GAAK,EAAKmpB,OAAOzmC,IACjC,EAAK8X,KAAO,IAAIyC,GAAK,EAAKnD,KAAM,CAC9BgB,SAAU,SAACqP,EAAIC,GACb,IAAM0H,EAAO,EAAKQ,MAAM8R,mBAAmBja,EAAIC,GAC/C,OAAO0H,GAAQA,EAAKhB,WAAWntB,KAAK0C,SAEtC0U,QAAS,SAACoP,EAAIC,GACZ,IAAM0H,EAAO,EAAKQ,MAAM8R,mBAAmBja,EAAIC,GAC/C,OAAO0H,GAAQA,EAAKhB,WAAWrtB,IAAI4C,SAErC2U,UAAW,SAACmP,EAAIC,GACd,IAAM0H,EAAO,EAAKQ,MAAM8R,mBAAmBja,EAAIC,GAC/C,OAAO0H,GAAQA,EAAKhB,WAAW9pB,MAAMX,SAEvC4U,WAAY,SAACkP,EAAIC,GACf,IAAM0H,EAAO,EAAKQ,MAAM8R,mBAAmBja,EAAIC,GAC/C,OAAO0H,GAAQA,EAAKhB,WAAW7pB,OAAOZ,SAExC6U,QAAS,SAACK,EAAKC,GAAN,OAAyD,OAA3C,EAAK0R,OAAOmB,iBAAiB9S,EAAKC,IACzDL,gBAAiB,SAACI,EAAKC,GAAN,OAAc,EAAK0R,OAAOmB,iBAAiB9S,EAAKC,GAAKqO,MAAQtO,GAC9EH,eAAgB,SAACG,EAAKC,GAAN,OAAc,EAAK0R,OAAOmB,iBAAiB9S,EAAKC,GAAKuO,MAAQxO,GAC7EF,gBAAiB,SAACE,EAAKC,GAAN,OAAc,EAAK0R,OAAOmB,iBAAiB9S,EAAKC,GAAKsO,MAAQtO,GAC9EF,eAAgB,SAACC,EAAKC,GAAN,OAAc,EAAK0R,OAAOmB,iBAAiB9S,EAAKC,GAAKwO,MAAQxO,KAE/E,EAAK4P,KAAO,IAAIgW,GAAK,EAAKtnB,KAAM,CAC9BhH,MAAO,EAAKooB,SAASlQ,MAAM3M,cAI7B,EAAKtY,QAAU,IAAI6hC,GAAJ,OACf,EAAK7b,UAAY,IAAI2b,GAAJ,OACjB,EAAK5b,SAAW,IAAIsc,GAAJ,OAChB,EAAKgB,cAAgB,IAAIT,GAAJ,OACrB,EAAKU,eAAiB,IAAIT,GAAJ,OACtB,EAAK3d,cAAgB,IAAIya,GAAJ,OACrB,EAAK4D,gBAAkB,IAAIjB,GAAJ,OACvB,EAAKkB,eAAiB,IAAIf,GAAJ,OACtB,EAAKgB,WAAa,IAAIX,GAAJ,OAGlB,EAAKpf,OAAS,IAAIiR,GAAJ,OACd,EAAK+O,SAAW,IAAIjO,GAAJ,OAChB,EAAKkO,SAAW,IAAIxN,GAAJ,OAChB,EAAKyN,aAAe,IAAI3K,GAAJ,OACpB,EAAK4K,aAAe,IAAI/J,GAAJ,OACpB,EAAK5S,KAAO,IAAI6S,GAAJ,OACZ,EAAKn7B,SAAS,EAAKwkC,QACnB,EAAKxkC,SAAS,EAAK8kB,QACnB,EAAK9kB,SAAS,EAAK8kC,UACnB,EAAK9kC,SAAS,EAAK+kC,UACnB,EAAK/kC,SAAS,EAAKglC,cACnB,EAAKhlC,SAAS,EAAKilC,cACnB,EAAKjlC,SAAS,EAAKsoB,MAGnB,EAAK/xB,OAvGe,E,+RA0GH,WACTw2B,EAAiB/vB,KAAjB+vB,aAEFmC,EAAiB,IAAIpH,GAAe9qB,KAAK8nB,QAC/CoK,EAAegW,mBAAkB,WAC/B,EAAK7H,QAAQj4B,GAASmB,iBAAiBI,kBAEzCuoB,EAAeiW,iBAAgB,WAC7B,EAAK9H,QAAQj4B,GAASmB,iBAAiBK,gBAEzC5J,KAAK8nB,OAAOoR,UAAUhH,GAEtB,IAAMkW,EAAiB,IAAIlN,GAAel7B,KAAK8nB,OAAQ,CACrDuT,gBAAiB,SAACwB,GACZA,EAAQ,GACV9M,EAAaK,UAAS,MAI5BpwB,KAAK8nB,OAAOoR,UAAUkP,GAEtB,IAAMC,EAAY,IAAIlf,GAAgBnpB,KAAK8nB,OAAQ,IACnD9nB,KAAK8nB,OAAOoR,UAAUmP,K,6BAItBroC,KAAKsoC,mBACLtoC,KAAK8nB,OAAOhhB,OACZ9G,KAAK8nC,SAAShhC,OACd9G,KAAK+nC,SAASjhC,OACd9G,KAAKgoC,aAAalhC,OAClB9G,KAAKioC,aAAanhC,OAClB9G,KAAKsrB,KAAKxkB,OACV9G,KAAKuoC,W,4DAG+B,IAC5BzY,EAAgB9vB,KAAhB8vB,YACFpG,EAAY1pB,KAAKgmC,sBACnBwC,GAAS,EACb1Y,EAAYsS,mBAAmB,CAC7BlS,UAAWxG,EACXyC,SAAU,SAACtzB,EAAGT,EAAG+3B,GAAS,IAChBhB,EAAegB,EAAfhB,WACArtB,EAA6BqtB,EAA7BrtB,IAAKE,EAAwBmtB,EAAxBntB,KAAMqD,EAAkB8pB,EAAlB9pB,MAAOC,EAAW6pB,EAAX7pB,OAC1B,OAAIxD,EAAIzH,OAASwd,GAAUI,YACzBuwB,GAAS,EAGPxmC,EAAK3H,OAASwd,GAAUI,YAC1BuwB,GAAS,EAGPnjC,EAAMhL,OAASwd,GAAUI,YAC3BuwB,GAAS,EAGPljC,EAAOjL,OAASwd,GAAUI,cAC5BuwB,GAAS,MAMXA,EACFxoC,KAAK0kC,iBAAiB+D,uBAEtBzoC,KAAK0kC,iBAAiBgE,0B,8BAIlB3rC,GAAG,IAEPwsB,EACEvpB,KADFupB,KAAM4D,EACJntB,KADImtB,MAAOoM,EACXv5B,KADWu5B,SAAU9uB,EACrBzK,KADqByK,OAErB8uB,EAAS8N,gBAEXsB,QAAQ/qC,OAND,IAQH0vB,EAAWH,EAAXG,OACNA,GAAU,EATD,SAYLnzB,EAAMyuC,cAActb,EAAQ/D,EAAKpX,IAAK,EAAG,EAAGpV,GAAG,SAAAhF,GAAC,OAAIwxB,EAAKsO,SAAS9/B,MAZ7D,GAWP0wB,EAXO,KAWHzmB,EAXG,KAWG5B,EAXH,KAaL2e,EAAK/c,EACLjF,EAAI,IAAGgiB,GAAM3e,GACjBqK,EAAOge,GAAKA,EACZhe,EAAO1N,EAAIgiB,EACPwa,EAAS8N,iBAEXsB,QAAQE,IAAI,YAEZF,QAAQG,WAEV9oC,KAAKqgC,QAAQj4B,GAASC,kBAAkBa,U,8BAGlClM,GAAG,IAEPwsB,EACExpB,KADFwpB,KAAM2D,EACJntB,KADImtB,MAAOoM,EACXv5B,KADWu5B,SAAU9uB,EACrBzK,KADqByK,OAErB8uB,EAAS8N,gBAEXsB,QAAQ/qC,OAND,IAQHyvB,EAAUF,EAAVE,MACNA,GAAS,EATA,SAYLlzB,EAAMyuC,cAAcvb,EAAO7D,EAAKrX,IAAK,EAAG,EAAGnV,GAAG,SAAAjF,GAAC,OAAIyxB,EAAK+N,UAAUx/B,MAZ7D,GAWPywB,EAXO,KAWH1mB,EAXG,KAWExB,EAXF,KAaL0e,EAAKld,EACL9E,EAAI,IAAGgiB,GAAM1e,GACjBmK,EAAO+d,GAAKA,EACZ/d,EAAOzN,EAAIgiB,EACPua,EAAS8N,iBAEXsB,QAAQE,IAAI,YAEZF,QAAQG,WAEV9oC,KAAKqgC,QAAQj4B,GAASC,kBAAkBa,U,4CAGpB,IACZs9B,EAAqBxmC,KAArBwmC,iBACR,GAAyB,OAArBA,EACF,OAAOA,EAAiBla,QAE1B,IAAMia,EAAkBvmC,KAAK2pB,qBAE3BzB,EACEqe,EADFre,IAAKE,EACHme,EADGne,IAAKC,EACRke,EADQle,IAEJkB,EAASvpB,KAATupB,KAIR,OAHAgd,EAAgBtM,IAAI/R,EAAK,EAAGE,EAAKC,GACjCke,EAAgBpnB,EAAIoK,EAAKS,gBAAgB,EAAG3B,GAC5CroB,KAAKwmC,iBAAmBD,EACjBvmC,KAAKwmC,iBAAiBla,U,2CAGV,IACXia,EAAoBvmC,KAApBumC,gBACR,GAAwB,OAApBA,EACF,OAAOA,EAAgBja,QAQzB,IAXmB,IAMjB9C,EACExpB,KADFwpB,KAAMD,EACJvpB,KADIupB,KAAM9e,EACVzK,KADUyK,OAAQrG,EAClBpE,KADkBoE,QAEjBhE,EAAkB,EAAXE,EAAc,EAClBkoB,EAAW/d,EAAX+d,GAAIC,EAAOhe,EAAPge,GATO,EAUF,CAACe,EAAKrX,IAAKoX,EAAKpX,KAA5BiW,EAVc,KAUTC,EAVS,KAWVtwB,EAAIywB,EAAIzwB,EAAIyxB,EAAKrX,MAExBiW,EAAMrwB,KADNuI,GAAUkpB,EAAK+N,UAAUx/B,IAEZqM,EAAQmzB,cAHQx/B,GAAK,GAKpC,IAAK,IAAIgsB,EAAI0E,EAAI1E,EAAIwF,EAAKpX,MAExBkW,EAAMtE,KADN3jB,GAASmpB,EAAKsO,SAAS9T,IAEX3f,EAAQyzB,aAHS9T,GAAK,GAMpC,OADA/jB,KAAKumC,gBAAkB,IAAIte,GAAUO,EAAIC,EAAIL,EAAKC,EAAKjoB,EAAOE,GACvDN,KAAKumC,gBAAgBja,U,6CAGP,IACb+Z,EAAsBrmC,KAAtBqmC,kBACR,IAA2B,IAAvBA,EACF,OAAQA,EAHW,IAKb57B,EAAiBzK,KAAjByK,OAAQ8e,EAASvpB,KAATupB,KACRd,EAAOhe,EAAPge,GAER,OADAzoB,KAAKqmC,kBAAoB9c,EAAKS,gBAAgB,EAAGvB,EAAK,IAC9CzoB,KAAKqmC,oB,uCAIbrmC,KAAKumC,gBAAkB,KACvBvmC,KAAKwmC,iBAAmB,KACxBxmC,KAAKqmC,mBAAqB,I,+BAGnB,IACC9M,EAAoBv5B,KAApBu5B,SAAUpM,EAAUntB,KAAVmtB,MACdoM,EAAS6N,gBAEXuB,QAAQ/qC,OAEVoC,KAAK+oC,sCACL/oC,KAAKugC,QACLvgC,KAAK6nC,WAAWxX,SAEZlD,EAAMG,QAAU,GAAKH,EAAME,OAAS,GACtCrtB,KAAKspB,cAAc+G,SAEjBlD,EAAME,OAAS,GACjBrtB,KAAKmqB,SAASkG,SAEZlD,EAAMG,QAAU,GAClBttB,KAAKoqB,UAAUiG,SAGjBrwB,KAAKoE,QAAQisB,SAETlD,EAAME,OAAS,GACjBrtB,KAAK4nC,eAAevX,SAElBlD,EAAMG,QAAU,GAClBttB,KAAK2nC,gBAAgBtX,SAGvBrwB,KAAK0nC,eAAerX,SACpBrwB,KAAKynC,cAAcpX,SACfkJ,EAAS6N,iBAEXuB,QAAQE,IAAI,WAEZF,QAAQG,a,+BAIH,IACC3wB,EAASnY,KAATmY,KADD,EAEiB,CAACnY,KAAKs6B,cAAet6B,KAAKo6B,gBAA3Ch6B,EAFA,KAEOE,EAFP,KAGP6X,EAAKowB,OAAOnoC,EAAOE,GACnBN,KAAKgpC,iBACLhpC,KAAKqwB,W,6BAGA,WACLtmB,GAAUxQ,KAAKyG,KAAMoI,GAASC,kBAAkBC,YAAY,SAAC3M,GAAM,MAChD,EAAK6P,eAAe7P,GAA7BoB,EADyD,EACzDA,EAAGC,EADsD,EACtDA,EADsD,EAE9C,EAAKkxB,YAAYnxB,EAAGC,GAA/BwrB,EAFyD,EAEzDA,GAAIC,EAFqD,EAErDA,IACA,IAARD,IAAqB,IAARC,EACf,EAAK2C,eAAe6O,IAAI,OAAQ,eACf,IAARzR,EACT,EAAK4C,eAAe6O,IAAI,WAAY,aACnB,IAARxR,EACT,EAAK2C,eAAe6O,IAAI,WAAY,YAEpC,EAAK7O,eAAe6O,IAAI,OAAQ,iBAGpClwB,GAAUxQ,KAAKyG,KAAMoI,GAASC,kBAAkBa,QAAQ,WACtD,EAAK8/B,iBACL,EAAK3Y,YAEPtmB,GAAUxQ,KAAKyG,KAAMoI,GAASmB,iBAAiBE,cAAc,WAC3D,EAAKu/B,iBACL,EAAK3Y,YAEPtmB,GAAUxQ,KAAKyG,KAAMoI,GAASmB,iBAAiBC,eAAe,WAC5D,EAAKw/B,iBACL,EAAK3Y,c,8BAID,IACElY,EAAmBnY,KAAnBmY,KAAMohB,EAAav5B,KAAbu5B,SACNn5B,EAAkB+X,EAAlB/X,MAAOE,EAAW6X,EAAX7X,OACf6X,EAAKC,KAAK,CACR6K,UAAWsW,EAASlQ,MAAM4F,aAE5B9W,EAAKiH,SAAS,EAAG,EAAGhf,EAAOE,K,wCAI3B,OAAON,KAAKoE,QAAQ6kC,oB,yCAIpB,OAAOjpC,KAAKoE,QAAQ8kC,qB,kCAGVnsC,EAAGC,GAAG,IAEdu8B,EACEv5B,KADFu5B,SAAUpM,EACRntB,KADQmtB,MAAO3D,EACfxpB,KADewpB,KAAMD,EACrBvpB,KADqBupB,KAEjB/sB,EAAU+8B,EAAV/8B,MACFi9B,EAAcz5B,KAAKmqB,SAASoN,YAC5BiC,EAAax5B,KAAKoqB,UAAUyN,WAE7B71B,EAAcjF,EAAR+E,EAAW9E,EACjByrB,GAAY,EAARD,GAAY,EAMrB,GAJAxmB,GAAQxF,EAAM4D,MACd0B,GAAOtF,EAAM8D,OAGT0B,GAAQw3B,GAAcz8B,EAAIP,EAAM4D,MAElC,IADA,IAAIpE,EAAQ,EACHjE,EAAI,EAAGA,GAAKo1B,EAAMG,OAAQv1B,GAAK,EAAG,CAIzC,GADA0wB,EAAK1wB,GADLiE,GADcutB,EAAKsO,SAAS9/B,IAGhBiK,EAAM,WAEf,GAAIjF,EAAIP,EAAM4D,MAGnB,IAFA,IAAIpE,EAAQw9B,EACN9P,EAAY1pB,KAAK2pB,qBACd5xB,EAAI2xB,EAAUvB,IAAKpwB,GAAK2xB,EAAUrB,IAAKtwB,GAAK,EAAG,CAItD,GADA0wB,EAAK1wB,GADLiE,GADcutB,EAAKsO,SAAS9/B,IAGhBiK,EAAM,MAMtB,GAAIF,EAAM23B,GAAez8B,EAAIR,EAAM8D,OAEjC,IADA,IAAItE,EAAQ,EACHjE,EAAI,EAAGA,GAAKo1B,EAAME,MAAOt1B,GAAK,EAAG,CAIxC,GADAywB,EAAKzwB,GADLiE,GADewtB,EAAK+N,UAAUx/B,IAGlB+J,EAAK,WAEd,GAAI9E,EAAIR,EAAM8D,OAGnB,IAFA,IAAItE,EAAQy9B,EACN/P,EAAY1pB,KAAK2pB,qBACd5xB,EAAI2xB,EAAUxB,IAAKnwB,GAAK2xB,EAAUtB,IAAKrwB,GAAK,EAAG,CAItD,GADAywB,EAAKzwB,GADLiE,GADewtB,EAAK+N,UAAUx/B,IAGlB+J,EAAK,MAKrB,MAAO,CACL0mB,KAAIC,Q,sCAKN,OAAOzoB,KAAKoqB,UAAUyN,a,uCAItB,OAAO73B,KAAKmqB,SAASoN,c,qCAIrB,OAAOv3B,KAAKsG,MAAMhG,S,oCAIlB,OAAON,KAAKsG,MAAMlG,Q,sCAKlB,OADqBJ,KAAbu5B,SACQ/8B,MAAM4D,Q,uCAKtB,OADqBJ,KAAbu5B,SACQ/8B,MAAM8D,S,gCAGdkoB,EAAIloB,GACKN,KAATwpB,KACH9E,UAAU8D,EAAIxK,GAAM1d,IACzBN,KAAKqgC,QAAQj4B,GAASmB,iBAAiBC,iB,+BAGhCif,EAAIroB,GACMJ,KAATupB,KACH7Z,SAAS+Y,EAAIzK,GAAM5d,IACxBJ,KAAKqgC,QAAQj4B,GAASmB,iBAAiBE,gB,8BAGjC+e,EAAIC,GAAI,IACNkI,EAAU3wB,KAAV2wB,MACR,OAAOx2B,EAAMkB,UAAU,GAAIs1B,EAAMmM,QAAQtU,EAAIC,M,8BAGvCD,EAAIC,EAAI0H,GAAM,IAEZQ,EAAwB3wB,KAAxB2wB,MAAOZ,EAAiB/vB,KAAjB+vB,aACfY,EAAMoM,aAAavU,EAAIC,EAAI0H,GAC3BJ,EAAaK,UAAS,GACtBpwB,KAAKqwB,W,iCAIL,IAAMpvB,EAAO,CACXuoB,KAAM,CACJvoB,KAAMjB,KAAKwpB,KAAK8W,WAElB/W,KAAM,CACJtoB,KAAMjB,KAAKupB,KAAK+W,WAElB/U,OAAQ,CACNtqB,KAAMjB,KAAKurB,OAAO+U,YAGtB,OAAO9lC,KAAKC,UAAUwG,O,GAzfNmF,G,ozBCzjDd+iC,G,YACJ,aAKG,MALSviC,EAKT,uDALmB,CACpBwiC,YAAa,CACXnoC,KAAM,GACNsqB,OAAQ,KAET,O,4FAAA,UACD,oCAASxxB,EAAT,aACK6M,QAAUA,EAEf,EAAKyiB,MAAQ,IAAIke,GAAM,EAAK3gC,QAAQwiC,aACpC,EAAKpmC,SAAS,EAAKqmB,OACnB,EAAK9vB,OANJ,E,+RAUDyG,KAAKqpB,MAAMviB,S,6BAGN,WACLiD,GAAUxQ,KAAKyG,KAAKqpB,MAAOjhB,GAASmB,iBAAiBE,cAAc,SAAC9N,GAElE,EAAK0kC,QAAQj4B,GAASmB,iBAAiBE,aAAc,GACrD9N,EAAEiG,qBAEJmI,GAAUxQ,KAAKyG,KAAKqpB,MAAOjhB,GAASmB,iBAAiBC,eAAe,SAAC7N,GACnE,EAAK0kC,QAAQj4B,GAASmB,iBAAiBC,cAAe,GACtD7N,EAAEiG,qBAEJmI,GAAUxQ,KAAKyG,KAAKqpB,MAAOjhB,GAASmB,iBAAiBI,eAAe,SAAChO,GACnE,EAAK0kC,QAAQj4B,GAASmB,iBAAiBI,cAAe,GACtDhO,EAAEiG,qBAEJmI,GAAUxQ,KAAKyG,KAAKqpB,MAAOjhB,GAASmB,iBAAiBK,aAAa,SAACjO,GACjE,EAAK0kC,QAAQj4B,GAASmB,iBAAiBK,YAAa,GACpDjO,EAAEiG,0B,gCAnCYwE,G,ozBCAdijC,G,YACJ,aAAc,a,4FAAA,UACZ,oCAAStvC,EAAT,kBACKuvC,UAAY,GACjB,EAAKC,aAAe,EAHR,E,8RAMW,WAArB7hC,EAAqB,uDAAb,IAAIyhC,GA4Bd,OA3BAnpC,KAAKspC,UAAUvqC,KAAK2I,GACpB1H,KAAKgD,SAAS0E,GACdA,EAAMZ,OACNY,EAAM7C,OAENkF,GAAUxQ,KAAKmO,EAAOU,GAASmB,iBAAiBE,cAAc,SAAC9N,GAE7D,EAAK0kC,QAAQj4B,GAASmB,iBAAiBE,cACvC9N,EAAEiG,qBAEJmI,GAAUxQ,KAAKmO,EAAOU,GAASmB,iBAAiBC,eAAe,SAAC7N,GAE9D,EAAK0kC,QAAQj4B,GAASmB,iBAAiBC,eACvC7N,EAAEiG,qBAEJmI,GAAUxQ,KAAKmO,EAAOU,GAASmB,iBAAiBG,aAAa,SAAC/N,GAC5D,EAAK0kC,QAAQj4B,GAASmB,iBAAiBG,aACvC/N,EAAEiG,qBAEJmI,GAAUxQ,KAAKmO,EAAOU,GAASmB,iBAAiBI,eAAe,SAAChO,GAC9D,EAAK0kC,QAAQj4B,GAASmB,iBAAiBI,eACvChO,EAAEiG,qBAEJmI,GAAUxQ,KAAKmO,EAAOU,GAASmB,iBAAiBK,aAAa,SAACjO,GAC5D,EAAK0kC,QAAQj4B,GAASmB,iBAAiBK,YAAa,GACpDjO,EAAEiG,qBAEG5B,KAAKspC,UAAUzuC,OAAS,I,uCAI/B,OAAOmF,KAAKspC,UAAUtpC,KAAKupC,e,qCAGd/sC,GAAO,IACZ8sC,EAActpC,KAAdspC,UACR,OAAIA,EAAU9sC,IACZwD,KAAKupC,YAAc/sC,EACZwD,KAAKkP,UAAUo6B,EAAU9sC,KAE3B,O,gCAGCkL,GAKR,OAJAA,EAAM9C,OACN8C,EAAM3C,UAAUjK,SAAQ,SAACkL,GACvBA,EAAKnB,UAEA6C,O,gCAxDatB,G,gzBCHxB,IAAIojC,GAAS,EAEPC,G,YACJ,aAA0C,MAA9BnxC,EAA8B,sEAAfkxC,IAAU,GAAK,O,4FAAA,UACxC,oCAASzvC,EAAT,iBACK2vC,QAAQpxC,GAF2B,E,gSAKlCA,GACN0H,KAAK1H,KAAOA,EACZ0H,KAAKgI,KAAKhI,KAAK1H,W,gCARD8N,G,ozBCiBdujC,GACAv8B,GACAw8B,GAGAC,GACAC,GACAC,GACAC,GACAC,GAGAC,GACAC,GACAC,GC9BEC,G,YACJ,WAAYzjC,GAAS,e,4FAAA,UACnB,oCAAS7M,EAAT,wBACK6pB,KAAOzd,EAAE,MAAD,UAAWpM,EAAX,yBACb,EAAKuwC,KAAOnkC,EAAE,MAAD,UAAWpM,EAAX,yBACb,EAAKqK,QAAU+B,EAAE,MAAD,UAAWpM,EAAX,uBAChB,EAAKwwC,KAAOpkC,EAAE,MAAD,UAAWpM,EAAX,oBACb,EAAKkc,KAAO9P,EAAE,MAAD,UAAWpM,EAAX,oBACb,EAAKqK,QAAQpB,SAAS,EAAKunC,OAC3B,KAAKvnC,SAAL,QAAiB,CACf,EAAK4gB,KACL,EAAK0mB,KACL,EAAKlmC,QACL,EAAK6R,OAEP,EAAKu0B,SAAWrwC,EAAMkB,UAAU,CAC9BykC,MAD8B,SACxB2K,GAAO,OAAOA,GACpBC,SAF8B,SAErBD,GAAO,OAAOA,IACtB7jC,GACH,EAAK4iC,OAAS,EACd,EAAKxnC,KAAO,KACZ,EAAK2oC,QAAU,GApBI,E,qSAuBRnuC,GAAO,IACVmuC,EAAY3qC,KAAZ2qC,QACR,OAAIA,EAAQnuC,IACVwD,KAAKkP,UAAUy7B,EAAQnuC,IAChBmuC,EAAQnuC,IAEV,O,gCAGCiuC,GACRA,EAAI3mC,SAAS,UACb2mC,EAAI1lC,UAAUjK,SAAQ,SAACkL,GACrBA,EAAKjC,YAAY,e,6BAKnB/D,KAAKzG,S,6BAGA,WACLyG,KAAKiW,KAAKtR,GAAG,SAAS,WACpB,IAAM8lC,EAAM,IAAIhB,GACVjtC,EAAQ,EAAKouC,WAAWH,GAC9B,EAAKD,SAAS1K,MAAM2K,EAAKjuC,MAE3BwD,KAAK4jB,KAAKjf,GAAG,SAAS,WACpB,IAAI3C,EAAO,EAAKA,MAAQ,GACxBA,GAAQ,IACG,IAAGA,EAAO,GACrB,EAAKA,KAAOA,EACZ,EAAKuoC,KAAK1oC,IAAI,aAAd,UAA+B,EAAKG,KAApC,UAEFhC,KAAKsqC,KAAK3lC,GAAG,SAAS,WACpB,IAAMmJ,EAAW,EAAK1J,QAAQ4J,SAAS5N,MAEjClE,IADU,EAAKquC,KAAKv8B,SAAS5N,MACX0N,GACpB9L,EAAO,EAAKA,MAAQ,GACxBA,GAAQ,IACG9F,IAAK8F,EAAO9F,GACvB,EAAK8F,KAAOA,EACZ,EAAKuoC,KAAK1oC,IAAI,aAAd,UAA+B,EAAKG,KAApC,Y,0BAIAyoC,GAAK,WAOP,OANAzqC,KAAK2qC,QAAQ5rC,KAAK0rC,GAClBzqC,KAAKuqC,KAAKvnC,SAASynC,GACnBA,EAAI9lC,GAAG,SAAS,WACd,EAAKuK,UAAUu7B,GACf,EAAKD,SAASE,SAASD,MAElBzqC,KAAK2qC,QAAQ9vC,OAAS,I,iCAGpB4vC,GACT,IAAMzsC,EAASgC,KAAKwD,IAAIinC,GAClB38B,EAAW9N,KAAKoE,QAAQ4J,SAAS5N,MACjCyqC,EAAU7qC,KAAKuqC,KAAKv8B,SAAS5N,MAKnC,OAJIyqC,EAAU/8B,IACZ9N,KAAKgC,OAAS6oC,EAAU/8B,GACxB9N,KAAKuqC,KAAK1oC,IAAI,aAAd,UAA+B7B,KAAKgC,KAApC,QAEKhE,O,gCAvFWoI,G,+uBDgChB0kC,G,YACJ,WAAYtb,GAAgC,M,IAA1B5oB,EAA0B,uDAAhB,CAAEa,OAAQ,IAAM,O,4FAAA,S,EAC1C,K,EAAA,0BAAS1N,EAAT,mB,mDACKy1B,KAAOA,EACZ,EAAKub,WAAankC,EAClB,EAAKa,OAAS,EAAKsjC,WAAWtjC,OAC9B,EAAKujC,YAAc,GAEnB,EAAKC,UAAY9kC,EAAE,MAAD,UAAWpM,EAAX,qBAClB,EAAKkxC,UAAUjjC,KAAK,yBACpB,EAAKhF,SAAS,EAAKioC,WAEnB,EAAK1b,UAAY,IAAI8Z,GACrB,EAAK6B,QAAU,IAAIb,GAAQ,CACzBvK,MAAO,SAAC2K,EAAKU,GAAa,IAChB5b,EADgB,MAChBA,UACF7nB,EAAQ,IAAIyhC,GACZiC,EAAa7b,EAAU/rB,IAAIkE,GACjC,EAAKsjC,YAAYjsC,KAAK,CACpB0rC,MACA/iC,QACAyjC,WACAC,gBAGJV,SAAU,SAACD,GACT,EAAKY,aAAaZ,MAGtB,EAAKx9B,WAAa,IAAI1C,GAAW,CAC/BE,OAAQ,SAACqB,GACO,EAAKyjB,UAAUM,iBACvBxG,MAAMiiB,QAAQx/B,MAGxB,EAAKoB,WAAa,IAAIlB,GAAW,CAC/BvB,OAAQ,SAACqB,GACO,EAAKyjB,UAAUM,iBACvBxG,MAAMkiB,QAAQz/B,MAIxB69B,GAAkC,IAAIp9B,GAAuB,EAAKgjB,UAAW,CAC3EjrB,MAAO,CACL2C,SAAU,KAGdmG,GAAmC,IAAIb,GAAuB,EAAKW,WAAY,CAC7E5I,MAAO,CACL+I,SAAU,aAGdu8B,GAAmB,IAAIp9B,GAAgB,CACrC3F,cAAe,CAAC8iC,GAAiCv8B,MAGnDy8B,GAAuC,IAAI3V,GAAsB,EAAKjnB,YACtE68B,GAA2B,IAAI3V,GAAe,CAC5CC,eAAgB,CAACyV,MAEnBE,GAAmC,IAAIx9B,GAAuBu9B,GAA0B,CACtFxlC,MAAO,CACL2C,SAAU,KAGd+iC,GAAuC,IAAIz9B,GAAuB,EAAK2+B,QAAS,CAC9E5mC,MAAO,CACL2C,SAAU,KAGdgjC,GAAmB,IAAIz9B,GAAgB,CACrC3F,cAAe,CAACmjC,GAAsCD,MAGxDG,GAAuC,IAAIljC,EAAqB4iC,GAAkB,CAChFtlC,MAAO,CACL2C,SAAU,KAGdkjC,GAA6C,IAAInjC,EAAqBijC,IACtEG,GAAqB,IAAIzjC,EAAc,CACrCE,cAAe,CAACqjC,GACdC,MAGJ,EAAKnnC,SAASonC,IACd,EAAK7wC,OArFqC,E,+RAyF1CyG,KAAKuvB,UAAUzoB,OACf9G,KAAKkrC,QAAQpkC,OACb9G,KAAKiN,WAAWnG,OAChB9G,KAAKkN,WAAWpG,OAChB9G,KAAKwrC,YACLxrC,KAAKyrC,e,mCAIL,IAAM/jC,EAAQ1H,KAAKuvB,UAAUM,iBAC7B,IAAI11B,EAAMQ,QAAQ+M,GAAlB,CAFW,IAGH2hB,EAAU3hB,EAAV2hB,MACAjlB,EAAoBilB,EAApBjlB,QAASqG,EAAW4e,EAAX5e,OACjBs/B,GAAiCrlC,QAAQN,EAAQyzB,WAAazzB,EAAQ6kC,mBACtEjpC,KAAKkN,WAAWe,QAAQ7J,EAAQmzB,YAAanzB,EAAQ8kC,oBACrDlpC,KAAKiN,WAAWgB,QAAQ7J,EAAQyzB,WAAYzzB,EAAQ6kC,mBACpDjpC,KAAKkN,WAAWw+B,WAAWjhC,EAAOzN,GAClCgD,KAAKiN,WAAWy+B,WAAWjhC,EAAO1N,M,kCAGxB,IACFwyB,EAAuBvvB,KAAvBuvB,UAAW2b,EAAYlrC,KAAZkrC,QADT,uBAGV,YAAmBlrC,KAAKyH,OAAxB,+CAAgC,KAArBzB,EAAqB,QAGtB1N,EAAS0N,EAAT1N,KACFoP,EAAQ,IAAIyhC,GAAMnjC,GAClBykC,EAAM,IAAIhB,GAAInxC,GACd8yC,EAAa7b,EAAU/rB,IAAIkE,GAC3ByjC,EAAWD,EAAQ1nC,IAAIinC,GAC7BzqC,KAAKgrC,YAAYjsC,KAAK,CACpB0rC,MACA/iC,QACAyjC,WACAC,gBAfM,kFAkBV,IAAMh8B,EAAQpP,KAAKgrC,YAAY,GAC3B57B,IACFpP,KAAK2rC,kBAAkBv8B,EAAM+7B,UAC7BnrC,KAAK4rC,oBAAoBx8B,EAAMg8B,e,0CAIf5uC,GAAO,IACjB+yB,EAAcvvB,KAAduvB,UACRA,EAAUsc,eAAervC,GACX+yB,EAAUM,iBAChBxG,MACFkf,SACNvoC,KAAKyrC,e,wCAGWjvC,GACIwD,KAAZkrC,QACAG,aAAa7uC,K,mCAGViuC,GAAK,WAChBzqC,KAAKgrC,YAAYlwC,SAAQ,SAACkL,GACpBA,EAAKykC,MAAQA,IACf,EAAKkB,kBAAkB3lC,EAAKmlC,UAC5B,EAAKS,oBAAoB5lC,EAAKolC,YAC9B,EAAK/K,QAAQj4B,GAASyB,eAAeC,qB,6BAKpC,WACL9J,KAAK2E,GAAGyD,GAASC,kBAAkBO,aAAa,SAACnH,GAC/C,IAAMiG,EAAQ,EAAK6nB,UAAUM,iBAC7B,IAAI11B,EAAMQ,QAAQ+M,GAAlB,CAFuD,IAG/C2hB,EAAU3hB,EAAV2hB,MACAG,EAAiBH,EAAjBG,KAAM/e,EAAW4e,EAAX5e,OACNS,EAAa,EAAKgC,WAAlBhC,SACF4gC,EAAWrqC,EAAXqqC,OACFrqC,EAAIiE,SAAQomC,EAAsB,GAAbrqC,EAAIiE,QACzBomC,EAAS,EAEX,EAAK5+B,WAAWw+B,WAAWxgC,EAAWse,EAAK+N,UAAU9sB,EAAO+d,KAG5D,EAAKtb,WAAWw+B,WAAWxgC,EAAWse,EAAK+N,UAAU9sB,EAAO+d,GAAK,IAE/D/d,EAAOwB,SAAWxB,EAAOyB,aAAezB,EAAOwB,SAAW,IAC5DxK,EAAImK,iBACJnK,EAAIG,uBAGRmI,GAAUxQ,KAAK6F,OAAQgJ,GAASC,kBAAkBc,QAAQ,WAClC,EAAdomB,UACgBM,iBAChBxG,MACFkf,SACN,EAAKkD,gBAEP1hC,GAAUxQ,KAAKmG,SAAU0I,GAASC,kBAAkBiB,mBAAmB,WAAM,IAGnE+f,EAFc,EAAdkG,UACgBM,iBAChBxG,MACH3pB,SAASqsC,QACZ1iB,EAAMkf,YAGVx+B,GAAUxQ,KAAKyG,KAAKuvB,UAAWnnB,GAASmB,iBAAiBC,eAAe,WAEtE,EAAKiiC,gBAEP1hC,GAAUxQ,KAAKyG,KAAKuvB,UAAWnnB,GAASmB,iBAAiBE,cAAc,WAErE,EAAKgiC,gBAEP1hC,GAAUxQ,KAAKyG,KAAKuvB,UAAWnnB,GAASmB,iBAAiBG,aAAa,SAAC/N,GACrE,EAAK0kC,QAAQj4B,GAASmB,iBAAiBG,aACvC/N,EAAEiG,qBAEJmI,GAAUxQ,KAAKyG,KAAKuvB,UAAWnnB,GAASmB,iBAAiBI,eAAe,SAAChO,GACvE,EAAK0kC,QAAQj4B,GAASmB,iBAAiBI,eACvChO,EAAEiG,qBAEJmI,GAAUxQ,KAAKyG,KAAKuvB,UAAWnnB,GAASmB,iBAAiBK,aAAa,SAACjO,GACrE,EAAK0kC,QAAQj4B,GAASmB,iBAAiBK,YAAa,GACpDjO,EAAEiG,0B,gCArNewE,G,ozBElCjB4lC,G,YACJ,aAAc,a,4FAAA,UACZ,oCAASjyC,EAAT,mBACKkyC,IAAM9lC,EAAE,MAAD,UAAWpM,EAAX,gBACZ,EAAKmyC,IAAM/lC,EAAE,MAAD,UAAWpM,EAAX,gBACZ,EAAKyvC,OAASrjC,EAAE,MAAD,UAAWpM,EAAX,mBACf,EAAKiJ,SAAS,EAAKipC,KACnB,EAAKjpC,SAAS,EAAKkpC,KACnB,EAAKlpC,SAAS,EAAKwmC,QAPP,E,+RAUPptC,GACL4D,KAAKisC,IAAIjkC,KAAT,cAAqB5L,M,6BAGhBA,GACL4D,KAAKksC,IAAIlkC,KAAT,eAAsB5L,M,gCAGdA,GACR4D,KAAKwpC,OAAOxhC,KAAZ,cAAwB5L,S,gCApBHgK,G,6oBCIrB+lC,GACAC,GACAC,GACA5+B,GCPE6+B,G,YACJ,WAAY9c,GAAM,a,4FAAA,UAChB,oCAASz1B,EAAT,mBACKy1B,KAAOA,EACZ,EAAK+c,WAAa,IAAIP,GACtB,EAAKhpC,SAAS,EAAKupC,YAJH,E,mPADKnmC,G,+uBDSnBomC,G,YACJ,aAAoC,M,IAAxB5lC,EAAwB,uDAAd,CAAEV,KAAM,IAAM,O,4FAAA,S,EAClC,U,EAAA,0BAASnM,EAAT,Y,gDACK6M,QAAUA,EAAQmkC,WAEvB,EAAK7kC,KAAO,IAAI4kC,GAAJ,MAAmB,EAAKlkC,QAAQV,MAC5C,EAAKZ,OAAS,IAAIgnC,GAAJ,OACd,EAAKxqC,IAAM,IAAIkyB,GAAJ,OAEXmY,GAA0B,IAAInlC,EAAqB,EAAKlF,KACxDsqC,GAA2B,IAAIplC,EAAqB,EAAKd,KAAM,CAC7D5B,MAAO,CACL2C,SAAU,KAGdolC,GAA6B,IAAIrlC,EAAqB,EAAK1B,QAC3DmI,GAAgB,IAAI9G,EAAc,CAChCE,cAAe,CAACslC,GACdC,GAA0BC,MAE9B,EAAKrpC,SAASyK,IACd,EAAKnI,OAAOinC,WAAWE,OAAO,GAC9B,EAAKnnC,OAAOinC,WAAWG,OAAO,GAC9B,EAAKpnC,OAAOinC,WAAWI,UAAU,GAtBC,E,+RA0BlC3sC,KAAKkG,KAAKY,OACV9G,KAAK8B,IAAIgF,OACT9G,KAAKsF,OAAOwB,Y,gCA7BGV,G,0nBEJbwmC,G,YAEJ,WAAYC,GAQT,M,IARoBjmC,EAQpB,uDAR8B,CAC/BmkC,WAAY,CACV7kC,KAAM,CACJuB,OAAQ,CAAC,CACP2hC,YAAa,S,4FAIlB,S,EACD,S,EAAA,0BAASrvC,M,+CACT,IAAI+yC,EAAOD,EAFV,MAGwB,iBAAdA,IACTC,EAAOptC,SAASqtC,cAAcF,KAEhCC,EAAO3mC,EAAE2mC,IACJ9pC,SAAL,OACA,EAAKwsB,KAAO,IAAIgd,GAAK5lC,GACrB,EAAK5D,SAAS,EAAKwsB,MACnB,EAAKA,KAAK1oB,OAVT,E,mPAVgBV,GAwBrBwmC,GAAOI,QAAU,cAEb5tC,SACFA,OAAOwtC,OAASA","file":"XSheet.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = __webpack_public_path__ + \"c4ab8001e109540f7ae6a34181d695d3.png\";","module.exports = __webpack_public_path__ + \"42b436e7c64603182355d52d31ea49f1.png\";","module.exports = __webpack_public_path__ + \"9dfd8685ea7e1e5c025514eec46a4547.png\";","export const cssPrefix = 'x-sheet';\n","// eslint-disable-next-line no-unused-vars\n/* global navigator document window */\n\nconst alphabets = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n\nlet throttleHandle = null;\n\nconst DATA_TYPE = {\n  String: 1,\n  Boolean: 2,\n  Number: 3,\n  Object: 4,\n  Array: 5,\n  Function: 6,\n  Null: 7,\n  Undefined: 8,\n  Promise: 9,\n  GeneratorFunction: 10,\n  AsyncFunction: 11,\n  BigInt: 12,\n  Symbol: 13,\n  Un: 14,\n};\n\nclass Utils {\n\n  static type(arg) {\n    const type = Object.prototype.toString.call(arg);\n    switch (type) {\n      case '[object Null]':\n        return DATA_TYPE.Null;\n      case '[object Undefined]':\n        return DATA_TYPE.Undefined;\n      case '[object String]':\n        return DATA_TYPE.String;\n      case '[object Boolean]':\n        return DATA_TYPE.Boolean;\n      case '[object Number]':\n        return DATA_TYPE.Number;\n      case '[object Function]':\n        return DATA_TYPE.Function;\n      case '[object Array]':\n        return DATA_TYPE.Array;\n      case '[object Promise]':\n        return DATA_TYPE.Promise;\n      case '[object GeneratorFunction]':\n        return DATA_TYPE.GeneratorFunction;\n      case '[object AsyncFunction]':\n        return DATA_TYPE.AsyncFunction;\n      case '[object BigInt]':\n        return DATA_TYPE.BigInt;\n      case '[object Symbol]':\n        return DATA_TYPE.Symbol;\n      default:\n        return DATA_TYPE.Un;\n    }\n  }\n\n  static cloneDeep(object) {\n    const json = JSON.stringify(object);\n    return JSON.parse(json);\n  }\n\n  static mergeDeep(object = {}, ...sources) {\n    if (Utils.isUnDef(object)) {\n      return {};\n    }\n    if (Utils.isUnDef(sources) || sources.length === 0) {\n      return object;\n    }\n    sources.forEach((source) => {\n      if (Utils.isUnDef(source)) return;\n      Object.keys(source).forEach((key) => {\n        const v = source[key];\n        if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') {\n          object[key] = v;\n        } else if (typeof v !== 'function' && !Array.isArray(v) && Utils.isPlainObject(v)) {\n          object[key] = object[key] || {};\n          Utils.mergeDeep(object[key], v);\n        } else {\n          object[key] = v;\n        }\n      });\n    });\n    return object;\n  }\n\n  static copyProp(t, s) {\n    return Object.assign(t, s);\n  }\n\n  static isMac() {\n    return /macintosh|mac os x/i.test(navigator.userAgent);\n  }\n\n  static isWindows() {\n    return /windows|win32/i.test(navigator.userAgent);\n  }\n\n  static isEmptyObject(object) {\n    // eslint-disable-next-line no-restricted-syntax\n    for (const key in object) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (object.hasOwnProperty(key)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  static isNotEmptyObject(object) {\n    return !Utils.isEmptyObject(object);\n  }\n\n  static isUnDef(e) {\n    return e === undefined || e === null;\n  }\n\n  static isNumber(e) {\n    return /^(-?\\d+.\\d+)$|^(-?\\d+)$/.test(e);\n  }\n\n  static isFraction(e) {\n    return /^\\d+\\/\\d+$/.test(e);\n  }\n\n  static isFunction(e) {\n    const type = Utils.type(e);\n    return type === DATA_TYPE.Function;\n  }\n\n  static isArray(e) {\n    return Utils.type(e) === DATA_TYPE.Array;\n  }\n\n  static isBlank(s) {\n    if (Utils.isUnDef(s)) {\n      return true;\n    }\n    return s.toString() === '';\n  }\n\n  static isPlainObject(obj) {\n    if (Utils.isUnDef(obj)) {\n      return false;\n    }\n    return Object.getPrototypeOf(obj) === Object.getPrototypeOf({});\n  }\n\n  static isString(obj) {\n    return Utils.type(obj) === DATA_TYPE.String;\n  }\n\n  static sum(objOrAry, cb = value => value) {\n    let total = 0;\n    let size = 0;\n    Object.keys(objOrAry).forEach((key) => {\n      total += cb(objOrAry[key], key);\n      size += 1;\n    });\n    return [total, size];\n  }\n\n  static rangeSum(min, max, cb) {\n    let s = 0;\n    for (let i = min; i < max; i += 1) {\n      s += cb(i);\n    }\n    return s;\n  }\n\n  static parseFloat(val) {\n    if (Utils.isNumber(val)) return parseFloat(val);\n    return 0;\n  }\n\n  static parseInt(val) {\n    if (Utils.isNumber(val)) return parseInt(val, 10);\n    return 0;\n  }\n\n  static stringAt(index) {\n    let str = '';\n    let idx = index;\n    while (idx >= alphabets.length) {\n      idx /= alphabets.length;\n      idx -= 1;\n      str += alphabets[parseInt(idx, 10) % alphabets.length];\n    }\n    const last = index % alphabets.length;\n    str += alphabets[last];\n    return str;\n  }\n\n  static indexAt(str) {\n    let ret = 0;\n    for (let i = 0; i < str.length - 1; i += 1) {\n      const idx = str.charCodeAt(i) - 65;\n      const expoNet = str.length - 1 - i;\n      ret += (alphabets.length ** expoNet) + (alphabets.length * idx);\n    }\n    ret += str.charCodeAt(str.length - 1) - 65;\n    return ret;\n  }\n\n  static expr2xy(src) {\n    let x = '';\n    let y = '';\n    for (let i = 0; i < src.length; i += 1) {\n      if (src.charAt(i) >= '0' && src.charAt(i) <= '9') {\n        y += src.charAt(i);\n      } else {\n        x += src.charAt(i);\n      }\n    }\n    return [Utils.indexAt(x), parseInt(y, 10) - 1];\n  }\n\n  static xy2expr(x, y) {\n    return `${Utils.stringAt(x)}${y + 1}`;\n  }\n\n  static expr2expr(src, xn, yn) {\n    const [x, y] = Utils.expr2xy(src);\n    return Utils.xy2expr(x + xn, y + yn);\n  }\n\n  static rangeReduceIf(min, max, initS, initV, ifv, getV) {\n    let s = initS;\n    let v = initV;\n    let i = min;\n    for (; i < max; i += 1) {\n      if (s >= ifv) break;\n      v = getV(i);\n      s += v;\n    }\n    return [i, s - v, v];\n  }\n\n  static throttle(cb = () => {}, time = 500) {\n    if (throttleHandle) clearTimeout(throttleHandle);\n    throttleHandle = setTimeout(cb, time);\n  }\n\n  static contrastDifference(target, src) {\n    const result = {};\n    if (Utils.isUnDef(target) || Utils.isUnDef(src)) {\n      return result;\n    }\n    // eslint-disable-next-line no-restricted-syntax\n    for (const key in target) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (target.hasOwnProperty(key)) {\n        const sv = src[key];\n        const tv = target[key];\n        if (!Utils.isUnDef(sv) && !Utils.isUnDef(tv) && !Utils.equal(sv, tv)) {\n          result[key] = target[key];\n        }\n      }\n    }\n    return result;\n  }\n\n  static minIf(v, min) {\n    if (v < min) return min;\n    return v;\n  }\n\n  static maxIf(v, max) {\n    if (v > max) return max;\n    return v;\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  static equal(x, y) {\n    let i;\n    let l;\n    let leftChain;\n    let rightChain;\n    function compare2Objects(x, y) {\n      let p;\n      // eslint-disable-next-line no-restricted-globals\n      if (isNaN(x) && isNaN(y) && typeof x === 'number' && typeof y === 'number') {\n        return true;\n      }\n      if (x === y) {\n        return true;\n      }\n      if ((typeof x === 'function' && typeof y === 'function')\n        || (x instanceof Date && y instanceof Date)\n        || (x instanceof RegExp && y instanceof RegExp)\n        || (x instanceof String && y instanceof String)\n        || (x instanceof Number && y instanceof Number)) {\n        return x.toString() === y.toString();\n      }\n      if (!(x instanceof Object && y instanceof Object)) {\n        return false;\n      }\n      // eslint-disable-next-line no-prototype-builtins\n      if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {\n        return false;\n      }\n      if (x.constructor !== y.constructor) {\n        return false;\n      }\n      if (x.prototype !== y.prototype) {\n        return false;\n      }\n      if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\n        return false;\n      }\n      // eslint-disable-next-line guard-for-in,no-restricted-syntax\n      for (p in y) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n          return false;\n        }\n        if (typeof y[p] !== typeof x[p]) {\n          return false;\n        }\n      }\n      // eslint-disable-next-line guard-for-in,no-restricted-syntax\n      for (p in x) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n          return false;\n        } if (typeof y[p] !== typeof x[p]) {\n          return false;\n        }\n        switch (typeof (x[p])) {\n          case 'object':\n          case 'function':\n            leftChain.push(x);\n            rightChain.push(y);\n            if (!compare2Objects(x[p], y[p])) {\n              return false;\n            }\n            leftChain.pop();\n            rightChain.pop();\n            break;\n          default:\n            if (x[p] !== y[p]) {\n              return false;\n            }\n            break;\n        }\n      }\n      return true;\n    }\n    if (arguments.length < 1) {\n      return true;\n    }\n    // eslint-disable-next-line no-plusplus\n    for (i = 1, l = arguments.length; i < l; i++) {\n      leftChain = [];\n      rightChain = [];\n      // eslint-disable-next-line prefer-rest-params\n      if (!compare2Objects(arguments[0], arguments[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  static arrayIncludeArray(a1, a2) {\n    if (Utils.isUnDef(a1) || Utils.isUnDef(a2)) {\n      return false;\n    }\n    if (a1.length !== a2.length) {\n      return false;\n    }\n    for (let i = 0; i < a1.length; i += 1) {\n      if (a2.indexOf(a1[i]) === -1) return false;\n    }\n    return true;\n  }\n\n  static keepLastIndex(obj) {\n    if (window.getSelection) {\n      obj.focus();\n      const range = window.getSelection();\n      range.selectAllChildren(obj);\n      range.collapseToEnd();\n    } else if (document.selection) {\n      const range = document.selection.createRange();\n      range.moveToElementText(obj);\n      range.collapse(false);\n      range.select();\n    }\n  }\n\n  static trim(s) {\n    if (this.isBlank(s)) return '';\n    return s.trim();\n  }\n\n  static now() {\n    return Date.now().toString();\n  }\n\n  static viewPort() {\n    return {\n      width: window.innerWidth,\n      height: window.innerHeight,\n    };\n  }\n}\n\nUtils.EMPTY = '';\nUtils.Nul = null;\nUtils.Undef = undefined;\n\nexport { Utils };\n","/* global document CustomEvent window */\n\nimport { Utils } from '../utils/Utils';\n\nclass Element {\n  constructor(tag, className = '') {\n    if (typeof tag === 'string') {\n      this.el = document.createElement(tag);\n      this.el.className = className;\n    } else {\n      this.el = tag;\n    }\n    this.el.data = [];\n  }\n\n  data(key, value) {\n    if (value !== undefined) {\n      this.el.data[key] = value;\n      return this;\n    }\n    return this.el.data[key];\n  }\n\n  on(eventNames, handler) {\n    const [fen, ...oen] = eventNames.split('.');\n    let eventName = fen;\n    if (eventName === 'mousewheel' && /Firefox/i.test(window.navigator.userAgent)) {\n      eventName = 'DOMMouseScroll';\n    }\n    this.el.addEventListener(eventName, (evt) => {\n      handler(evt);\n      for (let i = 0; i < oen.length; i += 1) {\n        const k = oen[i];\n        if (k === 'left' && evt.button !== 0) {\n          return;\n        }\n        if (k === 'right' && evt.button !== 2) {\n          return;\n        }\n        if (k === 'stop') {\n          evt.stopPropagation();\n        }\n      }\n    });\n    return this;\n  }\n\n  offset(value) {\n    if (value !== undefined) {\n      Object.keys(value).forEach((k) => {\n        this.css(k, `${value[k]}px`);\n      });\n      return this;\n    }\n    const {\n      offsetTop, offsetLeft, offsetHeight, offsetWidth,\n    } = this.el;\n    return {\n      top: offsetTop,\n      left: offsetLeft,\n      height: offsetHeight,\n      width: offsetWidth,\n    };\n  }\n\n  scroll(v) {\n    const { el } = this;\n    if (v !== undefined) {\n      if (v.left !== undefined) {\n        el.scrollLeft = v.left;\n      }\n      if (v.top !== undefined) {\n        el.scrollTop = v.top;\n      }\n    }\n    return { left: el.scrollLeft, top: el.scrollTop };\n  }\n\n  scrollTop() {\n    return this.el.scrollTop;\n  }\n\n  clientHeight() {\n    return this.el.clientHeight;\n  }\n\n  box() {\n    return this.el.getBoundingClientRect();\n  }\n\n  parent() {\n    return new Element(this.el.parentNode);\n  }\n\n  children(...args) {\n    if (arguments.length === 0) {\n      return this.el.childNodes;\n    }\n    args.forEach(ele => this.child(ele));\n    return this;\n  }\n\n  first() {\n    return this.el.firstChild;\n  }\n\n  last() {\n    return this.el.lastChild;\n  }\n\n  remove(ele) {\n    return this.el.removeChild(ele.el || ele);\n  }\n\n  prepend(ele) {\n    const { el } = this;\n    if (el.children.length > 0) {\n      el.insertBefore(ele, el.firstChild);\n    } else {\n      el.appendChild(ele);\n    }\n    return this;\n  }\n\n  prev() {\n    return this.el.previousSibling;\n  }\n\n  next() {\n    return this.el.nextSibling;\n  }\n\n  child(arg) {\n    let ele = arg;\n    if (typeof arg === 'string') {\n      ele = document.createTextNode(arg);\n    } else if (arg instanceof Element) {\n      ele = arg.el;\n    }\n    this.el.appendChild(ele);\n    return this;\n  }\n\n  contains(ele) {\n    return this.el.contains(ele);\n  }\n\n  className(v) {\n    if (v !== undefined) {\n      this.el.className = v;\n      return this;\n    }\n    return this.el.className;\n  }\n\n  addClass(name) {\n    this.el.classList.add(name);\n    return this;\n  }\n\n  hasClass(name) {\n    return this.el.classList.contains(name);\n  }\n\n  removeClass(name) {\n    this.el.classList.remove(name);\n    return this;\n  }\n\n  toggle(cls = 'active') {\n    return this.toggleClass(cls);\n  }\n\n  toggleClass(name) {\n    return this.el.classList.toggle(name);\n  }\n\n  active(flag = true, cls = 'active') {\n    if (flag) this.addClass(cls);\n    else this.removeClass(cls);\n    return this;\n  }\n\n  checked(flag = true) {\n    this.active(flag, 'checked');\n    return this;\n  }\n\n  disabled(flag = true) {\n    if (flag) this.addClass('disabled');\n    else this.removeClass('disabled');\n    return this;\n  }\n\n  attr(key, value) {\n    if (value !== undefined) {\n      this.el.setAttribute(key, value);\n    } else {\n      if (typeof key === 'string') {\n        return this.el.getAttribute(key);\n      }\n      Object.keys(key).forEach((k) => {\n        this.el.setAttribute(k, key[k]);\n      });\n    }\n    return this;\n  }\n\n  removeAttr(key) {\n    this.el.removeAttribute(key);\n    return this;\n  }\n\n  html(content) {\n    if (content !== undefined) {\n      this.el.innerHTML = content;\n      return this;\n    }\n    return this.el.innerHTML;\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.el.value = v;\n      return this;\n    }\n    return this.el.value;\n  }\n\n  cssRemoveKeys(...keys) {\n    keys.forEach(k => this.el.style.removeProperty(k));\n    return this;\n  }\n\n  /**\n   * set or get style attr\n   * @param name\n   * @param value\n   * @returns {String|Element}\n   */\n  css(name, value) {\n    if (value === undefined && typeof name !== 'string') {\n      Object.keys(name).forEach((k) => {\n        this.el.style[k] = name[k];\n      });\n      return this;\n    }\n    if (value !== undefined) {\n      this.el.style[name] = value;\n      return this;\n    }\n    return this.el.style[name];\n  }\n\n  computedStyle() {\n    return window.getComputedStyle(this.el, null);\n  }\n\n  show() {\n    const style = this.computedStyle();\n    if (style && style.display !== 'block') {\n      this.css('display', 'block');\n    }\n    return this;\n  }\n\n  hide() {\n    const style = this.computedStyle();\n    if (style && style.display !== 'none') {\n      this.css('display', 'none');\n    }\n    return this;\n  }\n\n  display(on) {\n    if (on) this.show(); else this.hide();\n  }\n\n  text(val) {\n    if (val === undefined) return this.el.innerText;\n    this.el.innerText = val;\n    return val;\n  }\n\n  sibling() {\n    let sibling = this.el;\n    const result = [];\n    // eslint-disable-next-line no-cond-assign\n    while ((sibling = sibling.previousElementSibling) !== null) result.push(new Element(sibling));\n    sibling = this.el;\n    // eslint-disable-next-line no-cond-assign\n    while ((sibling = sibling.nextElementSibling) !== null) result.push(new Element(sibling));\n    return result;\n  }\n\n  position() {\n    let top = 0; let left = 0; const right = 0; const bottom = 0;\n    if (this.el.style.position) {\n      if (this.el.top) {\n        top = this.el.style.top\n          .replace('%', '')\n          .repeat('px', '');\n      }\n      if (this.el.left) {\n        left = this.el.style.left\n          .replace('%', '')\n          .repeat('px', '');\n      }\n      if (this.el.right) {\n        top = this.el.style.right\n          .replace('%', '')\n          .repeat('px', '');\n      }\n      if (this.el.bottom) {\n        top = this.el.style.bottom\n          .replace('%', '')\n          .repeat('px', '');\n      }\n    }\n    return {\n      top: Utils.parseFloat(top),\n      left: Utils.parseFloat(left),\n      right: Utils.parseFloat(right),\n      bottom: Utils.parseFloat(bottom),\n    };\n  }\n\n  trigger(type, message) {\n    const event = new CustomEvent(type, {\n      detail: message,\n      bubbles: true,\n      cancelable: false,\n    });\n    this.el.dispatchEvent(event);\n  }\n\n  focus() {\n    this.el.focus();\n  }\n\n  find(select) {\n    const result = this.el.querySelectorAll(select);\n    if (result && result.length === 1) {\n      return new Element(result[0]);\n    }\n    const eleArray = [];\n    if (result) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of result) {\n        eleArray.push(new Element(item));\n      }\n    }\n    return eleArray;\n  }\n\n  isChild(target) {\n    let targetEl = target || target.el;\n    while (targetEl !== undefined && targetEl !== null && targetEl !== document.body) {\n      if (targetEl === this.el) return true;\n      targetEl = targetEl.parentNode;\n    }\n    return false;\n  }\n}\n\nconst h = (tag, className = '') => new Element(tag, className);\n\nexport {\n  Element,\n  h,\n};\n","import { Element } from './Element';\nimport { cssPrefix } from '../config';\n\nclass Widget extends Element {\n  constructor(className = '') {\n    super('div', `${cssPrefix}-widget ${className}`);\n  }\n\n  computeEventXy(event, element = this) {\n    const { top, left } = element.box();\n    return {\n      x: event.pageX - left,\n      y: event.pageY - top,\n    };\n  }\n\n  computeWidgetXy(element) {\n    if (!element) {\n      return {\n        x: 0,\n        y: 0,\n      };\n    }\n    const { top: eleTop, left: eleLeft } = element.box();\n    const { top, left } = this.box();\n    return {\n      x: eleLeft - left,\n      y: eleTop - top,\n    };\n  }\n\n  init() {}\n}\n\nexport { Widget };\n","import { Element } from '../Element';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\n\nclass VerticalLayer extends Element {\n  constructor(options) {\n    super('div', `${cssPrefix}-vertical-layer`);\n    this.options = Utils.mergeDeep({\n      layerElements: [],\n      style: {},\n    }, options);\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    // eslint-disable-next-line no-restricted-syntax\n    for (const layerElement of this.options.layerElements) this.children(layerElement);\n  }\n}\n\nexport { VerticalLayer };\n","import { Element } from '../Element';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\n\nclass VerticalLayerElement extends Element {\n  constructor(element, options) {\n    super('div', `${cssPrefix}-vertical-layer-element`);\n    this.options = Utils.mergeDeep({\n      style: {\n        flexGrow: '0',\n      },\n    }, options);\n    this.element = element;\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    this.children(this.element);\n  }\n}\n\nexport { VerticalLayerElement };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\n\nclass Icon extends Widget {\n  constructor(className = '') {\n    super(`${cssPrefix}-icon`);\n    this.iconNameEl = h('div', `${cssPrefix}-icon-img ${className}`);\n    this.child(this.iconNameEl);\n  }\n\n  setWidth(width) {\n    this.iconNameEl.css('width', `${width}px`);\n  }\n\n  setHeight(height) {\n    this.iconNameEl.css('height', `${height}px`);\n  }\n}\n\nexport { Icon };\n","import { Widget } from '../../../../lib/Widget';\nimport { cssPrefix } from '../../../../config';\n\nclass Item extends Widget {\n  constructor(className) {\n    super(`${cssPrefix}-tools-item ${className}`);\n  }\n}\n\nexport { Item };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Undo extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-undo`);\n    this.icon = new Icon('undo');\n    this.children(this.icon);\n  }\n}\n\nexport { Undo };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Redo extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-redo`);\n    this.icon = new Icon('redo');\n    this.children(this.icon);\n  }\n}\n\nexport { Redo };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\n\nclass PaintFormat extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-point-format`);\n    this.icon = new Icon('point-format');\n    this.sheets = [];\n    this.children(this.icon);\n  }\n\n  addSheet(sheet) {\n    this.sheets.push(sheet);\n  }\n\n  removeSheet(sheet) {\n    for (let i = 0; i < this.sheets.length; i += 1) {\n      if (this.sheets[i] === sheet) {\n        this.sheets.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  includeSheet(sheet) {\n    for (let i = 0; i < this.sheets.length; i += 1) {\n      if (this.sheets[i] === sheet) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nexport { PaintFormat };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\n\nclass ClearFormat extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-clear-format`);\n    this.icon = new Icon('clear-format');\n    this.children(this.icon);\n  }\n}\n\nexport { ClearFormat };\n","import { Item } from './Item';\nimport { cssPrefix } from '../../../../config';\nimport { h } from '../../../../lib/Element';\nimport { Icon } from '../Icon';\n\nclass DropDownItem extends Item {\n  constructor(className) {\n    super(`${cssPrefix}-tools-drop-down-item ${className}`);\n    this.drop = h('div', `${cssPrefix}-tools-drop-down-item-mark`);\n    this.title = h('div', `${cssPrefix}-tools-drop-down-item-title`);\n    this.drop.children(new Icon('arrow-down'));\n    this.children(this.title);\n    this.children(this.drop);\n  }\n\n  setTitle(text) {\n    this.title.text(text);\n  }\n\n  setIcon(icon) {\n    this.title.html('');\n    this.title.children(icon);\n  }\n\n  setWidth(px) {\n    this.title.css('width', `${px}px`);\n  }\n\n  setEllipsis() {\n    this.title.css('overflow', 'hidden');\n    this.title.css('text-overflow', 'ellipsis');\n    this.title.css('white-space', 'nowrap');\n  }\n\n  removeEllipsis() {\n    this.title.cssRemoveKeys('overflow');\n    this.title.cssRemoveKeys('text-overflow');\n    this.title.cssRemoveKeys('white-space');\n  }\n}\n\nexport { DropDownItem };\n","class Constant {}\n\nConstant.SYSTEM_EVENT_TYPE = {\n  MOUSE_MOVE: 'mouseMove'.toLocaleLowerCase(),\n  MOUSE_DOWN: 'mouseDown'.toLocaleLowerCase(),\n  MOUSE_UP: 'mouseUp'.toLocaleLowerCase(),\n  MOUSE_OVER: 'mouseOver'.toLocaleLowerCase(),\n  MOUSE_LEAVE: 'mouseLeave'.toLocaleLowerCase(),\n  MOUSE_WHEEL: 'mouseWheel'.toLocaleLowerCase(),\n  MOUSE_ENTER: 'mouseEnter'.toLocaleLowerCase(),\n  CLICK: 'click'.toLocaleLowerCase(),\n  KEY_DOWN: 'keyDown'.toLocaleLowerCase(),\n  KEY_UP: 'keyUp'.toLocaleLowerCase(),\n  DRAG_START: 'dragStart'.toLocaleLowerCase(),\n  SCROLL: 'scroll'.toLocaleLowerCase(),\n  RESIZE: 'resize'.toLocaleLowerCase(),\n  CHANGE: 'change'.toLocaleLowerCase(),\n  INPUT: 'input'.toLocaleLowerCase(),\n  VISIBILITY_CHANGE: 'visibilityChange'.toLocaleLowerCase(),\n};\n\nConstant.TABLE_EVENT_TYPE = {\n  CHANGE_HEIGHT: 'tableChangeHeight'.toLocaleLowerCase(),\n  CHANGE_WIDTH: 'tableChangeWidth'.toLocaleLowerCase(),\n  DATA_CHANGE: 'tableDataChange'.toLocaleLowerCase(),\n  SELECT_CHANGE: 'tableSelectChange'.toLocaleLowerCase(),\n  SELECT_DOWN: 'tableSelectDown'.toLocaleLowerCase(),\n};\n\nConstant.WORK_BODY_TYPE = {\n  CHANGE_ACTIVE: 'workBodyChangeActive'.toLocaleLowerCase(),\n};\n\nexport { Constant };\n","import { Constant } from './Constant';\n\nclass EventBind {\n  static bind(target, name, fn) {\n    if (Array.isArray(target)) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of target) {\n        (item.el || item).addEventListener(name, fn);\n      }\n    } else {\n      (target.el || target).addEventListener(name, fn);\n    }\n  }\n\n  static unbind(target, name, fn) {\n    if (Array.isArray(target)) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of target) {\n        (item.el || item).addEventListener(name, fn);\n      }\n    } else {\n      (target.el || target).removeEventListener(name, fn);\n    }\n  }\n\n  static mouseMoveUp(target, moveFunc = () => {}, upFunc = () => {}) {\n    const xEvtUp = (evt) => {\n      EventBind.unbind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, moveFunc);\n      EventBind.unbind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_UP, xEvtUp);\n      upFunc(evt);\n    };\n    EventBind.bind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, moveFunc);\n    EventBind.bind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_UP, xEvtUp);\n  }\n\n  static dbClick(target, func = () => {}) {\n    let t = 0;\n    EventBind.bind(target, Constant.SYSTEM_EVENT_TYPE.CLICK, (e) => {\n      const n = Date.now();\n      if (n - t <= 300) {\n        func(e);\n        t = 0;\n      } else {\n        t = n;\n      }\n    });\n  }\n}\n\nexport { EventBind };\n","/* global document */\n\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { Utils } from '../../utils/Utils';\nimport { Constant } from '../../utils/Constant';\nimport { EventBind } from '../../utils/EventBind';\n\nclass ScrollBarX extends Widget {\n  constructor(option) {\n    super(`${cssPrefix}-scroll-bar-x`);\n    this.option = Utils.mergeDeep({\n      style: {},\n      scroll: to => to,\n    }, option);\n    this.lastBut = h('div', `${cssPrefix}-scroll-bar-x-last-but`);\n    this.nextBut = h('div', `${cssPrefix}-scroll-bar-x-next-but`);\n    this.content = h('div', `${cssPrefix}-scroll-bar-x-content`);\n    this.block = h('div', `${cssPrefix}-scroll-bar-x-block`);\n    this.content.children(this.block);\n    this.children(...[\n      this.lastBut,\n      this.nextBut,\n      this.content,\n    ]);\n    this.blockLeft = 0;\n    this.maxBlockLeft = 0;\n    this.blockWidth = 0;\n    this.minBlockWidth = 20;\n    this.scrollTo = 0;\n    this.contentWidth = 0;\n    this.viewPortWidth = 0;\n    this.isHide = true;\n    this.css(this.option.style);\n    this.hide();\n    this.bind();\n  }\n\n  bind() {\n    this.block.on(Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (evt1) => {\n      if (evt1.button !== 0) return;\n      const downEventXy = this.computeEventXy(evt1, this.block);\n      EventBind.mouseMoveUp(h(document), (evt2) => {\n        // 计算移动的距离\n        const moveEventXy = this.computeEventXy(evt2, this.content);\n        let left = moveEventXy.x - downEventXy.x;\n        if (left < 0) left = 0;\n        if (left > this.maxBlockLeft) left = this.maxBlockLeft;\n        // 计算滑动的距离\n        this.blockLeft = left;\n        this.scrollTo = this.computeScrollTo(this.blockLeft);\n        this.block.css('left', `${left}px`);\n        this.option.scroll(this.scrollTo);\n        evt2.stopPropagation();\n        evt2.preventDefault();\n      });\n      evt1.stopPropagation();\n      evt1.preventDefault();\n    });\n  }\n\n  setSize(viewPortWidth, contentWidth) {\n    if (viewPortWidth < contentWidth) {\n      this.isHide = false;\n      this.show();\n      // 计算滑块宽度\n      const contentBox = this.content.box();\n      const blockWidth = viewPortWidth / contentWidth * contentBox.width;\n      this.blockWidth = blockWidth < this.minBlockWidth ? this.minBlockWidth : blockWidth;\n      this.viewPortWidth = viewPortWidth;\n      this.contentWidth = contentWidth;\n      this.maxBlockLeft = contentBox.width - this.blockWidth;\n      this.block.css('width', `${this.blockWidth}px`);\n      // 计算滑块位置\n      const blockLeft = (this.scrollTo / (contentWidth - viewPortWidth)) * this.maxBlockLeft;\n      this.blockLeft = blockLeft > this.maxBlockLeft ? this.maxBlockLeft : blockLeft;\n      this.scrollTo = this.computeScrollTo(this.blockLeft);\n      this.block.css('left', `${this.blockLeft}px`);\n    } else {\n      this.isHide = true;\n      this.hide();\n      this.option.scroll(0);\n    }\n  }\n\n  scrollMove(move) {\n    let to = move;\n    const maxTo = this.contentWidth - this.viewPortWidth;\n    if (to > maxTo) to = maxTo; else if (to < 0) to = 0;\n    const blockLeft = (to / (this.contentWidth - this.viewPortWidth)) * this.maxBlockLeft;\n    this.blockLeft = blockLeft > this.maxBlockLeft ? this.maxBlockLeft : blockLeft;\n    if (this.scrollTo !== to) {\n      this.scrollTo = to;\n      this.block.css('left', `${this.blockLeft}px`);\n      this.option.scroll(this.scrollTo);\n    }\n  }\n\n  computeScrollTo(move) {\n    return (move / this.maxBlockLeft) * (this.contentWidth - this.viewPortWidth);\n  }\n}\n\nexport { ScrollBarX };\n","/* global document */\n\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { Constant } from '../../utils/Constant';\nimport { Utils } from '../../utils/Utils';\nimport { EventBind } from '../../utils/EventBind';\n\nclass ScrollBarY extends Widget {\n  constructor(option) {\n    super(`${cssPrefix}-scroll-bar-y`);\n    this.option = Utils.mergeDeep({\n      style: {},\n      scroll: to => to,\n    }, option);\n    this.lastBut = h('div', `${cssPrefix}-scroll-bar-y-last-but`);\n    this.nextBut = h('div', `${cssPrefix}-scroll-bar-y-next-but`);\n    this.content = h('div', `${cssPrefix}-scroll-bar-y-content`);\n    this.block = h('div', `${cssPrefix}-scroll-bar-y-block`);\n    this.content.children(this.block);\n    this.children(...[\n      this.lastBut,\n      this.nextBut,\n      this.content,\n    ]);\n    this.blockTop = 0;\n    this.maxBlockTop = 0;\n    this.blockHeight = 0;\n    this.minBlockHeight = 20;\n    this.scrollTo = 0;\n    this.contentHeight = 0;\n    this.viewPortHeight = 0;\n    this.isHide = true;\n    this.css(this.option.style);\n    this.hide();\n    this.bind();\n  }\n\n  bind() {\n    EventBind.bind(this.block, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (evt1) => {\n      if (evt1.button !== 0) return;\n      const downEventXy = this.computeEventXy(evt1, this.block);\n      EventBind.mouseMoveUp(h(document), (evt2) => {\n        // 计算移动的距离\n        const moveEventXy = this.computeEventXy(evt2, this.content);\n        let top = moveEventXy.y - downEventXy.y;\n        if (top < 0) top = 0;\n        if (top > this.maxBlockTop) top = this.maxBlockTop;\n        // 计算滑动的距离\n        this.blockTop = top;\n        this.scrollTo = this.computeScrollTo(this.blockTop);\n        this.block.css('top', `${top}px`);\n        this.option.scroll(this.scrollTo);\n        evt2.stopPropagation();\n        evt2.preventDefault();\n      });\n    });\n  }\n\n  setSize(viewPortHeight, contentHeight) {\n    if (viewPortHeight < contentHeight) {\n      this.isHide = false;\n      this.show();\n      // 计算滑块高度\n      const contentBox = this.content.box();\n      const blockHeight = viewPortHeight / contentHeight * contentBox.height;\n      this.blockHeight = blockHeight < this.minBlockHeight ? this.minBlockHeight : blockHeight;\n      this.viewPortHeight = viewPortHeight;\n      this.contentHeight = contentHeight;\n      this.maxBlockTop = contentBox.height - this.blockHeight;\n      this.block.css('height', `${this.blockHeight}px`);\n      // 计算滑块位置\n      const blockTop = (this.scrollTo / (contentHeight - viewPortHeight)) * this.maxBlockTop;\n      this.blockTop = blockTop > this.maxBlockTop ? this.maxBlockTop : blockTop;\n      this.scrollTo = this.computeScrollTo(this.blockTop);\n      this.block.css('top', `${this.blockTop}px`);\n    } else {\n      this.isHide = true;\n      this.hide();\n      this.option.scroll(0);\n    }\n  }\n\n  scrollMove(move) {\n    let to = move;\n    const maxTo = this.contentHeight - this.viewPortHeight;\n    if (to > maxTo) to = maxTo; else if (to < 0) to = 0;\n    const blockTop = (to / (this.contentHeight - this.viewPortHeight)) * this.maxBlockTop;\n    this.blockTop = blockTop > this.maxBlockTop ? this.maxBlockTop : blockTop;\n    if (this.scrollTo !== to) {\n      this.scrollTo = to;\n      this.block.css('top', `${this.blockTop}px`);\n      this.option.scroll(this.scrollTo);\n    }\n  }\n\n  computeScrollTo(move) {\n    return (move / this.maxBlockTop) * (this.contentHeight - this.viewPortHeight);\n  }\n}\n\nexport { ScrollBarY };\n","import { Element } from '../Element';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\n\nclass HorizontalLayerElement extends Element {\n  constructor(element, options) {\n    super('div', `${cssPrefix}-horizontal-layer-element`);\n    this.options = Utils.mergeDeep({\n      style: {\n        flexGrow: '0',\n      },\n    }, options);\n    this.element = element;\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    this.children(this.element);\n  }\n}\n\nexport { HorizontalLayerElement };\n","import { Element } from '../Element';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\n\nclass HorizontalLayer extends Element {\n  constructor(options) {\n    super('div', `${cssPrefix}-horizontal-layer`);\n    this.options = Utils.mergeDeep({\n      layerElements: [],\n      style: {},\n    }, options);\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    // eslint-disable-next-line no-restricted-syntax\n    for (const layerElement of this.options.layerElements) this.children(layerElement);\n  }\n}\n\nexport { HorizontalLayer };\n","/* global document window */\n\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { ScrollBarX } from '../scrollbar/ScrollBarX';\nimport { ScrollBarY } from '../scrollbar/ScrollBarY';\nimport { Utils } from '../../utils/Utils';\nimport { HorizontalLayerElement } from '../../lib/layer/HorizontalLayerElement';\nimport { HorizontalLayer } from '../../lib/layer/HorizontalLayer';\nimport { VerticalLayer } from '../../lib/layer/VerticalLayer';\nimport { VerticalLayerElement } from '../../lib/layer/VerticalLayerElement';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\n\nconst EL_POPUP_POSITION = {\n  TOP: 1,\n  LEFT: 2,\n  BOTTOM: 3,\n  RIGHT: 4,\n};\n\nconst POOL = [];\n\nclass ElPopUp extends Widget {\n\n  constructor(options) {\n    super(`${cssPrefix}-el-pop-up`);\n    this.options = Utils.mergeDeep({\n      position: EL_POPUP_POSITION.BOTTOM,\n      el: null,\n    }, options);\n    this.off = true;\n    this.content = h('div', `${cssPrefix}-el-pop-up-content`);\n    this.scrollBarX = new ScrollBarX();\n    this.scrollBarY = new ScrollBarY();\n    const contentLayerHorizontalElement = new HorizontalLayerElement(this.content, {\n      style: {\n        flexGrow: 1,\n      },\n    });\n    const scrollBarYLayerHorizontalElement = new HorizontalLayerElement(this.scrollBarY, {\n      style: {\n        overflow: 'inherit',\n      },\n    });\n    const horizontalLayer = new HorizontalLayer({\n      layerElements: [contentLayerHorizontalElement, scrollBarYLayerHorizontalElement],\n    });\n    const contentVerticalLayerElement = new VerticalLayerElement(horizontalLayer);\n    const scrollBarXVerticalLayerElement = new VerticalLayerElement(this.scrollBarX);\n    const verticalLayer = new VerticalLayer({\n      layerElements: [contentVerticalLayerElement, scrollBarXVerticalLayerElement],\n    });\n    super.children(verticalLayer);\n    this.bind();\n    POOL.push(this);\n  }\n\n  bind() {\n    EventBind.bind(window, Constant.SYSTEM_EVENT_TYPE.RESIZE, () => {\n      this.position();\n      this.scrollbar();\n    });\n  }\n\n  children(...args) {\n    this.content.children(...args);\n  }\n\n  position() {\n    const { content } = this;\n    const { el, position } = this.options;\n    const elBox = el.box();\n    const contentBox = content.box();\n    let { top, left } = elBox;\n    switch (position) {\n      case EL_POPUP_POSITION.TOP:\n        top = elBox.top - contentBox.height;\n        break;\n      case EL_POPUP_POSITION.LEFT:\n        left = elBox.left - contentBox.width;\n        break;\n      case EL_POPUP_POSITION.RIGHT:\n        left = elBox.left + elBox.width;\n        break;\n      case EL_POPUP_POSITION.BOTTOM:\n        top = elBox.top + elBox.height;\n        break;\n      default: break;\n    }\n    const maxWidth = window.innerWidth;\n    const maxHeight = window.innerHeight;\n    if (left < 0 || left + contentBox.width > maxWidth) {\n      // 左右颠倒\n      switch (position) {\n        case EL_POPUP_POSITION.LEFT:\n          left = elBox.left + elBox.width;\n          break;\n        case EL_POPUP_POSITION.RIGHT:\n          left = elBox.left - contentBox.width;\n          break;\n        default: break;\n      }\n    }\n    if (top < 0 || top + contentBox.height > maxHeight) {\n      // 上下颠倒\n      switch (position) {\n        case EL_POPUP_POSITION.TOP:\n          top = elBox.top + elBox.height;\n          break;\n        case EL_POPUP_POSITION.BOTTOM:\n          top = elBox.top - contentBox.height;\n          break;\n        default: break;\n      }\n    }\n    if (left < 0 || left + contentBox.width > maxWidth) {\n      top = elBox.top + elBox.height;\n      ({ left } = elBox);\n    }\n    if (top < 0 || top + contentBox.height > maxHeight) {\n      top = elBox.top + elBox.height;\n      ({ left } = elBox);\n    }\n    this.offset({\n      top,\n      left,\n    });\n  }\n\n  scrollbar() {\n    const { content } = this;\n    const contentBox = content.box();\n    const box = this.box();\n    this.scrollBarY.setSize(box.height, contentBox.height);\n    this.scrollBarX.setSize(box.width, contentBox.width);\n  }\n\n  open() {\n    if (this.off) {\n      h(document.body).children(this);\n      this.position();\n      this.scrollbar();\n      this.off = false;\n    }\n  }\n\n  close() {\n    if (this.off === false) {\n      h(document.body).remove(this);\n      this.off = true;\n    }\n  }\n\n  static closeAll(filter = []) {\n    POOL.forEach((item) => {\n      if (filter.indexOf(item) === -1) {\n        item.close();\n      }\n    });\n  }\n}\n\nexport { ElPopUp, EL_POPUP_POSITION };\n","/* global document */\nimport { cssPrefix } from '../../config';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { Widget } from '../../lib/Widget';\nimport { ElPopUp } from '../elpopup/ElPopUp';\nimport { Utils } from '../../utils/Utils';\n\nclass ELContextMenu extends Widget {\n\n  constructor(className = '', options = {}) {\n    super(`${cssPrefix}-el-context-menu ${className}`);\n    this.options = Utils.mergeDeep({}, options);\n    this.menus = [];\n    // 环绕元素弹层组件\n    this.elPopUp = new ElPopUp(this.options);\n    this.elPopUp.children(this);\n    this.bind();\n  }\n\n  bind() {\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n    });\n    EventBind.bind(document.body, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      this.close();\n    });\n  }\n\n  addItem(item) {\n    const { menus } = this;\n    menus.push(item);\n    this.children(item);\n    return this;\n  }\n\n  open() {\n    this.elPopUp.open();\n    return this;\n  }\n\n  close() {\n    this.elPopUp.close();\n    return this;\n  }\n\n  isOpen() {\n    return this.elPopUp.off;\n  }\n}\n\nexport { ELContextMenu };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\n\nclass ELContextMenuItem extends Widget {\n  constructor(className = '') {\n    super(`${cssPrefix}-el-context-menu-item hover ${className}`);\n  }\n}\n\nexport { ELContextMenuItem };\n","import { h } from '../../../../../lib/Element';\nimport { cssPrefix } from '../../../../../config';\nimport { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { Icon } from '../../Icon';\n\nconst pool = [];\n\nclass FormatContextMenuItem extends ELContextMenuItem {\n  constructor(title, desc) {\n    super(`${cssPrefix}-format-context-menu-item`);\n    this.title = title;\n    this.desc = desc;\n    this.icon = new Icon('checked');\n    this.iconElement = h('div', `${cssPrefix}-format-context-menu-item-icon`);\n    this.iconElement.children(this.icon);\n    this.titleElement = h('div', `${cssPrefix}-format-context-menu-item-title`);\n    this.descElement = h('div', `${cssPrefix}-format-context-menu-item-desc`);\n    this.titleElement.text(title);\n    this.descElement.text(desc);\n    this.children(this.iconElement);\n    this.children(this.titleElement);\n    this.children(this.descElement);\n    pool.push(this);\n  }\n\n  setTitle(title) {\n    this.titleElement.text(title);\n  }\n\n  setDesc(desc) {\n    this.descElement.text(desc);\n  }\n\n  setActive() {\n    pool.forEach((item) => {\n      item.removeClass('active');\n    });\n    this.addClass('active');\n  }\n}\n\nexport { FormatContextMenuItem };\n","import { cssPrefix } from '../../config';\nimport { Widget } from '../../lib/Widget';\n\nclass ELContextMenuDivider extends Widget {\n  constructor() {\n    super(`${cssPrefix}-el-context-menu-item-divider`);\n  }\n}\n\nexport { ELContextMenuDivider };\n","import { cssPrefix } from '../../../../../config';\nimport { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { FormatContextMenuItem } from './FormatContextMenuItem';\nimport { ELContextMenuDivider } from '../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { Constant } from '../../../../../utils/Constant';\nimport { Utils } from '../../../../../utils/Utils';\n\nclass FormatContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-format-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new FormatContextMenuItem('常规', '').data('type', 'default'),\n      new FormatContextMenuItem('文本', '').data('type', 'text'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('数值', '0.59').data('type', 'number'),\n      new FormatContextMenuItem('百分比', '90.00%').data('type', 'percentage'),\n      new FormatContextMenuItem('分数', '1/2').data('type', 'fraction'),\n      new FormatContextMenuItem('科学计数', '9.50e-01').data('type', 'ENotation'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('人民币', '￥5.00').data('type', 'rmb'),\n      new FormatContextMenuItem('港币', 'HK5.00').data('type', 'hk'),\n      new FormatContextMenuItem('美元', '$5.00').data('type', 'dollar'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('日期', '2018/4/18').data('type', 'date1'),\n      new FormatContextMenuItem('日期', '4月18日').data('type', 'date2'),\n      new FormatContextMenuItem('日期', '2018年4月').data('type', 'date3'),\n      new FormatContextMenuItem('日期', '2018年4月18日').data('type', 'date4'),\n      new FormatContextMenuItem('日期', '2018/4/18 14:30:30').data('type', 'date5'),\n      new FormatContextMenuItem('时间', '14:30:30').data('type', 'time'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('更多格式', ''),\n    ];\n    this.items.forEach((item) => {\n      if (item instanceof FormatContextMenuItem && item.data('type')) {\n        item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n          this.update(item.data('type'), item.title);\n          item.setActive();\n        });\n      }\n      this.addItem(item);\n    });\n    this.init();\n  }\n\n  init() {\n    const { options, items } = this;\n    const { el } = options;\n    const first = items[0];\n    el.setTitle(first.title);\n    first.setActive();\n  }\n\n  update(format, title) {\n    const { options } = this;\n    options.onUpdate(format, title);\n    this.close();\n  }\n\n  setActiveByType(type) {\n    this.items.forEach((item) => {\n      if (item.data('type') === type) {\n        item.setActive();\n      }\n    });\n  }\n}\n\nexport { FormatContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { FormatContextMenu } from './contextmenu/format/FormatContextMenu';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { Utils } from '../../../utils/Utils';\n\nclass Format extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-format`);\n    this.options = Utils.copyProp({\n      contextMenu: {},\n    }, options);\n    this.setTitle('常规');\n    this.setWidth(50);\n    this.setEllipsis();\n    this.formatContextMenu = new FormatContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { Format };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\nimport { h } from '../../../../../lib/Element';\nimport { Icon } from '../../Icon';\n\nconst pool = [];\n\nclass FontContextMenuItem extends ELContextMenuItem {\n  constructor(title) {\n    super(`${cssPrefix}-font-context-menu-item`);\n    this.title = title;\n    this.icon = new Icon('checked');\n    this.iconElement = h('div', `${cssPrefix}-font-context-menu-item-icon`);\n    this.iconElement.children(this.icon);\n    this.titleElement = h('div', `${cssPrefix}-font-context-menu-item-title`);\n    this.titleElement.text(title);\n    this.titleElement.css('font-family', title);\n    this.children(this.iconElement);\n    this.children(this.titleElement);\n    pool.push(this);\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.titleElement.text(title);\n  }\n\n  setActive() {\n    pool.forEach((item) => {\n      item.removeClass('active');\n    });\n    this.addClass('active');\n  }\n}\n\nexport { FontContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { Utils } from '../../../../../utils/Utils';\nimport { FontContextMenuItem } from './FontContextMenuItem';\nimport { Constant } from '../../../../../utils/Constant';\n\nclass FontContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new FontContextMenuItem('Arial'),\n      new FontContextMenuItem('Helvetica'),\n      new FontContextMenuItem('Source Sans Pro'),\n      new FontContextMenuItem('Comic Sans Ms'),\n      new FontContextMenuItem('Courier New'),\n      new FontContextMenuItem('Verdana'),\n      new FontContextMenuItem('Lalo'),\n    ];\n    this.items.forEach((item) => {\n      item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n        this.update(item.title);\n        item.setActive();\n      });\n      this.addItem(item);\n    });\n    this.setActiveByType(this.items[0].title);\n  }\n\n  update(type) {\n    const { options } = this;\n    options.onUpdate(type);\n    this.close();\n  }\n\n  setActiveByType(type) {\n    this.items.forEach((item) => {\n      if (item.title === type) {\n        item.setActive();\n      }\n    });\n  }\n}\n\nexport { FontContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { FontContextMenu } from './contextmenu/font/FontContextMenu';\n\nclass Font extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-font`);\n    this.options = Utils.copyProp({\n      contextMenu: {},\n    }, options);\n    this.setTitle('Arial');\n    this.setWidth(50);\n    this.setEllipsis();\n    this.fontContextMenu = new FontContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { Font };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\nimport { h } from '../../../../../lib/Element';\n\nclass FontSizeContextMenuItem extends ELContextMenuItem {\n  constructor(size) {\n    super(`${cssPrefix}-font-size-context-menu-item`);\n    this.size = size;\n    this.titleElement = h('div', `${cssPrefix}-font-size-context-menu-item-title`);\n    this.titleElement.text(size);\n    this.titleElement.css('text-align', 'center');\n    this.children(this.titleElement);\n  }\n}\n\nexport { FontSizeContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { Utils } from '../../../../../utils/Utils';\nimport { cssPrefix } from '../../../../../config';\nimport { FontSizeContextMenuItem } from './FontSizeContextMenuItem';\nimport { Constant } from '../../../../../utils/Constant';\n\nclass FontSizeContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-size-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new FontSizeContextMenuItem(6),\n      new FontSizeContextMenuItem(7),\n      new FontSizeContextMenuItem(8),\n      new FontSizeContextMenuItem(9),\n      new FontSizeContextMenuItem(10),\n      new FontSizeContextMenuItem(11),\n      new FontSizeContextMenuItem(12),\n      new FontSizeContextMenuItem(14),\n      new FontSizeContextMenuItem(15),\n      new FontSizeContextMenuItem(18),\n      new FontSizeContextMenuItem(24),\n      new FontSizeContextMenuItem(36),\n    ];\n    this.items.forEach((item) => {\n      item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n        this.update(item.size);\n      });\n      this.addItem(item);\n    });\n  }\n\n  update(size) {\n    const { options } = this;\n    options.onUpdate(size);\n    this.close();\n  }\n}\n\nexport { FontSizeContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { FontSizeContextMenu } from './contextmenu/fontsize/FontSizeContextMenu';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\n\nclass FontSize extends DropDownItem {\n  constructor(options = { contextMenu: {} }) {\n    super(`${cssPrefix}-tools-font-size`);\n    this.options = options;\n    this.setTitle('10');\n    this.setWidth(30);\n    this.setEllipsis();\n    this.fontSizeContextMenu = new FontSizeContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { FontSize };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass FontBold extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-font-bold`);\n    this.icon = new Icon('font-bold');\n    this.children(this.icon);\n  }\n}\n\nexport { FontBold };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass FontItalic extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-font-italic`);\n    this.icon = new Icon('font-italic');\n    this.children(this.icon);\n  }\n}\n\nexport { FontItalic };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass UnderLine extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-under-line`);\n    this.icon = new Icon('under-line');\n    this.children(this.icon);\n  }\n}\n\nexport { UnderLine };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\n\nclass FontStrike extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-font-strike`);\n    this.icon = new Icon('font-strike');\n    this.children(this.icon);\n  }\n}\n\nexport { FontStrike };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\nimport { h } from '../../../../../lib/Element';\n\nclass FontColorContextMenuItem extends ELContextMenuItem {\n  constructor(title, icon) {\n    super(`${cssPrefix}-font-color-context-menu-item`);\n    this.title = title;\n    this.icon = icon;\n    if (icon) {\n      this.iconElement = h('div', `${cssPrefix}-font-color-context-menu-item-icon`);\n      this.iconElement.children(this.icon);\n      this.children(this.iconElement);\n    }\n    if (title) {\n      this.titleElement = h('div', `${cssPrefix}-font-color-context-menu-item-title`);\n      this.titleElement.text(title);\n      this.children(this.titleElement);\n    }\n  }\n}\n\nexport { FontColorContextMenuItem };\n","/* global document */\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { h } from '../../lib/Element';\nimport { Utils } from '../../utils/Utils';\n\nconst POOL = [];\n\nconst DRAG_PANEL_POSITION = {\n  LEFT: 1,\n  TOP: 2,\n  RIGHT: 3,\n  CENTER: 4,\n};\n\nclass DragPanel extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-drag-panel`);\n    this.options = Utils.mergeDeep({\n      position: DRAG_PANEL_POSITION.CENTER,\n    }, options);\n    this.off = true;\n    this.mask = h('div', `${cssPrefix}-drag-panel-mask`);\n    this.content = h('div', `${cssPrefix}-drag-panel-content`);\n    super.children(this.content);\n    this.bind();\n    POOL.push(this);\n  }\n\n  bind() {\n    const { mask } = this;\n    EventBind.bind(mask, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.close();\n      e.stopPropagation();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (evt1) => {\n      if (evt1.button !== 0) return;\n      const downEventXy = this.computeEventXy(evt1, this);\n      EventBind.mouseMoveUp(h(document), (evt2) => {\n        // 计算移动的距离\n        const top = evt2.pageY - downEventXy.y;\n        const left = evt2.pageX - downEventXy.x;\n        this.offset({ top, left });\n        evt2.stopPropagation();\n        evt2.preventDefault();\n      });\n      evt1.stopPropagation();\n      evt1.preventDefault();\n    });\n  }\n\n  position() {\n    const { options } = this;\n    const { position } = options;\n    const { width, height } = Utils.viewPort();\n    const box = this.box();\n    switch (position) {\n      case DRAG_PANEL_POSITION.LEFT:\n        break;\n      case DRAG_PANEL_POSITION.RIGHT:\n        break;\n      case DRAG_PANEL_POSITION.TOP:\n        break;\n      case DRAG_PANEL_POSITION.CENTER:\n        this.offset({\n          left: width / 2 - box.width / 2,\n          top: height / 2 - box.height / 2,\n        });\n        break;\n      default: break;\n    }\n  }\n\n  open() {\n    if (this.off) {\n      const { mask } = this;\n      h(document.body).children(mask);\n      h(document.body).children(this);\n      this.position();\n      this.off = false;\n    }\n  }\n\n  close() {\n    if (this.off === false) {\n      const { mask } = this;\n      h(document.body).remove(this);\n      h(document.body).remove(mask);\n      this.off = true;\n    }\n  }\n\n  children(...args) {\n    this.content.children(...args);\n  }\n\n  static closeAll(filter = []) {\n    POOL.forEach((item) => {\n      if (filter.indexOf(item) === -1) {\n        item.close();\n      }\n    });\n  }\n}\n\nexport { DragPanel };\n","/* global document */\nimport { h } from '../../lib/Element';\nimport { cssPrefix } from '../../config';\nimport { Widget } from '../../lib/Widget';\nimport { DragPanel } from '../dragpanel/DragPanel';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { Utils } from '../../utils/Utils';\n\nclass ColorPicker extends Widget {\n\n  constructor(options) {\n    super(`${cssPrefix}-color-picker`);\n    this.options = Utils.mergeDeep({\n      selectCb: () => {},\n    }, options);\n    // 拖拽组件\n    this.dragPanel = new DragPanel();\n    this.color = [360, 0, 100];\n    // 头部\n    this.preViewColorPoint = h('div', `${cssPrefix}-color-picker-pre-view-color-point`);\n    this.colorValueTips = h('div', `${cssPrefix}-color-picker-color-value-tips`);\n    this.colorValueTips.text('十六进制颜色值');\n    this.colorInput = h('input', `${cssPrefix}-color-picker-color-input`);\n    this.top = h('div', `${cssPrefix}-color-picker-top`);\n    this.top.children(this.preViewColorPoint);\n    this.top.children(this.colorValueTips);\n    this.top.children(this.colorInput);\n    // 中间部分\n    this.selectColorPoint = h('div', `${cssPrefix}-color-picker-select-color-point`);\n    this.selectColorArea1 = h('div', `${cssPrefix}-color-picker-select-color-area area1`);\n    this.selectColorArea2 = h('div', `${cssPrefix}-color-picker-select-color-area area2`);\n    this.selectColorArea3 = h('div', `${cssPrefix}-color-picker-select-color-area area3`);\n    this.center = h('div', `${cssPrefix}-color-picker-center`);\n    this.center.children(this.selectColorArea1);\n    this.center.children(this.selectColorArea2);\n    this.center.children(this.selectColorArea3);\n    this.center.children(this.selectColorPoint);\n    // 底部\n    this.colorHuxTips = h('div', `${cssPrefix}-color-picker-color-hux-tips`);\n    this.colorBar = h('div', `${cssPrefix}-color-picker-color-bar`);\n    this.colorBarPoint = h('div', `${cssPrefix}-color-picker-bar-point`);\n    this.bottom = h('div', `${cssPrefix}-color-picker-bottom`);\n    this.colorHuxTips.text('HUE');\n    this.colorBar.children(this.colorBarPoint);\n    this.bottom.children(this.colorHuxTips);\n    this.bottom.children(this.colorBar);\n    // 按钮\n    this.cancelButton = h('div', `${cssPrefix}-color-picker-button cancel`);\n    this.selectButton = h('div', `${cssPrefix}-color-picker-button select`);\n    this.buttons = h('div', `${cssPrefix}-color-picker-buttons`);\n    this.cancelButton.text('取消');\n    this.selectButton.text('确定');\n    this.buttons.children(this.selectButton);\n    this.buttons.children(this.cancelButton);\n    this.children(this.top);\n    this.children(this.center);\n    this.children(this.bottom);\n    this.children(this.buttons);\n    this.dragPanel.children(this);\n    this.dragPanel.css('background', '#ffffff');\n    this.bind();\n  }\n\n  bind() {\n    const { selectColorPoint, center } = this;\n    const { colorBarPoint, colorBar } = this;\n    const { colorInput, cancelButton, selectButton } = this;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      e.stopPropagation();\n    });\n    EventBind.bind(selectColorPoint, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      const xy = this.computeEventXy(e1, center);\n      const centerBox = center.box();\n      if (xy.x < 0) xy.x = 0;\n      if (xy.x > centerBox.width) xy.x = centerBox.width;\n      if (xy.y < 0) xy.y = 0;\n      if (xy.y > centerBox.height) xy.y = centerBox.height;\n      this.downSelect(xy.x, xy.y, centerBox.width, centerBox.height);\n      EventBind.mouseMoveUp(h(document), (e2) => {\n        const xy = this.computeEventXy(e2, center);\n        if (xy.x < 0) xy.x = 0;\n        if (xy.x > centerBox.width) xy.x = centerBox.width;\n        if (xy.y < 0) xy.y = 0;\n        if (xy.y > centerBox.height) xy.y = centerBox.height;\n        this.moveSelect(xy.x, xy.y, centerBox.width, centerBox.height);\n      });\n    });\n    EventBind.bind(colorBarPoint, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      const xy = this.computeEventXy(e1, colorBar);\n      const colorBarBox = colorBar.box();\n      if (xy.x < 0) xy.x = 0;\n      if (xy.x > colorBarBox.width) xy.x = colorBarBox.width;\n      this.downHue(xy.x, colorBarBox.width);\n      EventBind.mouseMoveUp(h(document), (e2) => {\n        const xy = this.computeEventXy(e2, colorBar);\n        const colorBarBox = colorBar.box();\n        if (xy.x < 0) xy.x = 0;\n        if (xy.x > colorBarBox.width) xy.x = colorBarBox.width;\n        this.moveHue(xy.x, colorBarBox.width);\n      });\n    });\n    EventBind.bind(colorInput, Constant.SYSTEM_EVENT_TYPE.CHANGE, () => {\n      const value = colorInput.val();\n      if (value) {\n        this.hexColor(value);\n      }\n    });\n    EventBind.bind(cancelButton, Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.close();\n    });\n    EventBind.bind(selectButton, Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      const { color } = this;\n      const hsb = ColorPicker.fixHsx({\n        h: parseInt(color[0], 10),\n        s: parseInt(color[1], 10),\n        x: parseInt(color[2], 10),\n      });\n      const colorValue = ColorPicker.hsbToHex(hsb);\n      this.options.selectCb(`#${colorValue}`);\n      this.close();\n    });\n  }\n\n  open(hex) {\n    const { dragPanel } = this;\n    dragPanel.open();\n    if (hex) {\n      if (ColorPicker.isRgb(hex)) {\n        const rgb = ColorPicker.parseRgb(hex);\n        // eslint-disable-next-line no-param-reassign\n        hex = ColorPicker.rgbToHex(rgb);\n      }\n      this.hexColor(hex);\n    } else {\n      this.change();\n    }\n    return this;\n  }\n\n  close() {\n    const { dragPanel } = this;\n    dragPanel.close();\n    return this;\n  }\n\n  sliderPosition(hsb) {\n    // hue 滑块位置\n    const { colorBar, colorBarPoint } = this;\n    const colorBarPointBox = colorBarPoint.box();\n    const colorBarBox = colorBar.box();\n    let colorBarPointLeft = parseInt(colorBarBox.width - colorBarBox.width * hsb.h / 360, 10);\n    colorBarPointLeft -= colorBarPointBox.width / 2;\n    colorBarPoint.offset({\n      left: colorBarPointLeft,\n    });\n    // select color 滑块位置\n    const { center, selectColorPoint } = this;\n    const selectColorPointBox = selectColorPoint.box();\n    const centerBox = center.box();\n    let selectColorPointLeft = parseInt(centerBox.width * hsb.s / 100, 10);\n    let selectColorPointTop = parseInt(centerBox.height * (100 - hsb.x) / 100, 10);\n    selectColorPointLeft -= selectColorPointBox.width / 2;\n    selectColorPointTop -= selectColorPointBox.height / 2;\n    selectColorPoint.offset({\n      left: selectColorPointLeft,\n      top: selectColorPointTop,\n    });\n  }\n\n  hueChange() {\n    const { color } = this;\n    const hsb = ColorPicker.fixHsx({\n      h: parseInt(color[0], 10),\n      s: parseInt(color[1], 10),\n      x: parseInt(color[2], 10),\n    });\n    const {\n      colorBarPoint, selectColorPoint, preViewColorPoint, selectColorArea1, colorInput,\n    } = this;\n    const colorValue = ColorPicker.hsbToHex(hsb);\n    const areaColorValue = ColorPicker.hsbToHex({ h: hsb.h, s: 100, x: 100 });\n    selectColorPoint.css('backgroundColor', `#${colorValue}`);\n    preViewColorPoint.css('backgroundColor', `#${colorValue}`);\n    colorBarPoint.css('backgroundColor', `#${areaColorValue}`);\n    selectColorArea1.css('backgroundColor', `#${areaColorValue}`);\n    colorInput.val(`#${colorValue}`);\n    this.sliderPosition(hsb);\n  }\n\n  selectChange() {\n    const { color } = this;\n    const hsb = ColorPicker.fixHsx({\n      h: parseInt(color[0], 10),\n      s: parseInt(color[1], 10),\n      x: parseInt(color[2], 10),\n    });\n    const { preViewColorPoint, selectColorPoint, colorInput } = this;\n    const colorValue = ColorPicker.hsbToHex(hsb);\n    selectColorPoint.css('backgroundColor', `#${colorValue}`);\n    preViewColorPoint.css('backgroundColor', `#${colorValue}`);\n    colorInput.val(`#${colorValue}`);\n    this.sliderPosition(hsb);\n  }\n\n  change() {\n    this.hueChange();\n    this.selectChange();\n  }\n\n  downSelect(x, y, width, height) {\n    const { color } = this;\n    color[1] = parseInt(100 * x / width, 10);\n    color[2] = parseInt(100 * (height - y) / height, 10);\n    this.selectChange();\n  }\n\n  moveSelect(x, y, width, height) {\n    const { color } = this;\n    color[1] = parseInt(100 * (Math.max(0, Math.min(width, x))) / width, 10);\n    color[2] = parseInt(100 * (height - Math.max(0, Math.min(height, y))) / height, 10);\n    this.selectChange();\n  }\n\n  downHue(x, width) {\n    const { color } = this;\n    color[0] = parseInt(360 * (width - x) / width, 10);\n    this.hueChange();\n  }\n\n  moveHue(x, width) {\n    const { color } = this;\n    color[0] = parseInt(360 * (width - Math.max(0, Math.min(width, x))) / width, 10);\n    this.hueChange();\n  }\n\n  hexColor(hex) {\n    const { color } = this;\n    const result = ColorPicker.hexToHsb(ColorPicker.fixHex(hex));\n    color[0] = result.h;\n    color[1] = result.s;\n    color[2] = result.x;\n    this.change();\n  }\n\n  static fixHex(hex) {\n    const len = 6 - hex.length;\n    if (len > 0) {\n      const o = [];\n      for (let i = 0; i < len; i += 1) {\n        o.push('0');\n      }\n      o.push(hex);\n      // eslint-disable-next-line no-param-reassign\n      hex = o.join('');\n    }\n    return hex;\n  }\n\n  static fixHsx(hsx) {\n    return {\n      h: Math.min(360, Math.max(0, hsx.h)),\n      s: Math.min(100, Math.max(0, hsx.s)),\n      x: Math.min(100, Math.max(0, hsx.x)),\n    };\n  }\n\n  static hexToRgb(hex) {\n    // eslint-disable-next-line no-redeclare,no-param-reassign\n    hex = parseInt(((hex.indexOf('#') > -1) ? hex.substring(1) : hex), 16);\n    // eslint-disable-next-line no-bitwise\n    return { r: hex >> 16, g: (hex & 0x00FF00) >> 8, b: (hex & 0x0000FF) };\n  }\n\n  static hexToHsb(hex) {\n    return this.rgbToHsb(this.hexToRgb(hex));\n  }\n\n  static rgbToHsb(rgb) {\n    const hsb = { h: 0, s: 0, x: 0 };\n    const min = Math.min(rgb.r, rgb.g, rgb.b);\n    const max = Math.max(rgb.r, rgb.g, rgb.b);\n    const delta = max - min;\n    hsb.x = max;\n    hsb.s = max !== 0 ? 255 * delta / max : 0;\n    if (hsb.s !== 0) {\n      if (rgb.r === max) hsb.h = (rgb.g - rgb.b) / delta;\n      else if (rgb.g === max) hsb.h = 2 + (rgb.b - rgb.r) / delta;\n      else hsb.h = 4 + (rgb.r - rgb.g) / delta;\n    } else hsb.h = -1;\n    hsb.h *= 60;\n    if (hsb.h < 0) hsb.h += 360;\n    hsb.s *= 100 / 255;\n    hsb.x *= 100 / 255;\n    return hsb;\n  }\n\n  static hsbToRgb(hsb) {\n    const rgb = {};\n    let { h } = hsb;\n    const s = hsb.s * 255 / 100;\n    const v = hsb.x * 255 / 100;\n    if (s === 0) {\n      rgb.r = v;\n      rgb.g = v;\n      rgb.b = v;\n    } else {\n      const t1 = v;\n      const t2 = (255 - s) * v / 255;\n      const t3 = (t1 - t2) * (h % 60) / 60;\n      if (h === 360) h = 0;\n      if (h < 60) {\n        rgb.r = t1;\n        rgb.b = t2;\n        rgb.g = t2 + t3;\n      } else if (h < 120) {\n        rgb.g = t1;\n        rgb.b = t2;\n        rgb.r = t1 - t3;\n      } else if (h < 180) {\n        rgb.g = t1;\n        rgb.r = t2;\n        rgb.b = t2 + t3;\n      } else if (h < 240) {\n        rgb.b = t1;\n        rgb.r = t2;\n        rgb.g = t1 - t3;\n      } else if (h < 300) {\n        rgb.b = t1;\n        rgb.g = t2;\n        rgb.r = t2 + t3;\n      } else if (h < 360) {\n        rgb.r = t1;\n        rgb.g = t2;\n        rgb.b = t1 - t3;\n      } else {\n        rgb.r = 0;\n        rgb.g = 0;\n        rgb.b = 0;\n      }\n    }\n    return { r: Math.round(rgb.r), g: Math.round(rgb.g), b: Math.round(rgb.b) };\n  }\n\n  static rgbToHex(rgb) {\n    const hex = [\n      rgb.r.toString(16),\n      rgb.g.toString(16),\n      rgb.b.toString(16),\n    ];\n    hex.forEach((val, nr) => {\n      if (val.length === 1) {\n        hex[nr] = `0${val}`;\n      }\n    });\n    return hex.join('');\n  }\n\n  static hsbToHex(hsb) {\n    return this.rgbToHex(this.hsbToRgb(hsb));\n  }\n\n  static isRgb(rgb) {\n    return rgb.startsWith('rgb');\n  }\n\n  static isHex(hex) {\n    return hex.startsWith('#');\n  }\n\n  static parseRgb(rgb) {\n    const rxp = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/;\n    const result = rgb.match(rxp);\n    return {\n      r: result[1],\n      g: result[2],\n      b: result[3],\n    };\n  }\n\n  static isDark(rgb) {\n    if (Utils.isBlank(rgb)) {\n      return false;\n    }\n    if (this.isHex(rgb)) {\n      const v = ColorPicker.hexToRgb(rgb);\n      // eslint-disable-next-line no-param-reassign\n      rgb = `rgb(${v.r}, ${v.g}, ${v.b})`;\n    }\n    const result = ColorPicker.parseRgb(rgb);\n    return result.r * 0.299 + result.g * 0.578 + result.b * 0.114 >= 192;\n  }\n}\n\nexport { ColorPicker };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { Utils } from '../../utils/Utils';\nimport { Icon } from '../../core/work/tools/Icon';\nimport { ColorPicker } from '../colorpicker/ColorPicker';\n\nclass ColorItem extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-color-array-item`);\n    this.options = Utils.mergeDeep({\n      color: null,\n      icon: null,\n    }, options);\n    this.color = this.options.color;\n    this.icon = this.options.icon;\n    if (this.color) {\n      this.css('backgroundColor', this.color);\n      if (ColorPicker.isDark(this.options.color)) {\n        this.checkedIcon = new Icon('checked-dark');\n        this.children(this.checkedIcon);\n      } else {\n        this.checkedIcon = new Icon('checked-light');\n        this.children(this.checkedIcon);\n      }\n      this.checkedIcon.hide();\n    }\n    if (this.icon) {\n      this.children(this.options.icon);\n    }\n  }\n\n  setActive(active) {\n    if (this.checkedIcon) {\n      if (active) {\n        this.checkedIcon.show();\n      } else {\n        this.checkedIcon.hide();\n      }\n    }\n  }\n}\n\nexport { ColorItem };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { ColorItem } from './ColorItem';\nimport { Utils } from '../../utils/Utils';\nimport { Constant } from '../../utils/Constant';\n\nclass ColorArray extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-color-array`);\n    this.options = Utils.mergeDeep({\n      colors: [\n        new ColorItem({ color: 'rgb(0,0,0)' }),\n        new ColorItem({ color: 'rgb(67, 67, 67)' }),\n        new ColorItem({ color: 'rgb(102, 102, 102)' }),\n        new ColorItem({ color: 'rgb(153, 153, 153)' }),\n        new ColorItem({ color: 'rgb(183, 183, 183)' }),\n        new ColorItem({ color: 'rgb(204, 204, 204)' }),\n        new ColorItem({ color: 'rgb(217, 217, 217)' }),\n        new ColorItem({ color: 'rgb(239, 239, 239)' }),\n        new ColorItem({ color: 'rgb(255, 255, 255)' }),\n\n        new ColorItem({ color: 'rgb(152, 0, 0)' }),\n        new ColorItem({ color: 'rgb(255, 0, 0)' }),\n        new ColorItem({ color: 'rgb(255, 153, 0)' }),\n        new ColorItem({ color: 'rgb(255, 255, 0)' }),\n        new ColorItem({ color: 'rgb(0, 255, 0)' }),\n        new ColorItem({ color: 'rgb(0, 255, 255)' }),\n        new ColorItem({ color: 'rgb(74, 134, 232)' }),\n        new ColorItem({ color: 'rgb(0, 0, 255)' }),\n        new ColorItem({ color: 'rgb(153, 0, 255)' }),\n        new ColorItem({ color: 'rgb(255, 0, 255)' }),\n\n        new ColorItem({ color: 'rgb(230, 184, 175)' }),\n        new ColorItem({ color: 'rgb(244, 204, 204)' }),\n        new ColorItem({ color: 'rgb(252, 229, 205)' }),\n        new ColorItem({ color: 'rgb(255, 242, 204)' }),\n        new ColorItem({ color: 'rgb(217, 234, 211)' }),\n        new ColorItem({ color: 'rgb(208, 224, 227)' }),\n        new ColorItem({ color: 'rgb(201, 218, 248)' }),\n        new ColorItem({ color: 'rgb(207, 226, 243)' }),\n        new ColorItem({ color: 'rgb(217, 210, 233)' }),\n        new ColorItem({ color: 'rgb(234, 209, 220)' }),\n\n        new ColorItem({ color: 'rgb(221, 126, 107)' }),\n        new ColorItem({ color: 'rgb(234, 153, 153)' }),\n        new ColorItem({ color: 'rgb(249, 203, 156)' }),\n        new ColorItem({ color: 'rgb(255, 229, 153)' }),\n        new ColorItem({ color: 'rgb(182, 215, 168)' }),\n        new ColorItem({ color: 'rgb(162, 196, 201)' }),\n        new ColorItem({ color: 'rgb(164, 194, 244)' }),\n        new ColorItem({ color: 'rgb(159, 197, 232)' }),\n        new ColorItem({ color: 'rgb(180, 167, 214)' }),\n        new ColorItem({ color: 'rgb(213, 166, 189)' }),\n\n        new ColorItem({ color: 'rgb(204, 65, 37)' }),\n        new ColorItem({ color: 'rgb(224, 102, 102)' }),\n        new ColorItem({ color: 'rgb(246, 178, 107)' }),\n        new ColorItem({ color: 'rgb(255, 217, 102)' }),\n        new ColorItem({ color: 'rgb(147, 196, 125)' }),\n        new ColorItem({ color: 'rgb(118, 165, 175)' }),\n        new ColorItem({ color: 'rgb(109, 158, 235)' }),\n        new ColorItem({ color: 'rgb(111, 168, 220)' }),\n        new ColorItem({ color: 'rgb(142, 124, 195)' }),\n        new ColorItem({ color: 'rgb(194, 123, 160)' }),\n\n        new ColorItem({ color: 'rgb(166, 28, 0)' }),\n        new ColorItem({ color: 'rgb(204, 0, 0)' }),\n        new ColorItem({ color: 'rgb(230, 145, 56)' }),\n        new ColorItem({ color: 'rgb(241, 194, 50)' }),\n        new ColorItem({ color: 'rgb(106, 168, 79)' }),\n        new ColorItem({ color: 'rgb(69, 129, 142)' }),\n        new ColorItem({ color: 'rgb(60, 120, 216)' }),\n        new ColorItem({ color: 'rgb(61, 133, 198)' }),\n        new ColorItem({ color: 'rgb(103, 78, 167)' }),\n        new ColorItem({ color: 'rgb(166, 77, 121)' }),\n\n        new ColorItem({ color: 'rgb(133, 32, 12)' }),\n        new ColorItem({ color: 'rgb(153, 0, 0)' }),\n        new ColorItem({ color: 'rgb(180, 95, 6)' }),\n        new ColorItem({ color: 'rgb(191, 144, 0)' }),\n        new ColorItem({ color: 'rgb(56, 118, 29)' }),\n        new ColorItem({ color: 'rgb(19, 79, 92)' }),\n        new ColorItem({ color: 'rgb(17, 85, 204)' }),\n        new ColorItem({ color: 'rgb(11, 83, 148)' }),\n        new ColorItem({ color: 'rgb(53, 28, 117)' }),\n        new ColorItem({ color: 'rgb(116, 27, 71)' }),\n\n        new ColorItem({ color: 'rgb(91, 15, 0)' }),\n        new ColorItem({ color: 'rgb(102, 0, 0)' }),\n        new ColorItem({ color: 'rgb(120, 63, 4)' }),\n        new ColorItem({ color: 'rgb(127, 96, 0)' }),\n        new ColorItem({ color: 'rgb(39, 78, 19)' }),\n        new ColorItem({ color: 'rgb(12, 52, 61)' }),\n        new ColorItem({ color: 'rgb(28, 69, 135)' }),\n        new ColorItem({ color: 'rgb(7, 55, 99)' }),\n        new ColorItem({ color: 'rgb(32, 18, 77)' }),\n        new ColorItem({ color: 'rgb(76, 17, 48)' }),\n      ],\n      selectCb: () => {},\n    }, options);\n    this.colors = this.options.colors;\n    this.activeColor = null;\n    this.colors.forEach((item) => {\n      this.children(item);\n      item.on(Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n        this.options.selectCb(item);\n        if (item.options.color) {\n          this.setActiveByColor(item.options.color);\n        }\n      });\n    });\n    if (this.colors.length > 0) {\n      this.setActiveByColor(this.colors[0].options.color);\n    }\n  }\n\n  add(item) {\n    item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.selectCb(item);\n      if (item.options.color) {\n        this.setActiveByColor(item.options.color);\n      }\n    });\n    this.colors.push(item);\n    this.children(item);\n  }\n\n  setActiveByColor(color) {\n    this.colors.forEach((item) => {\n      const { options } = item;\n      if (options.color === color) {\n        item.setActive(true);\n        this.activeColor = options.color;\n      } else {\n        item.setActive(false);\n      }\n    });\n  }\n}\n\nexport { ColorArray };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { FontColorContextMenuItem } from './FontColorContextMenuItem';\nimport { ColorArray } from '../../../../../component/colorarray/ColorArray';\nimport { h } from '../../../../../lib/Element';\nimport { ColorItem } from '../../../../../component/colorarray/ColorItem';\nimport { ELContextMenuDivider } from '../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { Icon } from '../../Icon';\nimport { Utils } from '../../../../../utils/Utils';\nimport { Constant } from '../../../../../utils/Constant';\nimport { ColorPicker } from '../../../../../component/colorpicker/ColorPicker';\n\nclass FontColorContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-color-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.colorPicker = new ColorPicker({\n      selectCb: (color) => {\n        const item = new ColorItem({ color });\n        this.customizeColorArray.add(item);\n        this.customizeColorArray.setActiveByColor(color);\n        this.colorArray.setActiveByColor(null);\n        this.options.onUpdate(color);\n        this.close();\n      },\n    });\n    // 重置\n    this.reset = new FontColorContextMenuItem('重置', new Icon('clear-color'));\n    this.reset.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.onUpdate('rgb(0,0,0)');\n      this.customizeColorArray.setActiveByColor(null);\n      this.colorArray.setActiveByColor(null);\n    });\n    // 颜色筛选\n    this.array = new FontColorContextMenuItem();\n    this.array.removeClass('hover');\n    this.colorArray = new ColorArray({\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) this.options.onUpdate(color);\n        this.customizeColorArray.setActiveByColor(null);\n        this.close();\n      },\n    });\n    this.array.children(this.colorArray);\n    // 历史选中\n    this.title = h('div', `${cssPrefix}-font-color-context-menu-color-title`);\n    this.title.text('自定义');\n    this.plus = new Icon('plus');\n    this.customizeColorArray = new ColorArray({\n      colors: [\n        new ColorItem({ icon: this.plus }),\n      ],\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) {\n          this.options.onUpdate(color);\n          this.colorArray.setActiveByColor(null);\n          this.close();\n        } else {\n          this.colorPicker.open(this.customizeColorArray.activeColor);\n        }\n      },\n    });\n    this.customize = new FontColorContextMenuItem();\n    this.customize.removeClass('hover');\n    this.customize.children(this.title);\n    this.customize.children(this.customizeColorArray);\n    // 菜单元素追加子节点\n    this.addItem(this.reset);\n    this.addItem(this.array);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.customize);\n  }\n\n  setActiveByColor(color) {\n    this.customizeColorArray.setActiveByColor(color);\n    this.colorArray.setActiveByColor(color);\n  }\n}\n\nexport { FontColorContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { FontColorContextMenu } from './contextmenu/fontcolor/FontColorContextMenu';\n\nclass FontColor extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-font-color`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('color');\n    this.fontColorContextMenu = new FontColorContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n    this.setIcon(this.icon);\n    this.setColor('rgb(0,0,0)');\n    this.fontColorContextMenu.setActiveByColor('rgb(0,0,0)');\n  }\n\n  setColor(color) {\n    this.icon.css('border-bottom', `3px solid ${color}`);\n  }\n}\n\nexport { FontColor };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\nimport { h } from '../../../../../lib/Element';\n\nclass FillColorContextMenuItem extends ELContextMenuItem {\n  constructor(title, icon) {\n    super(`${cssPrefix}-fill-color-context-menu-item`);\n    this.title = title;\n    this.icon = icon;\n    if (icon) {\n      this.iconElement = h('div', `${cssPrefix}-fill-color-context-menu-item-icon`);\n      this.iconElement.children(this.icon);\n      this.children(this.iconElement);\n    }\n    if (title) {\n      this.titleElement = h('div', `${cssPrefix}-fill-color-context-menu-item-title`);\n      this.titleElement.text(title);\n      this.children(this.titleElement);\n    }\n  }\n}\n\nexport { FillColorContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { ColorArray } from '../../../../../component/colorarray/ColorArray';\nimport { h } from '../../../../../lib/Element';\nimport { ColorItem } from '../../../../../component/colorarray/ColorItem';\nimport { ELContextMenuDivider } from '../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { Icon } from '../../Icon';\nimport { Utils } from '../../../../../utils/Utils';\nimport { Constant } from '../../../../../utils/Constant';\nimport { FillColorContextMenuItem } from './FillColorContextMenuItem';\nimport { ColorPicker } from '../../../../../component/colorpicker/ColorPicker';\n\nclass FillColorContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-color-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.colorPicker = new ColorPicker({\n      selectCb: (color) => {\n        const item = new ColorItem({ color });\n        this.customizeColorArray.add(item);\n        this.customizeColorArray.setActiveByColor(color);\n        this.colorArray.setActiveByColor(null);\n        this.options.onUpdate(color);\n        this.close();\n      },\n    });\n    // 重置\n    this.reset = new FillColorContextMenuItem('重置', new Icon('clear-color'));\n    this.reset.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.onUpdate('rgb(0,0,0)');\n      this.customizeColorArray.setActiveByColor(null);\n      this.colorArray.setActiveByColor(null);\n    });\n    // 颜色筛选\n    this.array = new FillColorContextMenuItem();\n    this.array.removeClass('hover');\n    this.colorArray = new ColorArray({\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) this.options.onUpdate(color);\n        this.customizeColorArray.setActiveByColor(null);\n        this.close();\n      },\n    });\n    this.array.children(this.colorArray);\n    // 历史选中\n    this.title = h('div', `${cssPrefix}-font-color-context-menu-color-title`);\n    this.title.text('自定义');\n    this.plus = new Icon('plus');\n    this.customizeColorArray = new ColorArray({\n      colors: [\n        new ColorItem({ icon: this.plus }),\n      ],\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) {\n          this.options.onUpdate(color);\n          this.colorArray.setActiveByColor(null);\n          this.close();\n        } else {\n          this.colorPicker.open(this.customizeColorArray.activeColor);\n        }\n      },\n    });\n    this.customize = new FillColorContextMenuItem();\n    this.customize.removeClass('hover');\n    this.customize.children(this.title);\n    this.customize.children(this.customizeColorArray);\n    // 菜单元素追加子节点\n    this.addItem(this.reset);\n    this.addItem(this.array);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.customize);\n  }\n\n  setActiveByColor(color) {\n    this.customizeColorArray.setActiveByColor(color);\n    this.colorArray.setActiveByColor(color);\n  }\n}\n\nexport { FillColorContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { FillColorContextMenu } from './contextmenu/fillcolor/FillColorContextMenu';\n\nclass FillColor extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-fill-color`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('fill-color');\n    this.fillColorContextMenu = new FillColorContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n    this.setIcon(this.icon);\n    this.setColor('rgb(255, 255, 255)');\n    this.fillColorContextMenu.setActiveByColor('rgb(255, 255, 255)');\n  }\n\n  setColor(color) {\n    this.icon.css('border-bottom', `3px solid ${color}`);\n  }\n}\n\nexport { FillColor };\n","import { ELContextMenuItem } from '../../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../../config';\n\nclass BorderTypeContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-border-type-context-menu-item`);\n  }\n}\n\nexport { BorderTypeContextMenuItem };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border1`);\n    this.icon = new Icon('border1');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon1 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border2`);\n    this.icon = new Icon('border2');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon2 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border3`);\n    this.icon = new Icon('border3');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon3 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon4 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border4`);\n    this.icon = new Icon('border4');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon4 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon5 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border5`);\n    this.icon = new Icon('border5');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon5 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon6 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border6`);\n    this.icon = new Icon('border6');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon6 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon7 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border7`);\n    this.icon = new Icon('border7');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon7 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon8 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border8`);\n    this.icon = new Icon('border8');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon8 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon9 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border9`);\n    this.icon = new Icon('border9');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon9 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon10 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border10`);\n    this.icon = new Icon('border10');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon10 };\n","import { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\nimport { DropDownItem } from '../../../base/DropDownItem';\n\nclass BorderColor extends DropDownItem {\n  constructor() {\n    super(`${cssPrefix}-tools-border-color`);\n    this.icon = new Icon('border-color');\n    this.setIcon(this.icon);\n    this.setColor('#000000');\n  }\n\n  setColor(color) {\n    this.icon.css('border-bottom', `3px solid ${color}`);\n  }\n}\n\nexport { BorderColor };\n","import { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\nimport { DropDownItem } from '../../../base/DropDownItem';\n\nclass BorderType extends DropDownItem {\n  constructor() {\n    super(`${cssPrefix}-tools-border-type`);\n    this.icon = new Icon('border-type');\n    this.setIcon(this.icon);\n  }\n}\n\nexport { BorderType };\n","import { ELContextMenuItem } from '../../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../../config';\nimport { h } from '../../../../../../lib/Element';\n\nclass BorderColorContextMenuItem extends ELContextMenuItem {\n  constructor(title, icon) {\n    super(`${cssPrefix}-border-color-context-menu-item`);\n    this.title = title;\n    this.icon = icon;\n    if (icon) {\n      this.iconElement = h('div', `${cssPrefix}-border-color-context-menu-item-icon`);\n      this.iconElement.children(this.icon);\n      this.children(this.iconElement);\n    }\n    if (title) {\n      this.titleElement = h('div', `${cssPrefix}-border-color-context-menu-item-title`);\n      this.titleElement.text(title);\n      this.children(this.titleElement);\n    }\n  }\n}\n\nexport { BorderColorContextMenuItem };\n","import { ELContextMenu } from '../../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../../config';\nimport { Utils } from '../../../../../../utils/Utils';\nimport { ColorPicker } from '../../../../../../component/colorpicker/ColorPicker';\nimport { ColorItem } from '../../../../../../component/colorarray/ColorItem';\nimport { Icon } from '../../../Icon';\nimport { Constant } from '../../../../../../utils/Constant';\nimport { ColorArray } from '../../../../../../component/colorarray/ColorArray';\nimport { ELContextMenuDivider } from '../../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { BorderColorContextMenuItem } from './BorderColorContextMenuItem';\nimport { h } from '../../../../../../lib/Element';\n\nclass BorderColorContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-border-color-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.colorPicker = new ColorPicker({\n      selectCb: (color) => {\n        const item = new ColorItem({ color });\n        this.customizeColorArray.add(item);\n        this.customizeColorArray.setActiveByColor(color);\n        this.colorArray.setActiveByColor(null);\n        this.options.onUpdate(color);\n        this.close();\n      },\n    });\n    // 重置\n    this.reset = new BorderColorContextMenuItem('重置', new Icon('clear-color'));\n    this.reset.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.onUpdate('rgb(0,0,0)');\n      this.customizeColorArray.setActiveByColor(null);\n      this.colorArray.setActiveByColor(null);\n    });\n    // 颜色筛选\n    this.array = new BorderColorContextMenuItem();\n    this.array.removeClass('hover');\n    this.colorArray = new ColorArray({\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) this.options.onUpdate(color);\n        this.customizeColorArray.setActiveByColor(null);\n        this.close();\n      },\n    });\n    this.array.children(this.colorArray);\n    // 历史选中\n    this.title = h('div', `${cssPrefix}-border-color-context-menu-color-title`);\n    this.title.text('自定义');\n    this.plus = new Icon('plus');\n    this.customizeColorArray = new ColorArray({\n      colors: [\n        new ColorItem({ icon: this.plus }),\n      ],\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) {\n          this.options.onUpdate(color);\n          this.colorArray.setActiveByColor(null);\n          this.close();\n        } else {\n          this.colorPicker.open(this.customizeColorArray.activeColor);\n        }\n      },\n    });\n    this.customize = new BorderColorContextMenuItem();\n    this.customize.removeClass('hover');\n    this.customize.children(this.title);\n    this.customize.children(this.customizeColorArray);\n    // 菜单元素追加子节点\n    this.addItem(this.reset);\n    this.addItem(this.array);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.customize);\n  }\n\n  setActiveByColor(color) {\n    this.customizeColorArray.setActiveByColor(color);\n    this.colorArray.setActiveByColor(color);\n  }\n}\n\nexport { BorderColorContextMenu };\n","import { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\nimport { h } from '../../../../../../lib/Element';\nimport { ELContextMenuItem } from '../../../../../../component/elcontextmenu/ELContextMenuItem';\n\nconst pool = [];\n\nclass LineTypeContextMenuItem extends ELContextMenuItem {\n  constructor(type) {\n    super(`${cssPrefix}-font-context-menu-item`);\n    this.type = type;\n    this.icon = new Icon('checked');\n    this.typeIcon = new Icon(type);\n    this.typeIcon.setWidth(50);\n    this.iconElement = h('div', `${cssPrefix}-font-context-menu-item-icon`);\n    this.titleElement = h('div', `${cssPrefix}-font-context-menu-item-title`);\n    this.iconElement.children(this.icon);\n    this.titleElement.children(this.typeIcon);\n    this.children(this.iconElement);\n    this.children(this.titleElement);\n    pool.push(this);\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.titleElement.text(title);\n  }\n\n  setActive() {\n    pool.forEach((item) => {\n      item.removeClass('active');\n    });\n    this.addClass('active');\n  }\n}\n\nexport { LineTypeContextMenuItem };\n","import { ELContextMenu } from '../../../../../../component/elcontextmenu/ELContextMenu';\nimport { Utils } from '../../../../../../utils/Utils';\nimport { cssPrefix } from '../../../../../../config';\nimport { LineTypeContextMenuItem } from './LineTypeContextMenuItem';\nimport { Constant } from '../../../../../../utils/Constant';\n\nclass LineTypeContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-line-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new LineTypeContextMenuItem('line1'),\n      new LineTypeContextMenuItem('line2'),\n      new LineTypeContextMenuItem('line3'),\n      new LineTypeContextMenuItem('line4'),\n      new LineTypeContextMenuItem('line5'),\n      new LineTypeContextMenuItem('line6'),\n    ];\n    this.items.forEach((item) => {\n      item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n        this.update(item.type);\n        item.setActive();\n      });\n      this.addItem(item);\n    });\n    this.setActiveByType(this.items[0].type);\n  }\n\n  update(type) {\n    const { options } = this;\n    options.onUpdate(type);\n    this.close();\n  }\n\n  setActiveByType(type) {\n    this.items.forEach((item) => {\n      if (item.type === type) {\n        item.setActive();\n      }\n    });\n  }\n}\n\nexport { LineTypeContextMenu };\n","import { Utils } from '../utils/Utils';\n\nconst LINE_TYPE = {\n  SOLID_LINE: 0,\n  DOTTED_LINE: 1,\n  POINT_LINE: 2,\n  DOUBLE_LINE: 3,\n};\n\nclass SolidLine {\n\n  constructor(draw, attr) {\n    this.draw = draw;\n    Utils.mergeDeep(this, {\n      color: '#000000',\n      width: 1,\n    }, attr);\n  }\n\n  drawLine(sx, sy, ex, ey) {\n    const { draw } = this;\n    const { width, color } = this;\n    draw.beginPath();\n    draw.attr({\n      lineWidth: width,\n      strokeStyle: color,\n    });\n    draw.setLineDash([]);\n    draw.line([sx, sy], [ex, ey]);\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n}\n\nclass DottedLine {\n\n  constructor(draw, attr) {\n    this.draw = draw;\n    Utils.mergeDeep(this, {\n      color: '#000000',\n      width: 1,\n      dash: [5],\n    }, attr);\n  }\n\n  drawLine(sx, sy, ex, ey) {\n    const { draw, dash } = this;\n    const { width, color } = this;\n    draw.beginPath();\n    draw.attr({\n      lineWidth: width,\n      strokeStyle: color,\n    });\n    draw.setLineDash(dash);\n    draw.line([sx, sy], [ex, ey]);\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n}\n\nclass DoubleLine {\n\n  constructor(draw, attr) {\n    this.draw = draw;\n    Utils.mergeDeep(this, {\n      color: '#000000',\n      width: 1,\n      padding: 1,\n      spacing: 1.5,\n      leftShow: () => false,\n      topShow: () => false,\n      rightShow: () => false,\n      bottomShow: () => false,\n      iFMerge: () => false,\n      iFMergeFirstRow: () => false,\n      iFMergeLastRow: () => false,\n      iFMergeFirstCol: () => false,\n      iFMergeLastCol: () => false,\n    }, attr);\n  }\n\n  handleExternal(sx, sy, ex, ey, row, col, pos) {\n    const external = {};\n    const { leftShow, topShow, rightShow, bottomShow } = this;\n    const { iFMerge, iFMergeFirstRow, iFMergeLastRow, iFMergeFirstCol, iFMergeLastCol } = this;\n    const { spacing } = this;\n    let ifMerge = null;\n    let firstRow = null;\n    let lastRow = null;\n    let firstCol = null;\n    let lastCol = null;\n    switch (pos) {\n      case 'left':\n        ifMerge = iFMerge(row, col - 1);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row, col - 1);\n          lastRow = iFMergeLastRow(row, col - 1);\n          firstCol = iFMergeFirstCol(row, col - 1);\n          lastCol = iFMergeLastCol(row, col - 1);\n        }\n        break;\n      case 'top':\n        ifMerge = iFMerge(row - 1, col);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row - 1, col);\n          lastRow = iFMergeLastRow(row - 1, col);\n          firstCol = iFMergeFirstCol(row - 1, col);\n          lastCol = iFMergeLastCol(row - 1, col);\n        }\n        break;\n      case 'right':\n        ifMerge = iFMerge(row, col + 1);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row, col + 1);\n          lastRow = iFMergeLastRow(row, col + 1);\n          firstCol = iFMergeFirstCol(row, col + 1);\n          lastCol = iFMergeLastCol(row, col + 1);\n        }\n        break;\n      case 'bottom':\n        ifMerge = iFMerge(row + 1, col);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row + 1, col);\n          lastRow = iFMergeLastRow(row + 1, col);\n          firstCol = iFMergeFirstCol(row + 1, col);\n          lastCol = iFMergeLastCol(row + 1, col);\n        }\n        break;\n      default: break;\n    }\n    if (ifMerge) {\n      switch (pos) {\n        case 'left': {\n          external.sx = sx - spacing;\n          external.ex = ex - spacing;\n          // 检查顶边和上底边及左上角底边及左顶边\n          const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          external.sy = sy;\n          if (sTop || sBottom) external.sy = sy - spacing;\n          if (sTopLeftCorner && firstRow) external.sy = sy + spacing;\n          // 检查底边和下顶边及左下角顶边和左底边\n          const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          external.ey = ey;\n          if (eBottom || eTop) external.ey = ey + spacing;\n          if (eBottomLeftCorner && lastRow) external.ey = ey - spacing;\n          break;\n        }\n        case 'top': {\n          external.sy = sy - spacing;\n          external.ey = ey - spacing;\n          // 检查左边和左右边及左上角右边及上左边\n          const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          external.sx = sx;\n          if (sLeft || sRight) external.sx = sx - spacing;\n          if (sTopLeftCorner && firstCol) external.sx = sx + spacing;\n          // 检查右边和右左边及右上角左边及上右边\n          const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          external.ex = ex;\n          if (eRight || eLeft) external.ex = ex + spacing;\n          if (eTopRightCorner && lastCol) external.ex = ex - spacing;\n          break;\n        }\n        case 'right': {\n          external.sx = sx + spacing;\n          external.ex = ex + spacing;\n          // 检查顶边和上底边及右上角底边及右顶边\n          const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          external.sy = sy;\n          if (sTop || sBottom) external.sy = sy - spacing;\n          if (sTopRightCorner && firstRow) external.sy = sy + spacing;\n          // 检查底边和下顶边及右下角顶边及右底边\n          const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          external.ey = ey;\n          if (eBottom || eTop) external.ey = ey + spacing;\n          if (eBottomRightCorner && lastRow) external.ey = ey - spacing;\n          break;\n        }\n        case 'bottom': {\n          external.sy = sy + spacing;\n          external.ey = ey + spacing;\n          // 检查左边和左右边及左下角右边及下左边\n          const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          external.sx = sx;\n          if (sLeft || sRight) external.sx = sx - spacing;\n          if (sBottomLeftCorner && firstCol) external.sx = sx + spacing;\n          // 检查右边和右左边及右下角左边及下右边\n          const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          external.ex = ex;\n          if (eRight || eLeft) external.ex = ex + spacing;\n          if (eBottomRightCorner && lastCol) external.ex = ex - spacing;\n          break;\n        }\n        default: break;\n      }\n      return external;\n    }\n    switch (pos) {\n      case 'left': {\n        external.sx = sx - spacing;\n        external.ex = ex - spacing;\n        // 检查顶边和上底边及左上角底边及左顶边\n        const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        external.sy = sy;\n        if (sTop || sBottom) external.sy = sy - spacing;\n        if (sTopLeftCorner) external.sy = sy + spacing;\n        // 检查底边和下顶边及左下角顶边和左底边\n        const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        external.ey = ey;\n        if (eBottom || eTop) external.ey = ey + spacing;\n        if (eBottomLeftCorner) external.ey = ey - spacing;\n        break;\n      }\n      case 'top': {\n        external.sy = sy - spacing;\n        external.ey = ey - spacing;\n        // 检查左边和左右边及左上角右边及上左边\n        const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        external.sx = sx;\n        if (sLeft || sRight) external.sx = sx - spacing;\n        if (sTopLeftCorner) external.sx = sx + spacing;\n        // 检查右边和右左边及右上角左边及上右边\n        const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        external.ex = ex;\n        if (eRight || eLeft) external.ex = ex + spacing;\n        if (eTopRightCorner) external.ex = ex - spacing;\n        break;\n      }\n      case 'right': {\n        external.sx = sx + spacing;\n        external.ex = ex + spacing;\n        // 检查顶边和上底边及右上角底边及右顶边\n        const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        external.sy = sy;\n        if (sTop || sBottom) external.sy = sy - spacing;\n        if (sTopRightCorner) external.sy = sy + spacing;\n        // 检查底边和下顶边及右下角顶边及右底边\n        const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        external.ey = ey;\n        if (eBottom || eTop) external.ey = ey + spacing;\n        if (eBottomRightCorner) external.ey = ey - spacing;\n        break;\n      }\n      case 'bottom': {\n        external.sy = sy + spacing;\n        external.ey = ey + spacing;\n        // 检查左边和左右边及左下角右边及下左边\n        const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        external.sx = sx;\n        if (sLeft || sRight) external.sx = sx - spacing;\n        if (sBottomLeftCorner) external.sx = sx + spacing;\n        // 检查右边和右左边及右下角左边及下右边\n        const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        external.ex = ex;\n        if (eRight || eLeft) external.ex = ex + spacing;\n        if (eBottomRightCorner) external.ex = ex - spacing;\n        break;\n      }\n      default: break;\n    }\n    return external;\n  }\n\n  handleInternal(sx, sy, ex, ey, row, col, pos) {\n    const internal = {};\n    const { leftShow, topShow, rightShow, bottomShow } = this;\n    const { iFMerge, iFMergeFirstRow, iFMergeLastRow, iFMergeFirstCol, iFMergeLastCol } = this;\n    const { spacing } = this;\n    const ifMerge = iFMerge(row, col);\n    // merge\n    if (ifMerge) {\n      const firstRow = iFMergeFirstRow(row, col);\n      const lastRow = iFMergeLastRow(row, col);\n      const firstCol = iFMergeFirstCol(row, col);\n      const lastCol = iFMergeLastCol(row, col);\n      switch (pos) {\n        case 'left': {\n          internal.sx = sx + spacing;\n          internal.ex = ex + spacing;\n          // 检查顶边和上底边及左上角底边及左顶边\n          const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          internal.sy = sy;\n          if (sTopLeftCorner) internal.sy = sy - spacing;\n          if ((sTop || sBottom) && firstRow) internal.sy = sy + spacing;\n          // 检查底边和下顶边及左下角顶边和左底边\n          const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          internal.ey = ey;\n          if (eBottomLeftCorner) internal.ey = ey + spacing;\n          if ((eBottom || eTop) && lastRow) internal.ey = ey - spacing;\n          break;\n        }\n        case 'top': {\n          internal.sy = sy + spacing;\n          internal.ey = ey + spacing;\n          // 检查左边和左右边及左上角右边及上左边\n          const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          internal.sx = sx;\n          if (sTopLeftCorner) internal.sx = sx - spacing;\n          if ((sLeft || sRight) && firstCol) internal.sx = sx + spacing;\n          // 检查右边和右左边及右上角左边及上右边\n          const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          internal.ex = ex;\n          if (eTopRightCorner) internal.ex = ex + spacing;\n          if ((eRight || eLeft) && lastCol) internal.ex = ex - spacing;\n          break;\n        }\n        case 'right': {\n          internal.sx = sx - spacing;\n          internal.ex = ex - spacing;\n          // 检查顶边和上底边及右上角底边及右上边\n          const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          internal.sy = sy;\n          if (sTopRightCorner) internal.sy = sy - spacing;\n          if ((sTop || sBottom) && firstRow) internal.sy = sy + spacing;\n          // 检查底边和下顶边右下角顶边及右下边\n          const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          internal.ey = ey;\n          if (eBottomRightCorner) internal.ey = ey + spacing;\n          if ((eBottom || eTop) && lastRow) internal.ey = ey - spacing;\n          break;\n        }\n        case 'bottom': {\n          internal.sy = sy - spacing;\n          internal.ey = ey - spacing;\n          // 检查左边和左右边及左下角右边及下左边\n          const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          internal.sx = sx;\n          if (sBottomLeftCorner) internal.sx = sx - spacing;\n          if ((sLeft || sRight) && firstCol) internal.sx = sx + spacing;\n          // 检查右边和右左边及右下角左边及下右边\n          const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          internal.ex = ex;\n          if (eBottomRightCorner) internal.ex = ex + spacing;\n          if ((eRight || eLeft) && lastCol) internal.ex = ex - spacing;\n          break;\n        }\n        default: break;\n      }\n      return internal;\n    }\n    switch (pos) {\n      case 'left': {\n        internal.sx = sx + spacing;\n        internal.ex = ex + spacing;\n        // 检查顶边和上底边及左上角底边及左顶边\n        const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        internal.sy = sy;\n        if (sTopLeftCorner) internal.sy = sy - spacing;\n        if (sTop || sBottom) internal.sy = sy + spacing;\n        // 检查底边和下顶边及左下角顶边和左底边\n        const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        internal.ey = ey;\n        if (eBottomLeftCorner) internal.ey = ey + spacing;\n        if (eBottom || eTop) internal.ey = ey - spacing;\n        break;\n      }\n      case 'top': {\n        internal.sy = sy + spacing;\n        internal.ey = ey + spacing;\n        // 检查左边和左右边及左上角右边及上左边\n        const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        internal.sx = sx;\n        if (sTopLeftCorner) internal.sx = sx - spacing;\n        if (sLeft || sRight) internal.sx = sx + spacing;\n        // 检查右边和右左边及右上角左边及上右边\n        const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        internal.ex = ex;\n        if (eTopRightCorner) internal.ex = ex + spacing;\n        if (eRight || eLeft) internal.ex = ex - spacing;\n        break;\n      }\n      case 'right': {\n        internal.sx = sx - spacing;\n        internal.ex = ex - spacing;\n        // 检查顶边和上底边及右上角底边及右上边\n        const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        internal.sy = sy;\n        if (sTopRightCorner) internal.sy = sy - spacing;\n        if (sTop || sBottom) internal.sy = sy + spacing;\n        // 检查底边和下顶边右下角顶边及右下边\n        const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        internal.ey = ey;\n        if (eBottomRightCorner) internal.ey = ey + spacing;\n        if (eBottom || eTop) internal.ey = ey - spacing;\n        break;\n      }\n      case 'bottom': {\n        internal.sy = sy - spacing;\n        internal.ey = ey - spacing;\n        // 检查左边和左右边及左下角右边及下左边\n        const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        internal.sx = sx;\n        if (sBottomLeftCorner) internal.sx = sx - spacing;\n        if (sLeft || sRight) internal.sx = sx + spacing;\n        // 检查右边和右左边及右下角左边及下右边\n        const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        internal.ex = ex;\n        if (eBottomRightCorner) internal.ex = ex + spacing;\n        if (eRight || eLeft) internal.ex = ex - spacing;\n        break;\n      }\n      default: break;\n    }\n    return internal;\n  }\n\n  drawLine(sx, sy, ex, ey, row, col, pos) {\n    const { draw } = this;\n    const { width, color } = this;\n    draw.beginPath();\n    draw.attr({\n      lineWidth: width,\n      strokeStyle: color,\n    });\n    draw.setLineDash([]);\n    const external = this.handleExternal(sx, sy, ex, ey, row, col, pos);\n    const internal = this.handleInternal(sx, sy, ex, ey, row, col, pos);\n    if (!Utils.isEmptyObject(internal)) {\n      draw.line([internal.sx, internal.sy], [internal.ex, internal.ey]);\n    }\n    if (!Utils.isEmptyObject(external)) {\n      draw.line([external.sx, external.sy], [external.ex, external.ey]);\n    }\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n}\n\nclass Line {\n\n  constructor(draw, attr = {}) {\n    this.type = LINE_TYPE.SOLID_LINE;\n    this.solidLine = new SolidLine(draw, Utils.mergeDeep({}, attr));\n    this.dottedLine = new DottedLine(draw, Utils.mergeDeep({\n      dash: [5],\n    }, attr));\n    this.pointLine = new DottedLine(draw, Utils.mergeDeep({\n      dash: [2, 2],\n    }, attr));\n    this.doubleLine = new DoubleLine(draw, Utils.mergeDeep({}, attr));\n  }\n\n  drawLine(sx, sy, ex, ey, row, col, pos) {\n    const {\n      type,\n      solidLine,\n      dottedLine,\n      pointLine,\n      doubleLine,\n    } = this;\n    switch (type) {\n      case LINE_TYPE.SOLID_LINE:\n        solidLine.drawLine(sx, sy, ex, ey);\n        break;\n      case LINE_TYPE.DOTTED_LINE:\n        dottedLine.drawLine(sx, sy, ex, ey);\n        break;\n      case LINE_TYPE.POINT_LINE:\n        pointLine.drawLine(sx, sy, ex, ey);\n        break;\n      case LINE_TYPE.DOUBLE_LINE:\n        doubleLine.drawLine(sx, sy, ex, ey, row, col, pos);\n        break;\n      default: break;\n    }\n  }\n\n  setType(type) {\n    this.type = type;\n  }\n\n  setWidth(width) {\n    if (width) {\n      if (this.type === LINE_TYPE.SOLID_LINE) {\n        this.solidLine.setWidth(width);\n      }\n    }\n  }\n\n  setColor(color) {\n    if (color) {\n      this.solidLine.setColor(color);\n      this.dottedLine.setColor(color);\n      this.pointLine.setColor(color);\n      this.doubleLine.setColor(color);\n    }\n  }\n}\n\nexport { Line, LINE_TYPE };\n","import { ELContextMenu } from '../../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../../config';\nimport { Utils } from '../../../../../../utils/Utils';\nimport { BorderTypeContextMenuItem } from './BorderTypeContextMenuItem';\nimport { ELContextMenuDivider } from '../../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { h } from '../../../../../../lib/Element';\nimport { BorderIcon1 } from '../../icon/border/BorderIcon1';\nimport { BorderIcon2 } from '../../icon/border/BorderIcon2';\nimport { BorderIcon3 } from '../../icon/border/BorderIcon3';\nimport { BorderIcon4 } from '../../icon/border/BorderIcon4';\nimport { BorderIcon5 } from '../../icon/border/BorderIcon5';\nimport { BorderIcon6 } from '../../icon/border/BorderIcon6';\nimport { BorderIcon7 } from '../../icon/border/BorderIcon7';\nimport { BorderIcon8 } from '../../icon/border/BorderIcon8';\nimport { BorderIcon9 } from '../../icon/border/BorderIcon9';\nimport { BorderIcon10 } from '../../icon/border/BorderIcon10';\nimport { BorderColor } from '../../icon/border/BorderColor';\nimport { BorderType } from '../../icon/border/BorderType';\nimport { EventBind } from '../../../../../../utils/EventBind';\nimport { Constant } from '../../../../../../utils/Constant';\nimport { EL_POPUP_POSITION, ElPopUp } from '../../../../../../component/elpopup/ElPopUp';\nimport { BorderColorContextMenu } from '../bordercolor/BorderColorContextMenu';\nimport { LineTypeContextMenu } from '../linetype/LineTypeContextMenu';\nimport { LINE_TYPE } from '../../../../../../canvas/Line';\n\nclass BorderTypeContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-border-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.type = LINE_TYPE.SOLID_LINE;\n    this.color = '#000000';\n    // 边框样式\n    this.borderIcon1 = new BorderIcon1();\n    this.borderIcon2 = new BorderIcon2();\n    this.borderIcon3 = new BorderIcon3();\n    this.borderIcon4 = new BorderIcon4();\n    this.borderIcon5 = new BorderIcon5();\n    const div1 = h('div', `${cssPrefix}-border-type-context-menu-type-icon-line`);\n    div1.children(this.borderIcon1);\n    div1.children(this.borderIcon2);\n    div1.children(this.borderIcon3);\n    div1.children(this.borderIcon4);\n    div1.children(this.borderIcon5);\n    this.borderIcon6 = new BorderIcon6();\n    this.borderIcon7 = new BorderIcon7();\n    this.borderIcon8 = new BorderIcon8();\n    this.borderIcon9 = new BorderIcon9();\n    this.borderIcon10 = new BorderIcon10();\n    const div2 = h('div', `${cssPrefix}-border-type-context-menu-type-icon-line`);\n    div2.children(this.borderIcon6);\n    div2.children(this.borderIcon7);\n    div2.children(this.borderIcon8);\n    div2.children(this.borderIcon9);\n    div2.children(this.borderIcon10);\n    this.borderIcons = new BorderTypeContextMenuItem();\n    this.borderIcons.removeClass('hover');\n    this.borderIcons.children(div1);\n    this.borderIcons.children(div2);\n    // 子菜单\n    this.borderColor = new BorderColor();\n    this.borderType = new BorderType();\n    const div3 = h('div', `${cssPrefix}-border-type-context-menu-type-icon-line`);\n    div3.children(this.borderColor);\n    div3.children(this.borderType);\n    this.borderColorAndType = new BorderTypeContextMenuItem();\n    this.borderColorAndType.removeClass('hover');\n    this.borderColorAndType.children(div3);\n    // 追加子菜单\n    this.addItem(this.borderIcons);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.borderColorAndType);\n    // 边框颜色菜单\n    this.borderColorContextMenu = new BorderColorContextMenu(Utils.copyProp({\n      el: this.borderColor,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, {\n      onUpdate: (color) => {\n        this.color = color;\n        this.borderColor.setColor(color);\n      },\n    }));\n    // 边框类型\n    this.lineTypeContextMenu = new LineTypeContextMenu(Utils.copyProp({\n      el: this.borderType,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, {\n      onUpdate: (type) => {\n        this.type = type;\n      },\n    }));\n    // 添加事件\n    EventBind.bind(this.borderColor, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { borderColorContextMenu } = this;\n      const { elPopUp } = borderColorContextMenu;\n      ElPopUp.closeAll([elPopUp, this.elPopUp]);\n      if (borderColorContextMenu.isOpen()) {\n        borderColorContextMenu.open();\n      } else {\n        borderColorContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderType, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { lineTypeContextMenu } = this;\n      const { elPopUp } = lineTypeContextMenu;\n      ElPopUp.closeAll([elPopUp, this.elPopUp]);\n      if (lineTypeContextMenu.isOpen()) {\n        lineTypeContextMenu.open();\n      } else {\n        lineTypeContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border1', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border2', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border3', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon4, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border4', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon5, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border5', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon6, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border6', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon7, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border7', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon8, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border8', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon9, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border9', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon10, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border10', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { BorderTypeContextMenu };\n","import { DropDownItem } from '../../../base/DropDownItem';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\nimport { BorderTypeContextMenu } from '../../border/bordertype/BorderTypeContextMenu';\nimport { Utils } from '../../../../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../../../../component/elpopup/ElPopUp';\n\nclass Border extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-border`);\n    this.options = Utils.copyProp({\n      contextMenu: {},\n    }, options);\n    this.icon = new Icon('border');\n    this.setIcon(this.icon);\n    this.borderTypeContextMenu = new BorderTypeContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\nexport { Border };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Merge extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-merge`);\n    this.icon = new Icon('merge');\n    this.children(this.icon);\n  }\n}\n\nexport { Merge };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass HorizontalIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-horizontal1`);\n    this.icon = new Icon('align-left');\n    this.children(this.icon);\n  }\n}\n\nexport { HorizontalIcon1 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass HorizontalIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-horizontal2`);\n    this.icon = new Icon('align-center');\n    this.children(this.icon);\n  }\n}\n\nexport { HorizontalIcon2 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass HorizontalIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-horizontal3`);\n    this.icon = new Icon('align-right');\n    this.children(this.icon);\n  }\n}\n\nexport { HorizontalIcon3 };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\n\nclass HorizontalContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-horizontal-type-context-menu-item`);\n  }\n}\n\nexport { HorizontalContextMenuItem };\n","class Crop {\n  constructor({\n    rect, draw, offset = 0,\n  }) {\n    this.rect = rect;\n    this.draw = draw;\n    this.offset = offset;\n  }\n\n  open() {\n    const { rect, draw, offset } = this;\n    const {\n      x, y, width, height,\n    } = rect;\n    draw.save();\n    draw.rect(x, y, width + offset, height + offset);\n    draw.clip();\n    return this;\n  }\n\n  close() {\n    const { draw } = this;\n    draw.restore();\n    return this;\n  }\n}\n\nexport { Crop };\n","/* global window */\n\nfunction dpr() {\n  return window.devicePixelRatio || 1;\n}\n\nfunction floor(n) {\n  // eslint-disable-next-line no-bitwise\n  return (0.5 + n) << 0;\n}\n\nfunction npx(px) {\n  return floor(px * dpr());\n}\n\nfunction angleToRadian(angle) {\n  return -angle * (Math.PI / 180);\n}\n\nclass Draw {\n  constructor(el) {\n    this.el = el;\n    this.ctx = el.getContext('2d');\n    this.width = el.width;\n    this.height = el.height;\n    this.offsetX = 0;\n    this.offsetY = 0;\n  }\n\n  rotate(angle) {\n    const { ctx } = this;\n    ctx.rotate(angleToRadian(angle));\n    return this;\n  }\n\n  offset(offsetX = 0, offsetY = 0) {\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n  }\n\n  resize(width, height) {\n    const { el } = this;\n    this.width = width;\n    this.height = height;\n    el.style.width = `${width}px`;\n    el.style.height = `${height}px`;\n    el.width = npx(width);\n    el.height = npx(height);\n    return this;\n  }\n\n  clear() {\n    const { width, height } = this;\n    this.clearRect(0, 0, width, height);\n    return this;\n  }\n\n  attr(options) {\n    // eslint-disable-next-line guard-for-in,no-restricted-syntax\n    for (const key in options) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (options.hasOwnProperty(key)) {\n        let value = options[key];\n        if (typeof value === 'string' || value instanceof String) {\n          value = value.trim();\n        }\n        if (this.ctx[key] !== value) {\n          this.ctx[key] = value;\n        }\n      }\n    }\n    return this;\n  }\n\n  beginPath() {\n    this.ctx.beginPath();\n    return this;\n  }\n\n  save() {\n    const { ctx } = this;\n    ctx.save();\n    this.beginPath();\n    return this;\n  }\n\n  restore() {\n    const { ctx } = this;\n    ctx.restore();\n    return this;\n  }\n\n  clip() {\n    const { ctx } = this;\n    ctx.clip();\n    return this;\n  }\n\n  fill() {\n    this.ctx.fill();\n  }\n\n  setLineDash(dash) {\n    this.ctx.setLineDash(dash);\n  }\n\n  measureText(text) {\n    return this.ctx.measureText(text);\n  }\n\n  line(...xys) {\n    const { ctx } = this;\n    if (xys.length > 1) {\n      const [x, y] = xys[0];\n      this.moveTo(x, y);\n      for (let i = 1, len = xys.length; i < len; i += 1) {\n        const [x1, y1] = xys[i];\n        this.lineTo(x1, y1);\n      }\n      ctx.stroke();\n    }\n    return this;\n  }\n\n  clearRect(x, y, w, h) {\n    const { offsetX, offsetY } = this;\n    this.ctx.clearRect(npx(x + offsetX), npx(y + offsetY), npx(w), npx(h));\n    return this;\n  }\n\n  rect(x, y, w, h) {\n    const { offsetX, offsetY } = this;\n    this.ctx.rect(npx(x + offsetX), npx(y + offsetY), npx(w), npx(h));\n    return this;\n  }\n\n  fillRect(x, y, w, h) {\n    const { offsetX, offsetY } = this;\n    this.ctx.fillRect(npx(x + offsetX), npx(y + offsetY), npx(w), npx(h));\n    return this;\n  }\n\n  fillText(text, x, y) {\n    const { offsetX, offsetY } = this;\n    this.ctx.fillText(text, npx(x + offsetX), npx(y + offsetY));\n    return this;\n  }\n\n  moveTo(x, y) {\n    const { ctx } = this;\n    const { offsetX, offsetY } = this;\n    const even = ctx.lineWidth % 2 === 0;\n    const nx = even ? npx(x + offsetX) : npx(x + offsetX) + 0.5;\n    const ny = even ? npx(y + offsetY) : npx(y + offsetY) + 0.5;\n    ctx.moveTo(nx, ny);\n  }\n\n  lineTo(x, y) {\n    const { ctx } = this;\n    const { offsetX, offsetY } = this;\n    const even = ctx.lineWidth % 2 === 0;\n    const nx = even ? npx(x + offsetX) : npx(x + offsetX) + 0.5;\n    const ny = even ? npx(y + offsetY) : npx(y + offsetY) + 0.5;\n    ctx.lineTo(nx, ny);\n  }\n}\n\nexport {\n  Draw, npx, dpr, floor, angleToRadian,\n};\n","class Rect {\n  constructor({\n    x, y, width, height,\n  }) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n\n  expandSize(size) {\n    this.width += size;\n    this.height += size;\n    return this;\n  }\n\n  clone() {\n    const { x, y, width, height } = this;\n    return new Rect({ x, y, width, height });\n  }\n}\n\n\nexport { Rect };\n","import { Rect } from './Rect';\nimport { angleToRadian, npx } from './Draw';\n\nconst ANGLE_ORIGIN = {\n  TOP_LEFT: 'top-left',\n  TOP_CENTER: 'top-center',\n  TOP_RIGHT: 'top-right',\n  MIDDLE_LEFT: 'middle-left',\n  MIDDLE_CENTER: 'middle-center',\n  MIDDLE_RIGHT: 'middle-right',\n  BOTTOM_LEFT: 'bottom-left',\n  BOTTOM_CENTER: 'bottom-center',\n  BOTTOM_RIGHT: 'bottom-right',\n};\n\nclass DrawAngle {\n  constructor({\n    dw,\n    angle,\n    origin = ANGLE_ORIGIN.MIDDLE_CENTER,\n    rect = new Rect({ x: 0, y: 0, width: 0, height: 0 }),\n  }) {\n    this.dw = dw;\n    this.origin = origin;\n    this.rect = rect;\n    this.angle = angle;\n  }\n\n  rotate() {\n    const { origin, dw, rect, angle } = this;\n    const { x, y, width, height } = rect;\n    dw.save();\n    let tx = 0;\n    let ty = 0;\n    switch (origin) {\n      case ANGLE_ORIGIN.TOP_LEFT:\n        tx = x;\n        ty = y;\n        break;\n      case ANGLE_ORIGIN.TOP_CENTER:\n        tx = x + width / 2;\n        ty = y;\n        break;\n      case ANGLE_ORIGIN.TOP_RIGHT:\n        tx = x + width;\n        ty = y;\n        break;\n      case ANGLE_ORIGIN.MIDDLE_LEFT:\n        tx = x;\n        ty = y + height / 2;\n        break;\n      case ANGLE_ORIGIN.MIDDLE_CENTER:\n        tx = x + width / 2;\n        ty = y + height / 2;\n        break;\n      case ANGLE_ORIGIN.MIDDLE_RIGHT:\n        tx = x + width;\n        ty = y + height / 2;\n        break;\n      case ANGLE_ORIGIN.BOTTOM_LEFT:\n        tx = x;\n        ty = y + height;\n        break;\n      case ANGLE_ORIGIN.BOTTOM_CENTER:\n        tx = x + width / 2;\n        ty = y + height;\n        break;\n      case ANGLE_ORIGIN.BOTTOM_RIGHT:\n        tx = x + width;\n        ty = y + height;\n        break;\n      default: break;\n    }\n    dw.ctx.translate(npx(tx + dw.offsetX), npx(ty + dw.offsetY));\n    dw.rotate(angle);\n    dw.ctx.translate(-npx(tx + dw.offsetX), -npx(ty + dw.offsetY));\n    return this;\n  }\n\n  revert() {\n    const { dw } = this;\n    dw.restore();\n    return this;\n  }\n\n  static triangleHypotenuse(angle, width) {\n    const cos = Math.cos(angleToRadian(angle));\n    const sin = Math.sin(angleToRadian(angle));\n    return {\n      width: Math.abs(cos * width), height: Math.abs(sin * width),\n    };\n  }\n\n  setOrigin(origin) {\n    this.origin = origin;\n    return this;\n  }\n\n  setRect(rect) {\n    this.rect = rect;\n    return this;\n  }\n}\n\nclass TrigonometricFunction {\n  constructor({ angle, width, height }) {\n    this.angle = angle;\n    this.width = width;\n    this.height = height;\n  }\n\n  // 斜边 + sin 角度\n  sinWidthAngle() {\n    const { angle, width } = this;\n    return Math.abs(Math.sin(angleToRadian(angle)) * width);\n  }\n\n  // 斜边 + cos 角度\n  cosWidthAngle() {\n    const { angle, width } = this;\n    return Math.abs(Math.cos(angleToRadian(angle)) * width);\n  }\n\n  // 对边 + sin角度\n  sinHeightAngle() {\n    const { angle, height } = this;\n    return Math.abs(height / Math.sin(angleToRadian(angle)));\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n\n  setHeight(height) {\n    this.height = height;\n  }\n\n  setAngle(angle) {\n    this.angle = angle;\n  }\n}\n\nexport { DrawAngle, TrigonometricFunction, ANGLE_ORIGIN };\n","import { Crop } from './Crop';\nimport { dpr, npx } from './Draw';\nimport { Utils } from '../utils/Utils';\nimport { DrawAngle, TrigonometricFunction } from './DrawAngle';\nimport { Rect } from './Rect';\n\n// 垂直文本的字间距\nconst VERTICAL_SPACING = 2;\n// 垂直文本的行高\nconst VERTICAL_LIEN_HEIGHT = 0;\n// 水平文本的行高\nconst HORIZONTAL_LIEN_HEIGHT = 4;\n// 旋转文本的行高\nconst ANGLE_LINE_HEIGHT = 4;\n// 填充的大小\nconst PADDING = 8;\n\nconst ALIGN = {\n  left: 'left',\n  center: 'center',\n  right: 'right',\n};\nconst VERTICAL_ALIGN = {\n  top: 'top',\n  center: 'middle',\n  bottom: 'bottom',\n};\nconst TEXT_WRAP = {\n  OVER_FLOW: 1,\n  WORD_WRAP: 2,\n  TRUNCATE: 3,\n};\nconst TEXT_DIRECTION = {\n  HORIZONTAL: 'horizontal',\n  VERTICAL: 'vertical',\n  ANGLE: 'angle',\n};\n\n/**\n * 水平方向字体绘制\n */\nclass HorizontalFontDraw {\n  constructor({\n    text, rect, dw, overflow, attr,\n  }) {\n    this.text = text;\n    this.dw = dw;\n    this.rect = rect;\n    this.overflow = overflow;\n    this.attr = attr;\n  }\n\n  textWidth(text) {\n    const { dw } = this;\n    return dw.measureText(text).width;\n  }\n\n  drawLine(type, tx, ty, textWidth) {\n    const { dw, attr } = this;\n    const { size, verticalAlign, align } = attr;\n    const s = [0, 0];\n    const e = [0, 0];\n    if (type === 'strike') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default: break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty - size / 2;\n          e[1] = ty - size / 2;\n          break;\n        default: break;\n      }\n    }\n    if (type === 'underline') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default: break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size;\n          e[1] = ty + size;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        default: break;\n      }\n    }\n    dw.line(s, e);\n  }\n\n  /**\n   * 越界的文字截斷\n   * @returns {number}\n   */\n  drawTextTruncate() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign,\n    } = attr;\n    const { width, height } = rect;\n    const textWidth = this.textWidth(text) / dpr();\n    let tx = rect.x;\n    let ty = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        tx += PADDING;\n        break;\n      case ALIGN.center:\n        tx += width / 2;\n        break;\n      case ALIGN.right:\n        tx += width - PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        ty += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        ty += height / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        ty += height - PADDING;\n        break;\n      default: break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = textWidth + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = textWidth;\n    }\n    const crop = new Crop({ draw: dw, rect });\n    crop.open();\n    dw.fillText(text, tx, ty);\n    if (underline || strikethrough) {\n      dw.beginPath();\n    }\n    if (underline) {\n      this.drawLine('underline', tx, ty, textWidth);\n    }\n    if (strikethrough) {\n      this.drawLine('strike', tx, ty, textWidth);\n    }\n    crop.close();\n    return contentWidth;\n  }\n\n  /**\n   * 文字超過最大可繪製區域后自動\n   * 截斷\n   * @returns {number}\n   */\n  drawTextOverFlow() {\n    const {\n      text, dw, attr, rect, overflow,\n    } = this;\n    const {\n      size, underline, strikethrough, align, verticalAlign,\n    } = attr;\n    const { width, height } = rect;\n    const textWidth = this.textWidth(text) / dpr();\n    let tx = rect.x;\n    let ty = rect.y;\n    let paddingH = 0;\n    let paddingV = 0;\n    switch (align) {\n      case ALIGN.left:\n        tx += PADDING;\n        paddingH = PADDING;\n        break;\n      case ALIGN.center:\n        tx += width / 2;\n        break;\n      case ALIGN.right:\n        tx += width - PADDING;\n        paddingH = PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        ty += PADDING;\n        paddingV = PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        ty += height / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        ty += height - PADDING;\n        paddingV = PADDING;\n        break;\n      default: break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = textWidth + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = textWidth;\n    }\n    if (overflow && (textWidth + paddingH > overflow.width || size + paddingV > overflow.height)) {\n      const crop = new Crop({ draw: dw, rect: overflow });\n      crop.open();\n      // console.log('text >>>', text, tx, ty);\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      crop.close();\n    } else {\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n    }\n    return contentWidth;\n  }\n\n  /**\n   * 文字自動換行\n   * @returns {number}\n   */\n  drawTextWarp() {\n    // console.log('drawTextWarp');\n    const { text, dw, attr, rect } = this;\n    const { size, underline, strikethrough, align, verticalAlign } = attr;\n    const { width, height } = rect;\n    const maxTextWidth = width - PADDING * 2;\n    const textArray = [];\n    const textLine = {\n      len: 0,\n      start: 0,\n    };\n    const len = text.length;\n    let hOffset = 0;\n    let i = 0;\n    let maxLen = 0;\n    while (i < len) {\n      const charWidth = this.textWidth(text.charAt(i)) / dpr();\n      const textWidth = textLine.len + charWidth;\n      if (textWidth > maxTextWidth) {\n        if (textLine.len === 0) {\n          textArray.push({\n            text: text.substring(i, i + 1),\n            len: textWidth,\n            tx: 0,\n            ty: hOffset,\n          });\n          i += 1;\n          if (textWidth > maxLen) {\n            maxLen = textWidth;\n          }\n        } else {\n          textArray.push({\n            text: text.substring(textLine.start, i),\n            len: textLine.len,\n            tx: 0,\n            ty: hOffset,\n          });\n          if (textLine.len > maxLen) {\n            maxLen = textLine.len;\n          }\n        }\n        hOffset += size + HORIZONTAL_LIEN_HEIGHT;\n        textLine.len = 0;\n        textLine.start = i;\n      } else {\n        textLine.len = textWidth;\n        i += 1;\n      }\n    }\n    if (textLine.len > 0) {\n      textArray.push({\n        text: text.substring(textLine.start),\n        len: textLine.len,\n        tx: 0,\n        ty: hOffset,\n      });\n      if (textLine.len > maxLen) {\n        maxLen = textLine.len;\n      }\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2;\n        break;\n      case ALIGN.right:\n        bx += width - PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        by += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        by += height / 2 - hOffset / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        by += height - hOffset - PADDING;\n        break;\n      default: break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = maxLen + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = maxLen;\n    }\n    const crop = new Crop({ draw: dw, rect });\n    crop.open();\n    for (let i = 0, len = textArray.length; i < len; i += 1) {\n      const item = textArray[i];\n      item.tx += bx;\n      item.ty += by;\n      // console.log('text >>>', item.text, item.tx, item.ty);\n      dw.fillText(item.text, item.tx, item.ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', item.tx, item.ty, item.len);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', item.tx, item.ty, item.len);\n      }\n    }\n    crop.close();\n    return contentWidth;\n  }\n\n  draw() {\n    const { dw, attr } = this;\n    const { textWrap } = attr;\n    dw.attr({\n      textAlign: attr.align,\n      textBaseline: attr.verticalAlign,\n      font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n      fillStyle: attr.color,\n      strokeStyle: attr.color,\n    });\n    switch (textWrap) {\n      case TEXT_WRAP.TRUNCATE:\n        return this.drawTextTruncate();\n      case TEXT_WRAP.WORD_WRAP:\n        return this.drawTextWarp();\n      case TEXT_WRAP.OVER_FLOW:\n      default:\n        return this.drawTextOverFlow();\n    }\n  }\n\n  setTextWrap(textWrap) {\n    this.attr.textWrap = textWrap;\n  }\n}\n\n/**\n * 垂直方向字体绘制\n */\nclass VerticalFontDraw {\n  constructor({\n    text, rect, dw, overflow, attr,\n  }) {\n    this.text = text;\n    this.dw = dw;\n    this.rect = rect;\n    this.overflow = overflow;\n    this.attr = attr;\n  }\n\n  textWidth(text) {\n    const { dw } = this;\n    return dw.measureText(text).width;\n  }\n\n  drawLine(type, tx, ty, textWidth, align, verticalAlign) {\n    const { dw, attr } = this;\n    const { size } = attr;\n    const s = [0, 0];\n    const e = [0, 0];\n    if (type === 'strike') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default: break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty - size / 2;\n          e[1] = ty - size / 2;\n          break;\n        default: break;\n      }\n    }\n    if (type === 'underline') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default: break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size;\n          e[1] = ty + size;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        default: break;\n      }\n    }\n    dw.line(s, e);\n  }\n\n  drawTextTruncate() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    const { width, height } = rect;\n    const textArray = [];\n    let hOffset = 0;\n    for (let i = 0; i < text.length; i += 1) {\n      const char = text.charAt(i);\n      textArray.push({\n        len: this.textWidth(char) / dpr(),\n        text: char,\n        tx: 0,\n        ty: hOffset,\n      });\n      if (i < text.length - 1) {\n        hOffset += size + VERTICAL_SPACING;\n      } else {\n        hOffset += size;\n      }\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2;\n        break;\n      case ALIGN.right:\n        bx += width - PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        by += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        by += height / 2 - hOffset / 2 + PADDING;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        by += height - hOffset + PADDING;\n        break;\n      default: break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.left:\n      case ALIGN.right:\n        contentWidth = size + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = size;\n    }\n    const crop = new Crop({ draw: dw, rect });\n    crop.open();\n    for (let i = 0, len = textArray.length; i < len; i += 1) {\n      const item = textArray[i];\n      item.tx += bx;\n      item.ty += by;\n      dw.fillText(item.text, item.tx, item.ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlign);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlign);\n      }\n    }\n    crop.close();\n    return contentWidth;\n  }\n\n  drawTextOverFlow() {\n    const {\n      text, dw, attr, rect, overflow,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    const { width, height } = rect;\n    const textArray = [];\n    let hOffset = 0;\n    for (let i = 0; i < text.length; i += 1) {\n      const char = text.charAt(i);\n      textArray.push({\n        len: this.textWidth(char) / dpr(),\n        text: char,\n        tx: 0,\n        ty: hOffset,\n      });\n      if (i < text.length - 1) {\n        hOffset += size + VERTICAL_SPACING;\n      } else {\n        hOffset += size;\n      }\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    let paddingH = 0;\n    let paddingV = 0;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        paddingH = PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2;\n        break;\n      case ALIGN.right:\n        bx += width - PADDING;\n        paddingH = PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        by += PADDING;\n        paddingV = PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        by += height / 2 - hOffset / 2 + PADDING;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        by += height - hOffset + PADDING;\n        paddingV = PADDING;\n        break;\n      default: break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.left:\n      case ALIGN.right:\n        contentWidth = size + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = size;\n    }\n    if (overflow && (hOffset + paddingV > overflow.height || size + paddingH > overflow.width)) {\n      const crop = new Crop({ draw: dw, rect: overflow });\n      crop.open();\n      for (let i = 0, len = textArray.length; i < len; i += 1) {\n        const item = textArray[i];\n        item.tx += bx;\n        item.ty += by;\n        dw.fillText(item.text, item.tx, item.ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n      }\n      crop.close();\n    } else {\n      for (let i = 0, len = textArray.length; i < len; i += 1) {\n        const item = textArray[i];\n        item.tx += bx;\n        item.ty += by;\n        dw.fillText(item.text, item.tx, item.ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n      }\n    }\n    return contentWidth;\n  }\n\n  drawTextWarp() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    const { width, height } = rect;\n    const textArray = [];\n    const len = text.length;\n    const boxHeight = height - PADDING * 2;\n    let textItem = [];\n    let textLen = 0;\n    let hOffset = 0;\n    let wOffset = 0;\n    let column = 0;\n    let i = 0;\n    while (i < len) {\n      const last = i === len - 1;\n      const first = i === 0;\n      const char = text.charAt(i);\n      const charWidth = this.textWidth(char) / dpr();\n      let textHeight;\n      if (last) {\n        textHeight = textLen + size;\n      } else {\n        textHeight = textLen + size + VERTICAL_SPACING;\n      }\n      if (textHeight > boxHeight) {\n        if (textItem.length > 0) {\n          textArray.push(textItem);\n        }\n        textLen = 0;\n        hOffset = 0;\n        textItem = [];\n        if (!first) wOffset += size + VERTICAL_LIEN_HEIGHT;\n        column += 1;\n        textItem.push({\n          len: charWidth,\n          text: char,\n          tx: wOffset,\n          ty: hOffset,\n        });\n        if (last) {\n          textLen = size;\n        } else {\n          textLen = size + VERTICAL_SPACING;\n        }\n      } else {\n        textItem.push({\n          len: charWidth,\n          text: char,\n          tx: wOffset,\n          ty: hOffset,\n        });\n        textLen = textHeight;\n      }\n      if (last) {\n        hOffset += size;\n      } else {\n        hOffset += size + VERTICAL_SPACING;\n      }\n      i += 1;\n    }\n    if (textItem.length > 0) {\n      textArray.push(textItem);\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    let verticalAlignValue = verticalAlign;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2 - wOffset / 2;\n        break;\n      case ALIGN.right:\n        bx += width - wOffset - PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        dw.attr({\n          textBaseline: attr.verticalAlign,\n        });\n        by += PADDING;\n        verticalAlignValue = VERTICAL_ALIGN.top;\n        break;\n      case VERTICAL_ALIGN.center:\n        if (column === 0) {\n          dw.attr({\n            textBaseline: attr.verticalAlign,\n          });\n          by += height / 2 - hOffset / 2 + PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.center;\n        } else {\n          dw.attr({\n            textBaseline: VERTICAL_ALIGN.top,\n          });\n          by += PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.top;\n        }\n        break;\n      case VERTICAL_ALIGN.bottom:\n        if (column === 0) {\n          dw.attr({\n            textBaseline: VERTICAL_ALIGN.bottom,\n          });\n          by += height - hOffset + PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.bottom;\n        } else {\n          dw.attr({\n            textBaseline: VERTICAL_ALIGN.top,\n          });\n          by += PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.top;\n        }\n        break;\n      default: break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.left:\n      case ALIGN.right:\n        contentWidth = wOffset + size + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = wOffset + size;\n    }\n    const crop = new Crop({ draw: dw, rect });\n    crop.open();\n    for (let i = 0, len = textArray.length; i < len; i += 1) {\n      const textItem = textArray[i];\n      for (let j = 0; j < textItem.length; j += 1) {\n        const item = textItem[j];\n        item.tx += bx;\n        item.ty += by;\n        dw.fillText(item.text, item.tx, item.ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlignValue);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlignValue);\n        }\n      }\n    }\n    crop.close();\n    return contentWidth;\n  }\n\n  draw() {\n    const { dw, attr } = this;\n    const { textWrap } = attr;\n    switch (textWrap) {\n      case TEXT_WRAP.TRUNCATE:\n        dw.attr({\n          textAlign: attr.align,\n          textBaseline: attr.verticalAlign,\n          font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n          fillStyle: attr.color,\n          strokeStyle: attr.color,\n        });\n        return this.drawTextTruncate();\n      case TEXT_WRAP.WORD_WRAP:\n        dw.attr({\n          textAlign: attr.align,\n          font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n          fillStyle: attr.color,\n          strokeStyle: attr.color,\n        });\n        return this.drawTextWarp();\n      case TEXT_WRAP.OVER_FLOW:\n      default:\n        dw.attr({\n          textAlign: attr.align,\n          textBaseline: attr.verticalAlign,\n          font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n          fillStyle: attr.color,\n          strokeStyle: attr.color,\n        });\n        return this.drawTextOverFlow();\n    }\n  }\n\n  setTextWrap(textWrap) {\n    this.attr.textWrap = textWrap;\n  }\n}\n\n/**\n * 旋转字体绘制\n */\nclass AngleFontDraw {\n  constructor({\n    text, rect, dw, overflow, attr,\n  }) {\n    this.text = text;\n    this.dw = dw;\n    this.rect = rect;\n    this.overflow = overflow;\n    this.attr = attr;\n  }\n\n  textWidth(text) {\n    const { dw } = this;\n    return dw.measureText(text).width;\n  }\n\n  drawLine(type, tx, ty, textWidth) {\n    const { dw, attr } = this;\n    const { size } = attr;\n    const s = [0, 0];\n    const e = [0, 0];\n    if (type === 'strike') {\n      s[0] = tx;\n      e[0] = tx + textWidth;\n      s[1] = ty + size / 2;\n      e[1] = ty + size / 2;\n    }\n    if (type === 'underline') {\n      s[0] = tx;\n      e[0] = tx + textWidth;\n      s[1] = ty + size;\n      e[1] = ty + size;\n    }\n    dw.line(s, e);\n  }\n\n  drawTextTruncate() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    let { angle } = attr;\n    const { width, height } = rect;\n    if (angle > 90) {\n      angle = 90;\n    }\n    if (angle < -90) {\n      angle = -90;\n    }\n    // 计算文字斜边\n    // 的宽度\n    const textWidth = this.textWidth(text) / dpr();\n    const trigonometric = new TrigonometricFunction({ angle, width: textWidth, height: size });\n    const trigonometricWidth = trigonometric.cosWidthAngle();\n    const trigonometricHeight = trigonometric.sinWidthAngle();\n    // 计算文字的位置\n    let rtx = rect.x;\n    let rty = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        rtx += PADDING;\n        break;\n      case ALIGN.center:\n        rtx += width / 2 - trigonometricWidth / 2;\n        break;\n      case ALIGN.right:\n        rtx += width - trigonometricWidth - PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        rty += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        rty += height / 2 - trigonometricHeight / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        rty += height - trigonometricHeight - PADDING;\n        break;\n      default: break;\n    }\n    // 计算内容宽度\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = trigonometricWidth + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = trigonometricWidth;\n    }\n    const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n    const ty = rty + (trigonometricHeight / 2 - size / 2);\n    // 旋转剪切\n    // 绘制文字\n    const dwAngle = new DrawAngle({\n      dw,\n      angle,\n      rect: new Rect({\n        x: rtx, y: rty, width: trigonometricWidth, height: trigonometricHeight,\n      }),\n    });\n    // 角度不同, 裁剪的\n    // 大小不同\n    let crop;\n    if (angle === 0) {\n      crop = new Crop({ draw: dw, rect });\n    } else {\n      crop = new Crop({\n        draw: dw,\n        rect: new Rect({\n          x: 0,\n          y: rect.y,\n          width: contentWidth,\n          height: rect.height,\n        }),\n      });\n    }\n    crop.open();\n    dwAngle.rotate();\n    dw.fillText(text, tx, ty);\n    if (underline || strikethrough) {\n      dw.beginPath();\n    }\n    if (underline) {\n      this.drawLine('underline', tx, ty, textWidth);\n    }\n    if (strikethrough) {\n      this.drawLine('strike', tx, ty, textWidth);\n    }\n    dwAngle.revert();\n    crop.close();\n    return contentWidth;\n  }\n\n  drawTextOverFlow() {\n    const {\n      text, dw, attr, rect, overflow,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    let { angle } = attr;\n    const { width, height } = rect;\n    if (angle > 90) {\n      angle = 90;\n    }\n    if (angle < -90) {\n      angle = -90;\n    }\n    // 计算文字斜边\n    // 的宽度\n    const textWidth = this.textWidth(text) / dpr();\n    const trigonometric = new TrigonometricFunction({ angle, width: textWidth, height: size });\n    const trigonometricWidth = trigonometric.cosWidthAngle();\n    const trigonometricHeight = trigonometric.sinWidthAngle();\n    // 计算文字的位置\n    let rtx = rect.x;\n    let rty = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        rtx += PADDING;\n        break;\n      case ALIGN.center:\n        rtx += width / 2 - trigonometricWidth / 2;\n        break;\n      case ALIGN.right:\n        rtx += width - trigonometricWidth - PADDING;\n        break;\n      default: break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        rty += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        rty += height / 2 - trigonometricHeight / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        rty += height - trigonometricHeight - PADDING;\n        break;\n      default: break;\n    }\n    // 计算内容宽度\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = trigonometricWidth + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = trigonometricWidth;\n    }\n    const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n    const ty = rty + (trigonometricHeight / 2 - size / 2);\n    // 旋转剪切\n    // 绘制文字\n    const dwAngle = new DrawAngle({\n      dw,\n      angle,\n      rect: new Rect({\n        x: rtx, y: rty, width: trigonometricWidth, height: trigonometricHeight,\n      }),\n    });\n    // 角度不同, 裁剪的\n    // 大小不同\n    let crop;\n    if (angle === 0) {\n      crop = new Crop({ draw: dw, rect: overflow });\n    } else {\n      crop = new Crop({\n        draw: dw,\n        rect: new Rect({\n          x: 0,\n          y: rect.y,\n          width: contentWidth,\n          height: rect.height,\n        }),\n      });\n    }\n    // 文本是否越界\n    const isOverFlow = overflow\n      && (trigonometricWidth > overflow.width || trigonometricHeight > overflow.height);\n    if (isOverFlow) {\n      crop.open();\n      dwAngle.rotate();\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n      crop.close();\n    } else {\n      dwAngle.rotate();\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n    }\n    return contentWidth;\n  }\n\n  drawTextWarp() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    let { angle } = attr;\n    if (angle > 90) {\n      angle = 90;\n    }\n    if (angle < -90) {\n      angle = -90;\n    }\n    const { width, height } = rect;\n    if (angle > 0) {\n      // 三角函数\n      const trigonometric = new TrigonometricFunction({\n        angle,\n      });\n\n      // 计算斜角文本的最大绘制宽度\n      // 超过绘制宽度自动换行\n      trigonometric.setHeight(height - PADDING * 2);\n      const textHypotenuseWidth = trigonometric.sinHeightAngle();\n\n      // 计算文本块之间的间隙\n      trigonometric.setHeight(size + ANGLE_LINE_HEIGHT);\n      const lineHeight = trigonometric.sinHeightAngle();\n      // console.log(\"lineHeight>>>\", lineHeight);\n\n      // 折行文本计算\n      const textArray = [];\n      const textLine = {\n        len: 0,\n        start: 0,\n      };\n      const len = text.length;\n      let i = 0;\n      while (i < len) {\n        const charWidth = this.textWidth(text.charAt(i)) / dpr();\n        const textWidth = textLine.len + charWidth;\n        if (textWidth > textHypotenuseWidth) {\n          if (textLine.len === 0) {\n            textArray.push({\n              text: text.substring(i, i + 1),\n              len: textWidth,\n              tx: 0,\n              ty: 0,\n            });\n            i += 1;\n          } else {\n            textArray.push({\n              text: text.substring(textLine.start, i),\n              len: textLine.len,\n              tx: 0,\n              ty: 0,\n            });\n          }\n          textLine.len = 0;\n          textLine.start = i;\n        } else {\n          textLine.len = textWidth;\n          i += 1;\n        }\n      }\n      if (textLine.len > 0) {\n        textArray.push({\n          text: text.substring(textLine.start),\n          len: textLine.len,\n          tx: 0,\n          ty: 0,\n        });\n      }\n      const textArrayLen = textArray.length;\n\n      // 每个文本块的x坐标\n      // 加上指定的间隙\n      let wOffset = 0;\n      for (let i = 0; i < textArrayLen; i += 1) {\n        const item = textArray[i];\n        item.tx = wOffset;\n        wOffset += lineHeight;\n      }\n\n      // 多行文本和单行文本\n      // 采用不同的绘制\n      // 逻辑\n      if (textArrayLen > 1) {\n        // 计算每个文本块的\n        // 宽度和高度\n        trigonometric.setWidth(textHypotenuseWidth);\n        const textWidth = trigonometric.cosWidthAngle();\n        const textHeight = trigonometric.sinWidthAngle();\n\n        // 计算总宽度\n        const totalWidth = textWidth + ((textArray.length - 1) * lineHeight);\n        // console.log(totalWidth);\n        // console.log('textWidth>>>', textWidth);\n        let bx = rect.x;\n        let by = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            bx += PADDING;\n            break;\n          case ALIGN.center:\n            bx += width / 2 - totalWidth / 2;\n            break;\n          case ALIGN.right:\n            bx += width - totalWidth - PADDING;\n            break;\n          default: break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            by += PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            by += height / 2 - textHeight / 2;\n            break;\n          case VERTICAL_ALIGN.bottom:\n            by += height - textHeight - PADDING;\n            break;\n          default: break;\n        }\n        let contentWidth;\n        switch (align) {\n          case ALIGN.right:\n          case ALIGN.left:\n            contentWidth = totalWidth + PADDING * 2;\n            break;\n          case ALIGN.center:\n          default:\n            contentWidth = totalWidth;\n        }\n        for (let i = 0; i < textArray.length; i += 1) {\n\n          // 计算文本的\n          // 绘制位置\n          // 旋转中心\n          const item = textArray[i];\n          // console.log('item.len>>>', item.len);\n          const rx = item.tx + bx;\n          const ry = item.ty + by;\n          let ax = 0;\n          let ay = 0;\n          switch (align) {\n            case ALIGN.left: {\n              trigonometric.setWidth(item.len / 2);\n              const tw = trigonometric.cosWidthAngle();\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + tw;\n              ay += ry + textHeight - th;\n              break;\n            }\n            case ALIGN.center: {\n              ax = rx + textWidth / 2;\n              ay = ry + textHeight / 2;\n              break;\n            }\n            case ALIGN.right: {\n              trigonometric.setWidth(item.len / 2);\n              const tw = trigonometric.cosWidthAngle();\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + textWidth - tw;\n              ay += ry + th;\n              break;\n            }\n            default: break;\n          }\n          const tx = ax - item.len / 2;\n          const ty = ay - size / 2;\n\n          // 旋转并且\n          // 绘制文本\n          if (i === -1) {\n            dw.attr({ fillStyle: '#000000' });\n            dw.fillRect(rx, ry, textWidth, textHeight);\n            dw.attr({ fillStyle: 'red' });\n          }\n          const dwAngle = new DrawAngle({\n            dw,\n            angle,\n            rect: new Rect({\n              x: tx, y: ty, width: item.len, height: size,\n            }),\n          });\n          dwAngle.rotate();\n          dw.fillText(item.text, tx, ty);\n          if (underline || strikethrough) {\n            dw.beginPath();\n          }\n          if (underline) {\n            this.drawLine('underline', tx, ty, item.len);\n          }\n          if (strikethrough) {\n            this.drawLine('strike', tx, ty, item.len);\n          }\n          dwAngle.revert();\n        }\n        return contentWidth;\n      }\n\n      // 计算文本块的\n      // 大小\n      const textWidth = this.textWidth(text) / dpr();\n      trigonometric.setWidth(textWidth);\n      const trigonometricWidth = trigonometric.cosWidthAngle();\n      const trigonometricHeight = trigonometric.sinWidthAngle();\n\n      // 计算文本\n      // 绘制位置\n      // 旋转中心\n      let rtx = rect.x;\n      let rty = rect.y;\n      switch (align) {\n        case ALIGN.left:\n          rtx += PADDING;\n          break;\n        case ALIGN.center:\n          rtx += width / 2 - trigonometricWidth / 2;\n          break;\n        case ALIGN.right:\n          rtx += width - trigonometricWidth - PADDING;\n          break;\n        default: break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          rty += PADDING;\n          break;\n        case VERTICAL_ALIGN.center:\n          rty += height / 2 - trigonometricHeight / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          rty += height - trigonometricHeight - PADDING;\n          break;\n        default: break;\n      }\n      let contentWidth;\n      switch (align) {\n        case ALIGN.right:\n        case ALIGN.left:\n          contentWidth = trigonometricWidth + PADDING * 2;\n          break;\n        case ALIGN.center:\n        default:\n          contentWidth = trigonometricWidth;\n      }\n\n      // 旋转并且\n      // 绘制文本\n      const dwAngle = new DrawAngle({\n        dw,\n        angle,\n        rect: new Rect({\n          x: rtx, y: rty, width: trigonometricWidth, height: trigonometricHeight,\n        }),\n      });\n      dwAngle.rotate();\n      const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n      const ty = rty + (trigonometricHeight / 2 - size / 2);\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n      return contentWidth;\n    }\n    if (angle < 0) {\n      // 三角函数\n      const trigonometric = new TrigonometricFunction({\n        angle,\n      });\n\n      // 计算斜角文本的最大绘制宽度\n      // 超过绘制宽度自动换行\n      trigonometric.setHeight(height - PADDING * 2);\n      const textHypotenuseWidth = trigonometric.sinHeightAngle();\n\n      // 计算文本块之间的间隙\n      trigonometric.setHeight(size + ANGLE_LINE_HEIGHT);\n      const lineHeight = trigonometric.sinHeightAngle();\n\n      // 折行文本计算\n      const textArray = [];\n      const textLine = {\n        len: 0,\n        start: 0,\n      };\n      const len = text.length;\n      let i = 0;\n      while (i < len) {\n        const charWidth = this.textWidth(text.charAt(i)) / dpr();\n        const textWidth = textLine.len + charWidth;\n        if (textWidth > textHypotenuseWidth) {\n          if (textLine.len === 0) {\n            textArray.push({\n              text: text.substring(i, i + 1),\n              len: textWidth,\n              tx: 0,\n              ty: 0,\n            });\n            i += 1;\n          } else {\n            textArray.push({\n              text: text.substring(textLine.start, i),\n              len: textLine.len,\n              tx: 0,\n              ty: 0,\n            });\n          }\n          textLine.len = 0;\n          textLine.start = i;\n        } else {\n          textLine.len = textWidth;\n          i += 1;\n        }\n      }\n      if (textLine.len > 0) {\n        textArray.push({\n          text: text.substring(textLine.start),\n          len: textLine.len,\n          tx: 0,\n          ty: 0,\n        });\n      }\n      const textArrayLen = textArray.length;\n\n      // 每个文本块的x坐标\n      // 加上指定的间隙\n      let wOffset = 0;\n      for (let i = textArrayLen - 1; i >= 0; i -= 1) {\n        const item = textArray[i];\n        item.tx = wOffset;\n        wOffset += lineHeight;\n      }\n\n      // 多行文本和单行文本\n      // 采用不同的绘制\n      // 逻辑\n      if (textArrayLen > 1) {\n        // 计算每个文本块的\n        // 宽度和高度\n        trigonometric.setWidth(textHypotenuseWidth);\n        const textWidth = trigonometric.cosWidthAngle();\n        const textHeight = trigonometric.sinWidthAngle();\n\n        // 文本总宽度\n        const totalWidth = textWidth + ((textArray.length - 1) * lineHeight);\n        let bx = rect.x;\n        let by = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            bx += PADDING;\n            break;\n          case ALIGN.center:\n            bx += width / 2 - totalWidth / 2;\n            break;\n          case ALIGN.right:\n            bx += width - totalWidth - PADDING;\n            break;\n          default: break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            by += PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            by += height / 2 - textHeight / 2;\n            break;\n          case VERTICAL_ALIGN.bottom:\n            by += height - textHeight - PADDING;\n            break;\n          default: break;\n        }\n        let contentWidth;\n        switch (align) {\n          case ALIGN.right:\n          case ALIGN.left:\n            contentWidth = totalWidth + PADDING * 2;\n            break;\n          case ALIGN.center:\n          default:\n            contentWidth = totalWidth;\n        }\n        for (let i = 0; i < textArray.length; i += 1) {\n\n          // 计算文本的\n          // 绘制位置\n          // 旋转中心\n          const item = textArray[i];\n          const rx = item.tx + bx;\n          const ry = item.ty + by;\n          let ax = 0;\n          let ay = 0;\n          switch (align) {\n            case ALIGN.left: {\n              trigonometric.setWidth(item.len / 2);\n              const tw = trigonometric.cosWidthAngle();\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + tw;\n              ay += ry + th;\n              break;\n            }\n            case ALIGN.center: {\n              ax = rx + textWidth / 2;\n              ay = ry + textHeight / 2;\n              break;\n            }\n            case ALIGN.right: {\n              trigonometric.setWidth(item.len / 2);\n              const tw = trigonometric.cosWidthAngle();\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + textWidth - tw;\n              ay += ry + textHeight - th;\n              break;\n            }\n            default: break;\n          }\n          const tx = ax - item.len / 2;\n          const ty = ay - size / 2;\n          if (i === -1) {\n            dw.attr({ fillStyle: '#000000' });\n            dw.fillRect(rx, ry, textWidth, textHeight);\n            dw.attr({ fillStyle: 'red' });\n          }\n\n          // 旋转并且\n          // 绘制文本\n          const dwAngle = new DrawAngle({\n            dw,\n            angle,\n            rect: new Rect({\n              x: tx, y: ty, width: item.len, height: size,\n            }),\n          });\n          dwAngle.rotate();\n          dw.fillText(item.text, tx, ty);\n          if (underline || strikethrough) {\n            dw.beginPath();\n          }\n          if (underline) {\n            this.drawLine('underline', tx, ty, item.len);\n          }\n          if (strikethrough) {\n            this.drawLine('strike', tx, ty, item.len);\n          }\n          dwAngle.revert();\n        }\n        return contentWidth;\n      }\n\n      // 计算文本块的\n      // 大小\n      const textWidth = this.textWidth(text) / dpr();\n      trigonometric.setWidth(textWidth);\n      const trigonometricWidth = trigonometric.cosWidthAngle();\n      const trigonometricHeight = trigonometric.sinWidthAngle();\n\n      // 计算文本\n      // 绘制位置\n      // 旋转中心\n      let rtx = rect.x;\n      let rty = rect.y;\n      switch (align) {\n        case ALIGN.left:\n          rtx += PADDING;\n          break;\n        case ALIGN.center:\n          rtx += width / 2 - trigonometricWidth / 2;\n          break;\n        case ALIGN.right:\n          rtx += width - trigonometricWidth - PADDING;\n          break;\n        default: break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          rty += PADDING;\n          break;\n        case VERTICAL_ALIGN.center:\n          rty += height / 2 - trigonometricHeight / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          rty += height - trigonometricHeight - PADDING;\n          break;\n        default: break;\n      }\n      let contentWidth;\n      switch (align) {\n        case ALIGN.right:\n        case ALIGN.left:\n          contentWidth = trigonometricWidth + PADDING * 2;\n          break;\n        case ALIGN.center:\n        default:\n          contentWidth = trigonometricWidth;\n      }\n\n      // 旋转并且\n      // 绘制文本\n      const dwAngle = new DrawAngle({\n        dw,\n        angle,\n        rect: new Rect({\n          x: rtx, y: rty, width: trigonometricWidth, height: trigonometricHeight,\n        }),\n      });\n      dwAngle.rotate();\n      const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n      const ty = rty + (trigonometricHeight / 2 - size / 2);\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n      return contentWidth;\n    }\n    if (angle === 0) {\n      const maxTextWidth = width - PADDING * 2;\n      const textArray = [];\n      const textLine = {\n        len: 0,\n        start: 0,\n      };\n      const len = text.length;\n\n      // 折行\n      let i = 0;\n      let maxLen = 0;\n      while (i < len) {\n        const charWidth = this.textWidth(text.charAt(i)) / dpr();\n        const textWidth = textLine.len + charWidth;\n        if (textWidth > maxTextWidth) {\n          if (textLine.len === 0) {\n            textArray.push({\n              text: text.substring(i, i + 1),\n              len: textWidth,\n              tx: 0,\n              ty: 0,\n            });\n            i += 1;\n            if (textWidth > maxLen) {\n              maxLen = textWidth;\n            }\n          } else {\n            textArray.push({\n              text: text.substring(textLine.start, i),\n              len: textLine.len,\n              tx: 0,\n              ty: 0,\n            });\n            if (textLine.len > maxLen) {\n              maxLen = textLine.len;\n            }\n          }\n          textLine.len = 0;\n          textLine.start = i;\n        } else {\n          textLine.len = textWidth;\n          i += 1;\n        }\n      }\n      if (textLine.len > 0) {\n        textArray.push({\n          text: text.substring(textLine.start),\n          len: textLine.len,\n          tx: 0,\n          ty: 0,\n        });\n        if (textLine.len > maxLen) {\n          maxLen = textLine.len;\n        }\n      }\n      const textArrayLen = textArray.length;\n\n      // 位置计算\n      let hOffset = 0;\n      for (let i = 0; i < textArrayLen; i += 1) {\n        const item = textArray[i];\n        item.ty = hOffset;\n        hOffset += size + HORIZONTAL_LIEN_HEIGHT;\n      }\n      const totalTextHeight = textArrayLen * (size + HORIZONTAL_LIEN_HEIGHT);\n\n      let contentWidth;\n      switch (align) {\n        case ALIGN.right:\n        case ALIGN.left:\n          contentWidth = maxLen + PADDING * 2;\n          break;\n        case ALIGN.center:\n        default:\n          contentWidth = maxLen;\n      }\n      // 裁剪 绘制\n      const crop = new Crop({ draw: dw, rect });\n      crop.open();\n      for (let i = 0; i < textArrayLen; i += 1) {\n        const item = textArray[i];\n        let tx = rect.x;\n        let ty = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            tx += PADDING;\n            break;\n          case ALIGN.center:\n            tx += width / 2 - item.len / 2;\n            break;\n          case ALIGN.right:\n            tx += width - item.len - PADDING;\n            break;\n          default: break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            ty += item.ty + PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            ty += item.ty + (height / 2 - totalTextHeight / 2);\n            break;\n          case VERTICAL_ALIGN.bottom:\n            ty += item.ty + (height - totalTextHeight - PADDING);\n            break;\n          default: break;\n        }\n        dw.fillText(item.text, tx, ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', tx, ty, item.len);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', tx, ty, item.len);\n        }\n      }\n      crop.close();\n      return contentWidth;\n    }\n    return 0;\n  }\n\n  draw() {\n    const { dw, attr } = this;\n    const { textWrap } = attr;\n    dw.attr({\n      textAlign: ALIGN.left,\n      textBaseline: VERTICAL_ALIGN.top,\n      font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n      fillStyle: attr.color,\n      strokeStyle: attr.color,\n    });\n    switch (textWrap) {\n      case TEXT_WRAP.TRUNCATE:\n        return this.drawTextTruncate();\n      case TEXT_WRAP.WORD_WRAP:\n        return this.drawTextWarp();\n      case TEXT_WRAP.OVER_FLOW:\n      default:\n        return this.drawTextOverFlow();\n    }\n  }\n}\n\n/**\n * Base font\n */\nclass Font {\n  constructor({\n    text, rect, dw, overflow, attr,\n  }) {\n    this.attr = Utils.mergeDeep({}, {\n      name: 'Arial',\n      size: npx(13),\n      color: '#000000',\n      bold: false,\n      italic: false,\n      textWrap: false,\n      underline: false,\n      strikethrough: false,\n      align: ALIGN.left,\n      verticalAlign: VERTICAL_ALIGN.center,\n      direction: TEXT_DIRECTION.HORIZONTAL,\n      angle: 0,\n    }, attr);\n    this.verticalFontDraw = new VerticalFontDraw({\n      text, rect, dw, overflow, attr: this.attr,\n    });\n    this.horizontalFontDraw = new HorizontalFontDraw({\n      text, rect, dw, overflow, attr: this.attr,\n    });\n    this.angleFontDraw = new AngleFontDraw({\n      text, rect, dw, overflow, attr: this.attr,\n    });\n  }\n\n  draw() {\n    const { attr } = this;\n    switch (attr.direction) {\n      case TEXT_DIRECTION.VERTICAL:\n        return this.verticalFontDraw.draw();\n      case TEXT_DIRECTION.ANGLE:\n        return this.angleFontDraw.draw();\n      case TEXT_DIRECTION.HORIZONTAL:\n      default:\n        return this.horizontalFontDraw.draw();\n    }\n  }\n\n  setTextWrap(textWrap) {\n    const { attr } = this;\n    switch (attr.direction) {\n      case TEXT_DIRECTION.VERTICAL:\n        this.verticalFontDraw.setTextWrap(textWrap);\n        break;\n      case TEXT_DIRECTION.HORIZONTAL:\n      default:\n        this.horizontalFontDraw.setTextWrap(textWrap);\n    }\n  }\n}\n\nexport {\n  VERTICAL_ALIGN,\n  ALIGN, TEXT_WRAP,\n  TEXT_DIRECTION,\n  PADDING,\n};\n\nexport { Font };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { Utils } from '../../../../../utils/Utils';\nimport { h } from '../../../../../lib/Element';\nimport { HorizontalIcon1 } from '../icon/horizontal/HorizontalIcon1';\nimport { HorizontalIcon2 } from '../icon/horizontal/HorizontalIcon2';\nimport { HorizontalIcon3 } from '../icon/horizontal/HorizontalIcon3';\nimport { HorizontalContextMenuItem } from './HorizontalContextMenuItem';\nimport { EventBind } from '../../../../../utils/EventBind';\nimport { Constant } from '../../../../../utils/Constant';\nimport { ALIGN } from '../../../../../canvas/Font';\n\nclass HorizontalContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-horizontal-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.horizontalIcon1 = new HorizontalIcon1();\n    this.horizontalIcon2 = new HorizontalIcon2();\n    this.horizontalIcon3 = new HorizontalIcon3();\n    const div2 = h('div', `${cssPrefix}-horizontal-type-context-menu-type-icon-line`);\n    div2.children(this.horizontalIcon1);\n    div2.children(this.horizontalIcon2);\n    div2.children(this.horizontalIcon3);\n    this.horizontalIcons = new HorizontalContextMenuItem();\n    this.horizontalIcons.removeClass('hover');\n    this.horizontalIcons.children(div2);\n    this.addItem(this.horizontalIcons);\n    // 添加事件\n    EventBind.bind(this.horizontalIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(ALIGN.left);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.horizontalIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(ALIGN.center);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.horizontalIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(ALIGN.right);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { HorizontalContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { HorizontalContextMenu } from './contextmenu/horizontal/HorizontalContextMenu';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\n\nclass HorizontalAlign extends DropDownItem {\n  constructor(options = {}) {\n    super(`${cssPrefix}-tools-horizontal-align`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('align-left');\n    this.setIcon(this.icon);\n    this.horizontalContextMenu = new HorizontalContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\nexport { HorizontalAlign };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\n\nclass VerticalContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-vertical-type-context-menu-item`);\n  }\n}\n\nexport { VerticalContextMenuItem };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass VerticalIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-verticalIcon1`);\n    this.icon = new Icon('align-top');\n    this.children(this.icon);\n  }\n}\n\nexport { VerticalIcon1 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass VerticalIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-verticalIcon2`);\n    this.icon = new Icon('align-middle');\n    this.children(this.icon);\n  }\n}\n\nexport { VerticalIcon2 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass VerticalIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-verticalIcon3`);\n    this.icon = new Icon('align-bottom');\n    this.children(this.icon);\n  }\n}\n\nexport { VerticalIcon3 };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { Utils } from '../../../../../utils/Utils';\nimport { h } from '../../../../../lib/Element';\nimport { VerticalContextMenuItem } from './VerticalContextMenuItem';\nimport { VerticalIcon1 } from '../icon/vertical/VerticalIcon1';\nimport { VerticalIcon2 } from '../icon/vertical/VerticalIcon2';\nimport { VerticalIcon3 } from '../icon/vertical/VerticalIcon3';\nimport { EventBind } from '../../../../../utils/EventBind';\nimport { Constant } from '../../../../../utils/Constant';\nimport { VERTICAL_ALIGN } from '../../../../../canvas/Font';\n\nclass VerticalContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-vertical-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.verticalIcon1 = new VerticalIcon1();\n    this.verticalIcon2 = new VerticalIcon2();\n    this.verticalIcon3 = new VerticalIcon3();\n    const div2 = h('div', `${cssPrefix}-vertical-type-context-menu-type-icon-line`);\n    div2.children(this.verticalIcon1);\n    div2.children(this.verticalIcon2);\n    div2.children(this.verticalIcon3);\n    this.verticalIcons = new VerticalContextMenuItem();\n    this.verticalIcons.removeClass('hover');\n    this.verticalIcons.children(div2);\n    this.addItem(this.verticalIcons);\n    // 添加事件\n    EventBind.bind(this.verticalIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(VERTICAL_ALIGN.top);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.verticalIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(VERTICAL_ALIGN.center);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.verticalIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(VERTICAL_ALIGN.bottom);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { VerticalContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { VerticalContextMenu } from './contextmenu/vertical/VerticalContextMenu';\n\nclass VerticalAlign extends DropDownItem {\n  constructor(options = {}) {\n    super(`${cssPrefix}-tools-vertical-align`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('align-middle');\n    this.setIcon(this.icon);\n    this.verticalContextMenu = new VerticalContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { VerticalAlign };\n","import { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\nimport { Item } from '../../../base/Item';\n\nclass TextWrappingIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-text-wrapping1`);\n    this.icon = new Icon('truncate');\n    this.children(this.icon);\n  }\n}\n\nexport { TextWrappingIcon1 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\n\nclass TextWrappingIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-text-wrapping2`);\n    this.icon = new Icon('overflow');\n    this.children(this.icon);\n  }\n}\n\nexport { TextWrappingIcon2 };\n","import { cssPrefix } from '../../../../../../config';\nimport { Icon } from '../../../Icon';\nimport { Item } from '../../../base/Item';\n\nclass TextWrappingIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-text-wrapping3`);\n    this.icon = new Icon('wrap');\n    this.children(this.icon);\n  }\n}\n\nexport { TextWrappingIcon3 };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../config';\n\nclass TextWrappingContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-text-wrapping-context-menu-item`);\n  }\n}\n\nexport { TextWrappingContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix } from '../../../../../config';\nimport { Utils } from '../../../../../utils/Utils';\nimport { TextWrappingIcon1 } from '../icon/textwrapping/TextWrappingIcon1';\nimport { TextWrappingIcon2 } from '../icon/textwrapping/TextWrappingIcon2';\nimport { TextWrappingIcon3 } from '../icon/textwrapping/TextWrappingIcon3';\nimport { h } from '../../../../../lib/Element';\nimport { TextWrappingContextMenuItem } from './TextWrappingContextMenuItem';\nimport { EventBind } from '../../../../../utils/EventBind';\nimport { Constant } from '../../../../../utils/Constant';\nimport { TEXT_WRAP } from '../../../../../canvas/Font';\n\nclass TextWrappingContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-text-wrapping-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.textWrappingIcon1 = new TextWrappingIcon1();\n    this.textWrappingIcon2 = new TextWrappingIcon2();\n    this.textWrappingIcon3 = new TextWrappingIcon3();\n    const div2 = h('div', `${cssPrefix}-text-wrapping-context-menu-type-icon-line`);\n    div2.children(this.textWrappingIcon1);\n    div2.children(this.textWrappingIcon2);\n    div2.children(this.textWrappingIcon3);\n    this.textWrappingIcons = new TextWrappingContextMenuItem();\n    this.textWrappingIcons.removeClass('hover');\n    this.textWrappingIcons.children(div2);\n    this.addItem(this.textWrappingIcons);\n    // 添加事件\n    EventBind.bind(this.textWrappingIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(TEXT_WRAP.TRUNCATE);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.textWrappingIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(TEXT_WRAP.OVER_FLOW);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.textWrappingIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(TEXT_WRAP.WORD_WRAP);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { TextWrappingContextMenu };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { DropDownItem } from './base/DropDownItem';\nimport { TextWrappingContextMenu } from './contextmenu/textwrapping/TextWrappingContextMenu';\n\nclass TextWrapping extends DropDownItem {\n  constructor(options = {}) {\n    super(`${cssPrefix}-tools-text-wrapping`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('text-wrap');\n    this.setIcon(this.icon);\n    this.textWrappingContextMenu = new TextWrappingContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { TextWrapping };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Fixed extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-fixed`);\n    this.icon = new Icon('freeze');\n    this.children(this.icon);\n  }\n}\n\nexport { Fixed };\n","import { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Filter extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-filter`);\n    this.icon = new Icon('filter');\n    this.children(this.icon);\n  }\n}\n\nexport { Filter };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../config';\nimport { Icon } from './Icon';\n\nclass Functions extends DropDownItem {\n  constructor() {\n    super(`${cssPrefix}-tools-format`);\n    this.icon = new Icon('functions');\n    this.setIcon(this.icon);\n  }\n}\nexport { Functions };\n","import { Widget } from '../../../lib/Widget';\nimport { Utils } from '../../../utils/Utils';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\n\nconst svg = `\n  <svg class=\"${cssPrefix}-copy-style-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\">\n    <line class=\"${cssPrefix}-copy-style-stroked-top\" x1=\"0\" y1=\"0\" x2=\"100%\" y2=\"0\"/>\n    <line class=\"${cssPrefix}-copy-style-stroked-left\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"100%\"/>\n    <line class=\"${cssPrefix}-copy-style-stroked-bottom\" x1=\"0\" y1=\"100%\" x2=\"100%\" y2=\"100%\"/>\n    <line class=\"${cssPrefix}-copy-style-stroked-right\" x1=\"100%\" y1=\"0\" x2=\"100%\" y2=\"100%\"/>\n  </svg>\n`;\n\nclass CopyStyle extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-copy-style`);\n    this.options = Utils.mergeDeep({}, options);\n    this.mask = h('div', `${cssPrefix}-copy-style-mask`);\n    this.html(svg);\n    this.children(this.mask);\n    this.top = this.find(`.${cssPrefix}-copy-style-stroked-top`);\n    this.left = this.find(`.${cssPrefix}-copy-style-stroked-left`);\n    this.bottom = this.find(`.${cssPrefix}-copy-style-stroked-bottom`);\n    this.right = this.find(`.${cssPrefix}-copy-style-stroked-right`);\n    this.hide();\n  }\n}\n\nexport { CopyStyle };\n","class ScreenWidget {\n  constructor(screen) {\n    this.screen = screen;\n    this.lt = null;\n    this.t = null;\n    this.l = null;\n    this.br = null;\n  }\n\n  getLT() {\n    return this.lt;\n  }\n\n  getT() {\n    return this.t;\n  }\n\n  getL() {\n    return this.l;\n  }\n\n  getBR() {\n    return this.br;\n  }\n}\n\nexport { ScreenWidget };\n","import { Utils } from '../../utils/Utils';\n\nclass RectRange {\n\n  /**\n   * RectRange\n   * @param {int} sri 起始行\n   * @param {int} sci 起始列\n   * @param {int} eri 结束行\n   * @param {int} eci 结束列\n   * @param {int} w 宽度\n   * @param {int} h 高度\n   */\n  constructor(sri, sci, eri, eci, w = 0, h = 0) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n    this.w = w;\n    this.h = h;\n  }\n\n  /**\n   * 设置区域\n   * @param {int} sri 起始行\n   * @param {int} sci 起始列\n   * @param {int} eri 结束行\n   * @param {int} eci 结束列\n   */\n  set(sri, sci, eri, eci) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n  }\n\n  /**\n   * 判断是否跨多个单元格\n   * @returns {boolean}\n   */\n  multiple() {\n    return this.eri - this.sri > 0 || this.eci - this.sci > 0;\n  }\n\n  /**\n   * 判断当前的区域是否包含指定的行和列\n   * 参数支持 ri, ci 和 A10 两种形式\n   * @param {[int, int] | String} args 行索引,列索引 或者 字符串\n   * @returns {boolean}\n   */\n  includes(...args) {\n    let [ri, ci] = [0, 0];\n    if (args.length === 1) {\n      [ci, ri] = Utils.expr2xy(args[0]);\n    } else if (args.length === 2) {\n      [ri, ci] = args;\n    }\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return sri <= ri && ri <= eri && sci <= ci && ci <= eci;\n  }\n\n  /**\n   * 循环过滤指定的行列\n   * @param {Function} cb 回调函数\n   * @param {Function} rowFilter 过滤使用的回调函数\n   */\n  each(cb, rowFilter = () => true) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    for (let i = sri; i <= eri; i += 1) {\n      if (rowFilter(i)) {\n        for (let j = sci; j <= eci; j += 1) {\n          cb(i, j);\n        }\n      }\n    }\n  }\n\n  /**\n   * 判断当前的区域是否包含指定的区域\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  contains(other) {\n    return this.sri <= other.sri\n      && this.sci <= other.sci\n      && this.eri >= other.eri\n      && this.eci >= other.eci;\n  }\n\n  /**\n   * 判断当前的区域是否被指定的区域包含\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  within(other) {\n    return this.sri >= other.sri\n      && this.sci >= other.sci\n      && this.eri <= other.eri\n      && this.eci <= other.eci;\n  }\n\n  /**\n   * 判断当前的区域和指定的区域不发生重合\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  disjoint(other) {\n    return this.sri > other.eri\n      || this.sci > other.eci\n      || other.sri > this.eri\n      || other.sci > this.eci;\n  }\n\n  /**\n   * 判断当前的区域和指定的区域发生重合\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  intersects(other) {\n    return this.sri <= other.eri\n      && this.sci <= other.eci\n      && other.sri <= this.eri\n      && other.sci <= this.eci;\n  }\n\n  /**\n   * 返回当前区域和指定区域合并后的新区域\n   * @param {RectRange} other 区域\n   * @returns {RectRange}\n   */\n  union(other) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return new RectRange(\n      other.sri < sri ? other.sri : sri,\n      other.sci < sci ? other.sci : sci,\n      other.eri > eri ? other.eri : eri,\n      other.eci > eci ? other.eci : eci,\n    );\n  }\n\n  /**\n   * 返回当前区域和指定区域合重合的新区域\n   * @param {RectRange} other\n   * @returns {RectRange}\n   */\n  coincide(other) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    if (this.disjoint(other)) {\n      return new RectRange(-1, -1, -1, -1);\n    }\n    return new RectRange(\n      other.sri > sri ? other.sri : sri,\n      other.sci > sci ? other.sci : sci,\n      other.eri < eri ? other.eri : eri,\n      other.eci < eci ? other.eci : eci,\n    );\n  }\n\n  /**\n   * 返回当前区域和指定区域不重合的部分\n   * @param {RectRange} other 区域\n   * @returns {Array}\n   */\n  difference(other) {\n    const ret = [];\n    const addRet = (sri, sci, eri, eci) => {\n      ret.push(new RectRange(sri, sci, eri, eci));\n    };\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    const dsr = other.sri - sri;\n    const dsc = other.sci - sci;\n    const der = eri - other.eri;\n    const dec = eci - other.eci;\n    if (dsr > 0) {\n      addRet(sri, sci, other.sri - 1, eci);\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, eci);\n        if (dsc > 0) {\n          addRet(other.sri, sci, other.eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, other.eri, eci);\n        }\n      } else {\n        if (dsc > 0) {\n          addRet(other.sri, sci, eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, eri, eci);\n        }\n      }\n    } else if (der > 0) {\n      addRet(other.eri + 1, sci, eri, eci);\n      if (dsc > 0) {\n        addRet(sri, sci, other.eri, other.sci - 1);\n      }\n      if (dec > 0) {\n        addRet(sri, other.eci + 1, other.eri, eci);\n      }\n    }\n    if (dsc > 0) {\n      addRet(sri, sci, eri, other.sci - 1);\n      if (dec > 0) {\n        addRet(sri, other.eri + 1, eri, eci);\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, other.eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, other.eci);\n        }\n      } else {\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, eci);\n        }\n      }\n    } else if (dec > 0) {\n      addRet(eri, other.eci + 1, eri, eci);\n      if (dsr > 0) {\n        addRet(sri, sci, other.sri - 1, other.eci);\n      }\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, other.eci);\n      }\n    }\n    return ret;\n  }\n\n  /**\n   * 当前区域跨的行列数\n   * @returns {number[]}\n   */\n  size() {\n    return [\n      this.eri - this.sri + 1,\n      this.eci - this.sci + 1,\n    ];\n  }\n\n  brink() {\n    const { sri, eri, sci, eci } = this;\n    const top = new RectRange(sri, sci, sri, eci);\n    const bottom = new RectRange(eri, sci, eri, eci);\n    const right = new RectRange(sri, eci, eri, eci);\n    const left = new RectRange(sri, sci, eri, sci);\n    return { top, right, bottom, left };\n  }\n\n  toString() {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    let ref = Utils.xy2expr(sci, sri);\n    if (this.multiple()) {\n      ref = `${ref}:${Utils.xy2expr(eci, eri)}`;\n    }\n    return ref;\n  }\n\n  clone() {\n    const {\n      sri, sci, eri, eci, w, h,\n    } = this;\n    return new RectRange(sri, sci, eri, eci, w, h);\n  }\n\n  /**\n   * equals\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  equals(other) {\n    return this.eri === other.eri\n      && this.eci === other.eci\n      && this.sri === other.sri\n      && this.sci === other.sci;\n  }\n\n  /**\n   * 将 B1:B8 或者 B1 参数转换成新的区域\n   * @param {String} ref 行列字符串\n   * @returns {RectRange}\n   */\n  static valueOf(ref) {\n    const refs = ref.split(':');\n    const [sci, sri] = Utils.expr2xy(refs[0]);\n    let [eri, eci] = [sri, sci];\n    if (refs.length > 1) {\n      [eci, eri] = Utils.expr2xy(refs[1]);\n    }\n    return new RectRange(sri, sci, eri, eci);\n  }\n}\n\nexport { RectRange };\n","\nimport { Utils } from '../../../utils/Utils';\nimport { CopyStyle } from './CopyStyle';\nimport { ScreenWidget } from '../screen/ScreenWidget';\nimport { RectRange } from '../RectRange';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { Rect } from '../../../canvas/Rect';\n\nclass ScreenCopyStyle extends ScreenWidget {\n  constructor(screen, options = {}) {\n    super(screen);\n    this.options = Utils.mergeDeep({}, options);\n    this.lt = new CopyStyle();\n    this.t = new CopyStyle();\n    this.l = new CopyStyle();\n    this.br = new CopyStyle();\n    this.selectorAttr = null;\n    this.bind();\n  }\n\n  setLTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      frozenLeftTop, cols, rows, grid,\n    } = table;\n    const viewRange = frozenLeftTop.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.lt.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.eci > viewRange.eci) {\n      this.lt.right.hide();\n      this.lt.mask.css('border-right', 'none');\n    } else {\n      this.lt.right.show();\n      this.lt.mask.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.lt.bottom.hide();\n      this.lt.mask.css('border-bottom', 'none');\n    } else {\n      this.lt.bottom.show();\n      this.lt.mask.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.lt.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedTop, cols, rows, grid,\n    } = table;\n    const viewRange = fixedTop.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.t.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.t.left.hide();\n      this.t.mask.css('border-left', 'none');\n    } else {\n      this.t.left.show();\n      this.t.mask.cssRemoveKeys('border-left');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.t.bottom.hide();\n      this.t.mask.css('border-bottom', 'none');\n    } else {\n      this.t.bottom.show();\n      this.t.mask.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.t.right.hide();\n      this.t.mask.css('border-right', 'none');\n    } else {\n      this.t.right.show();\n      this.t.mask.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.t.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setLOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedLeft, cols, rows, grid,\n    } = table;\n    const viewRange = fixedLeft.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.l.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sri < viewRange.sri) {\n      this.l.top.hide();\n      this.l.mask.css('border-top', 'none');\n    } else {\n      this.l.top.show();\n      this.l.mask.cssRemoveKeys('border-top');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.l.right.hide();\n      this.l.mask.css('border-right', 'none');\n    } else {\n      this.l.right.show();\n      this.l.mask.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.l.bottom.hide();\n      this.l.mask.css('border-bottom', 'none');\n    } else {\n      this.l.bottom.show();\n      this.l.mask.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.l.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setBROffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      cols, rows, grid,\n    } = table;\n    const viewRange = table.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.br.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.br.left.hide();\n      this.br.mask.css('border-left', 'none');\n    } else {\n      this.br.left.show();\n      this.br.mask.cssRemoveKeys('border-left');\n    }\n    if (rect.sri < viewRange.sri) {\n      this.br.top.hide();\n      this.br.mask.css('border-top', 'none');\n    } else {\n      this.br.top.show();\n      this.br.mask.cssRemoveKeys('border-top');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.br.bottom.hide();\n      this.br.mask.css('border-bottom', 'none');\n    } else {\n      this.br.bottom.show();\n      this.br.mask.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.br.right.hide();\n      this.br.mask.css('border-right', 'none');\n    } else {\n      this.br.right.show();\n      this.br.mask.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.br.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setOffset(selectorAttr) {\n    this.setLTOffset(selectorAttr);\n    this.setTOffset(selectorAttr);\n    this.setLOffset(selectorAttr);\n    this.setBROffset(selectorAttr);\n  }\n\n  bind() {\n    const { screen } = this;\n    const { table } = screen;\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n      e.stopPropagation();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n      e.stopPropagation();\n    });\n  }\n\n  setShow(selectorAttr) {\n    this.selectorAttr = selectorAttr;\n    this.setOffset(selectorAttr);\n  }\n\n  setHide() {\n    this.selectorAttr = null;\n    this.lt.hide();\n    this.t.hide();\n    this.l.hide();\n    this.br.hide();\n  }\n}\n\nexport { ScreenCopyStyle };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\n\nclass Selector extends Widget {\n  constructor() {\n    super(`${cssPrefix}-selector`);\n    this.cornerEl = h('div', `${cssPrefix}-selector-corner`);\n    this.areaEl = h('div', `${cssPrefix}-selector-area`);\n    this.transfromData = h('div', `${cssPrefix}-selector-transform-data`);\n    this.areaEl.children(this.cornerEl);\n    this.children(this.transfromData);\n    this.children(this.areaEl);\n    this.hide();\n  }\n}\n\nexport { Selector };\n","/* global document */\n\nimport { Selector } from './Selector';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { ScreenWidget } from '../screen/ScreenWidget';\nimport { RectRange } from '../RectRange';\nimport { Rect } from '../../../canvas/Rect';\n\nclass ScreenSelector extends ScreenWidget {\n  constructor(screen, options = {}) {\n    super(screen);\n    this.options = options;\n    this.selectorAttr = null;\n    this.downSelectorAttr = null;\n    this.onChangeStack = [];\n    this.onSelectChangeStack = [];\n    this.onSelectChangeOver = [];\n    this.onDownSelectStack = [];\n    this.lt = new Selector();\n    this.t = new Selector();\n    this.l = new Selector();\n    this.br = new Selector();\n    this.bind();\n  }\n\n  bind() {\n    const { screen } = this;\n    const { table } = screen;\n    const { mousePointType, keyboardManage, cols, rows, edit, merges } = table;\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      if (e1.button !== 0) return;\n      const { x, y } = table.computeEventXy(e1);\n      const downSelectAttr = this.getDownXYSelectorAttr(x, y);\n      // console.log('downSelectAttr >>>', downSelectAttr);\n      this.setSelectAttr(downSelectAttr);\n      this.setDownSelectAttr(downSelectAttr);\n      this.setOffset(downSelectAttr);\n      this.onDownSelectStack.forEach(cb => cb());\n      this.onChangeStack.forEach(cb => cb());\n      this.onSelectChangeStack.forEach(cb => cb());\n      const { edgeType } = downSelectAttr;\n      switch (edgeType) {\n        case 'left-top':\n          mousePointType.on(['table-cell']);\n          break;\n        case 'left':\n          mousePointType.on(['table-ri']);\n          break;\n        case 'top':\n          mousePointType.on(['table-ci']);\n          break;\n        default:\n          mousePointType.on(['table-cell']);\n          break;\n      }\n      EventBind.mouseMoveUp(document, (e2) => {\n        const { x, y } = table.computeEventXy(e2);\n        const moveSelectorAttr = this.getMoveXySelectorAttr(downSelectAttr, x, y);\n        this.setSelectAttr(moveSelectorAttr);\n        this.setOffset(moveSelectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n        this.onSelectChangeStack.forEach(cb => cb());\n        e2.stopPropagation();\n        e2.preventDefault();\n      }, () => {\n        mousePointType.off();\n        this.onSelectChangeOver.forEach(cb => cb());\n      });\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n      }\n      e.stopPropagation();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n      }\n      e.stopPropagation();\n    });\n    let tabId = 0;\n    let tabNext = null;\n    keyboardManage.register({\n      el: table,\n      code: 9,\n      callback: () => {\n        edit.hideEdit();\n        const id = this.selectorAttr;\n        const rect = this.selectorAttr.rect.clone();\n        if (tabId !== id) {\n          const { sri, sci } = rect;\n          tabId = id;\n          tabNext = { sri, sci };\n        }\n        const cLen = cols.len - 1;\n        const rLen = rows.len - 1;\n        let { sri, sci } = tabNext;\n        const srcMerges = merges.getFirstIncludes(sri, sci);\n        if (srcMerges) {\n          sci = srcMerges.eci;\n        }\n        if (sci >= cLen && sri >= rLen) {\n          return;\n        }\n        if (sci >= cLen) {\n          sri += 1;\n          sci = 0;\n        } else {\n          sci += 1;\n        }\n        tabNext.sri = sri;\n        tabNext.sci = sci;\n        let eri = sri;\n        let eci = sci;\n        const targetMerges = merges.getFirstIncludes(sri, sci);\n        if (targetMerges) {\n          sri = targetMerges.sri;\n          sci = targetMerges.sci;\n          eri = targetMerges.eri;\n          eci = targetMerges.eci;\n        }\n        rect.sri = sri;\n        rect.sci = sci;\n        rect.eri = eri;\n        rect.eci = eci;\n        this.selectorAttr.rect = rect;\n        this.setOffset(this.selectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n        this.onSelectChangeStack.forEach(cb => cb());\n        edit.showEdit();\n      },\n    });\n  }\n\n  setLTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      frozenLeftTop, cols, rows, grid,\n    } = table;\n    const viewRange = frozenLeftTop.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.lt.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.eci > viewRange.eci) {\n      this.lt.areaEl.css('border-right', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.lt.areaEl.css('border-bottom', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.lt.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedTop, cols, rows, grid,\n    } = table;\n    const viewRange = fixedTop.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.t.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.t.areaEl.css('border-left', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.t.areaEl.css('border-bottom', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.t.areaEl.css('border-right', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.t.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setLOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedLeft, cols, rows, grid,\n    } = table;\n    const viewRange = fixedLeft.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.l.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sri < viewRange.sri) {\n      this.l.areaEl.css('border-top', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.l.areaEl.css('border-right', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.l.areaEl.css('border-bottom', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.l.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setBROffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      cols, rows, grid,\n    } = table;\n    const viewRange = table.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.br.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.br.areaEl.css('border-left', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.sri < viewRange.sri) {\n      this.br.areaEl.css('border-top', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.br.areaEl.css('border-bottom', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.br.areaEl.css('border-right', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.br.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setLTCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const { frozenLeftTop } = table;\n    const viewRange = frozenLeftTop.getScrollViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.lt.cornerEl.cssRemoveKeys('left');\n    this.lt.cornerEl.cssRemoveKeys('top');\n    this.lt.cornerEl.cssRemoveKeys('right');\n    this.lt.cornerEl.cssRemoveKeys('bottom');\n    this.lt.cornerEl.hide();\n\n    if (edge) {\n      const ltT = intersectsArea === 'ltt';\n      const ltL = intersectsArea === 'ltl';\n      if (edgeType === 'left' && ltT) {\n        this.lt.cornerEl.show();\n        this.lt.cornerEl.css('left', '0px');\n        this.lt.cornerEl.css('bottom', '0px');\n      }\n      if (edgeType === 'top' && ltL) {\n        this.lt.cornerEl.show();\n        this.lt.cornerEl.css('right', '0px');\n        this.lt.cornerEl.css('top', '0px');\n      }\n    } else {\n      const lt = intersectsArea === 'lt';\n      if (lt) {\n        this.lt.cornerEl.show();\n        this.lt.cornerEl.css('right', '0px');\n        this.lt.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eci > viewRange.eci) {\n        this.lt.cornerEl.hide();\n      }\n      if (rect.eri > viewRange.eri) {\n        this.lt.cornerEl.hide();\n      }\n    }\n  }\n\n  setTCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedTop } = table;\n    const viewRange = fixedTop.getScrollViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.t.cornerEl.cssRemoveKeys('left');\n    this.t.cornerEl.cssRemoveKeys('top');\n    this.t.cornerEl.cssRemoveKeys('right');\n    this.t.cornerEl.cssRemoveKeys('bottom');\n    this.t.cornerEl.hide();\n\n    if (edge) {\n      const tBr = intersectsArea === 'tbr';\n      const ltTBrL = intersectsArea === 'lttlbr';\n      if (edgeType === 'top' && tBr) {\n        this.t.cornerEl.show();\n        this.t.cornerEl.css('right', '0px');\n        this.t.cornerEl.css('top', '0px');\n      }\n      if (edgeType === 'top' && ltTBrL) {\n        this.t.cornerEl.show();\n        this.t.cornerEl.css('right', '0px');\n        this.t.cornerEl.css('top', '0px');\n      }\n      if (edgeType === 'top' && rect.eci > viewRange.eci) {\n        this.t.cornerEl.hide();\n      }\n    } else {\n      const t = intersectsArea === 't';\n      const ltT = intersectsArea === 'ltt';\n      if (t || ltT) {\n        this.t.cornerEl.show();\n        this.t.cornerEl.css('right', '0px');\n        this.t.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eci > viewRange.eci) {\n        this.t.cornerEl.hide();\n      }\n      if (rect.eri > viewRange.eri) {\n        this.t.cornerEl.hide();\n      }\n    }\n  }\n\n  setLCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedLeft } = table;\n    const viewRange = fixedLeft.getScrollViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.l.cornerEl.cssRemoveKeys('left');\n    this.l.cornerEl.cssRemoveKeys('top');\n    this.l.cornerEl.cssRemoveKeys('right');\n    this.l.cornerEl.cssRemoveKeys('bottom');\n    this.l.cornerEl.hide();\n\n    if (edge) {\n      const lBr = intersectsArea === 'lbr';\n      const ltTBrL = intersectsArea === 'lttlbr';\n      if (edgeType === 'left' && lBr) {\n        this.l.cornerEl.show();\n        this.l.cornerEl.css('left', '0');\n        this.l.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left' && ltTBrL) {\n        this.l.cornerEl.show();\n        this.l.cornerEl.css('left', '0');\n        this.l.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left' && rect.eri > viewRange.eri) {\n        this.l.cornerEl.hide();\n      }\n    } else {\n      const l = intersectsArea === 'l';\n      const ltL = intersectsArea === 'ltl';\n      if (l || ltL) {\n        this.l.cornerEl.show();\n        this.l.cornerEl.css('right', '0px');\n        this.l.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eci > viewRange.eci) {\n        this.l.cornerEl.hide();\n      }\n      if (rect.eri > viewRange.eri) {\n        this.l.cornerEl.hide();\n      }\n    }\n  }\n\n  setBrCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const viewRange = table.getScrollViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.br.cornerEl.cssRemoveKeys('left');\n    this.br.cornerEl.cssRemoveKeys('top');\n    this.br.cornerEl.cssRemoveKeys('right');\n    this.br.cornerEl.cssRemoveKeys('bottom');\n    this.br.cornerEl.hide();\n\n    if (edge) {\n      const br = intersectsArea === 'br';\n      const ltTLBr = intersectsArea === 'lttlbr';\n      if (edgeType === 'left' && br) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('left', '0');\n        this.br.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'top' && br) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0');\n        this.br.cornerEl.css('top', '0');\n      }\n      if (edgeType === 'left-top' && ltTLBr) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0');\n        this.br.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left-top' && br) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0');\n        this.br.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left' && rect.eri > viewRange.eri) {\n        this.br.cornerEl.hide();\n      }\n      if (edgeType === 'top' && rect.eci > viewRange.eci) {\n        this.br.cornerEl.hide();\n      }\n    } else {\n      const br = intersectsArea === 'br';\n      const tBr = intersectsArea === 'tbr';\n      const lBr = intersectsArea === 'lbr';\n      const ltTLBr = intersectsArea === 'lttlbr';\n      if (br || tBr || lBr || lBr || ltTLBr) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0px');\n        this.br.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eri > viewRange.eri) {\n        this.br.cornerEl.hide();\n      }\n      if (rect.eci > viewRange.eci) {\n        this.br.cornerEl.hide();\n      }\n    }\n  }\n\n  setSelectAttr(selectorAttr) {\n    this.selectorAttr = selectorAttr;\n    this.selectorAttr.id = Date.now();\n  }\n\n  setDownSelectAttr(downSelectorAttr) {\n    this.downSelectorAttr = downSelectorAttr;\n  }\n\n  getIntersectsArea(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixed, cols, rows } = table;\n    const { rect } = selectorAttr;\n    let type = '';\n    const tlRange = new RectRange(0, 0, fixed.fxTop, fixed.fxLeft);\n    const tRange = new RectRange(0, fixed.fxLeft + 1, fixed.fxTop, cols.len);\n    const lRange = new RectRange(fixed.fxTop + 1, 0, rows.len, fixed.fxLeft);\n    const brRange = new RectRange(fixed.fxTop + 1, fixed.fxLeft + 1, rows.len, cols.len);\n    if (rect.intersects(tlRange)) type += 'lt';\n    if (rect.intersects(tRange)) type += 't';\n    if (rect.intersects(lRange)) type += 'l';\n    if (rect.intersects(brRange)) type += 'br';\n    return type;\n  }\n\n  setOffset(selectorAttr) {\n    const intersectsArea = this.getIntersectsArea(selectorAttr);\n    // console.log('intersectsArea', intersectsArea)\n\n    this.setLTOffset(selectorAttr);\n    this.setTOffset(selectorAttr);\n    this.setLOffset(selectorAttr);\n    this.setBROffset(selectorAttr);\n\n    this.setLTCorner(selectorAttr, intersectsArea);\n    this.setTCorner(selectorAttr, intersectsArea);\n    this.setLCorner(selectorAttr, intersectsArea);\n    this.setBrCorner(selectorAttr, intersectsArea);\n  }\n\n  getViewRange() {\n    const { screen } = this;\n    const { table } = screen;\n    const { cols, rows } = table;\n    const viewRange = table.getScrollViewRange();\n    let { sri, sci } = viewRange;\n    const { eri, eci } = viewRange;\n\n    if (table.getFixedWidth() > 0) {\n      sri = 0;\n    }\n    if (table.getFixedHeight() > 0) {\n      sci = 0;\n    }\n\n    const width = cols.sectionSumWidth(sci, eci);\n    const height = rows.sectionSumHeight(sri, eri);\n\n    return new RectRange(sri, sci, eri, eci, width, height);\n  }\n\n  getDownXYSelectorAttr(x, y) {\n    const { screen } = this;\n    const { table } = screen;\n    const { merges, rows, cols } = table;\n    const { ri, ci } = table.getRiCiByXy(x, y);\n    if (ri === -1 && ci === -1) {\n      const rect = new RectRange(0, 0, rows.len - 1, cols.len - 1);\n      return {\n        rect, edge: true, edgeType: 'left-top',\n      };\n    }\n    if (ri === -1) {\n      const rect = new RectRange(0, ci, rows.len - 1, ci);\n      return {\n        rect, edge: true, edgeType: 'top',\n      };\n    }\n    if (ci === -1) {\n      const rect = new RectRange(ri, 0, ri, cols.len - 1);\n      return {\n        rect, edge: true, edgeType: 'left',\n      };\n    }\n    const merge = merges.getFirstIncludes(ri, ci);\n    let rect = new RectRange(ri, ci, ri, ci);\n    if (merge) {\n      rect = merge;\n    }\n    return { rect };\n  }\n\n  getMoveXySelectorAttr(selectorAttr, x, y) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      merges, rows, cols,\n    } = table;\n    const { rect: selectRect, edgeType } = selectorAttr;\n    const viewRange = this.getViewRange();\n    let { ri, ci } = table.getRiCiByXy(x, y);\n    if (ri === -1) ri = viewRange.sri;\n    if (ci === -1) ci = viewRange.sci;\n    switch (edgeType) {\n      case 'left-top': {\n        let rect = selectRect.union(new RectRange(0, 0, rows.len - 1, cols.len - 1));\n        rect = selectRect.union(rect);\n        return {\n          rect, edge: true, edgeType: 'left-top',\n        };\n      }\n      case 'top': {\n        let rect = selectRect.union(new RectRange(0, ci, 0, ci));\n        rect = selectRect.union(rect);\n        return {\n          rect, edge: true, edgeType: 'top',\n        };\n      }\n      case 'left': {\n        let rect = selectRect.union(new RectRange(ri, 0, ri, 0));\n        rect = selectRect.union(rect);\n        return {\n          rect, edge: true, edgeType: 'left',\n        };\n      }\n      default: break;\n    }\n    let rect = selectRect.union(new RectRange(ri, ci, ri, ci));\n    rect = merges.union(rect);\n    return { rect };\n  }\n\n  getSelectRange() {\n    const { rect } = this.selectorAttr;\n    return rect;\n  }\n\n  // ===========downSelectCb=============\n\n  addDownSelectCb(cb) {\n    this.onDownSelectStack.push(cb);\n  }\n\n  removeDownSelectCb(cb) {\n    for (let i = 0; i < this.onChangeStack.length; i += 1) {\n      const item = this.onDownSelectStack[i];\n      if (item === cb) {\n        this.onDownSelectStack.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  // ===========changeCb=============\n\n  addChangeCb(cb) {\n    this.onChangeStack.push(cb);\n  }\n\n  removeChangeCb(cb) {\n    for (let i = 0; i < this.onChangeStack.length; i += 1) {\n      const item = this.onChangeStack[i];\n      if (item === cb) {\n        this.onChangeStack.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  // ===========selectChangeCb=============\n\n  addSelectChangeCb(cb) {\n    this.onSelectChangeStack.push(cb);\n  }\n\n  removeSelectChangeCb(cb) {\n    for (let i = 0; i < this.onSelectChangeStack.length; i += 1) {\n      const item = this.onSelectChangeStack[i];\n      if (item === cb) {\n        this.onSelectChangeStack.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  // ===========selectChangeOverCb=============\n\n  addSelectChangeOverCb(cb) {\n    this.onSelectChangeOver.push(cb);\n  }\n\n  removeSelectChangeOverCb(cb) {\n    for (let i = 0; i < this.onSelectChangeOver.length; i += 1) {\n      const item = this.onSelectChangeOver[i];\n      if (item === cb) {\n        this.onSelectChangeOver.splice(i, 1);\n        return;\n      }\n    }\n  }\n}\n\nexport { ScreenSelector };\n","import {\n  ALIGN,\n  TEXT_DIRECTION,\n  TEXT_WRAP,\n  VERTICAL_ALIGN,\n} from '../../../canvas/Font';\n\n/**\n *  CellFont\n *  @author jerry\n */\nclass CellFont {\n\n  /**\n   * CellFont\n   * @param align\n   * @param verticalAlign\n   * @param textWrap\n   * @param strikethrough\n   * @param underline\n   * @param color\n   * @param name\n   * @param size\n   * @param bold\n   * @param italic\n   * @param angle\n   * @param direction\n   */\n  constructor({\n    align = ALIGN.left,\n    verticalAlign = VERTICAL_ALIGN.center,\n    textWrap = TEXT_WRAP.OVER_FLOW,\n    strikethrough = false,\n    underline = false,\n    color = 'rgb(0,0,0)',\n    name = 'Arial',\n    size = 14,\n    bold = false,\n    italic = false,\n    angle = 0,\n    direction = TEXT_DIRECTION.HORIZONTAL,\n  }) {\n    this.align = align;\n    this.verticalAlign = verticalAlign;\n    this.textWrap = textWrap;\n    this.strikethrough = strikethrough;\n    this.underline = underline;\n    this.color = color;\n    this.name = name;\n    this.size = size;\n    this.bold = bold;\n    this.italic = italic;\n    this.direction = direction;\n    this.angle = angle;\n  }\n\n  clone() {\n    const {\n      align,\n      verticalAlign,\n      textWrap,\n      strikethrough,\n      underline,\n      color,\n      name,\n      size,\n      bold,\n      italic,\n      angle,\n      direction,\n    } = this;\n    return new CellFont({\n      align,\n      verticalAlign,\n      textWrap,\n      strikethrough,\n      underline,\n      color,\n      name,\n      size,\n      bold,\n      italic,\n      angle,\n      direction,\n    });\n  }\n}\n\nexport { CellFont };\n","import { LINE_TYPE } from '../../../canvas/Line';\nimport { Utils } from '../../../utils/Utils';\n\n/**\n * Border\n * @author jerry\n */\nclass Border {\n\n  /**\n   * Border\n   * @param time\n   * @param display\n   * @param width\n   * @param color\n   * @param type\n   */\n  constructor({\n    time = Utils.now(),\n    display = false,\n    width = 1,\n    color = '#000000',\n    type = LINE_TYPE.SOLID_LINE,\n  }) {\n    this.$time = time;\n    this.$display = display;\n    this.$width = width;\n    this.$color = color;\n    this.$type = type;\n  }\n\n  /**\n   * 读取属性修改时间\n   * @returns {*}\n   */\n  get time() {\n    return this.$time;\n  }\n\n  /**\n   * 读取边框是否显示\n   * @returns {boolean}\n   */\n  get display() {\n    return this.$display;\n  }\n\n  /**\n   * 设置边框是否显示\n   * @param value\n   */\n  set display(value) {\n    this.$time = Utils.now();\n    this.$display = value;\n  }\n\n  /**\n   * 读取边框宽度\n   * @returns {number}\n   */\n  get width() {\n    return this.$width;\n  }\n\n  /**\n   * 设置边框宽度\n   * @param value\n   */\n  set width(value) {\n    this.$time = Utils.now();\n    this.$width = value;\n  }\n\n  /**\n   * 读取边框颜色\n   * @returns {string}\n   */\n  get color() {\n    return this.$color;\n  }\n\n  /**\n   * 设置边框颜色\n   * @param value\n   */\n  set color(value) {\n    this.$time = Utils.now();\n    this.$color = value;\n  }\n\n  /**\n   * 读取边框类型\n   * @returns {number}\n   */\n  get type() {\n    return this.$type;\n  }\n\n  /**\n   * 设置边框类型\n   * @param value\n   */\n  set type(value) {\n    this.$time = Utils.now();\n    this.$type = value;\n  }\n\n  /**\n   * 判断两个边框是否一致\n   * @param target\n   */\n  equal(target) {\n    const color = this.color === target.color;\n    const width = this.width === target.width;\n    const type = this.type === target.type;\n    return color && width && type;\n  }\n\n  /**\n   * 比较两个边框的修改时间\n   * this > target = 1\n   * this < target = -1\n   * this == target = 0\n   * @param target\n   * @returns {number}\n   */\n  compareTime(target) {\n    if (Utils.isUnDef(target)) {\n      return -2;\n    }\n    const srcTime = this.time;\n    const targetTime = target.time;\n    if (srcTime > targetTime) {\n      return 1;\n    }\n    if (targetTime > srcTime) {\n      return -1;\n    }\n    return 0;\n  }\n}\n\nexport { Border };\n","import { Border } from './Border';\n\n/**\n * CellBorder\n * @author jerry\n */\nclass CellBorder {\n\n  /**\n   * CellBorder\n   * @param time\n   * @param left\n   * @param top\n   * @param right\n   * @param bottom\n   */\n  constructor({\n    left = {},\n    top = {},\n    right = {},\n    bottom = {},\n  }) {\n    this.left = new Border(left);\n    this.top = new Border(top);\n    this.right = new Border(right);\n    this.bottom = new Border(bottom);\n  }\n\n  clone() {\n    const {\n      left,\n      top,\n      right,\n      bottom,\n    } = this;\n    return new CellBorder({\n      left,\n      top,\n      right,\n      bottom,\n    });\n  }\n}\n\nexport { CellBorder };\n","import { Utils } from '../../../utils/Utils';\nimport { CellFont } from './CellFont';\nimport { CellBorder } from './CellBorder';\n\n/**\n * Cell\n * @author jerry\n */\nclass Cell {\n\n  /**\n   * Cell\n   * @param text\n   * @param background\n   * @param format\n   * @param fontAttr\n   * @param borderAttr\n   * @param contentWidth\n   */\n  constructor({\n    text = Utils.EMPTY,\n    background = Utils.Nul,\n    format = 'default',\n    fontAttr = {},\n    borderAttr = {},\n    contentWidth = 0,\n  }) {\n    this.background = background;\n    this.format = format;\n    this.text = text;\n    this.fontAttr = new CellFont(fontAttr);\n    this.borderAttr = new CellBorder(borderAttr);\n    this.contentWidth = contentWidth;\n  }\n\n  setContentWidth(contentWidth) {\n    this.contentWidth = contentWidth;\n  }\n\n  clone() {\n    const {\n      background,\n      format,\n      text,\n      fontAttr,\n      borderAttr,\n    } = this;\n    return new Cell({\n      background,\n      format,\n      text,\n      fontAttr: fontAttr.clone(),\n      borderAttr: borderAttr.clone(),\n    });\n  }\n}\n\nexport { Cell };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { Undo } from './tools/Undo';\nimport { Redo } from './tools/Redo';\nimport { PaintFormat } from './tools/PaintFormat';\nimport { ClearFormat } from './tools/ClearFormat';\nimport { Format } from './tools/Format';\nimport { Font } from './tools/Font';\nimport { FontSize } from './tools/FontSize';\nimport { FontBold } from './tools/FontBold';\nimport { FontItalic } from './tools/FontItalic';\nimport { UnderLine } from './tools/UnderLine';\nimport { FontStrike } from './tools/FontStrike';\nimport { FontColor } from './tools/FontColor';\nimport { FillColor } from './tools/FillColor';\nimport { Border } from './tools/contextmenu/icon/border/Border';\nimport { Merge } from './tools/Merge';\nimport { HorizontalAlign } from './tools/HorizontalAlign';\nimport { VerticalAlign } from './tools/VerticalAlign';\nimport { TextWrapping } from './tools/TextWrapping';\nimport { Fixed } from './tools/Fixed';\nimport { Filter } from './tools/Filter';\nimport { Functions } from './tools/Functions';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { ScreenCopyStyle } from '../table/copystyle/ScreenCopyStyle';\nimport { ScreenSelector } from '../table/selector/ScreenSelector';\nimport { Utils } from '../../utils/Utils';\nimport { ElPopUp } from '../../component/elpopup/ElPopUp';\nimport { LINE_TYPE } from '../../canvas/Line';\nimport { Icon } from './tools/Icon';\nimport { ALIGN, TEXT_WRAP, VERTICAL_ALIGN } from '../../canvas/Font';\nimport { Cell } from '../table/cells/Cell';\n\nclass Divider extends Widget {\n  constructor() {\n    super(`${cssPrefix}-tools-divider`);\n  }\n}\n\nclass TopMenu extends Widget {\n\n  constructor(workTop) {\n    super(`${cssPrefix}-tools-menu`);\n    this.workTop = workTop;\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    // tools\n    this.undo = new Undo();\n    this.redo = new Redo();\n    this.paintFormat = new PaintFormat();\n    this.clearFormat = new ClearFormat();\n    this.format = new Format({\n      contextMenu: {\n        onUpdate: (format, title) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            dataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.format.setTitle(title);\n          if (selectorAttr) {\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, cell) => {\n                cell.format = format;\n              },\n            });\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.font = new Font({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            dataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.font.setTitle(type);\n          if (selectorAttr) {\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, cell) => {\n                cell.fontAttr.name = type;\n              },\n            });\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fontSize = new FontSize({\n      contextMenu: {\n        onUpdate: (size) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            dataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.fontSize.setTitle(size);\n          if (selectorAttr) {\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, cell) => {\n                cell.fontAttr.size = size;\n              },\n            });\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fontColor = new FontColor({\n      contextMenu: {\n        onUpdate: (color) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            dataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.fontColor.setColor(color);\n          if (selectorAttr) {\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, cell) => {\n                cell.fontAttr.color = color;\n              },\n            });\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fillColor = new FillColor({\n      contextMenu: {\n        onUpdate: (color) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            dataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.fillColor.setColor(color);\n          if (selectorAttr) {\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, cell) => {\n                cell.background = color;\n              },\n            });\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.border = new Border({\n      contextMenu: {\n        onUpdate: (borderType, color, lineType) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            cells,\n            dataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          if (selectorAttr) {\n            let width = 1;\n            let type = LINE_TYPE.SOLID_LINE;\n            // Line Type\n            switch (lineType) {\n              case 'line1':\n                width = 1;\n                type = LINE_TYPE.SOLID_LINE;\n                break;\n              case 'line2':\n                width = 2;\n                type = LINE_TYPE.SOLID_LINE;\n                break;\n              case 'line3':\n                width = 3;\n                type = LINE_TYPE.SOLID_LINE;\n                break;\n              case 'line4':\n                type = LINE_TYPE.DOTTED_LINE;\n                break;\n              case 'line5':\n                type = LINE_TYPE.POINT_LINE;\n                break;\n              case 'line6':\n                type = LINE_TYPE.DOUBLE_LINE;\n                break;\n              default: break;\n            }\n            // Border Type\n            switch (borderType) {\n              case 'border1':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.left.display = true;\n                    cell.borderAttr.top.display = true;\n                    cell.borderAttr.right.display = true;\n                    cell.borderAttr.bottom.display = true;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.left.color = color;\n                    cell.borderAttr.top.color = color;\n                    cell.borderAttr.right.color = color;\n                    cell.borderAttr.bottom.color = color;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.left.width = width;\n                    cell.borderAttr.top.width = width;\n                    cell.borderAttr.right.width = width;\n                    cell.borderAttr.bottom.width = width;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.left.type = type;\n                    cell.borderAttr.top.type = type;\n                    cell.borderAttr.right.type = type;\n                    cell.borderAttr.bottom.type = type;\n                  },\n                });\n                break;\n              case 'border2':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.display = true;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.display = true;\n                    } else {\n                      cell.borderAttr.bottom.display = true;\n                      cell.borderAttr.top.display = true;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.display = true;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.display = true;\n                    } else {\n                      cell.borderAttr.right.display = true;\n                      cell.borderAttr.left.display = true;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.color = color;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.color = color;\n                    } else {\n                      cell.borderAttr.bottom.color = color;\n                      cell.borderAttr.top.color = color;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.color = color;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.color = color;\n                    } else {\n                      cell.borderAttr.right.color = color;\n                      cell.borderAttr.left.color = color;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.width = width;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.width = width;\n                    } else {\n                      cell.borderAttr.bottom.width = width;\n                      cell.borderAttr.top.width = width;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.width = width;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.width = width;\n                    } else {\n                      cell.borderAttr.right.width = width;\n                      cell.borderAttr.left.width = width;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.type = type;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.type = type;\n                    } else {\n                      cell.borderAttr.bottom.type = type;\n                      cell.borderAttr.top.type = type;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.type = type;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.type = type;\n                    } else {\n                      cell.borderAttr.right.type = type;\n                      cell.borderAttr.left.type = type;\n                    }\n                  },\n                });\n                break;\n              case 'border3':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.display = true;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.display = true;\n                    } else {\n                      cell.borderAttr.bottom.display = true;\n                      cell.borderAttr.top.display = true;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.color = color;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.color = color;\n                    } else {\n                      cell.borderAttr.bottom.color = color;\n                      cell.borderAttr.top.color = color;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.width = width;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.width = width;\n                    } else {\n                      cell.borderAttr.bottom.width = width;\n                      cell.borderAttr.top.width = width;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.type = type;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.type = type;\n                    } else {\n                      cell.borderAttr.bottom.type = type;\n                      cell.borderAttr.top.type = type;\n                    }\n                  },\n                });\n                break;\n              case 'border4':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.display = true;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.display = true;\n                    } else {\n                      cell.borderAttr.right.display = true;\n                      cell.borderAttr.left.display = true;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.color = color;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.color = color;\n                    } else {\n                      cell.borderAttr.right.color = color;\n                      cell.borderAttr.left.color = color;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.width = width;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.width = width;\n                    } else {\n                      cell.borderAttr.right.width = width;\n                      cell.borderAttr.left.width = width;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.type = type;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.type = type;\n                    } else {\n                      cell.borderAttr.right.type = type;\n                      cell.borderAttr.left.type = type;\n                    }\n                  },\n                });\n                break;\n              case 'border5':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.left.display = true;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.right.display = true;\n                    }\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.top.display = true;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.bottom.display = true;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.left.color = color;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.right.color = color;\n                    }\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.top.color = color;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.bottom.color = color;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.left.width = width;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.right.width = width;\n                    }\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.top.width = width;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.bottom.width = width;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.left.type = type;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.right.type = type;\n                    }\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.top.type = type;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.bottom.type = type;\n                    }\n                  },\n                });\n                break;\n              case 'border6':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (c === selectorAttr.rect.sci) {\n                      cell.borderAttr.left.display = true;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.left.color = color;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.left.width = width;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.left.type = type;\n                  },\n                });\n                break;\n              case 'border7':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (r === selectorAttr.rect.sri) {\n                      cell.borderAttr.top.display = true;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.top.color = color;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.top.width = width;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.top.type = type;\n                  },\n                });\n                break;\n              case 'border8':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (c === selectorAttr.rect.eci) {\n                      cell.borderAttr.right.display = true;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.right.color = color;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.right.width = width;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.right.type = type;\n                  },\n                });\n                break;\n              case 'border9':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    if (r === selectorAttr.rect.eri) {\n                      cell.borderAttr.bottom.display = true;\n                    }\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.bottom.color = color;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.bottom.width = width;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.bottom.type = type;\n                  },\n                });\n                break;\n              case 'border10':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c) => {\n                    const cell = cells.getCellOrNew(r, c);\n                    if (selectorAttr.rect.sri === r) {\n                      const top = cells.getCellOrNew(r - 1, c);\n                      top.borderAttr.bottom.display = false;\n                    }\n                    if (selectorAttr.rect.eri === r) {\n                      const bottom = cells.getCellOrNew(r + 1, c);\n                      bottom.borderAttr.top.display = false;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      const left = cells.getCellOrNew(r, c - 1);\n                      left.borderAttr.right.display = false;\n                    }\n                    if (selectorAttr.rect.eci === c) {\n                      const right = cells.getCellOrNew(r, c + 1);\n                      right.borderAttr.left.display = false;\n                    }\n                    cell.borderAttr.left.display = false;\n                    cell.borderAttr.top.display = false;\n                    cell.borderAttr.right.display = false;\n                    cell.borderAttr.bottom.display = false;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.left.color = false;\n                    cell.borderAttr.top.color = false;\n                    cell.borderAttr.right.color = false;\n                    cell.borderAttr.bottom.color = false;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.left.width = false;\n                    cell.borderAttr.top.width = false;\n                    cell.borderAttr.right.width = false;\n                    cell.borderAttr.bottom.width = false;\n                  },\n                });\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, cell) => {\n                    cell.borderAttr.left.type = false;\n                    cell.borderAttr.top.type = false;\n                    cell.borderAttr.right.type = false;\n                    cell.borderAttr.bottom.type = false;\n                  },\n                });\n                break;\n              default: break;\n            }\n            // 快照\n            dataSnapshot.snapshot();\n            // render\n            table.render();\n          }\n        },\n      },\n    });\n    this.fontBold = new FontBold();\n    this.fontItalic = new FontItalic();\n    this.underLine = new UnderLine();\n    this.fontStrike = new FontStrike();\n    this.merge = new Merge();\n    this.horizontalAlign = new HorizontalAlign({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            dataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          switch (type) {\n            case ALIGN.left:\n              this.horizontalAlign.setIcon(new Icon('align-left'));\n              break;\n            case ALIGN.center:\n              this.horizontalAlign.setIcon(new Icon('align-center'));\n              break;\n            case ALIGN.right:\n              this.horizontalAlign.setIcon(new Icon('align-right'));\n              break;\n            default: break;\n          }\n          if (selectorAttr) {\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, cell) => {\n                cell.fontAttr.align = type;\n              },\n            });\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.verticalAlign = new VerticalAlign({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            dataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          switch (type) {\n            case VERTICAL_ALIGN.top:\n              this.verticalAlign.setIcon(new Icon('align-top'));\n              break;\n            case VERTICAL_ALIGN.center:\n              this.verticalAlign.setIcon(new Icon('align-middle'));\n              break;\n            case VERTICAL_ALIGN.bottom:\n              this.verticalAlign.setIcon(new Icon('align-bottom'));\n              break;\n            default: break;\n          }\n          if (selectorAttr) {\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, cell) => {\n                cell.fontAttr.verticalAlign = type;\n              },\n            });\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.textWrapping = new TextWrapping({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            dataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          let icon;\n          switch (type) {\n            case TEXT_WRAP.TRUNCATE:\n              icon = new Icon('truncate');\n              break;\n            case TEXT_WRAP.WORD_WRAP:\n              icon = new Icon('text-wrap');\n              break;\n            case TEXT_WRAP.OVER_FLOW:\n            default:\n              icon = new Icon('overflow');\n              break;\n          }\n          this.textWrapping.setIcon(icon);\n          if (selectorAttr) {\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, cell) => {\n                cell.fontAttr.textWrap = type;\n              },\n            });\n            dataSnapshot.snapshot();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fixed = new Fixed();\n    this.filter = new Filter();\n    this.functions = new Functions();\n    this.children(this.undo);\n    this.children(this.redo);\n    this.children(this.paintFormat);\n    this.children(this.clearFormat);\n    this.children(new Divider());\n    this.children(this.format);\n    this.children(new Divider());\n    this.children(this.font);\n    this.children(this.fontSize);\n    this.children(new Divider());\n    this.children(this.fontBold);\n    this.children(this.fontItalic);\n    this.children(this.underLine);\n    this.children(this.fontStrike);\n    this.children(this.fontColor);\n    this.children(new Divider());\n    this.children(this.fillColor);\n    this.children(this.border);\n    this.children(this.merge);\n    this.children(this.horizontalAlign);\n    this.children(this.verticalAlign);\n    this.children(this.textWrapping);\n    this.children(this.fixed);\n    this.children(this.filter);\n    this.children(this.functions);\n    this.bind();\n  }\n\n  bind() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    EventBind.bind(body, Constant.WORK_BODY_TYPE.CHANGE_ACTIVE, () => {\n      this.setStatus();\n    });\n    EventBind.bind(body, Constant.TABLE_EVENT_TYPE.DATA_CHANGE, () => {\n      this.setStatus();\n    });\n    EventBind.bind(body, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, () => {\n      // console.log('TABLE_EVENT_TYPE.SELECT_DOWN');\n      this.setFormatStatus();\n      this.setFontStatus();\n      this.setFontSizeStatus();\n      this.setFontBoldStatus();\n      this.setFontItalicStatus();\n      this.setUnderLineStatus();\n      this.setFontStrikeStatus();\n      this.setFontColorStatus();\n      this.setFillColorStatus();\n      this.setHorizontalAlignStatus();\n      this.setVerticalAlignStatus();\n      this.setTextWrappingStatus();\n    });\n    EventBind.bind(this.undo, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { dataSnapshot } = table;\n      if (dataSnapshot.undo.length() > 1) dataSnapshot.undo.pop();\n    });\n    EventBind.bind(this.redo, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { dataSnapshot } = table;\n      dataSnapshot.redo.pop();\n    });\n    EventBind.bind(this.paintFormat, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, cells, cellsHelper, dataSnapshot } = table;\n      const screenCopyStyle = screen.findByClass(ScreenCopyStyle);\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        screenCopyStyle.setShow(selectorAttr);\n        this.paintFormat.active(true);\n        this.paintFormat.addSheet(sheet);\n        const cb = () => {\n          // 清除复制\n          screenCopyStyle.setHide();\n          this.paintFormat.active(false);\n          this.paintFormat.removeSheet(sheet);\n          screenSelector.removeSelectChangeOverCb(cb);\n          // 复制样式\n          const { selectorAttr: newSelectorAttr } = screenSelector;\n          const src = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n          cellsHelper.getCellOrNewCellByViewRange({\n            rectRange: newSelectorAttr.rect,\n            callback: (r, c, cell) => {\n              const { text } = cell;\n              Utils.mergeDeep(cell, src);\n              cell.text = text;\n            },\n          });\n          dataSnapshot.snapshot();\n          table.render();\n        };\n        screenSelector.addSelectChangeOverCb(cb);\n      }\n    });\n    EventBind.bind(this.clearFormat, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, cellsHelper } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, cell) => {\n            const { text } = cell;\n            table.setCell(r, c, new Cell({ text }));\n            Utils.mergeDeep(cell, new Cell({ text }));\n            cell.text = text;\n          },\n        });\n        table.render();\n      }\n    });\n    EventBind.bind(this.format, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { format } = this;\n      const { formatContextMenu } = format;\n      const { elPopUp } = formatContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (formatContextMenu.isOpen()) {\n        formatContextMenu.open();\n      } else {\n        formatContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.font, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { font } = this;\n      const { fontContextMenu } = font;\n      const { elPopUp } = fontContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fontContextMenu.isOpen()) {\n        fontContextMenu.open();\n      } else {\n        fontContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.fontSize, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { fontSize } = this;\n      const { fontSizeContextMenu } = fontSize;\n      const { elPopUp } = fontSizeContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fontSizeContextMenu.isOpen()) {\n        fontSizeContextMenu.open();\n      } else {\n        fontSizeContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.fontBold, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, cells, cellsHelper, dataSnapshot } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const bold = !firstCell.fontAttr.bold;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, cell) => {\n            cell.fontAttr.bold = bold;\n          },\n        });\n        dataSnapshot.snapshot();\n        table.render();\n      }\n    });\n    EventBind.bind(this.fontItalic, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, cells, cellsHelper, dataSnapshot } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const italic = !firstCell.fontAttr.italic;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, cell) => {\n            cell.fontAttr.italic = italic;\n          },\n        });\n        dataSnapshot.snapshot();\n        table.render();\n      }\n    });\n    EventBind.bind(this.underLine, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, cells, cellsHelper, dataSnapshot } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const underline = !firstCell.fontAttr.underline;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, cell) => {\n            cell.fontAttr.underline = underline;\n          },\n        });\n        dataSnapshot.snapshot();\n        table.render();\n      }\n    });\n    EventBind.bind(this.fontStrike, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, cells, cellsHelper, dataSnapshot } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const strikethrough = !firstCell.fontAttr.strikethrough;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, cell) => {\n            cell.fontAttr.strikethrough = strikethrough;\n          },\n        });\n        dataSnapshot.snapshot();\n        table.render();\n      }\n    });\n    EventBind.bind(this.fontColor, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { fontColor } = this;\n      const { fontColorContextMenu } = fontColor;\n      const { elPopUp } = fontColorContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fontColorContextMenu.isOpen()) {\n        fontColorContextMenu.open();\n      } else {\n        fontColorContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.fillColor, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { fillColor } = this;\n      const { fillColorContextMenu } = fillColor;\n      const { elPopUp } = fillColorContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fillColorContextMenu.isOpen()) {\n        fillColorContextMenu.open();\n      } else {\n        fillColorContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.border, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { border } = this;\n      const { borderTypeContextMenu } = border;\n      const { elPopUp } = borderTypeContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (borderTypeContextMenu.isOpen()) {\n        borderTypeContextMenu.open();\n      } else {\n        borderTypeContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.merge, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { screen, dataSnapshot, merges } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const merge = selectorAttr.rect.clone();\n        const find = merges.getFirstIncludes(merge.sri, merge.sci);\n        if (find !== null) {\n          merges.deleteIntersects(find);\n        } else if (merge.multiple()) {\n          merges.add(merge);\n        }\n        dataSnapshot.snapshot();\n        table.render();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.horizontalAlign, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { horizontalAlign } = this;\n      const { horizontalContextMenu } = horizontalAlign;\n      const { elPopUp } = horizontalContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (horizontalContextMenu.isOpen()) {\n        horizontalContextMenu.open();\n      } else {\n        horizontalContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.verticalAlign, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { verticalAlign } = this;\n      const { verticalContextMenu } = verticalAlign;\n      const { elPopUp } = verticalContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (verticalContextMenu.isOpen()) {\n        verticalContextMenu.open();\n      } else {\n        verticalContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.textWrapping, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { textWrapping } = this;\n      const { textWrappingContextMenu } = textWrapping;\n      const { elPopUp } = textWrappingContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (textWrappingContextMenu.isOpen()) {\n        textWrappingContextMenu.open();\n      } else {\n        textWrappingContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n\n  setUndoStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { dataSnapshot } = table;\n    this.undo.active(dataSnapshot.undo.length() > 1);\n  }\n\n  setRedoStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { dataSnapshot } = table;\n    this.redo.active(!dataSnapshot.redo.isEmpty());\n  }\n\n  setPaintFormatStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    this.paintFormat.active(this.paintFormat.includeSheet(sheet));\n  }\n\n  setFormatStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let text = '常规';\n    let format = 'default';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      format = firstCell.format;\n      switch (format) {\n        case 'default':\n          text = '常规';\n          break;\n        case 'text':\n          text = '文本';\n          break;\n        case 'number':\n          text = '数字';\n          break;\n        case 'percentage':\n          text = '百分比';\n          break;\n        case 'fraction':\n          text = '分数';\n          break;\n        case 'ENotation':\n          text = '科学计数';\n          break;\n        case 'rmb':\n          text = '人民币';\n          break;\n        case 'hk':\n          text = '港币';\n          break;\n        case 'dollar':\n          text = '美元';\n          break;\n        case 'date1':\n        case 'date2':\n        case 'date3':\n        case 'date4':\n        case 'date5':\n          text = '日期';\n          break;\n        case 'time':\n          text = '时间';\n          break;\n        default: break;\n      }\n    }\n    this.format.setTitle(text);\n    this.format.formatContextMenu.setActiveByType(format);\n  }\n\n  setFontStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let name = 'Arial';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      name = firstCell.fontAttr.name;\n    }\n    this.font.setTitle(name);\n    this.font.fontContextMenu.setActiveByType(name);\n  }\n\n  setFontSizeStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let size = '12';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      size = firstCell.fontAttr.size;\n    }\n    this.fontSize.setTitle(size);\n  }\n\n  setFontBoldStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let bold = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      bold = firstCell.fontAttr.bold;\n    }\n    this.fontBold.active(bold);\n  }\n\n  setFontItalicStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let italic = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      italic = firstCell.fontAttr.italic;\n    }\n    this.fontItalic.active(italic);\n  }\n\n  setUnderLineStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let underline = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      underline = firstCell.fontAttr.underline;\n    }\n    this.underLine.active(underline);\n  }\n\n  setFontStrikeStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let strikethrough = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      strikethrough = firstCell.fontAttr.strikethrough;\n    }\n    this.fontStrike.active(strikethrough);\n  }\n\n  setFontColorStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let color = 'rgb(0, 0, 0)';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      color = firstCell.fontAttr.color;\n    }\n    this.fontColor.setColor(color);\n    this.fontColor.fontColorContextMenu.setActiveByColor(color);\n  }\n\n  setFillColorStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let color = 'rgb(255, 255, 255)';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      if (firstCell.background) {\n        color = firstCell.background;\n      }\n    }\n    this.fillColor.setColor(color);\n    this.fillColor.fillColorContextMenu.setActiveByColor(color);\n  }\n\n  setHorizontalAlignStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let icon = new Icon('align-left');\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      switch (firstCell.fontAttr.align) {\n        case ALIGN.left:\n          icon = new Icon('align-left');\n          break;\n        case ALIGN.center:\n          icon = new Icon('align-center');\n          break;\n        case ALIGN.right:\n          icon = new Icon('align-right');\n          break;\n        default: break;\n      }\n    }\n    this.horizontalAlign.setIcon(icon);\n  }\n\n  setVerticalAlignStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let icon = new Icon('align-middle');\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      switch (firstCell.fontAttr.verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          icon = new Icon('align-top');\n          break;\n        case VERTICAL_ALIGN.center:\n          icon = new Icon('align-middle');\n          break;\n        case VERTICAL_ALIGN.bottom:\n          icon = new Icon('align-bottom');\n          break;\n        default: break;\n      }\n    }\n    this.verticalAlign.setIcon(icon);\n  }\n\n  setTextWrappingStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let icon = new Icon('text-wrap');\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      switch (firstCell.fontAttr.textWrap) {\n        case TEXT_WRAP.TRUNCATE:\n          icon = new Icon('truncate');\n          break;\n        case TEXT_WRAP.WORD_WRAP:\n          icon = new Icon('text-wrap');\n          break;\n        case TEXT_WRAP.OVER_FLOW:\n        default:\n          icon = new Icon('overflow');\n          break;\n      }\n    }\n    this.textWrapping.setIcon(icon);\n  }\n\n  setStatus() {\n    this.setUndoStatus();\n    this.setRedoStatus();\n    this.setPaintFormatStatus();\n    this.setFormatStatus();\n    this.setFontStatus();\n    this.setFontSizeStatus();\n    this.setFontBoldStatus();\n    this.setFontItalicStatus();\n    this.setUnderLineStatus();\n    this.setFontStrikeStatus();\n    this.setFontColorStatus();\n    this.setFillColorStatus();\n    this.setHorizontalAlignStatus();\n    this.setVerticalAlignStatus();\n    this.setTextWrappingStatus();\n  }\n}\n\nexport { TopMenu };\n","import { Widget } from '../../../../lib/Widget';\nimport { cssPrefix } from '../../../../config';\n\nclass Item extends Widget {\n  constructor(className) {\n    super(`${cssPrefix}-option-item ${className}`);\n    this.title = '';\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.text(this.title);\n  }\n}\n\nexport { Item };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\n\nclass File extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-file`);\n    this.setTitle('文件');\n  }\n}\n\nexport { File };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\n\nclass ForMart extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-format`);\n    this.setTitle('格式');\n  }\n}\n\nexport { ForMart };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\n\nclass Insert extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-insert`);\n    this.setTitle('插入');\n  }\n}\n\nexport { Insert };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\n\nclass Look extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-look`);\n    this.setTitle('查看');\n  }\n}\n\nexport { Look };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../config';\n\nclass Update extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-update`);\n    this.setTitle('修改');\n  }\n}\n\nexport { Update };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { File } from './options/File';\nimport { ForMart } from './options/ForMart';\nimport { Insert } from './options/Insert';\nimport { Look } from './options/Look';\nimport { Update } from './options/Update';\n\nclass TopOption extends Widget {\n  constructor() {\n    super(`${cssPrefix}-option`);\n    this.title = ' X-Sheet 工作簿';\n    this.logoEle = h('div', `${cssPrefix}-option-logo`);\n    this.titleEle = h('div', `${cssPrefix}-option-title`);\n    this.optionsEle = h('div', `${cssPrefix}-option-box`);\n    this.leftEle = h('div', `${cssPrefix}-option-left`);\n    this.rightEle = h('div', `${cssPrefix}-option-right`);\n    this.leftEle.children(this.logoEle);\n    this.rightEle.children(this.titleEle, this.optionsEle);\n    this.children(this.leftEle);\n    this.children(this.rightEle);\n    this.setTitle(this.title);\n    this.file = new File();\n    this.format = new ForMart();\n    this.insert = new Insert();\n    this.look = new Look();\n    this.update = new Update();\n    this.optionsEle.children(this.file);\n    this.optionsEle.children(this.format);\n    this.optionsEle.children(this.insert);\n    this.optionsEle.children(this.look);\n    this.optionsEle.children(this.update);\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.titleEle.text(title);\n  }\n}\n\nexport { TopOption };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { TopMenu } from './TopMenu';\nimport { TopOption } from './TopOption';\n\nclass WorkTop extends Widget {\n  constructor(work) {\n    super(`${cssPrefix}-work-top`);\n    this.work = work;\n    this.toolsMenu = new TopMenu(this);\n    this.option = new TopOption(this);\n    this.children(this.option);\n    this.children(this.toolsMenu);\n  }\n}\n\nexport { WorkTop };\n","import { Element } from '../../Element';\nimport { cssPrefix } from '../../../config';\nimport { Utils } from '../../../utils/Utils';\n\nclass VerticalCenterElement extends Element {\n  constructor(element, options) {\n    super('div', `${cssPrefix}-vertical-center-element`);\n    this.options = Utils.mergeDeep({\n      style: {},\n    }, options);\n    this.element = element;\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    this.children(this.element);\n  }\n}\n\nexport { VerticalCenterElement };\n","import { Element } from '../../Element';\nimport { cssPrefix } from '../../../config';\nimport { Utils } from '../../../utils/Utils';\n\nclass VerticalCenter extends Element {\n  constructor(options) {\n    super('div', `${cssPrefix}-vertical-center`);\n    this.options = Utils.mergeDeep({\n      centerElements: [],\n      style: {},\n    }, options);\n    this.init();\n  }\n\n  init() {\n    this.css(this.options.style);\n    // eslint-disable-next-line no-restricted-syntax\n    for (const centerElement of this.options.centerElements) this.children(centerElement);\n  }\n}\n\nexport { VerticalCenter };\n","class DateUtils {\n  static dateFormat(fmt, date) {\n    const o = {\n      'M+': date.getMonth() + 1,\n      'd+': date.getDate(),\n      'h+': date.getHours(),\n      'm+': date.getMinutes(),\n      's+': date.getSeconds(),\n      'q+': Math.floor((date.getMonth() + 3) / 3),\n      S: date.getMilliseconds(),\n    };\n    const reYear = /(y+)/;\n    const resultYear = reYear.exec(fmt);\n    if (resultYear) {\n      const yearFormatPart = resultYear[0];\n      const yearVal = (date.getFullYear().toString()).substr(4 - yearFormatPart.length);\n      // eslint-disable-next-line no-param-reassign\n      fmt = fmt.replace(yearFormatPart, yearVal);\n    }\n    // eslint-disable-next-line guard-for-in,no-restricted-syntax\n    for (const k in o) {\n      const re = new RegExp(`(${k})`);\n      const res = re.exec(fmt);\n      if (res) {\n        const Val = o[k].toString();\n        const formatPart = res[0];\n        const replaceVal = (formatPart.length === 1) ? (Val) : ((`00${Val}`).substr(Val.length));\n        // eslint-disable-next-line no-param-reassign\n        fmt = fmt.replace(formatPart, replaceVal);\n      }\n    }\n    return fmt;\n  }\n\n  static parserToDate(dateText, format) {\n    if (!dateText) {\n      return null;\n    }\n    const defaultVal = new Date('1970/01/01 00:00:00');\n    const o = [{\n      reg: 'y+',\n    }, {\n      reg: 'M+',\n    }, {\n      reg: 'd+',\n    }, {\n      reg: 'h+',\n    }, {\n      reg: 'm+',\n    }, {\n      reg: 's+',\n    }, {\n      reg: 'S',\n    }];\n    let year = defaultVal.getFullYear();\n    let month = defaultVal.getMonth() + 1;\n    let day = defaultVal.getDate();\n    let hours = defaultVal.getHours();\n    let minutes = defaultVal.getMinutes();\n    let seconds = defaultVal.getSeconds();\n    let milliseconds = defaultVal.getMilliseconds();\n    let index = 1;\n    for (let j = 0; j < format.length; j += 1) {\n      const oneChar = format[j];\n      for (let i = 0; i < o.length; i += 1) {\n        const onePart = o[i];\n        const onePartReg = onePart.reg;\n        if (onePartReg[0] === oneChar) {\n          if (!onePart.index) {\n            onePart.index = index;\n            index += 1;\n          }\n          break;\n        }\n      }\n    }\n    for (let i = 0; i < o.length; i += 1) {\n      const onePart = o[i];\n      const onePartReg = onePart.reg;\n      const re = new RegExp(`(${onePartReg})`);\n      const res = re.exec(format);\n      if (res) {\n        const formatPart = res[0];\n        const replaceVal = `([0-9]{1,${formatPart.length}})`;\n        // eslint-disable-next-line no-param-reassign\n        format = format.replace(formatPart, replaceVal);\n      }\n    }\n    const dataInfo = {};\n    const re = new RegExp(format);\n    const res = re.exec(dateText);\n    if (res) {\n      for (let i = 1; i < res.length; i += 1) {\n        dataInfo[i] = res[i];\n      }\n    } else {\n      return null;\n    }\n    if (o[0].index) {\n      const { index } = o[0];\n      year = dataInfo[index];\n    }\n    if (o[1].index) {\n      const { index } = o[1];\n      month = dataInfo[index];\n    }\n    if (o[2].index) {\n      const { index } = o[2];\n      day = dataInfo[index];\n    }\n    if (o[3].index) {\n      const { index } = o[3];\n      hours = dataInfo[index];\n    }\n    if (o[4].index) {\n      const { index } = o[4];\n      minutes = dataInfo[index];\n    }\n    if (o[5].index) {\n      const { index } = o[5];\n      seconds = dataInfo[index];\n    }\n    if (o[6].index) {\n      const { index } = o[6];\n      milliseconds = dataInfo[index];\n    }\n    return new Date(year, month - 1, day, hours, minutes, seconds, milliseconds);\n  }\n}\n\nexport { DateUtils };\n","import { Utils } from '../../utils/Utils';\nimport { DateUtils } from '../../utils/DateUtils';\n\nfunction parserToDate(text) {\n  let result = DateUtils.parserToDate(text, 'yyyy/MM/dd hh:mm:ss');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'yyyy/MM/dd');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'hh:mm:ss');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'MM月dd日');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'yyyy年MM月');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'yyyy年MM月dd日');\n  if (result) return result;\n  return null;\n}\n\nclass Format {\n\n  default(value) {\n    return value;\n  }\n\n  text(value) {\n    return value;\n  }\n\n  number(value) {\n    if (Utils.isNumber(value)) {\n      if (value.toString().indexOf('.') !== -1) {\n        const lastIndex = value.toString().lastIndexOf('.') + 1;\n        return value.toString().substring(0, lastIndex + 2);\n      }\n      return `${value}.00`;\n    }\n    return value;\n  }\n\n  percentage(value) {\n    if (Utils.isNumber(value)) {\n      return `${value}%`;\n    }\n    return value;\n  }\n\n  fraction(value) {\n    if (Utils.isFraction(value)) {\n      const left = value.split('/')[0];\n      const right = value.split('/')[1];\n      return Utils.parseInt(left) / Utils.parseInt(right);\n    }\n    return value;\n  }\n\n  ENotation(value) {\n    if (Utils.isNumber(value)) {\n      const number = Utils.parseFloat(value);\n      return number.toExponential(2);\n    }\n    return value;\n  }\n\n  rmb(value) {\n    if (Utils.isNumber(value)) {\n      return `￥${value}`;\n    }\n    return value;\n  }\n\n  hk(value) {\n    if (Utils.isNumber(value)) {\n      return `HK${value}`;\n    }\n    return value;\n  }\n\n  dollar(value) {\n    if (Utils.isNumber(value)) {\n      return `$${value}`;\n    }\n    return value;\n  }\n\n  date1(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy/MM/dd', result);\n    return value;\n  }\n\n  date2(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('MM月dd日', result);\n    return value;\n  }\n\n  date3(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy年MM月', result);\n    return value;\n  }\n\n  date4(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy年MM月dd日', result);\n    return value;\n  }\n\n  date5(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy/MM/dd hh:mm:ss', result);\n    return value;\n  }\n\n  time(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('hh:mm:ss', result);\n    return value;\n  }\n}\n\nconst format = new Format();\n\nexport default (type, value) => format[type](value);\n","import { Utils } from '../../utils/Utils';\n\nclass Rows {\n\n  constructor({ data = [], len = 10, height }) {\n    this._ = [];\n    this.minHeight = 5;\n    this.height = Utils.minIf(height, this.minHeight);\n    this.len = len;\n    this.cacheTotalHeight = -1;\n    this.setData(data);\n  }\n\n  get(ri) {\n    return this._[ri];\n  }\n\n  getOrNew(ri) {\n    this._[ri] = this._[ri] || {};\n    return this._[ri];\n  }\n\n  getHeight(ri) {\n    const row = this.get(ri);\n    if (row && row.height) {\n      return row.height;\n    }\n    return this.height;\n  }\n\n  setHeight(ri, height) {\n    const row = this.getOrNew(ri);\n    row.height = Utils.minIf(height, this.minHeight);\n    this.cacheTotalHeight = -1;\n  }\n\n  eachHeight(ri, ei, cb, sy = 0) {\n    let y = sy;\n    for (let i = ri; i <= ei; i += 1) {\n      const rowHeight = this.getHeight(i);\n      cb(i, rowHeight, y);\n      y += rowHeight;\n    }\n  }\n\n  sectionSumHeight(sri, eri) {\n    return Utils.rangeSum(sri, eri + 1, i => this.getHeight(i));\n  }\n\n  rectRangeSumHeight(rectRange) {\n    return this.sectionSumHeight(rectRange.sri, rectRange.eri);\n  }\n\n  totalHeight() {\n    if (this.cacheTotalHeight === -1) {\n      this.cacheTotalHeight = Utils.rangeSum(0, this.len, i => this.getHeight(i));\n    }\n    return this.cacheTotalHeight;\n  }\n\n  getData() {\n    return this._;\n  }\n\n  setData(data) {\n    this._ = data;\n  }\n}\n\nexport { Rows };\n","import { Utils } from '../../utils/Utils';\n\nclass Cols {\n\n  constructor({ data = [], len = 10, width }) {\n    this._ = [];\n    this.minWidth = 5;\n    this.width = Utils.minIf(width, this.minWidth);\n    this.len = len;\n    this.cacheTotalWidth = -1;\n    this.setData(data);\n  }\n\n  get(ci) {\n    return this._[ci];\n  }\n\n  getOrNew(ci) {\n    this._[ci] = this._[ci] || {};\n    return this._[ci];\n  }\n\n  getWidth(i) {\n    const col = this._[i];\n    if (col && col.width) {\n      return col.width;\n    }\n    return this.width;\n  }\n\n  setWidth(i, width) {\n    const col = this.getOrNew(i);\n    col.width = Utils.minIf(width, this.minWidth);\n    this.cacheTotalWidth = -1;\n  }\n\n  eachWidth(ci, ei, cb, sx = 0) {\n    let x = sx;\n    for (let i = ci; i <= ei; i += 1) {\n      const colWidth = this.getWidth(i);\n      cb(i, colWidth, x);\n      x += colWidth;\n    }\n  }\n\n  sectionSumWidth(sci, eci) {\n    return Utils.rangeSum(sci, eci + 1, i => this.getWidth(i));\n  }\n\n  rectRangeSumWidth(rectRange) {\n    return this.sectionSumWidth(rectRange.sci, rectRange.eci);\n  }\n\n  totalWidth() {\n    if (this.cacheTotalWidth === -1) {\n      this.cacheTotalWidth = Utils.rangeSum(0, this.len, i => this.getWidth(i));\n    }\n    return this.cacheTotalWidth;\n  }\n\n  getData() {\n    return this._;\n  }\n\n  setData(data) {\n    this._ = data;\n  }\n}\n\nexport { Cols };\n","class Scroll {\n\n  constructor(table) {\n    this.table = table;\n    this.x = 0; // left\n    this.y = 0; // top\n    this.ri = table.fixed.fxTop + 1; // cell row-index\n    this.ci = table.fixed.fxLeft + 1; // cell col-index\n  }\n}\n\nexport { Scroll };\n","class Fixed {\n\n  constructor(fixed = { fxTop: -1, fxLeft: -1 }) {\n    this.fxTop = fixed.fxTop;\n    this.fxLeft = fixed.fxLeft;\n  }\n}\n\nexport { Fixed };\n","import { RectRange } from './RectRange';\n\nclass Merges {\n\n  /**\n   *  Merges\n   * @param {RectRange[]} data 区域数组\n   */\n  constructor({ data = [] }) {\n    this._ = [];\n    this.setData(data);\n  }\n\n  /**\n   * 遍历所有区域\n   * @param {Function} cb 回调函数\n   */\n  forEach(cb) {\n    this._.forEach(cb);\n  }\n\n  /**\n   * 删除区域数组中被指定区域包含的区域\n   * @param {RectRange} cr 区域\n   */\n  deleteWithin(cr) {\n    this._ = this._.filter(it => !it.within(cr));\n  }\n\n  /**\n   * 返回区域数组中第一个包含指定行和列的区域\n   * @param {int} ri 行索引\n   * @param {int} ci  列索引\n   * @returns {*}\n   */\n  getFirstIncludes(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.includes(ri, ci)) {\n        return it;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * 返回新的合并实例,同时剔除原来的合并实例区域数组中不和指定区域发生重合的区域\n   * @param {RectRange} cellRange 区域\n   * @returns {Merges}\n   */\n  filterIntersects(cellRange) {\n    return new Merges(this._.filter(it => it.intersects(cellRange)));\n  }\n\n  /**\n   * 判断区域数组中是否存在和指定区域发生重合的区域\n   * @param {RectRange} cellRange 区域\n   * @returns {boolean}\n   */\n  intersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        // console.log('intersects');\n        return true;\n      }\n    }\n    return false;\n  }\n\n  deleteIntersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        this._.splice(i, 1);\n      }\n    }\n  }\n\n  /**\n   * 返回区域数组中和指定区域发生重合的新区域\n   * @param {RectRange} cellRange 区域\n   * @returns {*}\n   */\n  union(cellRange) {\n    let cr = cellRange;\n    const filter = [];\n    for (let i = 0; i < this._.length; i += 1) {\n      const item = this._[i];\n      if (filter.find(e => e === item)) {\n        continue;\n      }\n      if (item.intersects(cr)) {\n        filter.push(item);\n        cr = item.union(cr);\n        i = -1;\n      }\n    }\n    return cr;\n  }\n\n  /**\n   * 添加一个新的区域, 并且删除区域数组中被新区域包含的区域\n   * @param {RectRange} cr 区域\n   */\n  add(cr) {\n    this.deleteWithin(cr);\n    this._.push(cr);\n  }\n\n  /**\n   * 区域数组中和指定区域发生重合的区域移动指定的行和列\n   * @param {RectRange} cellRange 区域\n   * @param {int} rn 增加的行索引\n   * @param {int} cn 增加的列索引\n   */\n  move(cellRange, rn, cn) {\n    this._.forEach((it1) => {\n      const it = it1;\n      if (it.within(cellRange)) {\n        it.eri += rn;\n        it.sri += rn;\n        it.sci += cn;\n        it.eci += cn;\n      }\n    });\n  }\n\n  // type: row | column\n  shift(type, index, n, cbWithin) {\n    this._.forEach((cellRange) => {\n      const {\n        sri, sci, eri, eci,\n      } = cellRange;\n      const range = cellRange;\n      if (type === 'row') {\n        if (sri >= index) {\n          range.sri += n;\n          range.eri += n;\n        } else if (sri < index && index <= eri) {\n          range.eri += n;\n          cbWithin(sri, sci, n, 0);\n        }\n      } else if (type === 'column') {\n        if (sci >= index) {\n          range.sci += n;\n          range.eci += n;\n        } else if (sci < index && index <= eci) {\n          range.eci += n;\n          cbWithin(sri, sci, 0, n);\n        }\n      }\n    });\n  }\n\n  setData(merges = []) {\n    this._ = merges.map(merge => RectRange.valueOf(merge));\n    return this;\n  }\n\n  getData() {\n    return this._.map(merge => merge.toString());\n  }\n}\n\nexport { Merges };\n\nexport default Merges;\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\n\nclass ScreenElement extends Widget {\n  constructor(className) {\n    super(`${cssPrefix}-screen-element ${className}`);\n    this.widgets = [];\n  }\n\n  addWidget(widget) {\n    this.widgets.push(widget);\n    this.children(widget);\n  }\n}\n\nexport { ScreenElement };\n","/* global window */\n\nimport { ScreenElement } from './ScreenElement';\nimport { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { Constant } from '../../../utils/Constant';\nimport { EventBind } from '../../../utils/EventBind';\n\nclass Screen extends Widget {\n  constructor(table) {\n    super(`${cssPrefix}-screen`);\n    this.table = table;\n    this.lt = new ScreenElement(`${cssPrefix}-screen-element-lt`);\n    this.t = new ScreenElement(`${cssPrefix}-screen-element-t`);\n    this.l = new ScreenElement(`${cssPrefix}-screen-element-l`);\n    this.br = new ScreenElement(`${cssPrefix}-screen-element-br`);\n    this.focusWidget = null;\n    this.children(this.lt, this.t, this.l, this.br);\n    this.widgets = [];\n  }\n\n  init() {\n    this.setDivideLayer();\n    this.bind();\n  }\n\n  bind() {\n    const { table } = this;\n    EventBind.bind(window, Constant.SYSTEM_EVENT_TYPE.RESIZE, () => {\n      this.setDivideLayer();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      this.setDivideLayer();\n      e.stopPropagation();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      this.setDivideLayer();\n      e.stopPropagation();\n    });\n  }\n\n  addWidget(widget) {\n    this.widgets.push(widget);\n    this.lt.addWidget(widget.getLT(this));\n    this.t.addWidget(widget.getT(this));\n    this.l.addWidget(widget.getL(this));\n    this.br.addWidget(widget.getBR(this));\n  }\n\n  setDivideLayer() {\n    const { table } = this;\n    const { settings, grid } = table;\n    const { index } = settings;\n    const fixedWidth = table.getFixedWidth();\n    const fixedHeight = table.getFixedHeight();\n    const brLeft = index.width + fixedWidth;\n    const brTop = index.height + fixedHeight;\n    this.br.offset({ left: brLeft, top: brTop });\n    if (fixedWidth > 0 && fixedHeight > 0) {\n      this.lt.offset({\n        left: index.width, top: index.height, width: fixedWidth, height: fixedHeight,\n      }).show();\n      this.lt.css('border-width', `${grid.lineWidth()}px`);\n    } else {\n      this.lt.hide();\n    }\n    if (fixedWidth > 0) {\n      this.l.offset({ left: index.width, top: brTop, width: fixedWidth }).show();\n      this.l.css('border-width', `${grid.lineWidth()}px`);\n    } else {\n      this.l.hide();\n    }\n    if (fixedHeight > 0) {\n      this.t.offset({ left: brLeft, top: index.height, height: fixedHeight }).show();\n      this.t.css('border-width', `${grid.lineWidth()}px`);\n    } else {\n      this.t.hide();\n    }\n  }\n\n  findByClass(clazz) {\n    let find = null;\n    this.widgets.forEach((item) => {\n      if (item instanceof clazz) {\n        find = item;\n        return false;\n      }\n      return true;\n    });\n    return find;\n  }\n}\n\nexport { Screen };\n","/* global document */\n\nimport { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { Utils } from '../../../utils/Utils';\nimport { floor } from '../../../canvas/Draw';\n\nclass XReSizer extends Widget {\n  constructor(table, options = { width: 5 }) {\n    super(`${cssPrefix}-re-sizer-horizontal`);\n    this.table = table;\n    this.options = options;\n    this.width = options.width;\n    this.hoverEl = h('div', `${cssPrefix}-re-sizer-hover`);\n    this.lineEl = h('div', `${cssPrefix}-re-sizer-line`);\n    this.children(...[\n      this.hoverEl,\n      this.lineEl,\n    ]);\n    this.bind();\n  }\n\n  getEventLeft(event) {\n    const { table } = this;\n    const {\n      settings, cols, fixed, scroll,\n    } = table;\n    const { index } = settings;\n    const { x, y } = table.computeEventXy(event);\n    const { ri, ci } = table.getRiCiByXy(x, y);\n    if (ri !== -1) {\n      return {\n        left: -1,\n        x,\n        y,\n        ri,\n        ci,\n      };\n    }\n    let left = index.width + cols.sectionSumWidth(0, ci);\n    if (ci > fixed.fxLeft) {\n      left -= scroll.x;\n    }\n    return {\n      left,\n      x,\n      y,\n      ri,\n      ci,\n    };\n  }\n\n  bind() {\n    const { table } = this;\n    const { settings, cols, mousePointType } = table;\n    const { index } = settings;\n    let moveOff = false;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      mousePointType.set('col-resize', 'XReSizer');\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      moveOff = true;\n      mousePointType.on(['XReSizer']);\n      mousePointType.set('col-resize', 'XReSizer');\n      const { left, ci } = this.getEventLeft(e);\n      const min = left - cols.getWidth(ci) + cols.minWidth;\n      let { x: mx } = table.computeEventXy(e);\n      // console.log('left >>>', left + index.width);\n      // console.log('min >>>', min);\n      EventBind.mouseMoveUp(document, (e) => {\n        ({ x: mx } = table.computeEventXy(e));\n        // console.log('mx >>>', mx);\n        mx -= this.width / 2;\n        mx = floor(Utils.minIf(mx, min));\n        this.css('left', `${mx}px`);\n        this.lineEl.css('height', `${table.visualHeight()}px`);\n        this.lineEl.show();\n        e.stopPropagation();\n        e.preventDefault();\n      }, (e) => {\n        moveOff = false;\n        mousePointType.off();\n        this.lineEl.hide();\n        this.css('left', `${mx}px`);\n        const { y } = table.computeEventXy(e);\n        if (y <= 0) {\n          this.hide();\n        }\n        const newLeft = mx - (left - cols.getWidth(ci)) + this.width;\n        table.setWidth(ci, newLeft);\n      });\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      if (moveOff) return;\n      // eslint-disable-next-line prefer-const\n      let { left, ci } = this.getEventLeft(e);\n      const min = left - cols.getWidth(ci) + cols.minWidth;\n      const visualWidth = table.visualWidth();\n      // console.log('left >>>', left);\n      // console.log('visualWidth', visualWidth);\n      if (left > visualWidth) {\n        left = visualWidth;\n      }\n      if (left === -1 || min > visualWidth || ci === -1) {\n        this.hide();\n      } else {\n        this.show();\n        this.css('left', `${left - this.width}px`);\n        this.hoverEl.css('width', `${this.width}px`);\n        this.hoverEl.css('height', `${index.height}px`);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_LEAVE, () => {\n      if (moveOff) return;\n      this.hide();\n    });\n  }\n}\n\nexport { XReSizer };\n","/* global document */\n\nimport { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { h } from '../../../lib/Element';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { Utils } from '../../../utils/Utils';\nimport { floor } from '../../../canvas/Draw';\n\nclass YReSizer extends Widget {\n  constructor(table, options = { height: 5 }) {\n    super(`${cssPrefix}-re-sizer-vertical`);\n    this.table = table;\n    this.options = options;\n    this.height = options.height;\n    this.hoverEl = h('div', `${cssPrefix}-re-sizer-hover`);\n    this.lineEl = h('div', `${cssPrefix}-re-sizer-line`);\n    this.children(...[\n      this.hoverEl,\n      this.lineEl,\n    ]);\n    this.bind();\n  }\n\n  getEventTop(event) {\n    const { table } = this;\n    const {\n      settings, rows, fixed, scroll,\n    } = table;\n    const { index } = settings;\n    const { x, y } = table.computeEventXy(event);\n    const { ri, ci } = table.getRiCiByXy(x, y);\n    if (ci !== -1) {\n      return {\n        top: -1,\n        x,\n        y,\n        ri,\n        ci,\n      };\n    }\n    let top = index.height + rows.sectionSumHeight(0, ri);\n    if (ri > fixed.fxTop) {\n      top -= scroll.y;\n    }\n    return {\n      top,\n      x,\n      y,\n      ri,\n      ci,\n    };\n  }\n\n  bind() {\n    const { table } = this;\n    const { settings, rows, mousePointType } = table;\n    const { index } = settings;\n    let moveOff = false;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      mousePointType.set('row-resize', 'YReSizer');\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      moveOff = true;\n      mousePointType.on(['YReSizer']);\n      mousePointType.set('row-resize', 'YReSizer');\n      const { top, ri } = this.getEventTop(e);\n      const min = top - rows.getHeight(ri) + rows.minHeight;\n      let { y: my } = table.computeEventXy(e);\n      EventBind.mouseMoveUp(document, (e) => {\n        ({ y: my } = table.computeEventXy(e));\n        // console.log('my >>>', my);\n        my -= this.height / 2;\n        my = floor(Utils.minIf(my, min));\n        this.css('top', `${my}px`);\n        this.lineEl.css('width', `${table.visualWidth()}px`);\n        this.lineEl.show();\n        e.stopPropagation();\n        e.preventDefault();\n      }, (e) => {\n        moveOff = false;\n        mousePointType.off();\n        this.lineEl.hide();\n        this.css('top', `${my}px`);\n        const { x } = table.computeEventXy(e);\n        if (x <= 0) {\n          this.hide();\n        }\n        const newTop = my - (top - rows.getHeight(ri)) + this.height;\n        table.setHeight(ri, newTop);\n      });\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      if (moveOff) return;\n      // eslint-disable-next-line prefer-const\n      let { top, ri } = this.getEventTop(e);\n      const min = top - rows.getHeight(ri) + rows.minHeight;\n      const visualHeight = table.visualHeight();\n      // console.log('top >>>', top);\n      // console.log('visualHeight >>>', visualHeight);\n      // console.log('min >>>', min);\n      if (top > visualHeight) {\n        top = visualHeight;\n      }\n      if (top === -1 || min > visualHeight || ri === -1) {\n        this.hide();\n      } else {\n        this.show();\n        this.css('top', `${top - this.height}px`);\n        this.hoverEl.css('width', `${index.width}px`);\n        this.hoverEl.css('height', `${this.height}px`);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_LEAVE, () => {\n      if (moveOff) return;\n      this.hide();\n    });\n  }\n}\n\nexport { YReSizer };\n","import cell from '../../../assets/svg/cell.png';\nimport sResize from '../../../assets/svg/s-resize.png';\nimport eResize from '../../../assets/svg/e-resize.png';\n\nclass MousePointType {\n\n  constructor(table) {\n    this.table = table;\n    this.switch = false;\n    this.ignoreNames = [];\n  }\n\n  on(ignoredNames) {\n    this.switch = true;\n    this.ignoreNames = this.ignoreNames.concat(ignoredNames);\n  }\n\n  set(type, name) {\n    if (this.switch && this.ignoreNames.indexOf(name) === -1) return;\n    const { table } = this;\n    switch (type) {\n      case 'cell':\n        table.css('cursor', `url(${cell}) 7.5 7.5,auto`);\n        break;\n      case 's-resize':\n        table.css('cursor', `url(${sResize}) 2.5 7.5,auto`);\n        break;\n      case 'e-resize':\n        table.css('cursor', `url(${eResize}) 7.5 2.5,auto`);\n        break;\n      default:\n        table.css('cursor', type);\n        break;\n    }\n  }\n\n  off() {\n    this.switch = false;\n    this.ignoreNames = [];\n  }\n}\n\nexport { MousePointType };\n","import { cssPrefix } from '../../../config';\nimport { Widget } from '../../../lib/Widget';\nimport { h } from '../../../lib/Element';\n\nclass AutoFill extends Widget {\n  constructor() {\n    super(`${cssPrefix}-autofill`);\n    this.areaEl = h('div', `${cssPrefix}-autofill-area`);\n    this.children(this.areaEl);\n    this.hide();\n  }\n}\n\nexport { AutoFill };\n","/* global document */\n\nimport { ScreenWidget } from '../screen/ScreenWidget';\nimport { AutoFill } from './AutoFill';\nimport { ScreenSelector } from '../selector/ScreenSelector';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { RectRange } from '../RectRange';\nimport { Utils } from '../../../utils/Utils';\n\nclass ScreenAutoFill extends ScreenWidget {\n  constructor(screen, options = {}) {\n    super(screen);\n    this.options = Utils.mergeDeep({\n      mergeForceSplit: false,\n      onBeforeAutoFill: () => {},\n      onAfterAutoFill: () => {},\n    }, options);\n    this.lt = new AutoFill();\n    this.t = new AutoFill();\n    this.l = new AutoFill();\n    this.br = new AutoFill();\n    this.autoFillAttr = null;\n    this.screenSelector = screen.findByClass(ScreenSelector);\n    this.bind();\n  }\n\n  bind() {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { mousePointType } = table;\n    EventBind.bind([\n      screenSelector.lt.cornerEl,\n      screenSelector.t.cornerEl,\n      screenSelector.l.cornerEl,\n      screenSelector.br.cornerEl,\n    ], Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      mousePointType.on(['autoFill']);\n      mousePointType.set('crosshair', 'autoFill');\n      EventBind.mouseMoveUp(document, (e2) => {\n        const { x, y } = table.computeEventXy(e2);\n        const moveAutoFill = this.getMoveAutoFillAttr(x, y);\n        if (moveAutoFill) {\n          // console.log('moveAutoFill>>>', moveAutoFill);\n          this.setOffset(moveAutoFill);\n        } else {\n          this.lt.hide();\n          this.t.hide();\n          this.l.hide();\n          this.br.hide();\n        }\n        this.autoFillAttr = moveAutoFill;\n        e2.stopPropagation();\n        e2.preventDefault();\n      }, () => {\n        mousePointType.off();\n        this.lt.hide();\n        this.t.hide();\n        this.l.hide();\n        this.br.hide();\n        if (this.autoFillAttr) {\n          this.autoFillTo();\n          table.render();\n        }\n      });\n      e1.stopPropagation();\n      e1.preventDefault();\n    });\n    EventBind.bind([\n      screenSelector.lt.cornerEl,\n      screenSelector.t.cornerEl,\n      screenSelector.l.cornerEl,\n      screenSelector.br.cornerEl,\n    ], Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      mousePointType.set('crosshair', 'autoFill');\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n\n  setLTOffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { frozenLeftTop, cols, rows } = table;\n    const viewRange = frozenLeftTop.getScrollViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.lt.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.eci > viewRange.eci) {\n      this.lt.areaEl.css('border-right', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.lt.areaEl.css('border-bottom', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-bottom');\n    }\n    this.lt.offset({\n      width,\n      height,\n      left,\n      top,\n    }).show();\n  }\n\n  setTOffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedTop, cols, rows } = table;\n    const viewRange = fixedTop.getScrollViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.t.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.sci < viewRange.sci) {\n      this.t.areaEl.css('border-left', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.t.areaEl.css('border-bottom', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.t.areaEl.css('border-right', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-right');\n    }\n    this.t.offset({\n      width,\n      height,\n      left,\n      top,\n    }).show();\n  }\n\n  setLOffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedLeft, cols, rows } = table;\n    const viewRange = fixedLeft.getScrollViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.l.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.sri < viewRange.sri) {\n      this.l.areaEl.css('border-top', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.l.areaEl.css('border-right', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.l.areaEl.css('border-bottom', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-bottom');\n    }\n    this.l.offset({\n      width,\n      height,\n      left,\n      top,\n    }).show();\n  }\n\n  setBROffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      cols, rows,\n    } = table;\n    const viewRange = table.getScrollViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.br.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.sci < viewRange.sci) {\n      this.br.areaEl.css('border-left', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.sri < viewRange.sri) {\n      this.br.areaEl.css('border-top', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.br.areaEl.css('border-bottom', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.br.areaEl.css('border-right', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-right');\n    }\n    this.br.offset({\n      width,\n      height,\n      left,\n      top,\n    }).show();\n  }\n\n  setOffset(autoFillAttr) {\n    this.setLTOffset(autoFillAttr);\n    this.setTOffset(autoFillAttr);\n    this.setLOffset(autoFillAttr);\n    this.setBROffset(autoFillAttr);\n  }\n\n  getMoveAutoFillAttr(x, y) {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { selectorAttr } = screenSelector;\n    const { cols, rows, merges } = table;\n    const { rect: selectorRect, edge, edgeType } = selectorAttr;\n    const autoFillSelectorRect = edge || merges.intersects(selectorRect);\n    const [rSize, cSize] = selectorRect.size();\n    let { ri, ci } = table.getRiCiByXy(x, y);\n    // console.log('autoFillSelectorRect >>>', autoFillSelectorRect);\n    if (ri < 0) ri = 0; else if (ri > rows.len) ri = rows.len - 1;\n    if (ci < 0) ci = 0; else if (ci > cols.len) ci = cols.len - 1;\n    const { sri: selectorSri, sci: selectorSci } = selectorRect;\n    let { eri: selectorEri, eci: selectorEci } = selectorRect;\n    if (edgeType === 'left') selectorEci = cols.len - 1;\n    if (edgeType === 'top') selectorEri = rows.len - 1;\n    let rect = null;\n    let direction = 'un';\n    if (ri < selectorSri || ri > selectorEri) {\n      if (ri < selectorSri) {\n        direction = 'top';\n        if (autoFillSelectorRect) {\n          let minRi = selectorSri - rSize;\n          if (minRi >= 0) {\n            const diff = (selectorSri - 1) - ri;\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % rSize === 0 && minRi - rSize >= 0) minRi -= rSize;\n            }\n            rect = new RectRange(minRi, selectorSci, selectorSri - 1, selectorEci);\n          }\n        } else {\n          rect = new RectRange(ri, selectorSci, selectorSri - 1, selectorEci);\n        }\n      }\n      if (ri > selectorEri) {\n        direction = 'bottom';\n        if (autoFillSelectorRect) {\n          let maxRi = selectorEri + rSize;\n          if (maxRi <= rows.len - 1) {\n            const diff = ri - (selectorEri + 1);\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % rSize === 0 && maxRi + rSize <= rows.len - 1) maxRi += rSize;\n            }\n            rect = new RectRange(selectorEri + 1, selectorSci, maxRi, selectorEci);\n          }\n        } else {\n          rect = new RectRange(selectorEri + 1, selectorSci, ri, selectorEci);\n        }\n      }\n    } else if (ci < selectorSci || ci > selectorEci) {\n      if (ci < selectorSci) {\n        direction = 'left';\n        if (autoFillSelectorRect) {\n          let minCi = selectorSci - cSize;\n          if (minCi >= 0) {\n            const diff = (selectorSci - 1) - ci;\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % cSize === 0 && minCi - cSize >= 0) minCi -= cSize;\n            }\n            rect = new RectRange(selectorSri, minCi, selectorEri, selectorSci - 1);\n          }\n        } else {\n          rect = new RectRange(selectorSri, ci, selectorEri, selectorSci - 1);\n        }\n      }\n      if (ci > selectorEci) {\n        direction = 'right';\n        if (autoFillSelectorRect) {\n          let maxCi = selectorEci + cSize;\n          if (maxCi <= cols.len - 1) {\n            const diff = ci - (selectorEci + 1);\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % cSize === 0 && maxCi + cSize <= cols.len - 1) maxCi += cSize;\n            }\n            rect = new RectRange(selectorSri, selectorEci + 1, selectorEri, maxCi);\n          }\n        } else {\n          rect = new RectRange(selectorSri, selectorEci + 1, selectorEri, ci);\n        }\n      }\n    }\n    if (rect !== null) {\n      const width = cols.sectionSumWidth(rect.sci, rect.eci);\n      const height = rows.sectionSumHeight(rect.sri, rect.eri);\n      rect.w = width;\n      rect.h = height;\n      return {\n        rect, direction,\n      };\n    }\n    return null;\n  }\n\n  mergeCellForceSplit() {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { merges } = table;\n    const { autoFillAttr } = this;\n    const { selectorAttr } = screenSelector;\n    const { rect: autoFillRect } = autoFillAttr;\n    const { rect: selectorRect } = selectorAttr;\n    let sIndexRi = selectorRect.sri;\n    let tIndexRi = autoFillRect.sri;\n    while (tIndexRi <= autoFillRect.eri) {\n      let sIndexCi = selectorRect.sci;\n      let tIndexCi = autoFillRect.sci;\n      while (tIndexCi <= autoFillRect.eci) {\n        const rect = new RectRange(tIndexRi, tIndexCi, tIndexRi, tIndexCi);\n        const mergeRect = merges.getFirstIncludes(tIndexRi, tIndexCi);\n        if (!mergeRect || !selectorRect.intersects(mergeRect)) {\n          merges.deleteIntersects(rect);\n        }\n        sIndexCi += 1;\n        tIndexCi += 1;\n        if (sIndexCi > selectorRect.eci) sIndexCi = selectorRect.sci;\n      }\n      sIndexRi += 1;\n      tIndexRi += 1;\n      if (sIndexRi > selectorRect.eri) sIndexRi = selectorRect.sri;\n    }\n  }\n\n  copyContent() {\n    let count = 0;\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { cells } = table;\n    const { autoFillAttr } = this;\n    const { selectorAttr } = screenSelector;\n    const { rect: autoFillRect } = autoFillAttr;\n    const { rect: selectorRect } = selectorAttr;\n    let sIndexRi = selectorRect.sri;\n    let tIndexRi = autoFillRect.sri;\n    while (tIndexRi <= autoFillRect.eri) {\n      let sIndexCi = selectorRect.sci;\n      let tIndexCi = autoFillRect.sci;\n      while (tIndexCi <= autoFillRect.eci) {\n        const src = cells.getCell(sIndexRi, sIndexCi);\n        if (src) {\n          const target = src.clone();\n          cells.setCellOrNew(tIndexRi, tIndexCi, target);\n          if (!Utils.isBlank(src.text)) {\n            count += 1;\n          }\n        }\n        sIndexCi += 1;\n        tIndexCi += 1;\n        if (sIndexCi > selectorRect.eci) sIndexCi = selectorRect.sci;\n      }\n      sIndexRi += 1;\n      tIndexRi += 1;\n      if (sIndexRi > selectorRect.eri) sIndexRi = selectorRect.sri;\n    }\n    return count;\n  }\n\n  copyMerge() {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { merges } = table;\n    const { autoFillAttr } = this;\n    const { selectorAttr } = screenSelector;\n    const { rect: autoFillRect, direction } = autoFillAttr;\n    const { rect: selectorRect, edge } = selectorAttr;\n    let sIndexRi = selectorRect.sri;\n    let tIndexRi = autoFillRect.sri;\n    if (edge && (direction === 'top' || direction === 'left')) return;\n    while (tIndexRi <= autoFillRect.eri) {\n      let sIndexCi = selectorRect.sci;\n      let tIndexCi = autoFillRect.sci;\n      while (tIndexCi <= autoFillRect.eci) {\n        const mergeRect = merges.getFirstIncludes(sIndexRi, sIndexCi);\n        if (mergeRect) {\n          const isOrigin = mergeRect.sri === sIndexRi && mergeRect.sci === sIndexCi;\n          if (isOrigin) {\n            let [rSize, cSize] = mergeRect.size();\n            rSize -= 1;\n            cSize -= 1;\n            const newMerge = new RectRange(tIndexRi, tIndexCi, tIndexRi + rSize, tIndexCi + cSize);\n            if (!merges.intersects(newMerge)) {\n              merges.add(newMerge);\n            }\n          }\n        }\n        sIndexCi += 1;\n        tIndexCi += 1;\n        if (sIndexCi > selectorRect.eci) sIndexCi = selectorRect.sci;\n      }\n      sIndexRi += 1;\n      tIndexRi += 1;\n      if (sIndexRi > selectorRect.eri) sIndexRi = selectorRect.sri;\n    }\n  }\n\n  autoFillTo() {\n    const { screen, options } = this;\n    const { mergeForceSplit } = options;\n    const { table } = screen;\n    const { merges } = table;\n    const { autoFillAttr } = this;\n    const { rect: autoFillRect } = autoFillAttr;\n    const mergeRect = merges.getFirstIncludes(autoFillRect.sri, autoFillRect.sci);\n    if (mergeRect && mergeRect.equals(autoFillRect)) {\n      this.options.onBeforeAutoFill();\n      this.mergeCellForceSplit();\n      const count = this.copyContent();\n      this.copyMerge();\n      this.options.onAfterAutoFill(count);\n    } else {\n      if (merges.intersects(autoFillRect) && mergeForceSplit === false) {\n        // eslint-disable-next-line no-undef,no-alert\n        alert('此操作要求合并单元格都具有相同大小');\n        return;\n      }\n      this.options.onBeforeAutoFill();\n      this.mergeCellForceSplit();\n      const count = this.copyContent();\n      this.copyMerge();\n      this.options.onAfterAutoFill(count);\n    }\n  }\n}\n\nexport { ScreenAutoFill };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { ScreenSelector } from '../selector/ScreenSelector';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\nimport { RectRange } from '../RectRange';\n\nclass XHeightLight extends Widget {\n  constructor(table) {\n    super(`${cssPrefix}-table-x-height-light`);\n    this.table = table;\n    this.hide();\n  }\n\n  init() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    this.css('height', `${index.height}px`);\n    this.bind();\n  }\n\n  disjoint(sRect, tRect) {\n    return sRect.sci > tRect.eci || tRect.sci > sRect.eci;\n  }\n\n  coincide(sRect, tRect) {\n    if (this.disjoint(sRect, tRect)) {\n      return new RectRange(0, -1, 0, -1);\n    }\n    return new RectRange(\n      0,\n      tRect.sci > sRect.sci ? tRect.sci : sRect.sci,\n      0,\n      tRect.eci < sRect.eci ? tRect.eci : sRect.eci,\n    );\n  }\n\n  offsetHeightLight(selectorAttr, intersectsArea) {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const empty = new RectRange(0, -1, 0, -1);\n    this.hide();\n    switch (intersectsArea) {\n      case 'lt': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, cols } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        if (!empty.equals(ltCoincideRange)) {\n          const width = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n          const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 't': {\n        const { rect } = selectorAttr;\n        const { fixedTop, cols } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        if (!empty.equals(tCoincideRange)) {\n          const width = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n          const left = cols.sectionSumWidth(tViewRange.sci, tCoincideRange.sci - 1)\n            + table.getFixedWidth() + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'br': {\n        const { rect } = selectorAttr;\n        const { cols } = table;\n        const cViewRange = table.getScrollViewRange();\n        const cCoincideRange = this.coincide(rect, cViewRange);\n        if (!empty.equals(cCoincideRange)) {\n          const width = cols.sectionSumWidth(cCoincideRange.sci, cCoincideRange.eci);\n          const left = cols.sectionSumWidth(cViewRange.sci, cCoincideRange.sci - 1)\n            + table.getFixedWidth() + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'l': {\n        const { rect } = selectorAttr;\n        const { fixedLeft, cols } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        if (!empty.equals(lCoincideRange)) {\n          const width = cols.sectionSumWidth(lCoincideRange.sci, lCoincideRange.eci);\n          const left = cols.sectionSumWidth(lViewRange.sci, lCoincideRange.sci - 1) + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'ltt': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, fixedTop, cols } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const tViewRange = fixedTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        let width = 0;\n        const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n        if (!empty.equals(ltCoincideRange)) {\n          width += cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        }\n        if (!empty.equals(tCoincideRange)) {\n          width += cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        }\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n        break;\n      }\n      case 'ltl': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, cols } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        if (!empty.equals(ltCoincideRange)) {\n          const width = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n          const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'tbr': {\n        const { rect } = selectorAttr;\n        const { fixedTop, cols } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        if (!empty.equals(tCoincideRange)) {\n          const width = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n          const left = cols.sectionSumWidth(tViewRange.sci, tCoincideRange.sci - 1)\n            + table.getFixedWidth() + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'lbr': {\n        const { rect } = selectorAttr;\n        const { fixedLeft, cols } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const cViewRange = table.getScrollViewRange();\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        const cCoincideRange = this.coincide(rect, cViewRange);\n        let width = 0;\n        const left = cols.sectionSumWidth(lViewRange.sci, lCoincideRange.sci - 1) + index.width;\n        if (!empty.equals(lCoincideRange)) {\n          width += cols.sectionSumWidth(lCoincideRange.sci, lCoincideRange.eci);\n        }\n        if (!empty.equals(cCoincideRange)) {\n          width += cols.sectionSumWidth(cCoincideRange.sci, cCoincideRange.eci);\n        }\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n        break;\n      }\n      case 'lttlbr': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, fixedTop, cols } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const tViewRange = fixedTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        let width = 0;\n        const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n        if (!empty.equals(ltCoincideRange)) {\n          width += cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        }\n        if (!empty.equals(tCoincideRange)) {\n          width += cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        }\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n        break;\n      }\n      default: break;\n    }\n  }\n\n  bind() {\n    const { table } = this;\n    const { screen } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    screenSelector.addChangeCb(() => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n  }\n}\n\nexport { XHeightLight };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../config';\nimport { RectRange } from '../RectRange';\nimport { ScreenSelector } from '../selector/ScreenSelector';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Constant } from '../../../utils/Constant';\n\nclass YHeightLight extends Widget {\n  constructor(table) {\n    super(`${cssPrefix}-table-y-height-light`);\n    this.table = table;\n    this.hide();\n  }\n\n  init() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    this.css('width', `${index.width}px`);\n    this.bind();\n  }\n\n  disjoint(sRect, tRect) {\n    return sRect.sri > tRect.eri || tRect.sri > sRect.eri;\n  }\n\n  coincide(sRect, tRect) {\n    if (this.disjoint(sRect, tRect)) {\n      return new RectRange(-1, 0, -1, 0);\n    }\n    return new RectRange(\n      tRect.sri > sRect.sri ? tRect.sri : sRect.sri,\n      0,\n      tRect.eri < sRect.eri ? tRect.eri : sRect.eri,\n      0,\n    );\n  }\n\n  offsetHeightLight(selectorAttr, intersectsArea) {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const empty = new RectRange(-1, 0, -1, 0);\n    this.hide();\n    switch (intersectsArea) {\n      case 'lt': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, rows } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        if (!empty.equals(ltCoincideRange)) {\n          const height = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n          // eslint-disable-next-line max-len\n          const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 't': {\n        const { rect } = selectorAttr;\n        const { fixedTop, rows } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        // console.log('tCoincideRange>>>', tCoincideRange);\n        if (!empty.equals(tCoincideRange)) {\n          const height = rows.sectionSumHeight(tCoincideRange.sri, tCoincideRange.eri);\n          const top = rows.sectionSumHeight(tViewRange.sri, tCoincideRange.sri - 1) + index.height;\n          // console.log('height>>>', height);\n          // console.log('top>>>', top);\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'l': {\n        const { rect } = selectorAttr;\n        const { fixedLeft, rows } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        if (!empty.equals(lCoincideRange)) {\n          const height = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n          const top = rows.sectionSumHeight(lViewRange.sri, lCoincideRange.sri - 1)\n            + table.getFixedHeight() + index.height;\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'br': {\n        const { rect } = selectorAttr;\n        const { rows } = table;\n        const cViewRange = table.getScrollViewRange();\n        const cCoincideRange = this.coincide(rect, cViewRange);\n        // console.log('cCoincideRange>>>', cCoincideRange);\n        if (!empty.equals(cCoincideRange)) {\n          const height = rows.sectionSumHeight(cCoincideRange.sri, cCoincideRange.eri);\n          const top = rows.sectionSumHeight(cViewRange.sri, cCoincideRange.sri - 1)\n            + table.getFixedHeight() + index.height;\n          // console.log('height>>>', height);\n          // console.log('top>>>', top);\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'ltt': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, rows } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        if (!empty.equals(ltCoincideRange)) {\n          // eslint-disable-next-line max-len\n          const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n          const height = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'ltl': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, fixedLeft, rows } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n        let height = 0;\n        if (!empty.equals(ltCoincideRange)) {\n          height += rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        }\n        if (!empty.equals(lCoincideRange)) {\n          height += rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        }\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n        break;\n      }\n      case 'tbr': {\n        const { rect } = selectorAttr;\n        const { fixedTop, rows } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const cViewRange = table.getScrollViewRange();\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        const cCoincideRange = this.coincide(rect, cViewRange);\n        const top = rows.sectionSumHeight(tViewRange.sri, tCoincideRange.sri - 1) + index.height;\n        let height = 0;\n        if (!empty.equals(tCoincideRange)) {\n          height += rows.sectionSumHeight(tCoincideRange.sri, tCoincideRange.eri);\n        }\n        if (!empty.equals(cCoincideRange)) {\n          height += rows.sectionSumHeight(cCoincideRange.sri, cCoincideRange.eri);\n        }\n        // console.log('tCoincideRange>>>', tCoincideRange);\n        // console.log('cCoincideRange>>>', cCoincideRange);\n        // console.log('top>>>', top);\n        // console.log('height>>>', height);\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n        break;\n      }\n      case 'lbr': {\n        const { rect } = selectorAttr;\n        const { fixedLeft, rows } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        if (!empty.equals(lCoincideRange)) {\n          const height = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n          const top = rows.sectionSumHeight(lViewRange.sri, lCoincideRange.sri - 1)\n            + table.getFixedHeight() + index.height;\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'lttlbr': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, fixedLeft, rows } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        let height = 0;\n        const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n        if (!empty.equals(ltCoincideRange)) {\n          height += rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        }\n        if (!empty.equals(lCoincideRange)) {\n          height += rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        }\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n        break;\n      }\n      default: break;\n    }\n  }\n\n  bind() {\n    const { table } = this;\n    const { screen } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    screenSelector.addChangeCb(() => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n  }\n}\n\nexport { YHeightLight };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\nimport { ScreenSelector } from './selector/ScreenSelector';\nimport { Utils } from '../../utils/Utils';\nimport { RectRange } from './RectRange';\n\nclass Edit extends Widget {\n\n  constructor(table) {\n    super(`${cssPrefix}-table-edit`);\n    this.input = h('div', `${cssPrefix}-table-edit-input`);\n    this.input.attr('contenteditable', true);\n    this.input.html('<p></p>');\n    this.table = table;\n    this.text = '';\n    this.select = null;\n    this.children(this.input);\n    this.hide();\n  }\n\n  init() {\n    this.bind();\n  }\n\n  bind() {\n    const { table } = this;\n    const { screen } = table;\n    const selector = screen.findByClass(ScreenSelector);\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      e.stopPropagation();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      e.stopPropagation();\n    });\n    EventBind.bind(this.input, Constant.SYSTEM_EVENT_TYPE.INPUT, () => {\n      const { input } = this;\n      if (Utils.isBlank(this.input.text())) {\n        input.html('<p></p>');\n      }\n      this.text = input.text();\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      this.hideEdit();\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      this.hideEdit();\n    });\n    EventBind.dbClick([\n      selector.lt,\n      selector.t,\n      selector.l,\n      selector.br,\n    ], () => {\n      this.showEdit();\n    });\n  }\n\n  showEdit() {\n    const { table, input } = this;\n    const { screen, cells } = table;\n    const selector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = selector;\n    if (selectorAttr) {\n      const { rect } = selectorAttr;\n      const cell = cells.getCellOrNew(rect.sri, rect.sci);\n      this.select = rect;\n      this.editOffset(rect);\n      this.text = cell.text;\n      if (Utils.isBlank(this.text)) {\n        input.html('<p></p>');\n      } else {\n        input.text(this.text);\n      }\n      Utils.keepLastIndex(this.input.el);\n    }\n  }\n\n  hideEdit() {\n    const { select } = this;\n    const { table } = this;\n    const { cells } = table;\n    if (select) {\n      const cell = cells.getCellOrNew(select.sri, select.sci);\n      const text = Utils.trim(this.text);\n      if (cell.text !== text) {\n        cell.text = text;\n        table.setCell(select.sri, select.sci, cell);\n      }\n    }\n    this.hide();\n  }\n\n  editOffset() {\n    const { table } = this;\n    const { screen } = table;\n    const selector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = selector;\n    const { rect } = selectorAttr;\n    const { cols, rows } = table;\n    const offset = 3;\n    const intersectsArea = selector.getIntersectsArea(selectorAttr);\n    switch (intersectsArea) {\n      case 'lt': {\n        const { frozenLeftTop } = table;\n        const viewRange = frozenLeftTop.getScrollViewRange();\n        const coincideRange = rect.coincide(viewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(coincideRange)) {\n          this.hide();\n          return;\n        }\n        const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n        const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n        let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n        let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n        top += table.getIndexHeight() + offset;\n        left += table.getIndexWidth() + offset;\n        this.offset({\n          width,\n          height,\n          top,\n          left,\n        }).show();\n        break;\n      }\n      case 't': {\n        const { fixedTop } = table;\n        const viewRange = fixedTop.getScrollViewRange();\n        const coincideRange = rect.coincide(viewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(coincideRange)) {\n          this.hide();\n          return;\n        }\n        const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n        const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n        let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n        let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n        top += table.getIndexHeight() + offset;\n        left += table.getFixedWidth() + table.getIndexWidth() + offset;\n        this.offset({\n          width,\n          height,\n          top,\n          left,\n        }).show();\n        break;\n      }\n      case 'br': {\n        const viewRange = table.getScrollViewRange();\n        const coincideRange = rect.coincide(viewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(coincideRange)) {\n          this.hide();\n          return;\n        }\n        const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n        const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n        let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n        let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n        top += table.getFixedHeight() + table.getIndexHeight() + offset;\n        left += table.getFixedWidth() + table.getIndexWidth() + offset;\n        this.offset({\n          width,\n          height,\n          top,\n          left,\n        }).show();\n        break;\n      }\n      case 'l': {\n        const { fixedLeft } = table;\n        const viewRange = fixedLeft.getScrollViewRange();\n        const coincideRange = rect.coincide(viewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(coincideRange)) {\n          this.hide();\n          return;\n        }\n        const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n        const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n        let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n        let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n        top += table.getFixedHeight() + table.getIndexHeight() + offset;\n        left += table.getIndexWidth() + offset;\n        this.offset({\n          width,\n          height,\n          top,\n          left,\n        }).show();\n        break;\n      }\n      case 'ltt': {\n        const { frozenLeftTop, fixedTop } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = rect.coincide(ltViewRange);\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = rect.coincide(tViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(tCoincideRange) && empty.equals(ltCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const ltWidth = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        const ltHeight = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        const ltTop = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1);\n        const ltLeft = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1);\n        const tWidth = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        this.offset({\n          width: (ltWidth + tWidth) - offset * 2,\n          height: ltHeight - offset * 2,\n          top: ltTop + table.getIndexHeight() + offset,\n          left: ltLeft + table.getIndexWidth() + offset,\n        }).show();\n        break;\n      }\n      case 'ltl': {\n        const { frozenLeftTop, fixedLeft } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = rect.coincide(ltViewRange);\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = rect.coincide(lViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(ltCoincideRange) && empty.equals(lCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const ltWidth = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        const ltHeight = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        const lHeight = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        let ltTop = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1);\n        let ltLeft = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1);\n        ltTop += table.getIndexHeight() + offset;\n        ltLeft += table.getIndexWidth() + offset;\n        this.offset({\n          width: ltWidth - offset * 2,\n          height: (ltHeight + lHeight) - offset * 2,\n          top: ltTop,\n          left: ltLeft,\n        }).show();\n        break;\n      }\n      case 'tbr': {\n        const { fixedTop } = table;\n        const cViewRange = table.getScrollViewRange();\n        const cCoincideRange = rect.coincide(cViewRange);\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = rect.coincide(tViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(cCoincideRange) && empty.equals(tCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const tWidth = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        const tHeight = rows.sectionSumHeight(tCoincideRange.sri, tCoincideRange.eri);\n        const tTop = rows.sectionSumHeight(tViewRange.sri, tCoincideRange.sri - 1);\n        const tLeft = cols.sectionSumWidth(tViewRange.sci, tCoincideRange.sci - 1);\n        const cHeight = rows.sectionSumHeight(cCoincideRange.sri, cCoincideRange.eri);\n        this.offset({\n          width: tWidth - offset * 2,\n          height: (cHeight + tHeight) - offset * 2,\n          top: tTop + table.getIndexHeight() + offset,\n          left: tLeft + table.getFixedWidth() + table.getIndexWidth() + offset,\n        }).show();\n        break;\n      }\n      case 'lbr': {\n        const { fixedLeft } = table;\n        const cViewRange = table.getScrollViewRange();\n        const cCoincideRange = rect.coincide(cViewRange);\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = rect.coincide(lViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(cCoincideRange) && empty.equals(lCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const lWidth = cols.sectionSumWidth(lCoincideRange.sci, lCoincideRange.eci);\n        const lHeight = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        const lTop = rows.sectionSumHeight(lViewRange.sri, lCoincideRange.sri - 1);\n        const lLeft = cols.sectionSumWidth(lViewRange.sci, lCoincideRange.sci - 1);\n        const cWidth = cols.sectionSumWidth(cCoincideRange.sci, cCoincideRange.eci);\n        this.offset({\n          width: (lWidth + cWidth) - offset * 2,\n          height: lHeight - offset * 2,\n          top: lTop + table.getFixedHeight() + table.getIndexHeight() + offset,\n          left: lLeft + table.getIndexWidth() + offset,\n        }).show();\n        break;\n      }\n      case 'lttlbr': {\n        const { frozenLeftTop } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = rect.coincide(ltViewRange);\n        const { fixedTop } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = rect.coincide(tViewRange);\n        const { fixedLeft } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = rect.coincide(lViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(ltCoincideRange)\n          && empty.equals(tCoincideRange)\n          && empty.equals(lCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const ltWidth = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        const ltHeight = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        const tWidth = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        const lHeight = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1);\n        const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1);\n        this.offset({\n          width: (ltWidth + tWidth) - offset * 2,\n          height: (ltHeight + lHeight) - offset * 2,\n          top: top + table.getIndexHeight() + offset,\n          left: left + table.getIndexWidth() + offset,\n        }).show();\n        break;\n      }\n      default: break;\n    }\n  }\n}\n\nexport { Edit };\n","import { dpr } from './Draw';\nimport { Utils } from '../utils/Utils';\n\nclass Grid {\n  constructor(draw, attr = {}) {\n    this.draw = draw;\n    this.color = '#000000';\n    Utils.mergeDeep(this, attr);\n  }\n\n  lineWidth() {\n    const width = Math.floor(dpr());\n    return width > 2 ? width : 1;\n  }\n\n  verticalLine(sx, sy, ex, ey) {\n    if (sx !== ex) {\n      throw new Error('coordinate errors sx should be equal to ex !!!');\n    }\n    const { draw, color } = this;\n    const width = this.lineWidth();\n    draw.attr({\n      fillStyle: color,\n    });\n    const diff = ey - sy;\n    draw.fillRect(sx, sy, width, diff);\n  }\n\n  horizontalLine(sx, sy, ex, ey) {\n    if (sy !== ey) {\n      throw new Error('coordinate errors sy should be equal to ey !!!');\n    }\n    const { draw, color } = this;\n    const width = this.lineWidth();\n    draw.attr({\n      fillStyle: color,\n    });\n    const diff = ex - sx;\n    draw.fillRect(sx, sy, diff, width);\n  }\n}\n\nexport { Grid };\n","class Box {\n  constructor({ rect, draw }) {\n    this.draw = draw;\n    this.rect = rect;\n    this.backgroundColor = null;\n  }\n\n  drawBackgroundColor(color) {\n    if (color) {\n      this.backgroundColor = color;\n      const { draw, rect } = this;\n      draw.attr({\n        fillStyle: color,\n      });\n      draw.fillRect(rect.x, rect.y, rect.width, rect.height);\n    }\n  }\n}\n\nexport { Box };\n","import { Utils } from '../../utils/Utils';\n\nclass History {\n\n  constructor(option) {\n    this._ = [];\n    this.option = Utils.mergeDeep({}, {\n      onAdd: () => {},\n      onPop: () => {},\n      onClear: () => {},\n    }, option);\n  }\n\n  add(ele) {\n    this._.unshift(ele);\n    this.option.onAdd(ele);\n  }\n\n  pop() {\n    if (!this.isEmpty()) {\n      const result = this._.shift();\n      this.option.onPop(result);\n    }\n  }\n\n  get() {\n    return this._[0];\n  }\n\n  clear() {\n    this._ = [];\n    this.option.onClear();\n  }\n\n  isEmpty() {\n    return this._.length === 0;\n  }\n\n  length() {\n    return this._.length;\n  }\n}\n\nexport { History };\n","import { History } from './History';\nimport { Utils } from '../../utils/Utils';\nimport { Constant } from '../../utils/Constant';\n\nclass DataSnapshot {\n\n  constructor(table) {\n    this.table = table;\n    const { cells, merges } = table;\n    this.undo = new History({\n      onPop: (e) => {\n        this.redo.add(Utils.cloneDeep(e));\n        const top = this.undo.get();\n        cells.setData(Utils.cloneDeep(top.cells));\n        merges.setData(Utils.cloneDeep(top.merges));\n        table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n        table.render();\n      },\n    });\n    this.redo = new History({\n      onPop: (e) => {\n        this.undo.add(Utils.cloneDeep(e));\n        const top = this.undo.get();\n        cells.setData(Utils.cloneDeep(top.cells));\n        merges.setData(Utils.cloneDeep(top.merges));\n        table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n        table.render();\n      },\n    });\n    this.undo.add({\n      cells: Utils.cloneDeep(cells.getData()),\n      merges: Utils.cloneDeep(merges.getData()),\n    });\n  }\n\n  snapshot(clear = false) {\n    const { table } = this;\n    const { cells, merges } = table;\n    if (clear) {\n      this.redo.clear();\n    }\n    this.undo.add({\n      cells: Utils.cloneDeep(cells.getData()),\n      merges: Utils.cloneDeep(merges.getData()),\n    });\n    table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n  }\n}\n\nexport { DataSnapshot };\n","import { RectRange } from '../RectRange';\nimport { Rect } from '../../../canvas/Rect';\n\nclass LineHandle {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  hEach({\n    viewRange = new RectRange(0, 0, 0, 0),\n    newRow = () => true,\n    filter = () => true,\n    jump = () => true,\n    handle = () => true,\n    endRow = () => true,\n    bx = 0,\n    by = 0,\n  }) {\n    const { table } = this;\n    const { cols, rows } = table;\n    const {\n      sri, eri, sci, eci,\n    } = viewRange;\n    let y = by;\n    for (let i = sri; i <= eri; i += 1) {\n      const height = rows.getHeight(i);\n      let x = bx;\n      newRow(i, y);\n      for (let j = sci; j <= eci; j += 1) {\n        const width = cols.getWidth(j);\n        const result = filter(i, j, x, y);\n        if (result) {\n          handle(i, j, x, y);\n        } else {\n          jump(i, j, x, y);\n        }\n        x += width;\n      }\n      endRow();\n      y += height;\n    }\n  }\n\n  vEach({\n    viewRange = new RectRange(0, 0, 0, 0),\n    newCol = () => true,\n    filter = () => true,\n    jump = () => true,\n    handle = () => true,\n    endCol = () => true,\n    bx = 0,\n    by = 0,\n  }) {\n    const { table } = this;\n    const { cols, rows } = table;\n    const {\n      sri, eri, sci, eci,\n    } = viewRange;\n    let x = bx;\n    for (let i = sci; i <= eci; i += 1) {\n      const width = cols.getWidth(i);\n      let y = by;\n      newCol(i, x);\n      for (let j = sri; j <= eri; j += 1) {\n        const height = rows.getHeight(j);\n        const result = filter(i, j, x, y);\n        if (result) {\n          handle(i, j, x, y);\n        } else {\n          jump(i, j, x, y);\n        }\n        y += height;\n      }\n      endCol();\n      x += width;\n    }\n  }\n\n  viewRangeAndMergeCoincideView({\n    viewRange = new RectRange(0, 0, 0, 0),\n  }) {\n    const { table } = this;\n    const { merges, cols, rows } = table;\n    const filter = [];\n    const result = [];\n    this.hEach({\n      viewRange,\n      handle: (row, col, x, y) => {\n        const merge = merges.getFirstIncludes(row, col);\n        if (merge && filter.indexOf(merge) === -1) {\n          filter.push(merge);\n          const view = viewRange.coincide(merge);\n          const width = cols.sectionSumWidth(view.sci, view.eci);\n          const height = rows.sectionSumHeight(view.sri, view.eri);\n          const rect = new Rect({ x, y, width, height });\n          result.push({ rect, view, merge });\n        }\n      },\n    });\n    return result;\n  }\n\n  coincideViewBrink({\n    coincideView,\n  }) {\n    const { table } = this;\n    const { cols, rows } = table;\n    const result = [];\n    for (let i = 0; i < coincideView.length; i += 1) {\n      const { view, rect, merge } = coincideView[i];\n      const brink = view.brink();\n      const top = {\n        view: brink.top,\n        x: rect.x,\n        y: rect.y,\n      };\n      const left = {\n        view: brink.left,\n        x: rect.x,\n        y: rect.y,\n      };\n      const bottom = {\n        view: brink.bottom,\n        x: rect.x,\n        y: rect.y + rect.height - rows.rectRangeSumHeight(brink.bottom),\n      };\n      const right = {\n        view: brink.right,\n        x: rect.x + rect.width - cols.rectRangeSumWidth(brink.right),\n        y: rect.y,\n      };\n      const item = {};\n      if (merge.sri === view.sri) {\n        item.top = top;\n      }\n      if (merge.sci === view.sci) {\n        item.left = left;\n      }\n      if (merge.eri === view.eri) {\n        item.bottom = bottom;\n      }\n      if (merge.eci === view.eci) {\n        item.right = right;\n      }\n      result.push(item);\n    }\n    return result;\n  }\n}\n\nexport { LineHandle };\n","import { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\n\n/* global document */\n\nclass KeyboardManage {\n\n  constructor() {\n    this.pool = [];\n    this.active = null;\n    this.bind();\n  }\n\n  register({ el, key = null, code = null, callback }) {\n    this.pool.push({ el, key, code, callback });\n    const len = this.pool.length - 1;\n    EventBind.bind(el, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      this.active = this.pool[len];\n    });\n  }\n\n  bind() {\n    EventBind.bind(document, Constant.SYSTEM_EVENT_TYPE.KEY_DOWN, (e) => {\n      const { active } = this;\n      const { keyCode } = e;\n      if (active) {\n        const { key, code, callback } = active;\n        if (key) {\n          if (e[key] && keyCode === code) {\n            callback(e);\n          }\n        } else if (keyCode === code) {\n          callback(e);\n        }\n      }\n      if (keyCode === 9) {\n        e.preventDefault();\n      }\n    });\n  }\n}\n\nexport { KeyboardManage };\n","import { Cell } from './Cell';\nimport { Utils } from '../../../utils/Utils';\n\n/**\n * Cells\n * @author jerry\n */\nclass Cells {\n\n  /**\n   * Cells\n   * @param table\n   * @param cols\n   * @param rows\n   * @param data\n   */\n  constructor({\n    table, cols, rows, data = [],\n  }) {\n    this.table = table;\n    this.cols = cols;\n    this.rows = rows;\n    this.data = data;\n  }\n\n  /**\n   * 获取指定行和列的单元格\n   * @param ri\n   * @param ci\n   */\n  getCell(ri, ci) {\n    const row = this.data[ri];\n    if (row && row[ci]) {\n      let item = row[ci];\n      if (item instanceof Cell) {\n        return row[ci];\n      }\n      if (Utils.isString(item)) {\n        item = {\n          text: item,\n        };\n      }\n      row[ci] = new Cell(item);\n      return row[ci];\n    }\n    return null;\n  }\n\n  /**\n   * 获取指定行和列的单元格，如果获取到的\n   * 单元格是合并单元格的部分则返回合并单元格起始\n   * 单元格\n   * @param ri\n   * @param ci\n   */\n  getMergeCellOrCell(ri, ci) {\n    const { table } = this;\n    const { merges } = table;\n    const merge = merges.getFirstIncludes(ri, ci);\n    if (merge) {\n      return this.getCell(merge.sri, merge.sci);\n    }\n    return this.getCell(ri, ci);\n  }\n\n  /**\n   * 获取指定行列的单元格如果没有返回新的\n   * @param ri\n   * @param ci\n   */\n  getCellOrNew(ri, ci) {\n    if (Utils.isUnDef(this.data[ri])) {\n      this.data[ri] = [];\n    }\n    if (Utils.isUnDef(this.data[ri][ci])) {\n      this.data[ri][ci] = {\n        text: '',\n      };\n    }\n    return this.getCell(ri, ci);\n  }\n\n  /**\n   * 设置指定单元格\n   * @param ri\n   * @param ci\n   * @param cell\n   */\n  setCell(ri, ci, cell) {\n    const row = this.data[ri];\n    if (row && row[ci]) {\n      row[ci] = cell;\n    }\n  }\n\n  /**\n   * 设置指定单元格\n   * 如果不存在则创建\n   * @param ri\n   * @param ci\n   * @param cell\n   */\n  setCellOrNew(ri, ci, cell) {\n    if (Utils.isUnDef(this.data[ri])) {\n      this.data[ri] = [];\n    }\n    this.data[ri][ci] = cell;\n  }\n\n  /**\n   * getData\n   * @returns {*[]}\n   */\n  getData() {\n    return this.data;\n  }\n\n  /**\n   * setData\n   * @param data\n   * @returns {Cells}\n   */\n  setData(data = []) {\n    this.data = data;\n    return this;\n  }\n}\n\nexport { Cells };\n","import { Rect } from '../../canvas/Rect';\nimport { ALIGN, TEXT_DIRECTION, TEXT_WRAP, VERTICAL_ALIGN } from '../../canvas/Font';\nimport { Utils } from '../../utils/Utils';\n\n/**\n * CellsHelper\n * @author jerry\n */\nclass CellsHelper {\n\n  constructor({ cells, merges, rows, cols }) {\n    this.cells = cells;\n    this.merges = merges;\n    this.rows = rows;\n    this.cols = cols;\n  }\n\n  getCellTextMaxWidth(ri, ci) {\n    const { cells, cols } = this;\n    const cell = cells.getCell(ri, ci);\n    const { fontAttr } = cell;\n    const { align } = fontAttr;\n    let width = 0;\n    let offset = 0;\n    if (align === ALIGN.left) {\n      for (let i = ci, { len } = cols; i <= len; i += 1) {\n        const cell = cells.getCell(ri, i);\n        if (i === ci) {\n          width += cols.getWidth(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          width += cols.getWidth(i);\n        } else {\n          break;\n        }\n      }\n    }\n    if (align === ALIGN.center) {\n      for (let i = ci, { len } = cols; i <= len; i += 1) {\n        const cell = cells.getCell(ri, i);\n        if (i === ci) {\n          width += cols.getWidth(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          width += cols.getWidth(i);\n        } else {\n          break;\n        }\n      }\n      for (let i = ci - 1; i >= 0; i -= 1) {\n        const cell = cells.getCell(ri, i);\n        if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          const tmp = cols.getWidth(i);\n          width += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    if (align === ALIGN.right) {\n      for (let i = ci; i >= 0; i -= 1) {\n        const cell = cells.getCell(ri, i);\n        if (i === ci) {\n          width += cols.getWidth(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          const tmp = cols.getWidth(i);\n          width += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    return { width, offset };\n  }\n\n  getCellTextMaxHeight(ri, ci) {\n    const { cells, rows } = this;\n    const cell = cells.getCell(ri, ci);\n    const { fontAttr } = cell;\n    const { verticalAlign } = fontAttr;\n    let height = 0;\n    let offset = 0;\n    if (verticalAlign === VERTICAL_ALIGN.top) {\n      for (let i = ri, { len } = rows; i <= len; i += 1) {\n        const cell = cells.getCell(i, ci);\n        if (i === ci) {\n          height += rows.getHeight(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          height += rows.getHeight(i);\n        } else {\n          break;\n        }\n      }\n    }\n    if (verticalAlign === VERTICAL_ALIGN.center) {\n      for (let i = ri, { len } = rows; i <= len; i += 1) {\n        const cell = cells.getCell(i, ci);\n        if (i === ci) {\n          height += rows.getHeight(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          height += rows.getHeight(i);\n        } else {\n          break;\n        }\n      }\n      for (let i = ri - 1; i >= 0; i -= 1) {\n        const cell = cells.getCell(ri, i);\n        if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          const tmp = rows.getHeight(i);\n          height += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    if (verticalAlign === VERTICAL_ALIGN.bottom) {\n      for (let i = ri; i >= 0; i -= 1) {\n        const cell = cells.getCell(ri, i);\n        if (i === ci) {\n          height += rows.getHeight(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          const tmp = rows.getHeight(i);\n          height += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    return { height, offset };\n  }\n\n  getCellOverFlow(ri, ci, rect, cell) {\n    const { fontAttr } = cell;\n    const { direction, textWrap } = fontAttr;\n    const { x, y, width, height } = rect;\n    if (textWrap === TEXT_WRAP.OVER_FLOW) {\n      if (direction === TEXT_DIRECTION.VERTICAL) {\n        const max = this.getCellTextMaxHeight(ri, ci);\n        return new Rect({ x, y: y + max.offset, width, height: max.height });\n      }\n      const max = this.getCellTextMaxWidth(ri, ci);\n      return new Rect({ x: x + max.offset, y, width: max.width, height });\n    }\n    return null;\n  }\n\n  getCellByViewRange({\n    rectRange, callback, startX = 0, startY = 0,\n  }) {\n    const { rows, cols, cells } = this;\n    const {\n      sri, eri, sci, eci,\n    } = rectRange;\n    let y = startY;\n    for (let i = sri; i <= eri; i += 1) {\n      const height = rows.getHeight(i);\n      let x = startX;\n      for (let j = sci; j <= eci; j += 1) {\n        const width = cols.getWidth(j);\n        const cell = cells.getCell(i, j);\n        if (cell) {\n          const rect = new Rect({ x, y, width, height });\n          const overFlow = this.getCellOverFlow(i, j, rect, cell);\n          const result = callback(i, j, cell, rect, overFlow);\n          if (result === false) {\n            return;\n          }\n        }\n        x += width;\n      }\n      y += height;\n    }\n  }\n\n  getCellOrNewCellByViewRange({\n    rectRange, callback, startX = 0, startY = 0,\n  }) {\n    const { rows, cols, cells } = this;\n    const {\n      sri, eri, sci, eci,\n    } = rectRange;\n    let y = startY;\n    for (let i = sri; i <= eri; i += 1) {\n      const height = rows.getHeight(i);\n      let x = startX;\n      for (let j = sci; j <= eci; j += 1) {\n        const width = cols.getWidth(j);\n        const cell = cells.getCellOrNew(i, j);\n        const rect = new Rect({ x, y, width, height });\n        const overFlow = this.getCellOverFlow(i, j, rect, cell);\n        const result = callback(i, j, cell, rect, overFlow);\n        if (result === false) {\n          return;\n        }\n        x += width;\n      }\n      y += height;\n    }\n  }\n\n  getMergeCellByViewRange({\n    rectRange, callback, startX = 0, startY = 0,\n  }) {\n    const { rows, cols, cells, merges } = this;\n    const {\n      sri, eri, sci, eci,\n    } = rectRange;\n    const filter = [];\n    for (let i = sri; i <= eri; i += 1) {\n      for (let j = sci; j <= eci; j += 1) {\n        const merge = merges.getFirstIncludes(i, j);\n        if (merge && !filter.find(item => item === merge)) {\n          filter.push(merge);\n          const cell = cells.getCellOrNew(merge.sri, merge.sci);\n          const width = cols.sectionSumWidth(merge.sci, merge.eci);\n          const height = rows.sectionSumHeight(merge.sri, merge.eri);\n          const minSri = Math.min(rectRange.sri, merge.sri);\n          const minSci = Math.min(rectRange.sci, merge.sci);\n          let maxSri = Math.max(rectRange.sri, merge.sri);\n          let maxSci = Math.max(rectRange.sci, merge.sci);\n          maxSri -= 1;\n          maxSci -= 1;\n          let x = cols.sectionSumWidth(minSci, maxSci);\n          let y = rows.sectionSumHeight(minSri, maxSri);\n          x = rectRange.sci > merge.sci ? x * -1 : x;\n          y = rectRange.sri > merge.sri ? y * -1 : y;\n          x += startX;\n          y += startY;\n          const rect = new Rect({ x, y, width, height });\n          callback(rect, cell);\n        }\n      }\n    }\n  }\n\n  getCellSkipMergeCellByViewRange({\n    rectRange, callback, startX = 0, startY = 0,\n  }) {\n    const { merges } = this;\n    this.getCellByViewRange({\n      rectRange,\n      callback: (ri, ci, cell, rect, overflow) => {\n        const merge = merges.getFirstIncludes(ri, ci);\n        if (merge === null) {\n          callback(ri, ci, cell, rect, overflow);\n        }\n      },\n      startX,\n      startY,\n    });\n  }\n}\n\nexport { CellsHelper };\n","import { ALIGN, TEXT_DIRECTION, TEXT_WRAP } from '../../../canvas/Font';\n\n/**\n * GridLineHandle\n * @author jerry\n */\nclass GridLineHandle {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  /**\n   * 绘制垂直网格线段时\n   * 判断网格左右的单元格中\n   * 是否存在overflow裁剪类型\n   * 的单元格, 如果有判断宽度是否\n   * 覆盖了当前线段如果覆盖了\n   * 则跳过该线段绘制\n   * @param ci\n   * @param ri\n   */\n  vLineOverFlowWidthChecked(ci, ri) {\n    const { table } = this;\n    const { cols, cells } = table;\n    // 获取table的滚动可视区域\n    const scrollViewRange = table.getScrollViewRange();\n    const { eci } = scrollViewRange;\n    // 左边的最大宽度\n    const leftMaxWidth = cols.sectionSumWidth(0, ci);\n    for (let i = 0, leftWidth = 0; i <= ci; i += 1) {\n      if (i > 0) leftWidth += cols.getWidth(i - 1);\n      const cell = cells.getCell(ri, i);\n      if (!cell) { continue; }\n      const { fontAttr, contentWidth } = cell;\n      const { textWrap, align, direction, angle } = fontAttr;\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        if (angle === 0) { continue; }\n        if (textWrap === TEXT_WRAP.TRUNCATE) { continue; }\n        if (align !== ALIGN.left) { continue; }\n      } else {\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) { continue; }\n        if (align !== ALIGN.left) { continue; }\n      }\n      if (leftWidth + contentWidth >= leftMaxWidth) {\n        return false;\n      }\n    }\n    // 右边最大的宽度\n    for (let i = ci + 1, rightWidth = 0; i < eci; i += 1) {\n      rightWidth += cols.getWidth(i);\n      const cell = cells.getCell(ri, i);\n      if (!cell) { continue; }\n      const { fontAttr, contentWidth } = cell;\n      const { textWrap, align, direction, angle } = fontAttr;\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        if (angle === 0) { continue; }\n        if (textWrap === TEXT_WRAP.TRUNCATE) { continue; }\n        if (align !== ALIGN.right) { continue; }\n      } else {\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) { continue; }\n        if (align !== ALIGN.right) { continue; }\n      }\n      if (contentWidth >= rightWidth) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * 检查垂直线段是否需要绘制\n   * @param ci\n   * @param ri\n   * @returns {boolean}\n   */\n  vLineBorderChecked(ci, ri) {\n    const { table } = this;\n    const { cells } = table;\n    const cell = cells.getMergeCellOrCell(ri, ci);\n    const nextCell = cells.getMergeCellOrCell(ri, ci + 1);\n    // 跳过绘制边框的单元格\n    if (cell && nextCell) {\n      return !(cell.borderAttr.right.display || nextCell.borderAttr.left.display);\n    }\n    if (cell) {\n      return !cell.borderAttr.right.display;\n    }\n    if (nextCell) {\n      return !nextCell.borderAttr.left.display;\n    }\n    return true;\n  }\n\n  /**\n   * 检查水平线段是否需要绘制\n   * @param ri\n   * @param ci\n   * @returns {boolean}\n   */\n  hLineBorderChecked(ri, ci) {\n    const { table } = this;\n    const { cells } = table;\n    const cell = cells.getMergeCellOrCell(ri, ci);\n    const nextCell = cells.getMergeCellOrCell(ri + 1, ci);\n    // 跳过绘制边框的单元格\n    if (cell && nextCell) {\n      return !(cell.borderAttr.bottom.display || nextCell.borderAttr.top.display);\n    }\n    if (cell) {\n      return !cell.borderAttr.bottom.display;\n    }\n    if (nextCell) {\n      return !nextCell.borderAttr.top.display;\n    }\n    return true;\n  }\n\n  /**\n   * 水平线段位置计算\n   * @param viewRange\n   * @param bx\n   * @param by\n   * @param filter\n   * @returns {[]}\n   */\n  gridHLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table } = this;\n    const { lineHandle, cols, rows } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    let breakpoint;\n    lineHandle.hEach({\n      viewRange,\n      newRow: (row, y) => {\n        const height = rows.getHeight(row);\n        sx = bx;\n        sy = by + y + height;\n        ex = sx;\n        ey = sy;\n        breakpoint = false;\n      },\n      filter,\n      jump: (row, col) => {\n        if (breakpoint) {\n          breakpoint = false;\n          line.push({ sx, sy, ex, ey });\n        }\n        const width = cols.getWidth(col);\n        sx = ex + width;\n        ex = sx;\n      },\n      handle: (row, col) => {\n        breakpoint = true;\n        const width = cols.getWidth(col);\n        ex += width;\n      },\n      endRow: () => {\n        if (breakpoint) {\n          line.push({ sx, sy, ex, ey });\n        }\n      },\n    });\n    return line;\n  }\n\n  /**\n   * 垂直线段位置计算\n   * @param viewRange\n   * @param bx\n   * @param by\n   * @param filter\n   * @returns {[]}\n   */\n  gridVLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table } = this;\n    const { lineHandle, cols, rows } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    let breakpoint;\n    lineHandle.vEach({\n      viewRange,\n      newCol: (col, x) => {\n        const width = cols.getWidth(col);\n        sx = bx + x + width;\n        sy = by;\n        ex = sx;\n        ey = sy;\n        breakpoint = false;\n      },\n      filter,\n      jump: (col, row) => {\n        if (breakpoint) {\n          breakpoint = false;\n          line.push({ sx, sy, ex, ey });\n        }\n        const height = rows.getHeight(row);\n        sy = ey + height;\n        ey = sy;\n      },\n      handle: (col, row) => {\n        breakpoint = true;\n        const height = rows.getHeight(row);\n        ey += height;\n      },\n      endCol: () => {\n        if (breakpoint) {\n          line.push({ sx, sy, ex, ey });\n        }\n      },\n    });\n    return line;\n  }\n\n  /**\n   * 水平线段位置计算\n   * 检查水平线段是否需要绘制\n   * @param viewRange\n   * @returns {*[]}\n   */\n  hLine(viewRange) {\n    const { table } = this;\n    const { merges } = table;\n    return this.gridHLine(viewRange, 0, 0, (ri, ci) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      if (merge) {\n        return false;\n      }\n      return this.hLineBorderChecked(ri, ci);\n    });\n  }\n\n  /**\n   * 垂直线段位置计算\n   * 检查水平线段是否需要绘制\n   * @param viewRange\n   * @returns {*[]}\n   */\n  vLine(viewRange) {\n    const { table } = this;\n    const { merges } = table;\n    return this.gridVLine(viewRange, 0, 0, (ci, ri) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      if (merge) {\n        return false;\n      }\n      return this.vLineBorderChecked(ci, ri)\n        && this.vLineOverFlowWidthChecked(ci, ri);\n    });\n  }\n\n  /**\n   * 水平合并单元格线段位置计算\n   * 检查水平线段是否需要绘制\n   * @param mergesBrink\n   * @returns {*[]}\n   */\n  hMergeLine(mergesBrink) {\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { bottom } = brink;\n      if (bottom) {\n        const { view, x, y } = bottom;\n        const item = this.gridHLine(view, x, y, (ri, ci) => this.hLineBorderChecked(ri, ci));\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  /**\n   *  垂直合并单元格线段位置计算\n   * 检查水平线段是否需要绘制\n   * @param mergesBrink\n   * @returns {*[]}\n   */\n  vMergeLine(mergesBrink) {\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { right } = brink;\n      if (right) {\n        const { view, x, y } = right;\n        const item = this.gridVLine(view, x, y, (ci, ri) => this.vLineBorderChecked(ci, ri)\n          && this.vLineOverFlowWidthChecked(ci, ri));\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n}\n\nexport { GridLineHandle };\n","\n/**\n * BorderLineHandle\n * @author jerry\n */\nclass BorderLineHandle {\n\n  constructor(table) {\n    this.table = table;\n    this.drawOptimization = true;\n    this.borderOptimization = true;\n  }\n\n  borderHTLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, cols, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.hEach({\n      viewRange,\n      newRow: (row, y) => {\n        sx = bx;\n        sy = by + y;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (row, col) => {\n        const width = cols.getWidth(col);\n        sx = ex + width;\n        ex = sx;\n      },\n      handle: (row, col) => {\n        const width = cols.getWidth(col);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ex += width;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sx = ex;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = item.borderAttr.top.equal(last.borderAttr.top);\n        const ck2 = item.col - last.col === 1;\n        const ck3 = item.row === last.row;\n        if (ck1 && ck2 && ck3) {\n          last.ex = item.ex;\n          last.col = item.col;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  borderHBLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, cols, rows, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.hEach({\n      viewRange,\n      newRow: (row, y) => {\n        const height = rows.getHeight(row);\n        sx = bx;\n        sy = by + y + height;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (row, col) => {\n        const width = cols.getWidth(col);\n        sx = ex + width;\n        ex = sx;\n      },\n      handle: (row, col) => {\n        const width = cols.getWidth(col);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ex += width;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sx = ex;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = item.borderAttr.bottom.equal(last.borderAttr.bottom);\n        const ck2 = item.col - last.col === 1;\n        const ck3 = item.row === last.row;\n        if (ck1 && ck2 && ck3) {\n          last.ex = item.ex;\n          last.col = item.col;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  borderVLLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, rows, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.vEach({\n      viewRange,\n      newCol: (col, x) => {\n        sx = bx + x;\n        sy = by;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (col, row) => {\n        const height = rows.getHeight(row);\n        sy = ey + height;\n        ey = sy;\n      },\n      handle: (col, row) => {\n        const height = rows.getHeight(row);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ey += height;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sy = ey;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = item.borderAttr.left.equal(last.borderAttr.left);\n        const ck2 = item.row - last.row === 1;\n        const ck3 = item.col === last.col;\n        if (ck1 && ck2 && ck3) {\n          last.ey = item.ey;\n          last.row = item.row;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  borderVRLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, rows, cols, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.vEach({\n      viewRange,\n      newCol: (col, x) => {\n        const width = cols.getWidth(col);\n        sx = bx + x + width;\n        sy = by;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (col, row) => {\n        const height = rows.getHeight(row);\n        sy = ey + height;\n        ey = sy;\n      },\n      handle: (col, row) => {\n        const height = rows.getHeight(row);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ey += height;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sy = ey;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = item.borderAttr.right.equal(last.borderAttr.right);\n        const ck2 = item.row - last.row === 1;\n        const ck3 = item.col === last.col;\n        if (ck1 && ck2 && ck3) {\n          last.ey = item.ey;\n          last.row = item.row;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  htLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells } = table;\n    return this.borderHTLine(viewRange, 0, 0, (ri, ci) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      const cell = cells.getMergeCellOrCell(ri, ci);\n      const nextCell = cells.getMergeCellOrCell(ri - 1, ci);\n      // 跳过合并单元格\n      if (!cell || merge) {\n        return false;\n      }\n      // 边框绘制优先级比较\n      if (nextCell && borderOptimization) {\n        const display = cell.borderAttr.top.display\n          && nextCell.borderAttr.bottom.display;\n        const compareTime = cell.borderAttr.top\n          .compareTime(nextCell.borderAttr.bottom);\n        if (display) {\n          return compareTime === 1;\n        }\n      }\n      // 边框是否显示\n      return cell.borderAttr.top.display;\n    });\n  }\n\n  hbLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells } = table;\n    return this.borderHBLine(viewRange, 0, 0, (ri, ci) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      const cell = cells.getMergeCellOrCell(ri, ci);\n      const nextCell = cells.getMergeCellOrCell(ri + 1, ci);\n      // 跳过合并单元格\n      if (!cell || merge) {\n        return false;\n      }\n      // 边框绘制优先级比较\n      if (nextCell && borderOptimization) {\n        const display = cell.borderAttr.bottom.display\n          && nextCell.borderAttr.top.display;\n        const compareTime = cell.borderAttr.bottom\n          .compareTime(nextCell.borderAttr.top);\n        if (display) {\n          return compareTime === 1 || compareTime === 0;\n        }\n      }\n      // 边框是否显示\n      return cell.borderAttr.bottom.display;\n    });\n  }\n\n  vlLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells } = table;\n    return this.borderVLLine(viewRange, 0, 0, (ci, ri) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      const cell = cells.getMergeCellOrCell(ri, ci);\n      const nextCell = cells.getMergeCellOrCell(ri, ci - 1);\n      // 跳过合并单元格\n      if (!cell || merge) {\n        return false;\n      }\n      // 边框绘制优先级比较\n      if (nextCell && borderOptimization) {\n        const display = cell.borderAttr.left.display\n          && nextCell.borderAttr.right.display;\n        const compareTime = cell.borderAttr.left\n          .compareTime(nextCell.borderAttr.right);\n        if (display) {\n          return compareTime === 1;\n        }\n      }\n      // 边框是否显示\n      return cell.borderAttr.left.display;\n    });\n  }\n\n  vrLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells } = table;\n    return this.borderVRLine(viewRange, 0, 0, (ci, ri) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      const cell = cells.getMergeCellOrCell(ri, ci);\n      const nextCell = cells.getMergeCellOrCell(ri, ci + 1);\n      // 跳过合并单元格\n      if (!cell || merge) {\n        return false;\n      }\n      // 边框绘制优先级比较\n      if (nextCell && borderOptimization) {\n        const display = cell.borderAttr.right.display\n          && nextCell.borderAttr.left.display;\n        const compareTime = cell.borderAttr.right\n          .compareTime(nextCell.borderAttr.left);\n        if (display) {\n          return compareTime === 1 || compareTime === 0;\n        }\n      }\n      // 边框是否显示\n      return cell.borderAttr.right.display;\n    });\n  }\n\n  htMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { top } = brink;\n      if (top) {\n        const item = this.borderHTLine(top.view, top.x, top.y, (ri, ci) => {\n          const cell = cells.getCell(ri, ci);\n          const nextCell = cells.getCell(ri - 1, ci);\n          if (!cell) {\n            return false;\n          }\n          // 边框绘制优先级比较\n          if (nextCell && borderOptimization) {\n            const display = cell.borderAttr.top.display\n              && nextCell.borderAttr.bottom.display;\n            const compareTime = cell.borderAttr.top\n              .compareTime(nextCell.borderAttr.bottom);\n            if (display) {\n              return compareTime === 1;\n            }\n          }\n          // 边框是否显示\n          return cell.borderAttr.top.display;\n        });\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  hbMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { bottom } = brink;\n      if (bottom) {\n        const item = this.borderHBLine(bottom.view, bottom.x, bottom.y, (ri, ci) => {\n          const cell = cells.getCell(ri, ci);\n          const nextCell = cells.getCell(ri + 1, ci);\n          if (!cell) {\n            return false;\n          }\n          // 边框绘制优先级比较\n          if (nextCell && borderOptimization) {\n            const display = cell.borderAttr.bottom.display\n              && nextCell.borderAttr.top.display;\n            const compareTime = cell.borderAttr.bottom\n              .compareTime(nextCell.borderAttr.top);\n            if (display) {\n              return compareTime === 1 || compareTime === 0;\n            }\n          }\n          // 边框是否显示\n          return cell.borderAttr.bottom.display;\n        });\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  vlMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { left } = brink;\n      if (left) {\n        const item = this.borderVLLine(left.view, left.x, left.y, (ci, ri) => {\n          const cell = cells.getCell(ri, ci);\n          const nextCell = cells.getCell(ri, ci - 1);\n          if (!cell) {\n            return false;\n          }\n          // 边框绘制优先级比较\n          if (nextCell && borderOptimization) {\n            const display = cell.borderAttr.left.display\n              && nextCell.borderAttr.right.display;\n            const compareTime = cell.borderAttr.left\n              .compareTime(nextCell.borderAttr.right);\n            if (display) {\n              return compareTime === 1;\n            }\n          }\n          // 边框是否显示\n          return cell.borderAttr.left.display;\n        });\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  vrMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { right } = brink;\n      if (right) {\n        const item = this.borderVRLine(right.view, right.x, right.y, (ci, ri) => {\n          const cell = cells.getCell(ri, ci);\n          const nextCell = cells.getCell(ri, ci + 1);\n          if (!cell) {\n            return false;\n          }\n          // 边框绘制优先级比较\n          if (nextCell && borderOptimization) {\n            const display = cell.borderAttr.right.display\n              && nextCell.borderAttr.left.display;\n            const compareTime = cell.borderAttr.right\n              .compareTime(nextCell.borderAttr.left);\n            if (display) {\n              return compareTime === 1 || compareTime === 0;\n            }\n          }\n          // 边框是否显示\n          return cell.borderAttr.right.display;\n        });\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  openDrawOptimization() {\n    this.drawOptimization = true;\n  }\n\n  closeDrawOptimization() {\n    this.drawOptimization = false;\n  }\n\n  openBorderOptimization() {\n    this.borderOptimization = true;\n  }\n\n  closeBorderOptimization() {\n    this.borderOptimization = false;\n  }\n}\n\nexport { BorderLineHandle };\n","import { cssPrefix } from '../../config';\nimport Format from './Format';\nimport { Utils } from '../../utils/Utils';\nimport { Rows } from './Rows';\nimport { Cols } from './Cols';\nimport { Scroll } from './Scroll';\nimport { Fixed } from './Fixed';\nimport { h } from '../../lib/Element';\nimport { Widget } from '../../lib/Widget';\nimport { RectRange } from './RectRange';\nimport { Merges } from './Merges';\nimport { Constant } from '../../utils/Constant';\nimport { EventBind } from '../../utils/EventBind';\nimport { Screen } from './screen/Screen';\nimport { ScreenSelector } from './selector/ScreenSelector';\nimport { ScreenCopyStyle } from './copystyle/ScreenCopyStyle';\nimport { XReSizer } from './resizer/XReSizer';\nimport { YReSizer } from './resizer/YReSizer';\nimport { MousePointType } from './MousePoint';\nimport { ScreenAutoFill } from './autofill/ScreenAutoFill';\nimport { XHeightLight } from './highlight/XHeightLight';\nimport { YHeightLight } from './highlight/YHeightLight';\nimport { Edit } from './Edit';\nimport { Draw, floor, npx } from '../../canvas/Draw';\nimport { Font, TEXT_WRAP } from '../../canvas/Font';\nimport { Rect } from '../../canvas/Rect';\nimport { Crop } from '../../canvas/Crop';\nimport { Grid } from '../../canvas/Grid';\nimport { Box } from '../../canvas/Box';\nimport { DataSnapshot } from './DataSnapshot';\nimport { Line, LINE_TYPE } from '../../canvas/Line';\nimport { LineHandle } from './gridborder/LineHandle';\nimport { KeyboardManage } from './KeyboardManage';\nimport { Cells } from './cells/Cells';\nimport { CellsHelper } from './CellsHelper';\nimport { GridLineHandle } from './gridborder/GridLineHandle';\nimport { BorderLineHandle } from './gridborder/BorderLineHandle';\n\n/**\n * 绘制图表左上固定的部分\n */\nclass FrozenLeftTop {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { fixed, cols } = table;\n    const { fxLeft } = fixed;\n    return cols.sectionSumWidth(0, fxLeft);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { fixed, rows } = table;\n    const { fxTop } = fixed;\n    return rows.sectionSumHeight(0, fxTop);\n  }\n\n  getScrollViewRange() {\n    const width = this.getWidth();\n    const height = this.getHeight();\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop, fxLeft } = fixed;\n    return new RectRange(0, 0, fxTop, fxLeft, width, height);\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    draw.attr({\n      globalAlpha: 0.3,\n    });\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cellsHelper,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格背景\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    // 绘制合并单元格背景\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cellsHelper, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格文字\n    cellsHelper.getCellSkipMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect, overflow) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow,\n          attr: fontAttr,\n        });\n        cell.setContentWidth(font.draw());\n      },\n    });\n    // 绘制合并单元格文字\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow: null,\n          attr: fontAttr,\n        });\n        font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n        cell.setContentWidth(font.draw());\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const viewRange = this.getScrollViewRange();\n    const rect = new Rect({\n      x: offsetX,\n      y: offsetY,\n      width: viewRange.w,\n      height: viewRange.h,\n    });\n    const crop = new Crop({ draw, rect, offset: grid.lineWidth() });\n    crop.open();\n    this.drawBackGround(viewRange, offsetX, offsetY);\n    this.drawCells(viewRange, offsetX, offsetY);\n    if (settings.table.showGrid) {\n      this.drawGrid(viewRange, offsetX, offsetY);\n    }\n    this.drawBorder(viewRange, offsetX, offsetY);\n    crop.close();\n  }\n}\n\n/**\n * 绘制图表左边冻结的部分\n */\nclass FixedLeft {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const { width } = index;\n    return width;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { content } = table;\n    return content.getYOffset();\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    // console.log('table.cols >>>', table.cols);\n    return table.cols.sectionSumWidth(0, fxLeft);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const viewRange = table.getContentViewRange();\n    return viewRange.h;\n  }\n\n  getScrollViewRange() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    const viewRange = table.getScrollViewRange();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sci = 0;\n    viewRange.eci = fxLeft;\n    viewRange.w = width;\n    viewRange.h = height;\n    return viewRange;\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    draw.attr({\n      globalAlpha: 0.3,\n    });\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cellsHelper,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格背景\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    // 绘制合并单元格背景\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cellsHelper, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格文字\n    cellsHelper.getCellSkipMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect, overflow) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow,\n          attr: fontAttr,\n        });\n        cell.setContentWidth(font.draw());\n      },\n    });\n    // 绘制合并单元格文字\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow: null,\n          attr: fontAttr,\n        });\n        font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n        cell.setContentWidth(font.draw());\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, settings } = table;\n    const viewRange = this.getScrollViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const rect = new Rect({\n      x: offsetX,\n      y: offsetY,\n      width: viewRange.w,\n      height: viewRange.h,\n    });\n    const crop = new Crop({ draw, rect });\n    crop.open();\n    this.drawBackGround(viewRange, offsetX, offsetY);\n    this.drawCells(viewRange, offsetX, offsetY);\n    if (settings.table.showGrid) {\n      this.drawGrid(viewRange, offsetX, offsetY);\n    }\n    this.drawBorder(viewRange, offsetX, offsetY);\n    crop.close();\n  }\n}\n\n/**\n * 绘制图表的主体内容\n */\nclass Content {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxLeft } = fixed;\n    const { width } = index;\n    const fixedLeftWidth = table.cols.sectionSumWidth(0, fxLeft);\n    return fixedLeftWidth + width;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxTop } = fixed;\n    const { height } = index;\n    const fixedTopHeight = table.rows.sectionSumHeight(0, fxTop);\n    return height + fixedTopHeight;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxLeft } = fixed;\n    const { width } = index;\n    const fixedLeftWidth = table.cols.sectionSumWidth(0, fxLeft);\n    return table.visualWidth() - (fixedLeftWidth + width);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxTop } = fixed;\n    const { height } = index;\n    const fixedTopHeight = table.rows.sectionSumHeight(0, fxTop);\n    return table.visualHeight() - (height + fixedTopHeight);\n  }\n\n  getScrollViewRange() {\n    const { table } = this;\n    return table.getScrollViewRange();\n  }\n\n  getContentWidth() {\n    const { table } = this;\n    const { cols, fixed } = table;\n    const total = cols.totalWidth();\n    const fixedWidth = cols.sectionSumWidth(0, fixed.fxLeft);\n    return total - fixedWidth;\n  }\n\n  getContentHeight() {\n    const { table } = this;\n    const { rows, fixed } = table;\n    const total = rows.totalHeight();\n    const fixedHeight = rows.sectionSumHeight(0, fixed.fxTop);\n    return total - fixedHeight;\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    draw.attr({\n      globalAlpha: 0.3,\n    });\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cellsHelper,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格背景\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    // 绘制合并单元格背景\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, scrollViewXOffset, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cellsHelper, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格文字\n    cellsHelper.getCellSkipMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect, overflow) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow,\n          attr: fontAttr,\n        });\n        cell.setContentWidth(font.draw());\n        // Test\n        // draw.attr({ globalAlpha: 0.3 });\n        // draw.fillRect(rect.x,rect.y,cell.contentWidth,rect.height);\n      },\n      startX: scrollViewXOffset,\n    });\n    // 绘制合并单元格文字\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // console.log('rect >>>', rect);\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow: null,\n          attr: fontAttr,\n        });\n        font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n        cell.setContentWidth(font.draw());\n      },\n      startX: scrollViewXOffset,\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const scrollViewXOffset = table.getScrollViewXOffset();\n    const scrollViewRange = this.getScrollViewRange();\n    const contentViewRange = table.getContentViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = scrollViewRange.w;\n    const height = scrollViewRange.h;\n    const rect = new Rect({\n      x: offsetX,\n      y: offsetY,\n      width,\n      height,\n    });\n    const crop = new Crop({ draw, rect, offset: grid.lineWidth() });\n    crop.open();\n    this.drawBackGround(scrollViewRange, offsetX, offsetY);\n    this.drawCells(contentViewRange, scrollViewXOffset, offsetX, offsetY);\n    if (settings.table.showGrid) {\n      this.drawGrid(scrollViewRange, offsetX, offsetY);\n    }\n    this.drawBorder(scrollViewRange, offsetX, offsetY);\n    crop.close();\n  }\n}\n\n/**\n * 绘制图表顶部冻结的部分\n */\nclass FixedTop {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { content } = table;\n    return content.getXOffset();\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const { height } = index;\n    return height;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const viewRange = table.getContentViewRange();\n    return viewRange.w;\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    return table.rows.sectionSumHeight(0, fxTop);\n  }\n\n  getScrollViewRange() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const viewRange = table.getScrollViewRange();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sri = 0;\n    viewRange.eri = fxTop;\n    viewRange.w = width;\n    viewRange.h = height;\n    return viewRange;\n  }\n\n  getContentViewRange() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const viewRange = table.getContentViewRange();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sri = 0;\n    viewRange.eri = fxTop;\n    viewRange.w = width;\n    viewRange.h = height;\n    return viewRange;\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    draw.attr({\n      globalAlpha: 0.3,\n    });\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cellsHelper,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格背景\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    // 绘制合并单元格背景\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, scrollViewXOffset, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cellsHelper, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格文字\n    cellsHelper.getCellSkipMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect, overflow) => {\n        // console.log('rect>>>', rect);\n        // console.log('i, c', i, c);\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow,\n          attr: fontAttr,\n        });\n        cell.setContentWidth(font.draw());\n      },\n      startX: scrollViewXOffset,\n    });\n    // 绘制合并单元格文字\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow: null,\n          attr: fontAttr,\n        });\n        font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n        cell.setContentWidth(font.draw());\n      },\n      startX: scrollViewXOffset,\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const scrollViewXOffset = table.getScrollViewXOffset();\n    const scrollViewRange = this.getScrollViewRange();\n    const contentViewRange = this.getContentViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const rect = new Rect({\n      x: offsetX,\n      y: offsetY,\n      width: scrollViewRange.w,\n      height: scrollViewRange.h,\n    });\n    const crop = new Crop({ draw, rect, offset: grid.lineWidth() });\n    crop.open();\n    this.drawBackGround(scrollViewRange, offsetX, offsetY);\n    this.drawCells(contentViewRange, scrollViewXOffset, offsetX, offsetY);\n    if (settings.table.showGrid) {\n      this.drawGrid(scrollViewRange, offsetX, offsetY);\n    }\n    this.drawBorder(scrollViewRange, offsetX, offsetY);\n    crop.close();\n  }\n}\n\n/**\n * 绘制图表左边固定的索引栏\n */\nclass FrozenLeftIndex {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    return 0;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    return table.rows.sectionSumHeight(0, fxTop);\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, rows, settings,\n    } = table;\n    const { sri, eri } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      draw.fillText(i + 1, width / 2, y + (ch / 2));\n    });\n    // 绘制边框\n    let lineHeight = 0;\n    draw.attr({\n      globalAlpha: 0.3,\n      strokeStyle: settings.table.borderColor,\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      lineHeight += ch;\n      grid.horizontalLine(0, y, width, y);\n    });\n    grid.verticalLine(width, 0, width, lineHeight);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    const viewRange = new RectRange(0, 0, fxTop, 0, width, height);\n    this.draw(viewRange, offsetX, offsetY, width, height);\n  }\n}\n\n/**\n * 绘制图表顶部的索引栏\n */\nclass FrozenTopIndex {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getYOffset() {\n    return 0;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    return table.cols.sectionSumWidth(0, fxLeft);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, cols, settings,\n    } = table;\n    const { sci, eci } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      draw.fillText(Utils.stringAt(i), x + (cw / 2), height / 2);\n    });\n    // 绘制边框\n    let lineWidth = 0;\n    draw.attr({\n      globalAlpha: 0.3,\n      strokeStyle: settings.table.borderColor,\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      lineWidth += cw;\n      grid.verticalLine(x, 0, x, height);\n    });\n    grid.horizontalLine(0, height, lineWidth, height);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    const viewRange = new RectRange(0, 0, 0, fxLeft, width, height);\n    this.draw(viewRange, offsetX, offsetY, width, height);\n  }\n}\n\n/**\n * 绘制图表顶部固定的索引栏\n */\nclass FixedTopIndex {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    const { table } = this;\n    const { content } = table;\n    return content.getXOffset();\n  }\n\n  getYOffset() {\n    return 0;\n  }\n\n  getWidth() {\n    const { table } = this;\n    const viewRange = table.getScrollViewRange();\n    const { sci, eci } = viewRange;\n    return table.cols.sectionSumWidth(sci, eci);\n  }\n\n  getHeight() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, cols, settings,\n    } = table;\n    const { sci, eci } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      draw.fillText(Utils.stringAt(i), x + (cw / 2), height / 2);\n    });\n    // 绘制边框\n    let lineWidth = 0;\n    draw.attr({\n      globalAlpha: 0.3,\n      strokeStyle: settings.table.borderColor,\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      lineWidth += cw;\n      grid.verticalLine(x, 0, x, height);\n      if (i === eci) grid.verticalLine(x + cw, 0, x + cw, height);\n    });\n    grid.horizontalLine(0, height, lineWidth, height);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const viewRange = table.getScrollViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sri = 0;\n    viewRange.eri = 0;\n    this.draw(viewRange, offsetX, offsetY, width, height);\n  }\n}\n\n/**\n * 绘制图表左边固定的索引栏\n */\nclass FixedLeftIndex {\n  constructor(table) {\n    this.table = table;\n  }\n\n  getXOffset() {\n    return 0;\n  }\n\n  getYOffset() {\n    const { table } = this;\n    const { content } = table;\n    return content.getYOffset();\n  }\n\n  getWidth() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getHeight() {\n    const { table } = this;\n    const viewRange = table.getScrollViewRange();\n    const { sri, eri } = viewRange;\n    return table.rows.sectionSumHeight(sri, eri);\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, rows, settings,\n    } = table;\n    const { sri, eri } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      draw.fillText(i + 1, width / 2, y + (ch / 2));\n    });\n    // 绘制边框\n    let lineHeight = 0;\n    draw.attr({\n      globalAlpha: 0.3,\n      strokeStyle: settings.table.borderColor,\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      lineHeight += ch;\n      grid.horizontalLine(0, y, width, y);\n      if (i === eri) grid.horizontalLine(0, y + ch, width, y + ch);\n    });\n    grid.verticalLine(width, 0, width, lineHeight);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const viewRange = table.getScrollViewRange();\n    const offsetX = this.getXOffset();\n    const offsetY = this.getYOffset();\n    const width = this.getWidth();\n    const height = this.getHeight();\n    viewRange.sci = 0;\n    viewRange.eci = 0;\n    this.draw(viewRange, offsetX, offsetY, width, height);\n  }\n}\n\n/**\n * 绘制图片固定区域\n */\nclass FrozenRect {\n  constructor(table) {\n    this.table = table;\n  }\n\n  draw(offsetX, offsetY, width, height) {\n    const { table } = this;\n    const { draw } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f4f5f8',\n    });\n    draw.fillRect(0, 0, width, height);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  render() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    this.draw(0, 0, index.width, index.height);\n  }\n}\n\n/**\n * 默认设置\n * @type {{tipsRenderTime: boolean,\n * data: [],\n * tipsScrollTime: boolean,\n * index: {\n * bgColor: string,\n * color: string,\n * width: number,\n * height: number},\n * fixed: {\n * fxLeft: number,\n * fxTop: number,\n * }\n * rows: {len: number,\n * height: number},\n * cols: {len: number,\n * width: number},\n * table: {borderColor: string,\n * background: string,\n * showGrid: boolean}, merges: []}}\n */\nconst defaultSettings = {\n  tipsRenderTime: false,\n  tipsScrollTime: false,\n  index: {\n    height: 30,\n    width: 50,\n    bgColor: '#f4f5f8',\n    color: '#000000',\n  },\n  table: {\n    background: '#ffffff',\n    borderColor: '#a7a7a7',\n    showGrid: true,\n  },\n  data: [],\n  rows: {\n    len: 1000,\n    height: 30,\n  },\n  cols: {\n    len: 26,\n    width: 137,\n  },\n  merges: [],\n  fixed: {\n    fxTop: -1,\n    fxLeft: -1,\n  },\n};\n\n/**\n * Table\n * @author jerry\n */\nclass Table extends Widget {\n\n  constructor(settings) {\n    super(`${cssPrefix}-table`);\n\n    // 滚动区域\n    // 内容区域\n    // 滚动区域和内容区域的偏移量\n    this.scrollViewRange = null;\n    this.contentViewRange = null;\n    this.scrollViewXOffset = -1;\n\n    // 表格基本数据信息\n    this.canvas = h('canvas', `${cssPrefix}-table-canvas`);\n    this.settings = Utils.mergeDeep({}, defaultSettings, settings);\n    this.cells = new Cells({\n      table: this,\n      rows: this.rows,\n      cols: this.cols,\n      data: this.settings.data,\n    });\n    this.fixed = new Fixed(this.settings.fixed);\n    this.rows = new Rows(this.settings.rows);\n    this.cols = new Cols(this.settings.cols);\n    this.merges = new Merges(this.settings.merges);\n    this.scroll = new Scroll(this);\n\n    // 帮助类\n    this.cellsHelper = new CellsHelper({\n      cells: this.cells,\n      merges: this.merges,\n      rows: this.rows,\n      cols: this.cols,\n    });\n\n    // 表格线段处理\n    this.lineHandle = new LineHandle(this);\n    this.gridLineHandle = new GridLineHandle(this);\n    this.borderLineHandle = new BorderLineHandle(this);\n\n    // 撤销/反撤销\n    this.dataSnapshot = new DataSnapshot(this);\n\n    // 鼠标指针\n    this.mousePointType = new MousePointType(this);\n\n    // 键盘快捷键\n    this.keyboardManage = new KeyboardManage();\n\n    // canvas 绘制资源\n    this.draw = new Draw(this.canvas.el);\n    this.line = new Line(this.draw, {\n      leftShow: (ri, ci) => {\n        const cell = this.cells.getMergeCellOrCell(ri, ci);\n        return cell && cell.borderAttr.left.display;\n      },\n      topShow: (ri, ci) => {\n        const cell = this.cells.getMergeCellOrCell(ri, ci);\n        return cell && cell.borderAttr.top.display;\n      },\n      rightShow: (ri, ci) => {\n        const cell = this.cells.getMergeCellOrCell(ri, ci);\n        return cell && cell.borderAttr.right.display;\n      },\n      bottomShow: (ri, ci) => {\n        const cell = this.cells.getMergeCellOrCell(ri, ci);\n        return cell && cell.borderAttr.bottom.display;\n      },\n      iFMerge: (row, col) => this.merges.getFirstIncludes(row, col) !== null,\n      iFMergeFirstRow: (row, col) => this.merges.getFirstIncludes(row, col).sri === row,\n      iFMergeLastRow: (row, col) => this.merges.getFirstIncludes(row, col).eri === row,\n      iFMergeFirstCol: (row, col) => this.merges.getFirstIncludes(row, col).sci === col,\n      iFMergeLastCol: (row, col) => this.merges.getFirstIncludes(row, col).eci === col,\n    });\n    this.grid = new Grid(this.draw, {\n      color: this.settings.table.borderColor,\n    });\n\n    // table表绘制的各个部分\n    this.content = new Content(this);\n    this.fixedLeft = new FixedLeft(this);\n    this.fixedTop = new FixedTop(this);\n    this.fixedTopIndex = new FixedTopIndex(this);\n    this.fixedLeftIndex = new FixedLeftIndex(this);\n    this.frozenLeftTop = new FrozenLeftTop(this);\n    this.frozenLeftIndex = new FrozenLeftIndex(this);\n    this.frozenTopIndex = new FrozenTopIndex(this);\n    this.frozenRect = new FrozenRect(this);\n\n    // table基础组件\n    this.screen = new Screen(this);\n    this.xReSizer = new XReSizer(this);\n    this.yReSizer = new YReSizer(this);\n    this.xHeightLight = new XHeightLight(this);\n    this.yHeightLight = new YHeightLight(this);\n    this.edit = new Edit(this);\n    this.children(this.canvas);\n    this.children(this.screen);\n    this.children(this.xReSizer);\n    this.children(this.yReSizer);\n    this.children(this.xHeightLight);\n    this.children(this.yHeightLight);\n    this.children(this.edit);\n\n    // 事件绑定\n    this.bind();\n  }\n\n  initScreenWidget() {\n    const { dataSnapshot } = this;\n    // 单元格筛选组件\n    const screenSelector = new ScreenSelector(this.screen);\n    screenSelector.addSelectChangeCb(() => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE);\n    });\n    screenSelector.addDownSelectCb(() => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN);\n    });\n    this.screen.addWidget(screenSelector);\n    // 自动填充组件\n    const screenAutoFill = new ScreenAutoFill(this.screen, {\n      onAfterAutoFill: (count) => {\n        if (count > 0) {\n          dataSnapshot.snapshot(true);\n        }\n      },\n    });\n    this.screen.addWidget(screenAutoFill);\n    // 样式复制\n    const copyStyle = new ScreenCopyStyle(this.screen, {});\n    this.screen.addWidget(copyStyle);\n  }\n\n  init() {\n    this.initScreenWidget();\n    this.screen.init();\n    this.xReSizer.init();\n    this.yReSizer.init();\n    this.xHeightLight.init();\n    this.yHeightLight.init();\n    this.edit.init();\n    this.resize();\n  }\n\n  checkedEnableBorderDrawOptimization() {\n    const { cellsHelper } = this;\n    const viewRange = this.getContentViewRange();\n    let enable = true;\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (r, c, cell) => {\n        const { borderAttr } = cell;\n        const { top, left, right, bottom } = borderAttr;\n        if (top.type === LINE_TYPE.DOUBLE_LINE) {\n          enable = false;\n          return enable;\n        }\n        if (left.type === LINE_TYPE.DOUBLE_LINE) {\n          enable = false;\n          return enable;\n        }\n        if (right.type === LINE_TYPE.DOUBLE_LINE) {\n          enable = false;\n          return enable;\n        }\n        if (bottom.type === LINE_TYPE.DOUBLE_LINE) {\n          enable = false;\n          return enable;\n        }\n        return true;\n      },\n    });\n    if (enable) {\n      this.borderLineHandle.openDrawOptimization();\n    } else {\n      this.borderLineHandle.closeDrawOptimization();\n    }\n  }\n\n  scrollX(x) {\n    const {\n      cols, fixed, settings, scroll,\n    } = this;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.time();\n    }\n    let { fxLeft } = fixed;\n    fxLeft += 1;\n    const [\n      ci, left, width,\n    ] = Utils.rangeReduceIf(fxLeft, cols.len, 0, 0, x, i => cols.getWidth(i));\n    let x1 = left;\n    if (x > 0) x1 += width;\n    scroll.ci = ci;\n    scroll.x = x1;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.log('滚动条计算耗时:');\n      // eslint-disable-next-line no-console\n      console.timeEnd();\n    }\n    this.trigger(Constant.SYSTEM_EVENT_TYPE.SCROLL);\n  }\n\n  scrollY(y) {\n    const {\n      rows, fixed, settings, scroll,\n    } = this;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.time();\n    }\n    let { fxTop } = fixed;\n    fxTop += 1;\n    const [\n      ri, top, height,\n    ] = Utils.rangeReduceIf(fxTop, rows.len, 0, 0, y, i => rows.getHeight(i));\n    let y1 = top;\n    if (y > 0) y1 += height;\n    scroll.ri = ri;\n    scroll.y = y1;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.log('滚动条计算耗时:');\n      // eslint-disable-next-line no-console\n      console.timeEnd();\n    }\n    this.trigger(Constant.SYSTEM_EVENT_TYPE.SCROLL);\n  }\n\n  getContentViewRange() {\n    const { contentViewRange } = this;\n    if (contentViewRange !== null) {\n      return contentViewRange.clone();\n    }\n    const scrollViewRange = this.getScrollViewRange();\n    const {\n      sri, eri, eci,\n    } = scrollViewRange;\n    const { cols } = this;\n    scrollViewRange.set(sri, 0, eri, eci);\n    scrollViewRange.w = cols.sectionSumWidth(0, eci);\n    this.contentViewRange = scrollViewRange;\n    return this.contentViewRange.clone();\n  }\n\n  getScrollViewRange() {\n    const { scrollViewRange } = this;\n    if (scrollViewRange !== null) {\n      return scrollViewRange.clone();\n    }\n    const {\n      rows, cols, scroll, content,\n    } = this;\n    let [width, height] = [0, 0];\n    const { ri, ci } = scroll;\n    let [eri, eci] = [rows.len, cols.len];\n    for (let i = ri; i < rows.len; i += 1) {\n      height += rows.getHeight(i);\n      eri = i;\n      if (height > content.getHeight()) break;\n    }\n    for (let j = ci; j < cols.len; j += 1) {\n      width += cols.getWidth(j);\n      eci = j;\n      if (width > content.getWidth()) break;\n    }\n    this.scrollViewRange = new RectRange(ri, ci, eri, eci, width, height);\n    return this.scrollViewRange.clone();\n  }\n\n  getScrollViewXOffset() {\n    const { scrollViewXOffset } = this;\n    if (scrollViewXOffset !== -1) {\n      return -scrollViewXOffset;\n    }\n    const { scroll, cols } = this;\n    const { ci } = scroll;\n    this.scrollViewXOffset = cols.sectionSumWidth(0, ci - 1);\n    return -this.scrollViewXOffset;\n  }\n\n  clearViewRange() {\n    this.scrollViewRange = null;\n    this.contentViewRange = null;\n    this.scrollViewXOffset = -1;\n  }\n\n  render() {\n    const { settings, fixed } = this;\n    if (settings.tipsRenderTime) {\n      // eslint-disable-next-line no-console\n      console.time();\n    }\n    this.checkedEnableBorderDrawOptimization();\n    this.clear();\n    this.frozenRect.render();\n    // 渲染固定冻结的内容\n    if (fixed.fxLeft > -1 && fixed.fxTop > -1) {\n      this.frozenLeftTop.render();\n    }\n    if (fixed.fxTop > -1) {\n      this.fixedTop.render();\n    }\n    if (fixed.fxLeft > -1) {\n      this.fixedLeft.render();\n    }\n    // 表格内容渲染\n    this.content.render();\n    // 冻结索引渲染\n    if (fixed.fxTop > -1) {\n      this.frozenTopIndex.render();\n    }\n    if (fixed.fxLeft > -1) {\n      this.frozenLeftIndex.render();\n    }\n    // 固定索引渲染\n    this.fixedLeftIndex.render();\n    this.fixedTopIndex.render();\n    if (settings.tipsRenderTime) {\n      // eslint-disable-next-line no-console\n      console.log('渲染界面耗时:');\n      // eslint-disable-next-line no-console\n      console.timeEnd();\n    }\n  }\n\n  resize() {\n    const { draw } = this;\n    const [width, height] = [this.visualWidth(), this.visualHeight()];\n    draw.resize(width, height);\n    this.clearViewRange();\n    this.render();\n  }\n\n  bind() {\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      const { x, y } = this.computeEventXy(e);\n      const { ri, ci } = this.getRiCiByXy(x, y);\n      if (ri === -1 && ci === -1) {\n        this.mousePointType.set('cell', 'table-cell');\n      } else if (ri === -1) {\n        this.mousePointType.set('s-resize', 'table-ci');\n      } else if (ci === -1) {\n        this.mousePointType.set('e-resize', 'table-ri');\n      } else {\n        this.mousePointType.set('cell', 'table-cell');\n      }\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      this.clearViewRange();\n      this.render();\n    });\n    EventBind.bind(this, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, () => {\n      this.clearViewRange();\n      this.render();\n    });\n    EventBind.bind(this, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, () => {\n      this.clearViewRange();\n      this.render();\n    });\n  }\n\n  clear() {\n    const { draw, settings } = this;\n    const { width, height } = draw;\n    draw.attr({\n      fillStyle: settings.table.background,\n    });\n    draw.fillRect(0, 0, width, height);\n  }\n\n  getContentWidth() {\n    return this.content.getContentWidth();\n  }\n\n  getContentHeight() {\n    return this.content.getContentHeight();\n  }\n\n  getRiCiByXy(x, y) {\n    const {\n      settings, fixed, rows, cols,\n    } = this;\n    const { index } = settings;\n    const fixedHeight = this.fixedTop.getHeight();\n    const fixedWidth = this.fixedLeft.getWidth();\n\n    let [left, top] = [x, y];\n    let [ci, ri] = [-1, -1];\n\n    left -= index.width;\n    top -= index.height;\n\n    // left\n    if (left <= fixedWidth && x > index.width) {\n      let total = 0;\n      for (let i = 0; i <= fixed.fxLeft; i += 1) {\n        const width = cols.getWidth(i);\n        total += width;\n        ci = i;\n        if (total > left) break;\n      }\n    } else if (x > index.width) {\n      let total = fixedWidth;\n      const viewRange = this.getScrollViewRange();\n      for (let i = viewRange.sci; i <= viewRange.eci; i += 1) {\n        const width = cols.getWidth(i);\n        total += width;\n        ci = i;\n        if (total > left) break;\n      }\n      // console.log('ci >>', ci);\n    }\n\n    // top\n    if (top < fixedHeight && y > index.height) {\n      let total = 0;\n      for (let i = 0; i <= fixed.fxTop; i += 1) {\n        const height = rows.getHeight(i);\n        total += height;\n        ri = i;\n        if (total > top) break;\n      }\n    } else if (y > index.height) {\n      let total = fixedHeight;\n      const viewRange = this.getScrollViewRange();\n      for (let i = viewRange.sri; i <= viewRange.eri; i += 1) {\n        const height = rows.getHeight(i);\n        total += height;\n        ri = i;\n        if (total > top) break;\n      }\n      // console.log('ri >>', ri);\n    }\n\n    return {\n      ri, ci,\n    };\n  }\n\n  getFixedWidth() {\n    return this.fixedLeft.getWidth();\n  }\n\n  getFixedHeight() {\n    return this.fixedTop.getHeight();\n  }\n\n  visualHeight() {\n    return this.box().height;\n  }\n\n  visualWidth() {\n    return this.box().width;\n  }\n\n  getIndexWidth() {\n    const { settings } = this;\n    return settings.index.width;\n  }\n\n  getIndexHeight() {\n    const { settings } = this;\n    return settings.index.height;\n  }\n\n  setHeight(ri, height) {\n    const { rows } = this;\n    rows.setHeight(ri, floor(height));\n    this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT);\n  }\n\n  setWidth(ci, width) {\n    const { cols } = this;\n    cols.setWidth(ci, floor(width));\n    this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH);\n  }\n\n  getCell(ri, ci) {\n    const { cells } = this;\n    return Utils.mergeDeep({}, cells.getCell(ri, ci));\n  }\n\n  setCell(ri, ci, cell) {\n    // console.log('setCell >> ri, ci >>', ri, ci);\n    const { cells, dataSnapshot } = this;\n    cells.setCellOrNew(ri, ci, cell);\n    dataSnapshot.snapshot(true);\n    this.render();\n  }\n\n  toString() {\n    const data = {\n      rows: {\n        data: this.rows.getData(),\n      },\n      cols: {\n        data: this.cols.getData(),\n      },\n      merges: {\n        data: this.merges.getData(),\n      },\n    };\n    return JSON.stringify(data);\n  }\n}\n\nexport {\n  Table,\n};\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { Table } from '../table/Table';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\n\nclass Sheet extends Widget {\n  constructor(options = {\n    tableConfig: {\n      data: [],\n      merges: [],\n    },\n  }) {\n    super(`${cssPrefix}-sheet`);\n    this.options = options;\n    // console.log('this.options.tableConfig >>>', this.options.tableConfig);\n    this.table = new Table(this.options.tableConfig);\n    this.children(this.table);\n    this.bind();\n  }\n\n  init() {\n    this.table.init();\n  }\n\n  bind() {\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      // console.log('change width');\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, this);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, this);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, this);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN, this);\n      e.stopPropagation();\n    });\n  }\n}\n\nexport { Sheet };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { Sheet } from './Sheet';\nimport { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../utils/Constant';\n\nclass SheetView extends Widget {\n  constructor() {\n    super(`${cssPrefix}-sheet-view`);\n    this.sheetList = [];\n    this.activeIndex = -1;\n  }\n\n  add(sheet = new Sheet()) {\n    this.sheetList.push(sheet);\n    this.children(sheet);\n    sheet.init();\n    sheet.hide();\n    // console.log(sheet);\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      // console.log('e>>>', e);\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH);\n      e.stopPropagation();\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      // console.log('e>>>', e);\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT);\n      e.stopPropagation();\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.DATA_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN, this);\n      e.stopPropagation();\n    });\n    return this.sheetList.length - 1;\n  }\n\n  getActiveSheet() {\n    return this.sheetList[this.activeIndex];\n  }\n\n  setActiveSheet(index) {\n    const { sheetList } = this;\n    if (sheetList[index]) {\n      this.activeIndex = index;\n      return this.setActive(sheetList[index]);\n    }\n    return null;\n  }\n\n  setActive(sheet) {\n    sheet.show();\n    sheet.sibling().forEach((item) => {\n      item.hide();\n    });\n    return sheet;\n  }\n}\n\nexport { SheetView };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\n\nlet number = 0;\n\nclass Tab extends Widget {\n  constructor(name = `Sheet${number += 1}`) {\n    super(`${cssPrefix}-sheet-tab`);\n    this.setName(name);\n  }\n\n  setName(name) {\n    this.name = name;\n    this.text(this.name);\n  }\n}\n\nexport { Tab };\n","/* global window document */\n\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { VerticalLayer } from '../../lib/layer/VerticalLayer';\nimport { HorizontalLayer } from '../../lib/layer/HorizontalLayer';\nimport { VerticalLayerElement } from '../../lib/layer/VerticalLayerElement';\nimport { ScrollBarX } from '../../component/scrollbar/ScrollBarX';\nimport { ScrollBarY } from '../../component/scrollbar/ScrollBarY';\nimport { HorizontalLayerElement } from '../../lib/layer/HorizontalLayerElement';\nimport { VerticalCenterElement } from '../../lib/layer/center/VerticalCenterElement';\nimport { VerticalCenter } from '../../lib/layer/center/VerticalCenter';\nimport { Constant } from '../../utils/Constant';\nimport { SheetView } from './SheetView';\nimport { TabView } from './TabView';\nimport { Utils } from '../../utils/Utils';\nimport { Sheet } from './Sheet';\nimport { Tab } from './Tab';\nimport { EventBind } from '../../utils/EventBind';\nimport { h } from '../../lib/Element';\n\n// sheet表和垂直滚动条\nlet sheetViewLayerHorizontalElement;\nlet scrollBarYLayerHorizontalElement;\nlet horizontalLayer1;\n\n// sheetTab选修卡和水平滚动条\nlet scrollBarXLayerVerticalCenterElement;\nlet scrollBarXVerticalCenter;\nlet scrollBarXLayerHorizontalElement;\nlet sheetSwitchTabLayerHorizontalElement;\nlet horizontalLayer2;\n\n// 根布局\nlet horizontalLayer1LayerVerticalElement;\nlet horizontalLayer2Layer1LayerVerticalElement;\nlet layerVerticalLayer;\n\nclass WorkBody extends Widget {\n  constructor(work, options = { sheets: [] }) {\n    super(`${cssPrefix}-work-body`);\n    this.work = work;\n    this.workConfig = options;\n    this.sheets = this.workConfig.sheets;\n    this.tabAndSheet = [];\n    // 版本标识\n    this.poweredBy = h('div', `${cssPrefix}-powered-by-tips`);\n    this.poweredBy.text(' X-Sheet 1.0.0-alpha ');\n    this.children(this.poweredBy);\n    // 组件\n    this.sheetView = new SheetView();\n    this.tabView = new TabView({\n      onAdd: (tab, tabIndex) => {\n        const { sheetView } = this;\n        const sheet = new Sheet();\n        const sheetIndex = sheetView.add(sheet);\n        this.tabAndSheet.push({\n          tab,\n          sheet,\n          tabIndex,\n          sheetIndex,\n        });\n      },\n      onSwitch: (tab) => {\n        this.setActiveTab(tab);\n      },\n    });\n    this.scrollBarX = new ScrollBarX({\n      scroll: (move) => {\n        const sheet = this.sheetView.getActiveSheet();\n        sheet.table.scrollX(move);\n      },\n    });\n    this.scrollBarY = new ScrollBarY({\n      scroll: (move) => {\n        const sheet = this.sheetView.getActiveSheet();\n        sheet.table.scrollY(move);\n      },\n    });\n    // sheet表和垂直滚动条\n    sheetViewLayerHorizontalElement = new HorizontalLayerElement(this.sheetView, {\n      style: {\n        flexGrow: 1,\n      },\n    });\n    scrollBarYLayerHorizontalElement = new HorizontalLayerElement(this.scrollBarY, {\n      style: {\n        overflow: 'inherit',\n      },\n    });\n    horizontalLayer1 = new HorizontalLayer({\n      layerElements: [sheetViewLayerHorizontalElement, scrollBarYLayerHorizontalElement],\n    });\n    // sheetTab选修卡和水平滚动条\n    scrollBarXLayerVerticalCenterElement = new VerticalCenterElement(this.scrollBarX);\n    scrollBarXVerticalCenter = new VerticalCenter({\n      centerElements: [scrollBarXLayerVerticalCenterElement],\n    });\n    scrollBarXLayerHorizontalElement = new HorizontalLayerElement(scrollBarXVerticalCenter, {\n      style: {\n        flexGrow: 2,\n      },\n    });\n    sheetSwitchTabLayerHorizontalElement = new HorizontalLayerElement(this.tabView, {\n      style: {\n        flexGrow: 3,\n      },\n    });\n    horizontalLayer2 = new HorizontalLayer({\n      layerElements: [sheetSwitchTabLayerHorizontalElement, scrollBarXLayerHorizontalElement],\n    });\n    // 根布局\n    horizontalLayer1LayerVerticalElement = new VerticalLayerElement(horizontalLayer1, {\n      style: {\n        flexGrow: 1,\n      },\n    });\n    horizontalLayer2Layer1LayerVerticalElement = new VerticalLayerElement(horizontalLayer2);\n    layerVerticalLayer = new VerticalLayer({\n      layerElements: [horizontalLayer1LayerVerticalElement,\n        horizontalLayer2Layer1LayerVerticalElement],\n    });\n    // 添加布局\n    this.children(layerVerticalLayer);\n    this.bind();\n  }\n\n  init() {\n    this.sheetView.init();\n    this.tabView.init();\n    this.scrollBarX.init();\n    this.scrollBarY.init();\n    this.initSheet();\n    this.initScroll();\n  }\n\n  initScroll() {\n    const sheet = this.sheetView.getActiveSheet();\n    if (Utils.isUnDef(sheet)) return;\n    const { table } = sheet;\n    const { content, scroll } = table;\n    scrollBarXLayerHorizontalElement.display(content.getWidth() < content.getContentWidth());\n    this.scrollBarY.setSize(content.getHeight(), content.getContentHeight());\n    this.scrollBarX.setSize(content.getWidth(), content.getContentWidth());\n    this.scrollBarY.scrollMove(scroll.y);\n    this.scrollBarX.scrollMove(scroll.x);\n  }\n\n  initSheet() {\n    const { sheetView, tabView } = this;\n    // eslint-disable-next-line no-restricted-syntax\n    for (const item of this.sheets) {\n      // console.log(item);\n      // eslint-disable-next-line no-restricted-syntax\n      const { name } = item;\n      const sheet = new Sheet(item);\n      const tab = new Tab(name);\n      const sheetIndex = sheetView.add(sheet);\n      const tabIndex = tabView.add(tab);\n      this.tabAndSheet.push({\n        tab,\n        sheet,\n        tabIndex,\n        sheetIndex,\n      });\n    }\n    const first = this.tabAndSheet[0];\n    if (first) {\n      this.setActiveTabIndex(first.tabIndex);\n      this.setActiveSheetIndex(first.sheetIndex);\n    }\n  }\n\n  setActiveSheetIndex(index) {\n    const { sheetView } = this;\n    sheetView.setActiveSheet(index);\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    table.resize();\n    this.initScroll();\n  }\n\n  setActiveTabIndex(index) {\n    const { tabView } = this;\n    tabView.setActiveTab(index);\n  }\n\n  setActiveTab(tab) {\n    this.tabAndSheet.forEach((item) => {\n      if (item.tab === tab) {\n        this.setActiveTabIndex(item.tabIndex);\n        this.setActiveSheetIndex(item.sheetIndex);\n        this.trigger(Constant.WORK_BODY_TYPE.CHANGE_ACTIVE);\n      }\n    });\n  }\n\n  bind() {\n    this.on(Constant.SYSTEM_EVENT_TYPE.MOUSE_WHEEL, (evt) => {\n      const sheet = this.sheetView.getActiveSheet();\n      if (Utils.isUnDef(sheet)) return;\n      const { table } = sheet;\n      const { rows, scroll } = table;\n      const { scrollTo } = this.scrollBarY;\n      let { deltaY } = evt;\n      if (evt.detail) deltaY = evt.detail * 40;\n      if (deltaY > 0) {\n        // down\n        this.scrollBarY.scrollMove(scrollTo + rows.getHeight(scroll.ri));\n      } else {\n        // up\n        this.scrollBarY.scrollMove(scrollTo - rows.getHeight(scroll.ri - 1));\n      }\n      if (scroll.blockTop < scroll.maxBlockTop && scroll.blockTop > 0) {\n        evt.preventDefault();\n        evt.stopPropagation();\n      }\n    });\n    EventBind.bind(window, Constant.SYSTEM_EVENT_TYPE.RESIZE, () => {\n      const { sheetView } = this;\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      table.resize();\n      this.initScroll();\n    });\n    EventBind.bind(document, Constant.SYSTEM_EVENT_TYPE.VISIBILITY_CHANGE, () => {\n      const { sheetView } = this;\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      if (!document.hidden) {\n        table.resize();\n      }\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, () => {\n      // console.log('change height');\n      this.initScroll();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, () => {\n      // console.log('change width');\n      this.initScroll();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.DATA_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN, this);\n      e.stopPropagation();\n    });\n  }\n}\n\nexport { WorkBody };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\nimport { Utils } from '../../utils/Utils';\nimport { Tab } from './Tab';\n\nclass TabView extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-sheet-switch-tab`);\n    this.last = h('div', `${cssPrefix}-switch-tab-last-btn`);\n    this.next = h('div', `${cssPrefix}-switch-tab-next-btn`);\n    this.content = h('div', `${cssPrefix}-sheet-tab-content`);\n    this.tabs = h('div', `${cssPrefix}-sheet-tab-tabs`);\n    this.plus = h('div', `${cssPrefix}-sheet-tab-plus`);\n    this.content.children(this.tabs);\n    this.children(...[\n      this.last,\n      this.next,\n      this.content,\n      this.plus,\n    ]);\n    this.optiions = Utils.mergeDeep({\n      onAdd(tab) { return tab; },\n      onSwitch(tab) { return tab; },\n    }, options);\n    this.number = 0;\n    this.left = null;\n    this.tabList = [];\n  }\n\n  setActiveTab(index) {\n    const { tabList } = this;\n    if (tabList[index]) {\n      this.setActive(tabList[index]);\n      return tabList[index];\n    }\n    return null;\n  }\n\n  setActive(tab) {\n    tab.addClass('active');\n    tab.sibling().forEach((item) => {\n      item.removeClass('active');\n    });\n  }\n\n  init() {\n    this.bind();\n  }\n\n  bind() {\n    this.plus.on('click', () => {\n      const tab = new Tab();\n      const index = this.addCurrent(tab);\n      this.optiions.onAdd(tab, index);\n    });\n    this.last.on('click', () => {\n      let left = this.left || 0;\n      left += 30;\n      if (left > 0) left = 0;\n      this.left = left;\n      this.tabs.css('marginLeft', `${this.left}px`);\n    });\n    this.next.on('click', () => {\n      const maxWidth = this.content.offset().width;\n      const current = this.tabs.offset().width;\n      const min = -(current - maxWidth);\n      let left = this.left || 0;\n      left -= 30;\n      if (left < min) left = min;\n      this.left = left;\n      this.tabs.css('marginLeft', `${this.left}px`);\n    });\n  }\n\n  add(tab) {\n    this.tabList.push(tab);\n    this.tabs.children(tab);\n    tab.on('click', () => {\n      this.setActive(tab);\n      this.optiions.onSwitch(tab);\n    });\n    return this.tabList.length - 1;\n  }\n\n  addCurrent(tab) {\n    const result = this.add(tab);\n    const maxWidth = this.content.offset().width;\n    const current = this.tabs.offset().width;\n    if (current > maxWidth) {\n      this.left = -(current - maxWidth);\n      this.tabs.css('marginLeft', `${this.left}px`);\n    }\n    return result;\n  }\n}\n\nexport { TabView };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { h } from '../../lib/Element';\n\nclass BottomMenu extends Widget {\n  constructor() {\n    super(`${cssPrefix}-bottom-menu`);\n    this.sum = h('div', `${cssPrefix}-bottom-sum`);\n    this.avg = h('div', `${cssPrefix}-bottom-avg`);\n    this.number = h('div', `${cssPrefix}-bottom-number`);\n    this.children(this.sum);\n    this.children(this.avg);\n    this.children(this.number);\n  }\n\n  setSum(val) {\n    this.sum.text(`求和: ${val}`);\n  }\n\n  setAvg(val) {\n    this.avg.text(`平均数: ${val}`);\n  }\n\n  setNumber(val) {\n    this.number.text(`数量: ${val}`);\n  }\n}\n\nexport { BottomMenu };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { VerticalLayer } from '../../lib/layer/VerticalLayer';\nimport { VerticalLayerElement } from '../../lib/layer/VerticalLayerElement';\nimport { WorkTop } from './WorkTop';\nimport { WorkBody } from './WorkBody';\nimport { WorkBottom } from './WorkBottom';\n\nlet topLayerVerticalElement;\nlet bodyLayerVerticalElement;\nlet bottomLayerVerticalElement;\nlet verticalLayer;\n\nclass Work extends Widget {\n  constructor(options = { body: {} }) {\n    super(`${cssPrefix}-work`);\n    this.options = options.workConfig;\n    // 组件\n    this.body = new WorkBody(this, this.options.body);\n    this.bottom = new WorkBottom(this);\n    this.top = new WorkTop(this);\n    // 布局\n    topLayerVerticalElement = new VerticalLayerElement(this.top);\n    bodyLayerVerticalElement = new VerticalLayerElement(this.body, {\n      style: {\n        flexGrow: 1,\n      },\n    });\n    bottomLayerVerticalElement = new VerticalLayerElement(this.bottom);\n    verticalLayer = new VerticalLayer({\n      layerElements: [topLayerVerticalElement,\n        bodyLayerVerticalElement, bottomLayerVerticalElement],\n    });\n    this.children(verticalLayer);\n    this.bottom.bottomMenu.setSum(0);\n    this.bottom.bottomMenu.setAvg(0);\n    this.bottom.bottomMenu.setNumber(0);\n  }\n\n  init() {\n    this.body.init();\n    this.top.init();\n    this.bottom.init();\n  }\n}\n\nexport { Work };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../config';\nimport { BottomMenu } from './BottomMenu';\n\nclass WorkBottom extends Widget {\n  constructor(work) {\n    super(`${cssPrefix}-work-bottom`);\n    this.work = work;\n    this.bottomMenu = new BottomMenu();\n    this.children(this.bottomMenu);\n  }\n}\n\nexport { WorkBottom };\n","/* global window, document */\n\nimport { cssPrefix } from './config';\nimport { h } from './lib/Element';\nimport { Work } from './core/work/Work';\nimport { Widget } from './lib/Widget';\nimport './base.less';\nimport './index.less';\n\nclass XSheet extends Widget {\n\n  constructor(selectors, options = {\n    workConfig: {\n      body: {\n        sheets: [{\n          tableConfig: {},\n        }],\n      },\n    },\n  }) {\n    super(`${cssPrefix}`);\n    let root = selectors;\n    if (typeof selectors === 'string') {\n      root = document.querySelector(selectors);\n    }\n    root = h(root);\n    root.children(this);\n    this.work = new Work(options);\n    this.children(this.work);\n    this.work.init();\n  }\n}\n\nXSheet.version = '1.0.0-alpha';\n\nif (window) {\n  window.XSheet = XSheet;\n}\n\nexport { XSheet };\n"],"sourceRoot":""}