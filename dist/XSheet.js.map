{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/svg/cell.png","webpack:///./assets/svg/s-resize.png","webpack:///./assets/svg/e-resize.png","webpack:///./src/constant/Constant.js","webpack:///./src/utils/Utils.js","webpack:///./src/lib/Element.js","webpack:///./src/lib/Widget.js","webpack:///./src/lib/Layer.js","webpack:///./src/lib/layer/VerticalLayer.js","webpack:///./src/lib/layer/VerticalLayerElement.js","webpack:///./src/core/work/tools/Icon.js","webpack:///./src/core/work/tools/base/Item.js","webpack:///./src/core/work/tools/Undo.js","webpack:///./src/core/work/tools/Redo.js","webpack:///./src/core/work/tools/PaintFormat.js","webpack:///./src/core/work/tools/ClearFormat.js","webpack:///./src/core/work/tools/base/DropDownItem.js","webpack:///./src/utils/EventBind.js","webpack:///./src/component/scrollbar/ScrollBarX.js","webpack:///./src/component/scrollbar/ScrollBarY.js","webpack:///./src/lib/layer/HorizontalLayerElement.js","webpack:///./src/lib/layer/HorizontalLayer.js","webpack:///./src/component/elpopup/ElPopUp.js","webpack:///./src/component/elcontextmenu/ELContextMenu.js","webpack:///./src/component/elcontextmenu/ELContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/format/FormatContextMenuItem.js","webpack:///./src/component/elcontextmenu/ELContextMenuDivider.js","webpack:///./src/core/work/tools/contextmenu/format/FormatContextMenu.js","webpack:///./src/core/work/tools/Format.js","webpack:///./src/core/work/tools/contextmenu/font/FontContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/font/FontContextMenu.js","webpack:///./src/core/work/tools/Font.js","webpack:///./src/core/work/tools/contextmenu/fontsize/FontSizeContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/fontsize/FontSizeContextMenu.js","webpack:///./src/core/work/tools/FontSize.js","webpack:///./src/core/work/tools/FontBold.js","webpack:///./src/core/work/tools/FontItalic.js","webpack:///./src/core/work/tools/UnderLine.js","webpack:///./src/core/work/tools/FontStrike.js","webpack:///./src/core/work/tools/contextmenu/fontcolor/FontColorContextMenuItem.js","webpack:///./src/component/dragpanel/DragPanel.js","webpack:///./src/component/colorpicker/ColorPicker.js","webpack:///./src/component/colorpicker/colorarray/ColorItem.js","webpack:///./src/component/colorpicker/colorarray/ColorArray.js","webpack:///./src/core/work/tools/contextmenu/fontcolor/FontColorContextMenu.js","webpack:///./src/core/work/tools/FontColor.js","webpack:///./src/core/work/tools/contextmenu/fillcolor/FillColorContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/fillcolor/FillColorContextMenu.js","webpack:///./src/core/work/tools/FillColor.js","webpack:///./src/core/work/tools/contextmenu/border/bordertype/BorderTypeContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon1.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon2.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon3.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon4.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon5.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon6.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon7.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon8.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon9.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderIcon10.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderColor.js","webpack:///./src/core/work/tools/contextmenu/icon/border/BorderType.js","webpack:///./src/core/work/tools/contextmenu/border/bordercolor/BorderColorContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/border/bordercolor/BorderColorContextMenu.js","webpack:///./src/core/work/tools/contextmenu/border/linetype/LineTypeContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/border/linetype/LineTypeContextMenu.js","webpack:///./src/canvas/Line.js","webpack:///./src/core/work/tools/contextmenu/border/bordertype/BorderTypeContextMenu.js","webpack:///./src/core/work/tools/contextmenu/icon/border/Border.js","webpack:///./src/core/work/tools/Merge.js","webpack:///./src/core/work/tools/contextmenu/icon/horizontal/HorizontalIcon1.js","webpack:///./src/core/work/tools/contextmenu/icon/horizontal/HorizontalIcon2.js","webpack:///./src/core/work/tools/contextmenu/icon/horizontal/HorizontalIcon3.js","webpack:///./src/core/work/tools/contextmenu/horizontal/HorizontalContextMenuItem.js","webpack:///./src/canvas/Crop.js","webpack:///./src/canvas/Draw.js","webpack:///./src/canvas/Rect.js","webpack:///./src/canvas/DrawAngle.js","webpack:///./src/canvas/Font.js","webpack:///./src/core/work/tools/contextmenu/horizontal/HorizontalContextMenu.js","webpack:///./src/core/work/tools/HorizontalAlign.js","webpack:///./src/core/work/tools/contextmenu/vertical/VerticalContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/icon/vertical/VerticalIcon1.js","webpack:///./src/core/work/tools/contextmenu/icon/vertical/VerticalIcon2.js","webpack:///./src/core/work/tools/contextmenu/icon/vertical/VerticalIcon3.js","webpack:///./src/core/work/tools/contextmenu/vertical/VerticalContextMenu.js","webpack:///./src/core/work/tools/VerticalAlign.js","webpack:///./src/core/work/tools/contextmenu/icon/textwrapping/TextWrappingIcon1.js","webpack:///./src/core/work/tools/contextmenu/icon/textwrapping/TextWrappingIcon2.js","webpack:///./src/core/work/tools/contextmenu/icon/textwrapping/TextWrappingIcon3.js","webpack:///./src/core/work/tools/contextmenu/textwrapping/TextWrappingContextMenuItem.js","webpack:///./src/core/work/tools/contextmenu/textwrapping/TextWrappingContextMenu.js","webpack:///./src/core/work/tools/TextWrapping.js","webpack:///./src/core/work/tools/Fixed.js","webpack:///./src/core/work/tools/Filter.js","webpack:///./src/core/work/tools/Functions.js","webpack:///./src/core/table/screenwiget/copystyle/CopyStyle.js","webpack:///./src/core/table/screen/ScreenWidget.js","webpack:///./src/core/table/RectRange.js","webpack:///./src/core/table/screenwiget/copystyle/ScreenCopyStyle.js","webpack:///./src/core/table/screenwiget/selector/Selector.js","webpack:///./src/core/table/screenwiget/selector/ScreenSelector.js","webpack:///./src/core/table/cells/CellFont.js","webpack:///./src/core/table/cells/Border.js","webpack:///./src/core/table/cells/CellBorder.js","webpack:///./src/core/table/cells/Cell.js","webpack:///./src/core/work/TopMenu.js","webpack:///./src/core/work/options/base/Item.js","webpack:///./src/core/work/options/File.js","webpack:///./src/core/work/options/ForMart.js","webpack:///./src/core/work/options/Insert.js","webpack:///./src/core/work/options/Look.js","webpack:///./src/core/work/options/Update.js","webpack:///./src/core/work/TopOption.js","webpack:///./src/core/work/WorkTop.js","webpack:///./src/lib/layer/center/VerticalCenterElement.js","webpack:///./src/lib/layer/center/VerticalCenter.js","webpack:///./src/core/work/SheetView.js","webpack:///./src/core/work/TabView.js","webpack:///./src/core/work/Tab.js","webpack:///./src/utils/DateUtils.js","webpack:///./src/core/table/Format.js","webpack:///./src/core/table/Rows.js","webpack:///./src/core/table/Cols.js","webpack:///./src/core/table/Scroll.js","webpack:///./src/core/table/Fixed.js","webpack:///./src/core/table/Merges.js","webpack:///./src/core/table/screen/ScreenElement.js","webpack:///./src/core/table/screen/Screen.js","webpack:///./src/core/table/resizer/XReSizer.js","webpack:///./src/core/table/resizer/YReSizer.js","webpack:///./src/core/table/screenwiget/autofill/AutoFill.js","webpack:///./src/core/table/screenwiget/autofill/ScreenAutoFill.js","webpack:///./src/core/table/highlight/XHeightLight.js","webpack:///./src/core/table/highlight/YHeightLight.js","webpack:///./src/core/table/Edit.js","webpack:///./src/canvas/Grid.js","webpack:///./src/canvas/Box.js","webpack:///./src/core/table/gridborder/LineHandle.js","webpack:///./src/core/table/cells/Cells.js","webpack:///./src/core/table/CellsHelper.js","webpack:///./src/core/table/gridborder/GridLineHandle.js","webpack:///./src/core/table/gridborder/BorderLineHandle.js","webpack:///./src/core/table/datasnapshot/DataProxy.js","webpack:///./src/core/table/datasnapshot/proxy/TableCellDataProxy.js","webpack:///./src/core/table/datasnapshot/record/CellDataRecord.js","webpack:///./src/core/table/datasnapshot/record/MergeDataRecord.js","webpack:///./src/core/table/datasnapshot/proxy/TableMergeDataProxy.js","webpack:///./src/core/table/datasnapshot/proxy/TableColsDataProxy.js","webpack:///./src/core/table/datasnapshot/record/ColsDataRecord.js","webpack:///./src/core/table/datasnapshot/proxy/TableRowsDataProxy.js","webpack:///./src/core/table/datasnapshot/record/RowsDataRecord.js","webpack:///./src/core/table/datasnapshot/TableDataSnapshot.js","webpack:///./src/core/table/MousePointer.js","webpack:///./src/core/table/Keyboard.js","webpack:///./src/core/table/Focus.js","webpack:///./src/core/table/Table.js","webpack:///./src/core/work/Sheet.js","webpack:///./src/core/work/WorkBody.js","webpack:///./src/core/work/BottomMenu.js","webpack:///./src/core/work/WorkBottom.js","webpack:///./src/core/work/Work.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Constant","SYSTEM_EVENT_TYPE","MOUSE_MOVE","toLocaleLowerCase","MOUSE_DOWN","MOUSE_UP","MOUSE_OVER","MOUSE_LEAVE","MOUSE_WHEEL","MOUSE_ENTER","CLICK","KEY_DOWN","KEY_UP","DRAG_START","SCROLL","RESIZE","CHANGE","INPUT","VISIBILITY_CHANGE","TABLE_EVENT_TYPE","CHANGE_HEIGHT","CHANGE_WIDTH","DATA_CHANGE","SELECT_CHANGE","SELECT_DOWN","WORK_BODY_EVENT_TYPE","CHANGE_ACTIVE","MOUSE_POINTER_TYPE","SELECT_ONE_COLUMN","type","SELECT_ONE_ROW","SELECT_CELL","AUTO_FILL","COL_RESIZE","ROW_RESIZE","cssPrefix","alphabets","throttleHandle","DATA_TYPE","Utils","arg","toString","json","JSON","stringify","parse","isUnDef","sources","length","forEach","source","keys","v","Array","isArray","isPlainObject","mergeDeep","assign","test","navigator","userAgent","isEmptyObject","e","this","obj","getPrototypeOf","objOrAry","cb","total","size","min","max","val","isNumber","parseFloat","parseInt","index","str","idx","ret","charCodeAt","expoNet","src","x","y","charAt","indexAt","stringAt","xn","yn","expr2xy","xy2expr","initS","initV","ifv","getV","time","clearTimeout","setTimeout","target","result","sv","tv","equal","leftChain","rightChain","compare2Objects","isNaN","Date","RegExp","String","Number","isPrototypeOf","constructor","indexOf","push","pop","arguments","a1","a2","window","getSelection","focus","range","selectAllChildren","collapseToEnd","document","selection","createRange","moveToElementText","collapse","select","isBlank","trim","now","width","innerWidth","height","innerHeight","EMPTY","Nul","Undef","undefined","Element","tag","className","el","createElement","data","eventNames","handler","split","fen","oen","eventName","addEventListener","evt","k","button","stopPropagation","css","top","offsetTop","left","offsetLeft","offsetHeight","offsetWidth","scrollLeft","scrollTop","clientHeight","getBoundingClientRect","parentNode","args","childNodes","ele","child","firstChild","lastChild","removeChild","children","insertBefore","appendChild","previousSibling","nextSibling","createTextNode","contains","classList","add","remove","cls","toggleClass","toggle","flag","addClass","removeClass","active","setAttribute","getAttribute","removeAttribute","content","innerHTML","style","removeProperty","getComputedStyle","computedStyle","display","on","show","hide","innerText","sibling","previousElementSibling","nextElementSibling","position","replace","repeat","right","bottom","message","event","CustomEvent","detail","bubbles","cancelable","dispatchEvent","querySelectorAll","eleArray","item","targetEl","body","h","Widget","nodeType","element","box","pageX","pageY","eleTop","eleLeft","widget","onAttach","Layer","VerticalLayer","options","VerticalLayerElement","flexGrow","Icon","iconNameEl","Item","Undo","icon","Redo","PaintFormat","sheets","sheet","splice","ClearFormat","DropDownItem","drop","title","text","html","px","cssRemoveKeys","EventBind","fn","removeEventListener","moveFunc","upFunc","xEvtUp","unbind","func","ScrollBarX","option","scroll","to","lastBut","nextBut","block","blockLeft","maxBlockLeft","blockWidth","minBlockWidth","scrollTo","contentWidth","viewPortWidth","isHide","evt1","downEventXy","computeEventXy","mouseMoveUp","evt2","computeScrollTo","preventDefault","contentBox","move","maxTo","ScrollBarY","blockTop","maxBlockTop","blockHeight","minBlockHeight","contentHeight","viewPortHeight","HorizontalLayerElement","HorizontalLayer","EL_POPUP_POSITION","TOP","LEFT","BOTTOM","RIGHT","POOL","ElPopUp","off","scrollBarX","scrollBarY","contentLayer","scrollBarYLayer","overflow","horizontalLayer","contentVerticalLayer","scrollBarXVerticalLayer","verticalLayer","filter","close","scrollbar","elBox","maxWidth","maxHeight","offset","setSize","ELContextMenu","menus","elPopUp","open","ELContextMenuItem","pool","FormatContextMenuItem","desc","iconElement","titleElement","descElement","ELContextMenuDivider","FormatContextMenu","onUpdate","items","update","setActive","addItem","init","first","setTitle","format","Format","copyProp","contextMenu","setWidth","setEllipsis","formatContextMenu","FontContextMenuItem","FontContextMenu","setActiveByType","Font","fontContextMenu","FontSizeContextMenuItem","FontSizeContextMenu","FontSize","fontSizeContextMenu","FontBold","FontItalic","UnderLine","FontStrike","FontColorContextMenuItem","DRAG_PANEL_POSITION","CENTER","DragPanel","mask","viewPort","ColorPicker","selectCb","dragPanel","color","preViewColorPoint","colorValueTips","colorInput","selectColorPoint","selectColorArea1","selectColorArea2","selectColorArea3","center","colorHuxTips","colorBar","colorBarPoint","cancelButton","selectButton","buttons","hex","len","join","hsx","Math","substring","g","b","rgbToHsb","hexToRgb","rgb","hsb","delta","t1","t2","t3","round","nr","rgbToHex","hsbToRgb","startsWith","match","isHex","parseRgb","e1","xy","centerBox","downSelect","e2","moveSelect","colorBarBox","downHue","moveHue","hexColor","fixHsx","colorValue","hsbToHex","isRgb","change","colorBarPointBox","colorBarPointLeft","selectColorPointBox","selectColorPointLeft","selectColorPointTop","areaColorValue","sliderPosition","hueChange","selectChange","hexToHsb","fixHex","ColorItem","isDark","checkedIcon","ColorArray","colors","activeColor","setActiveByColor","FontColorContextMenu","colorPicker","customizeColorArray","colorArray","reset","array","plus","customize","FontColor","fontColorContextMenu","setIcon","setColor","FillColorContextMenuItem","FillColorContextMenu","FillColor","fillColorContextMenu","BorderTypeContextMenuItem","BorderIcon1","BorderIcon2","BorderIcon3","BorderIcon4","BorderIcon5","BorderIcon6","BorderIcon7","BorderIcon8","BorderIcon9","BorderIcon10","BorderColor","BorderType","BorderColorContextMenuItem","BorderColorContextMenu","LineTypeContextMenuItem","typeIcon","LineTypeContextMenu","LINE_TYPE","SOLID_LINE","DOTTED_LINE","POINT_LINE","DOUBLE_LINE","SolidLine","draw","attr","sx","sy","ex","ey","beginPath","lineWidth","strokeStyle","setLineDash","line","DottedLine","dash","DoubleLine","padding","spacing","leftShow","topShow","rightShow","bottomShow","iFMerge","iFMergeFirstRow","iFMergeLastRow","iFMergeFirstCol","iFMergeLastCol","row","col","pos","external","ifMerge","firstRow","lastRow","firstCol","lastCol","sTopLeftCorner","sTop","sBottom","eBottomLeftCorner","eBottom","eTop","sLeft","sRight","eTopRightCorner","eRight","eLeft","sTopRightCorner","eBottomRightCorner","sBottomLeftCorner","internal","handleExternal","handleInternal","Line","solidLine","dottedLine","pointLine","doubleLine","drawLine","BorderTypeContextMenu","borderIcon1","borderIcon2","borderIcon3","borderIcon4","borderIcon5","div1","borderIcon6","borderIcon7","borderIcon8","borderIcon9","borderIcon10","div2","borderIcons","borderColor","borderType","div3","borderColorAndType","borderColorContextMenu","lineTypeContextMenu","closeAll","isOpen","Border","borderTypeContextMenu","Merge","HorizontalIcon1","HorizontalIcon2","HorizontalIcon3","HorizontalContextMenuItem","Crop","rect","save","clip","restore","dpr","devicePixelRatio","npx","ceil","angleToRadian","angle","PI","Draw","ctx","getContext","offsetX","offsetY","rotate","clearRect","fill","measureText","moveTo","x1","y1","lineTo","stroke","w","fillRect","fillText","even","nx","ny","origin","sWidth","sHeight","drawImage","Rect","ANGLE_ORIGIN","TOP_LEFT","TOP_CENTER","TOP_RIGHT","MIDDLE_LEFT","MIDDLE_CENTER","MIDDLE_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT","DrawAngle","dw","tx","ty","translate","cos","sin","abs","TrigonometricFunction","ALIGN","VERTICAL_ALIGN","TEXT_WRAP","OVER_FLOW","WORD_WRAP","TRUNCATE","TEXT_DIRECTION","HORIZONTAL","VERTICAL","ANGLE","HorizontalFontDraw","overflowCrop","textWidth","verticalAlign","align","underline","strikethrough","PADDING","crop","paddingH","paddingV","maxTextWidth","textArray","textLine","start","hOffset","maxLen","charWidth","bx","by","textWrap","textAlign","textBaseline","font","italic","bold","fillStyle","drawTextTruncate","drawTextWarp","drawTextOverFlow","VerticalFontDraw","char","boxHeight","textItem","textLen","wOffset","column","last","textHeight","verticalAlignValue","j","AngleFontDraw","trigonometric","trigonometricWidth","cosWidthAngle","trigonometricHeight","sinWidthAngle","rtx","rty","dwAngle","revert","setHeight","textHypotenuseWidth","sinHeightAngle","lineHeight","textArrayLen","totalWidth","rx","ry","ax","ay","totalTextHeight","direction","verticalFontDraw","horizontalFontDraw","angleFontDraw","setTextWrap","setOverflowCrop","HorizontalContextMenu","horizontalIcon1","horizontalIcon2","horizontalIcon3","horizontalIcons","HorizontalAlign","horizontalContextMenu","VerticalContextMenuItem","VerticalIcon1","VerticalIcon2","VerticalIcon3","VerticalContextMenu","verticalIcon1","verticalIcon2","verticalIcon3","verticalIcons","VerticalAlign","verticalContextMenu","TextWrappingIcon1","TextWrappingIcon2","TextWrappingIcon3","TextWrappingContextMenuItem","TextWrappingContextMenu","textWrappingIcon1","textWrappingIcon2","textWrappingIcon3","textWrappingIcons","TextWrapping","textWrappingContextMenu","Fixed","Filter","Functions","svg","CopyStyle","find","ScreenWidget","screen","lt","br","RectRange","sri","sci","eri","eci","ref","refs","ri","ci","rowFilter","other","disjoint","coincide","equals","difference","addRet","dsr","dsc","der","dec","multiple","ScreenCopyStyle","selectorAttr","table","frozenLeftTop","cols","rows","grid","viewRange","getScrollViewRange","empty","coincideRange","sectionSumWidth","sectionSumHeight","expandSize","fixedTop","fixedLeft","setLTOffset","setTOffset","setLOffset","setBROffset","setOffset","Selector","cornerEl","areaEl","SCREEN_SELECT_EVENT","DOWN_SELECT","SELECT_CHANGE_OVER","ScreenSelector","downSelectorAttr","onChangeStack","onSelectChangeStack","onSelectChangeOver","onDownSelectStack","mousePointer","activate","downSelectAttr","getDownXYSelectorAttr","setSelectAttr","setDownSelectAttr","edgeType","moveSelectorAttr","getMoveXySelectorAttr","intersectsArea","edge","ltL","ltTBrL","ltTLBr","lBr","id","fixed","tlRange","fxTop","fxLeft","tRange","lRange","brRange","intersects","getIntersectsArea","setLTCorner","setTCorner","setLCorner","setBrCorner","getFixedWidth","getFixedHeight","merges","getRiCiByXy","merge","getFirstIncludes","selectRect","getViewRange","union","CellFont","$time","$display","$width","$color","$type","srcTime","targetTime","CellBorder","Cell","background","fontAttr","borderAttr","clone","Divider","TopMenu","workTop","sheetView","work","undo","redo","paintFormat","clearFormat","getActiveSheet","cellsHelper","tableDataSnapshot","findByClass","begin","cellDataProxy","getCellOrNewCellByViewRange","rectRange","callback","cell","setCell","end","render","fontSize","fontColor","fillColor","border","lineType","cells","getCellOrNew","fontBold","fontItalic","underLine","fontStrike","horizontalAlign","textWrapping","functions","setStatus","setFormatStatus","setFontStatus","setFontSizeStatus","setFontBoldStatus","setFontItalicStatus","setUnderLineStatus","setFontStrikeStatus","setFontColorStatus","setFillColorStatus","setHorizontalAlignStatus","setVerticalAlignStatus","setTextWrappingStatus","canBack","back","canGo","go","screenCopyStyle","screenSelector","setShow","addSheet","setHide","removeSheet","srcRect","targetRect","mergeDataProxy","deleteMerge","addMerge","includeSheet","firstCell","setUndoStatus","setRedoStatus","setPaintFormatStatus","File","ForMart","Insert","Look","Update","TopOption","logoEle","titleEle","optionsEle","leftEle","rightEle","file","insert","look","WorkTop","toolsMenu","attach","VerticalCenterElement","VerticalCenter","SheetView","sheetList","activeIndex","trigger","TabView","next","tabs","optiions","onAdd","tab","onSwitch","tabList","current","offsetSizeLeft","number","Tab","setName","DateUtils","fmt","date","getMonth","getDate","getHours","getMinutes","getSeconds","floor","S","getMilliseconds","resultYear","exec","yearFormatPart","yearVal","getFullYear","substr","res","Val","formatPart","replaceVal","dateText","defaultVal","reg","year","month","day","hours","minutes","seconds","milliseconds","oneChar","onePart","onePartReg","dataInfo","parserToDate","lastIndex","lastIndexOf","isFraction","toExponential","dateFormat","Rows","_","minHeight","minIf","cacheTotalHeight","setData","getOrNew","ei","rowHeight","getHeight","rangeSum","Cols","minWidth","cacheTotalWidth","colWidth","getWidth","SCROLL_TYPE","H_LEFT","H_RIGHT","V_TOP","V_BOTTOM","UN","Scroll","Merges","cr","it","within","includes","cellRange","deleteWithin","rn","cn","it1","cbWithin","map","valueOf","ScreenElement","widgets","Screen","setDivideLayer","addWidget","getLT","getT","getL","getBR","settings","fixedWidth","fixedHeight","brLeft","brTop","clazz","XReSizer","hoverEl","lineEl","register","colsDataProxy","moveOff","set","getEventLeft","mx","visualHeight","newLeft","resize","visualWidth","YReSizer","rowsDataProxy","getEventTop","my","newTop","AutoFill","ScreenAutoFill","mergeForceSplit","onBeforeAutoFill","onAfterAutoFill","autoFillAttr","moveAutoFill","getMoveAutoFillAttr","autoFillTo","selectorRect","autoFillSelectorRect","rSize","cSize","selectorSri","selectorSci","selectorEri","selectorEci","minRi","diff","maxRi","minCi","maxCi","autoFillRect","sIndexRi","tIndexRi","sIndexCi","tIndexCi","mergeRect","deleteIntersects","count","getCell","newMerge","mergeCellForceSplit","copyContent","copyMerge","alert","XHeightLight","sRect","tRect","ltViewRange","ltCoincideRange","tViewRange","tCoincideRange","cViewRange","cCoincideRange","lViewRange","lCoincideRange","offsetHeightLight","YHeightLight","Edit","input","selector","hideEdit","dbClick","showEdit","editOffset","keepLastIndex","getIndexHeight","getIndexWidth","ltWidth","ltHeight","ltTop","ltLeft","tWidth","lHeight","tHeight","tTop","tLeft","cHeight","lWidth","lTop","lLeft","cWidth","Grid","Error","Box","backgroundColor","LineHandle","master","getMergeCellOrCell","checkedRight","checkedLeft","checked","getCellContentWidth","leftWidth","masterBlank","nextBlank","rightWidth","newRow","jump","handle","endRow","newCol","endCol","hEach","view","coincideView","brink","rectRangeSumHeight","rectRangeSumWidth","Cells","isString","CellsHelper","tmp","getCellTextMaxHeight","getCellTextMaxWidth","startX","startY","getCellOverFlow","minSri","minSci","maxSri","maxSci","getCellByViewRange","GridLineHandle","nextCell","breakpoint","lineHandle","vEach","gridHLine","hLineBorderChecked","gridVLine","vLineBorderChecked","vLineRightOverFlowChecked","mergesBrink","concat","BorderLineHandle","drawOptimization","borderOptimization","ck1","ck2","ck3","borderHTLine","compareTime","borderHBLine","borderVLLine","vLineLeftOverFlowChecked","borderVRLine","DataProxy","TableCellDataProxy","newCell","setCellOrNew","$setCell","CellDataRecord","oldCell","MERGE_RECORD_TYPE","ADD","DELETE","MergeDataRecord","recordType","TableMergeDataProxy","$deleteMerge","$addMerge","TableColsDataProxy","newWidth","$setWidth","ColsDataRecord","oldWidth","TableRowsDataProxy","newHeight","$setHeight","RowsDataRecord","oldHeight","TableDataSnapshot","record","backLayerStack","goLayerStack","recordLayer","layer","backNotice","goNotice","endNotice","MousePointer","lock","sResize","eResize","Keyboard","stop","keyCode","code","Focus","findByEl","TABLE_RENDER_MODE","RENDER","FrozenLeftIndexOffset","FrozenTopIndexOffset","FrozenLeftTopOffset","FixedTopOffset","fixedLeftWidth","captureX","dynamicView","getCaptureX","getFixedXOffset","captureY","getCaptureY","getFixedYOffset","dwXOffset","getDwXOffset","dwYOffset","getDwYOffset","getOriginLastScrollView","getOriginScrollView","contentView","getContentView","scrollView","getScrollView","borderView","getBorderView","getScrollXOffset","FixedLeftOffset","fixedTopHeight","ContentOffset","bdXOffset","getBdXOffset","bdYOffset","getBdYOffset","FixedTopIndexOffset","fixedTopWidth","FixedLeftIndexOffset","DynamicViewDifference","subtractRange","addRange","dwAddRange","dwContentRange","borderRange","lastScrollRange","scrollRange","coincideDifference","cpSubtractRange","cpAddRange","cpDwAddRange","cpDwContentRange","cpCaptureXY","cpDwOffsetXY","cpBorderRange","cpBdOffsetXY","DynamicView","contentRange","scrollXOffset","contentOffset","cpScrollRange","cpContentRange","cpScrollXOffset","cpRange","FrozenLeftTop","gridLineHandle","viewRangeAndMergeCoincideView","coincideViewBrink","hLine","vLine","horizontalLine","verticalLine","hMergeLine","vMergeLine","borderLineHandle","htLine","hbLine","vlLine","vrLine","setType","htMergeLine","hbMergeLine","vlMergeLine","vrMergeLine","drawBackgroundColor","getMergeCellByViewRange","getCellSkipMergeCellByViewRange","setContentWidth","frozenLeftTopOffset","getScrollViewChange","renderClear","drawRect","drawCrop","drawBackGround","drawCells","showGrid","drawGrid","drawBorder","FrozenLeftIndex","eachHeight","ch","frozenLeftIndexOffset","FrozenTopIndex","eachWidth","cw","frozenTopIndexOffset","FrozenRect","FixedTop","scrollViewXOffset","canvas","fixedTopOffset","cx","dx","dy","clearCrop","bdY","bdX","borderRect","borderCrop","FixedLeft","fixedLeftOffset","cy","Content","totalHeight","FixedTopIndex","fixedTopIndexOffset","fixedOffsetX","fixedOffsetY","FixedLeftIndex","fixedLeftIndexOffset","KeyBoardTab","keyboard","edit","tabId","tabNext","cLen","rLen","srcMerges","targetMerges","defaultSettings","tipsRenderTime","tipsScrollTime","bgColor","gridColor","Table","fixedTopIndex","fixedLeftIndex","frozenLeftIndex","frozenTopIndex","frozenRect","xReSizer","yReSizer","xHeightLight","yHeightLight","screenAutoFill","copyStyle","keyBoardTab","enable","openDrawOptimization","closeDrawOptimization","console","rangeReduceIf","log","timeEnd","getContentWidth","getContentHeight","getOriginContentView","getData","Sheet","tableConfig","WorkBody","workConfig","tabSheet","poweredBy","sheetViewLayer","scrollBarXLayer","scrollBarXVerticalCenter","scrollBarXHorizontalLayer","sheetSwitchTabLayer","horizontalLayer1","horizontalLayer2","horizontalLayer1Layer","horizontalLayer2Layer","layerVerticalLayer","scrollY","tabView","addTabSheet","setActiveTab","scrollX","scrollMove","setActiveIndex","deltaY","updateScroll","createSheet","setActiveSheet","BottomMenu","sum","avg","WorkBottom","bottomMenu","Work","topLayer","bodyLayer","bottomLayer","setSum","setAvg","setNumber","XSheet","selectors","root","querySelector","version"],"mappings":"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","file":"XSheet.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = __webpack_public_path__ + \"c4ab8001e109540f7ae6a34181d695d3.png\";","module.exports = __webpack_public_path__ + \"42b436e7c64603182355d52d31ea49f1.png\";","module.exports = __webpack_public_path__ + \"9dfd8685ea7e1e5c025514eec46a4547.png\";","const Constant = {};\nConstant.SYSTEM_EVENT_TYPE = {\n  MOUSE_MOVE: 'mouseMove'.toLocaleLowerCase(),\n  MOUSE_DOWN: 'mouseDown'.toLocaleLowerCase(),\n  MOUSE_UP: 'mouseUp'.toLocaleLowerCase(),\n  MOUSE_OVER: 'mouseOver'.toLocaleLowerCase(),\n  MOUSE_LEAVE: 'mouseLeave'.toLocaleLowerCase(),\n  MOUSE_WHEEL: 'mouseWheel'.toLocaleLowerCase(),\n  MOUSE_ENTER: 'mouseEnter'.toLocaleLowerCase(),\n  CLICK: 'click'.toLocaleLowerCase(),\n  KEY_DOWN: 'keyDown'.toLocaleLowerCase(),\n  KEY_UP: 'keyUp'.toLocaleLowerCase(),\n  DRAG_START: 'dragStart'.toLocaleLowerCase(),\n  SCROLL: 'scroll'.toLocaleLowerCase(),\n  RESIZE: 'resize'.toLocaleLowerCase(),\n  CHANGE: 'change'.toLocaleLowerCase(),\n  INPUT: 'input'.toLocaleLowerCase(),\n  VISIBILITY_CHANGE: 'visibilityChange'.toLocaleLowerCase(),\n};\nConstant.TABLE_EVENT_TYPE = {\n  CHANGE_HEIGHT: 'tableChangeHeight'.toLocaleLowerCase(),\n  CHANGE_WIDTH: 'tableChangeWidth'.toLocaleLowerCase(),\n  DATA_CHANGE: 'tableDataChange'.toLocaleLowerCase(),\n  SELECT_CHANGE: 'tableSelectChange'.toLocaleLowerCase(),\n  SELECT_DOWN: 'tableSelectDown'.toLocaleLowerCase(),\n};\nConstant.WORK_BODY_EVENT_TYPE = {\n  CHANGE_ACTIVE: 'workBodyChangeActive'.toLocaleLowerCase(),\n};\nConstant.MOUSE_POINTER_TYPE = {\n  SELECT_ONE_COLUMN: {\n    key: Symbol('选择一列'),\n    type: 's-resize',\n  },\n  SELECT_ONE_ROW: {\n    key: Symbol('选择一行'),\n    type: 'e-resize',\n  },\n  SELECT_CELL: {\n    key: Symbol('选择单元格'),\n    type: 'cell',\n  },\n  AUTO_FILL: {\n    key: Symbol('单元格内容自动填充'),\n    type: 'crosshair',\n  },\n  COL_RESIZE: {\n    key: Symbol('调整列宽'),\n    type: 'col-resize',\n  },\n  ROW_RESIZE: {\n    key: Symbol('调整行高'),\n    type: 'row-resize',\n  },\n};\n\nconst cssPrefix = 'x-sheet';\n\nexport { cssPrefix };\nexport { Constant };\n","// eslint-disable-next-line no-unused-vars\n/* global navigator document window */\n\nconst alphabets = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n\nlet throttleHandle = null;\n\nconst DATA_TYPE = {\n  String: 1,\n  Boolean: 2,\n  Number: 3,\n  Object: 4,\n  Array: 5,\n  Function: 6,\n  Null: 7,\n  Undefined: 8,\n  Promise: 9,\n  GeneratorFunction: 10,\n  AsyncFunction: 11,\n  BigInt: 12,\n  Symbol: 13,\n  Un: 14,\n};\n\nclass Utils {\n\n  static type(arg) {\n    const type = Object.prototype.toString.call(arg);\n    switch (type) {\n      case '[object Null]':\n        return DATA_TYPE.Null;\n      case '[object Undefined]':\n        return DATA_TYPE.Undefined;\n      case '[object String]':\n        return DATA_TYPE.String;\n      case '[object Boolean]':\n        return DATA_TYPE.Boolean;\n      case '[object Number]':\n        return DATA_TYPE.Number;\n      case '[object Function]':\n        return DATA_TYPE.Function;\n      case '[object Array]':\n        return DATA_TYPE.Array;\n      case '[object Promise]':\n        return DATA_TYPE.Promise;\n      case '[object GeneratorFunction]':\n        return DATA_TYPE.GeneratorFunction;\n      case '[object AsyncFunction]':\n        return DATA_TYPE.AsyncFunction;\n      case '[object BigInt]':\n        return DATA_TYPE.BigInt;\n      case '[object Symbol]':\n        return DATA_TYPE.Symbol;\n      default:\n        return DATA_TYPE.Un;\n    }\n  }\n\n  static cloneDeep(object) {\n    const json = JSON.stringify(object);\n    return JSON.parse(json);\n  }\n\n  static mergeDeep(object = {}, ...sources) {\n    if (Utils.isUnDef(object)) {\n      return {};\n    }\n    if (Utils.isUnDef(sources) || sources.length === 0) {\n      return object;\n    }\n    sources.forEach((source) => {\n      if (Utils.isUnDef(source)) return;\n      Object.keys(source).forEach((key) => {\n        const v = source[key];\n        if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') {\n          object[key] = v;\n        } else if (typeof v !== 'function' && !Array.isArray(v) && Utils.isPlainObject(v)) {\n          object[key] = object[key] || {};\n          Utils.mergeDeep(object[key], v);\n        } else {\n          object[key] = v;\n        }\n      });\n    });\n    return object;\n  }\n\n  static copyProp(t, s) {\n    return Object.assign(t, s);\n  }\n\n  static isMac() {\n    return /macintosh|mac os x/i.test(navigator.userAgent);\n  }\n\n  static isWindows() {\n    return /windows|win32/i.test(navigator.userAgent);\n  }\n\n  static isEmptyObject(object) {\n    // eslint-disable-next-line no-restricted-syntax\n    for (const key in object) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (object.hasOwnProperty(key)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  static isNotEmptyObject(object) {\n    return !Utils.isEmptyObject(object);\n  }\n\n  static isUnDef(e) {\n    return e === undefined || e === null;\n  }\n\n  static isNotUnDef(e) {\n    return !this.isUnDef(e);\n  }\n\n  static isNotZero(e) {\n    return e !== 0;\n  }\n\n  static isNumber(e) {\n    return /^(-?\\d+.\\d+)$|^(-?\\d+)$/.test(e);\n  }\n\n  static isFraction(e) {\n    return /^\\d+\\/\\d+$/.test(e);\n  }\n\n  static isFunction(e) {\n    const type = Utils.type(e);\n    return type === DATA_TYPE.Function;\n  }\n\n  static isArray(e) {\n    return Utils.type(e) === DATA_TYPE.Array;\n  }\n\n  static isBlank(s) {\n    if (Utils.isUnDef(s)) {\n      return true;\n    }\n    return s.toString() === '';\n  }\n\n  static isPlainObject(obj) {\n    if (Utils.isUnDef(obj)) {\n      return false;\n    }\n    return Object.getPrototypeOf(obj) === Object.getPrototypeOf({});\n  }\n\n  static isString(obj) {\n    return Utils.type(obj) === DATA_TYPE.String;\n  }\n\n  static sum(objOrAry, cb = value => value) {\n    let total = 0;\n    let size = 0;\n    Object.keys(objOrAry).forEach((key) => {\n      total += cb(objOrAry[key], key);\n      size += 1;\n    });\n    return [total, size];\n  }\n\n  static rangeSum(min, max, cb) {\n    let s = 0;\n    for (let i = min; i < max; i += 1) {\n      s += cb(i);\n    }\n    return s;\n  }\n\n  static parseFloat(val) {\n    if (Utils.isNumber(val)) return parseFloat(val);\n    return 0;\n  }\n\n  static parseInt(val) {\n    if (Utils.isNumber(val)) return parseInt(val, 10);\n    return 0;\n  }\n\n  static stringAt(index) {\n    let str = '';\n    let idx = index;\n    while (idx >= alphabets.length) {\n      idx /= alphabets.length;\n      idx -= 1;\n      str += alphabets[parseInt(idx, 10) % alphabets.length];\n    }\n    const last = index % alphabets.length;\n    str += alphabets[last];\n    return str;\n  }\n\n  static indexAt(str) {\n    let ret = 0;\n    for (let i = 0; i < str.length - 1; i += 1) {\n      const idx = str.charCodeAt(i) - 65;\n      const expoNet = str.length - 1 - i;\n      ret += (alphabets.length ** expoNet) + (alphabets.length * idx);\n    }\n    ret += str.charCodeAt(str.length - 1) - 65;\n    return ret;\n  }\n\n  static expr2xy(src) {\n    let x = '';\n    let y = '';\n    for (let i = 0; i < src.length; i += 1) {\n      if (src.charAt(i) >= '0' && src.charAt(i) <= '9') {\n        y += src.charAt(i);\n      } else {\n        x += src.charAt(i);\n      }\n    }\n    return [Utils.indexAt(x), parseInt(y, 10) - 1];\n  }\n\n  static xy2expr(x, y) {\n    return `${Utils.stringAt(x)}${y + 1}`;\n  }\n\n  static expr2expr(src, xn, yn) {\n    const [x, y] = Utils.expr2xy(src);\n    return Utils.xy2expr(x + xn, y + yn);\n  }\n\n  static rangeReduceIf(min, max, initS, initV, ifv, getV) {\n    let s = initS;\n    let v = initV;\n    let i = min;\n    for (; i < max; i += 1) {\n      if (s >= ifv) break;\n      v = getV(i);\n      s += v;\n    }\n    return [i, s - v, v];\n  }\n\n  static throttle(cb = () => {}, time = 500) {\n    if (throttleHandle) clearTimeout(throttleHandle);\n    throttleHandle = setTimeout(cb, time);\n  }\n\n  static contrastDifference(target, src) {\n    const result = {};\n    if (Utils.isUnDef(target) || Utils.isUnDef(src)) {\n      return result;\n    }\n    // eslint-disable-next-line no-restricted-syntax\n    for (const key in target) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (target.hasOwnProperty(key)) {\n        const sv = src[key];\n        const tv = target[key];\n        if (!Utils.isUnDef(sv) && !Utils.isUnDef(tv) && !Utils.equal(sv, tv)) {\n          result[key] = target[key];\n        }\n      }\n    }\n    return result;\n  }\n\n  static minIf(v, min) {\n    if (v < min) return min;\n    return v;\n  }\n\n  static maxIf(v, max) {\n    if (v > max) return max;\n    return v;\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  static equal(x, y) {\n    let i;\n    let l;\n    let leftChain;\n    let rightChain;\n    function compare2Objects(x, y) {\n      let p;\n      // eslint-disable-next-line no-restricted-globals\n      if (isNaN(x) && isNaN(y) && typeof x === 'number' && typeof y === 'number') {\n        return true;\n      }\n      if (x === y) {\n        return true;\n      }\n      if ((typeof x === 'function' && typeof y === 'function')\n        || (x instanceof Date && y instanceof Date)\n        || (x instanceof RegExp && y instanceof RegExp)\n        || (x instanceof String && y instanceof String)\n        || (x instanceof Number && y instanceof Number)) {\n        return x.toString() === y.toString();\n      }\n      if (!(x instanceof Object && y instanceof Object)) {\n        return false;\n      }\n      // eslint-disable-next-line no-prototype-builtins\n      if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {\n        return false;\n      }\n      if (x.constructor !== y.constructor) {\n        return false;\n      }\n      if (x.prototype !== y.prototype) {\n        return false;\n      }\n      if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\n        return false;\n      }\n      // eslint-disable-next-line guard-for-in,no-restricted-syntax\n      for (p in y) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n          return false;\n        }\n        if (typeof y[p] !== typeof x[p]) {\n          return false;\n        }\n      }\n      // eslint-disable-next-line guard-for-in,no-restricted-syntax\n      for (p in x) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n          return false;\n        } if (typeof y[p] !== typeof x[p]) {\n          return false;\n        }\n        switch (typeof (x[p])) {\n          case 'object':\n          case 'function':\n            leftChain.push(x);\n            rightChain.push(y);\n            if (!compare2Objects(x[p], y[p])) {\n              return false;\n            }\n            leftChain.pop();\n            rightChain.pop();\n            break;\n          default:\n            if (x[p] !== y[p]) {\n              return false;\n            }\n            break;\n        }\n      }\n      return true;\n    }\n    if (arguments.length < 1) {\n      return true;\n    }\n    // eslint-disable-next-line no-plusplus\n    for (i = 1, l = arguments.length; i < l; i++) {\n      leftChain = [];\n      rightChain = [];\n      // eslint-disable-next-line prefer-rest-params\n      if (!compare2Objects(arguments[0], arguments[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  static arrayIncludeArray(a1, a2) {\n    if (Utils.isUnDef(a1) || Utils.isUnDef(a2)) {\n      return false;\n    }\n    if (a1.length !== a2.length) {\n      return false;\n    }\n    for (let i = 0; i < a1.length; i += 1) {\n      if (a2.indexOf(a1[i]) === -1) return false;\n    }\n    return true;\n  }\n\n  static keepLastIndex(obj) {\n    if (window.getSelection) {\n      obj.focus();\n      const range = window.getSelection();\n      range.selectAllChildren(obj);\n      range.collapseToEnd();\n    } else if (document.selection) {\n      const range = document.selection.createRange();\n      range.moveToElementText(obj);\n      range.collapse(false);\n      range.select();\n    }\n  }\n\n  static trim(s) {\n    if (this.isBlank(s)) return '';\n    return s.trim();\n  }\n\n  static now() {\n    return Date.now().toString();\n  }\n\n  static viewPort() {\n    return {\n      width: window.innerWidth,\n      height: window.innerHeight,\n    };\n  }\n}\n\nUtils.EMPTY = '';\nUtils.Nul = null;\nUtils.Undef = undefined;\n\nexport { Utils };\n","/* global document CustomEvent window */\r\n\r\nimport { Utils } from '../utils/Utils';\r\n\r\nclass Element {\r\n\r\n  constructor(tag, className = '') {\r\n    if (typeof tag === 'string') {\r\n      this.el = document.createElement(tag);\r\n      this.el.className = className;\r\n    } else {\r\n      this.el = tag;\r\n    }\r\n    this.el.data = [];\r\n  }\r\n\r\n  data(key, value) {\r\n    if (value !== undefined) {\r\n      this.el.data[key] = value;\r\n      return this;\r\n    }\r\n    return this.el.data[key];\r\n  }\r\n\r\n  on(eventNames, handler) {\r\n    const [fen, ...oen] = eventNames.split('.');\r\n    let eventName = fen;\r\n    if (eventName === 'mousewheel' && /Firefox/i.test(window.navigator.userAgent)) {\r\n      eventName = 'DOMMouseScroll';\r\n    }\r\n    this.el.addEventListener(eventName, (evt) => {\r\n      handler(evt);\r\n      for (let i = 0; i < oen.length; i += 1) {\r\n        const k = oen[i];\r\n        if (k === 'left' && evt.button !== 0) {\r\n          return;\r\n        }\r\n        if (k === 'right' && evt.button !== 2) {\r\n          return;\r\n        }\r\n        if (k === 'stop') {\r\n          evt.stopPropagation();\r\n        }\r\n      }\r\n    });\r\n    return this;\r\n  }\r\n\r\n  offset(value) {\r\n    if (value !== undefined) {\r\n      Object.keys(value).forEach((k) => {\r\n        this.css(k, `${value[k]}px`);\r\n      });\r\n      return this;\r\n    }\r\n    const {\r\n      offsetTop, offsetLeft, offsetHeight, offsetWidth,\r\n    } = this.el;\r\n    return {\r\n      top: offsetTop,\r\n      left: offsetLeft,\r\n      height: offsetHeight,\r\n      width: offsetWidth,\r\n    };\r\n  }\r\n\r\n  scroll(v) {\r\n    const { el } = this;\r\n    if (v !== undefined) {\r\n      if (v.left !== undefined) {\r\n        el.scrollLeft = v.left;\r\n      }\r\n      if (v.top !== undefined) {\r\n        el.scrollTop = v.top;\r\n      }\r\n    }\r\n    return { left: el.scrollLeft, top: el.scrollTop };\r\n  }\r\n\r\n  scrollTop() {\r\n    return this.el.scrollTop;\r\n  }\r\n\r\n  clientHeight() {\r\n    return this.el.clientHeight;\r\n  }\r\n\r\n  box() {\r\n    return this.el.getBoundingClientRect();\r\n  }\r\n\r\n  parent() {\r\n    return new Element(this.el.parentNode);\r\n  }\r\n\r\n  children(...args) {\r\n    if (arguments.length === 0) {\r\n      return this.el.childNodes;\r\n    }\r\n    args.forEach(ele => this.child(ele));\r\n    return this;\r\n  }\r\n\r\n  first() {\r\n    return this.el.firstChild;\r\n  }\r\n\r\n  last() {\r\n    return this.el.lastChild;\r\n  }\r\n\r\n  remove(ele) {\r\n    return this.el.removeChild(ele.el || ele);\r\n  }\r\n\r\n  prepend(ele) {\r\n    const { el } = this;\r\n    if (el.children.length > 0) {\r\n      el.insertBefore(ele, el.firstChild);\r\n    } else {\r\n      el.appendChild(ele);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  prev() {\r\n    return this.el.previousSibling;\r\n  }\r\n\r\n  next() {\r\n    return this.el.nextSibling;\r\n  }\r\n\r\n  child(arg) {\r\n    let ele = arg;\r\n    if (typeof arg === 'string') {\r\n      ele = document.createTextNode(arg);\r\n    } else if (arg instanceof Element) {\r\n      ele = arg.el;\r\n    }\r\n    this.el.appendChild(ele);\r\n    return this;\r\n  }\r\n\r\n  contains(ele) {\r\n    return this.el.contains(ele);\r\n  }\r\n\r\n  className(v) {\r\n    if (v !== undefined) {\r\n      this.el.className = v;\r\n      return this;\r\n    }\r\n    return this.el.className;\r\n  }\r\n\r\n  addClass(name) {\r\n    this.el.classList.add(name);\r\n    return this;\r\n  }\r\n\r\n  hasClass(name) {\r\n    return this.el.classList.contains(name);\r\n  }\r\n\r\n  removeClass(name) {\r\n    this.el.classList.remove(name);\r\n    return this;\r\n  }\r\n\r\n  toggle(cls = 'active') {\r\n    return this.toggleClass(cls);\r\n  }\r\n\r\n  toggleClass(name) {\r\n    return this.el.classList.toggle(name);\r\n  }\r\n\r\n  active(flag = true, cls = 'active') {\r\n    if (flag) this.addClass(cls);\r\n    else this.removeClass(cls);\r\n    return this;\r\n  }\r\n\r\n  checked(flag = true) {\r\n    this.active(flag, 'checked');\r\n    return this;\r\n  }\r\n\r\n  disabled(flag = true) {\r\n    if (flag) this.addClass('disabled');\r\n    else this.removeClass('disabled');\r\n    return this;\r\n  }\r\n\r\n  attr(key, value) {\r\n    if (value !== undefined) {\r\n      this.el.setAttribute(key, value);\r\n    } else {\r\n      if (typeof key === 'string') {\r\n        return this.el.getAttribute(key);\r\n      }\r\n      Object.keys(key).forEach((k) => {\r\n        this.el.setAttribute(k, key[k]);\r\n      });\r\n    }\r\n    return this;\r\n  }\r\n\r\n  removeAttr(key) {\r\n    this.el.removeAttribute(key);\r\n    return this;\r\n  }\r\n\r\n  html(content) {\r\n    if (content !== undefined) {\r\n      this.el.innerHTML = content;\r\n      return this;\r\n    }\r\n    return this.el.innerHTML;\r\n  }\r\n\r\n  val(v) {\r\n    if (v !== undefined) {\r\n      this.el.value = v;\r\n      return this;\r\n    }\r\n    return this.el.value;\r\n  }\r\n\r\n  cssRemoveKeys(...keys) {\r\n    keys.forEach(k => this.el.style.removeProperty(k));\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * set or get style attr\r\n   * @param name\r\n   * @param value\r\n   * @returns {String|Element}\r\n   */\r\n  css(name, value) {\r\n    if (value === undefined && typeof name !== 'string') {\r\n      Object.keys(name).forEach((k) => {\r\n        this.el.style[k] = name[k];\r\n      });\r\n      return this;\r\n    }\r\n    if (value !== undefined) {\r\n      this.el.style[name] = value;\r\n      return this;\r\n    }\r\n    return this.el.style[name];\r\n  }\r\n\r\n  computedStyle() {\r\n    return window.getComputedStyle(this.el, null);\r\n  }\r\n\r\n  show() {\r\n    const style = this.computedStyle();\r\n    if (style && style.display !== 'block') {\r\n      this.css('display', 'block');\r\n    }\r\n    return this;\r\n  }\r\n\r\n  hide() {\r\n    const style = this.computedStyle();\r\n    if (style && style.display !== 'none') {\r\n      this.css('display', 'none');\r\n    }\r\n    return this;\r\n  }\r\n\r\n  display(on) {\r\n    if (on) this.show(); else this.hide();\r\n  }\r\n\r\n  text(val) {\r\n    if (val === undefined) return this.el.innerText;\r\n    this.el.innerText = val;\r\n    return val;\r\n  }\r\n\r\n  sibling() {\r\n    let sibling = this.el;\r\n    const result = [];\r\n    // eslint-disable-next-line no-cond-assign\r\n    while ((sibling = sibling.previousElementSibling) !== null) result.push(new Element(sibling));\r\n    sibling = this.el;\r\n    // eslint-disable-next-line no-cond-assign\r\n    while ((sibling = sibling.nextElementSibling) !== null) result.push(new Element(sibling));\r\n    return result;\r\n  }\r\n\r\n  position() {\r\n    let top = 0; let left = 0; const right = 0; const bottom = 0;\r\n    if (this.el.style.position) {\r\n      if (this.el.top) {\r\n        top = this.el.style.top\r\n          .replace('%', '')\r\n          .repeat('px', '');\r\n      }\r\n      if (this.el.left) {\r\n        left = this.el.style.left\r\n          .replace('%', '')\r\n          .repeat('px', '');\r\n      }\r\n      if (this.el.right) {\r\n        top = this.el.style.right\r\n          .replace('%', '')\r\n          .repeat('px', '');\r\n      }\r\n      if (this.el.bottom) {\r\n        top = this.el.style.bottom\r\n          .replace('%', '')\r\n          .repeat('px', '');\r\n      }\r\n    }\r\n    return {\r\n      top: Utils.parseFloat(top),\r\n      left: Utils.parseFloat(left),\r\n      right: Utils.parseFloat(right),\r\n      bottom: Utils.parseFloat(bottom),\r\n    };\r\n  }\r\n\r\n  trigger(type, message) {\r\n    const event = new CustomEvent(type, {\r\n      detail: message,\r\n      bubbles: true,\r\n      cancelable: false,\r\n    });\r\n    this.el.dispatchEvent(event);\r\n  }\r\n\r\n  focus() {\r\n    this.el.focus();\r\n  }\r\n\r\n  find(select) {\r\n    const result = this.el.querySelectorAll(select);\r\n    if (result && result.length === 1) {\r\n      return new Element(result[0]);\r\n    }\r\n    const eleArray = [];\r\n    if (result) {\r\n      // eslint-disable-next-line no-restricted-syntax\r\n      for (const item of result) {\r\n        eleArray.push(new Element(item));\r\n      }\r\n    }\r\n    return eleArray;\r\n  }\r\n\r\n  isChild(target) {\r\n    let targetEl = target || target.el;\r\n    while (targetEl !== undefined && targetEl !== null && targetEl !== document.body) {\r\n      if (targetEl === this.el) return true;\r\n      targetEl = targetEl.parentNode;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nconst h = (tag, className = '') => new Element(tag, className);\r\n\r\nexport {\r\n  Element,\r\n  h,\r\n};\r\n","import { Element } from './Element';\r\nimport { cssPrefix } from '../constant/Constant';\r\n\r\nclass Widget extends Element {\r\n\r\n  constructor(className = '', nodeType = \"div\") {\r\n    super(nodeType, `${cssPrefix}-widget ${className}`);\r\n  }\r\n\r\n  computeEventXy(event, element = this) {\r\n    const { top, left } = element.box();\r\n    return {\r\n      x: event.pageX - left,\r\n      y: event.pageY - top,\r\n    };\r\n  }\r\n\r\n  computeWidgetXy(element) {\r\n    if (!element) {\r\n      return {\r\n        x: 0,\r\n        y: 0,\r\n      };\r\n    }\r\n    const { top: eleTop, left: eleLeft } = element.box();\r\n    const { top, left } = this.box();\r\n    return {\r\n      x: eleLeft - left,\r\n      y: eleTop - top,\r\n    };\r\n  }\r\n\r\n  attach(widget) {\r\n    this.children(widget);\r\n    widget.onAttach();\r\n  }\r\n\r\n  onAttach() {  }\r\n}\r\n\r\nexport { Widget };\r\n","import { Widget } from './Widget';\r\nimport { cssPrefix } from '../constant/Constant';\r\n\r\nclass Layer extends Widget {\r\n\r\n  constructor(className = '') {\r\n    super(`${cssPrefix}-layer ${className}`);\r\n  }\r\n\r\n}\r\n\r\nexport {Layer}\r\n","import { cssPrefix } from '../../constant/Constant';\r\nimport { Utils } from '../../utils/Utils';\r\nimport { Layer } from '../Layer';\r\n\r\nclass VerticalLayer extends Layer {\r\n\r\n  constructor(options) {\r\n    super(`${cssPrefix}-vertical-layer`);\r\n    this.options = Utils.mergeDeep({\r\n      style: {},\r\n    }, options);\r\n    this.css(this.options.style);\r\n  }\r\n}\r\n\r\nexport { VerticalLayer };\r\n","import { cssPrefix } from '../../constant/Constant';\r\nimport { Utils } from '../../utils/Utils';\r\nimport { Layer } from '../Layer';\r\n\r\nclass VerticalLayerElement extends Layer {\r\n  constructor(options) {\r\n    super(`${cssPrefix}-vertical-layer-element`);\r\n    this.options = Utils.mergeDeep({\r\n      style: {\r\n        flexGrow: '0',\r\n      },\r\n    }, options);\r\n    this.css(this.options.style);\r\n  }\r\n}\r\n\r\nexport { VerticalLayerElement };\r\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { h } from '../../../lib/Element';\n\nclass Icon extends Widget {\n  constructor(className = '') {\n    super(`${cssPrefix}-icon`);\n    this.iconNameEl = h('div', `${cssPrefix}-icon-img ${className}`);\n    this.child(this.iconNameEl);\n  }\n\n  setWidth(width) {\n    this.iconNameEl.css('width', `${width}px`);\n  }\n\n  setHeight(height) {\n    this.iconNameEl.css('height', `${height}px`);\n  }\n}\n\nexport { Icon };\n","import { Widget } from '../../../../lib/Widget';\nimport { cssPrefix } from '../../../../constant/Constant';\n\nclass Item extends Widget {\n  constructor(className) {\n    super(`${cssPrefix}-tools-item ${className}`);\n  }\n}\n\nexport { Item };\n","import { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Undo extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-undo`);\n    this.icon = new Icon('undo');\n    this.children(this.icon);\n  }\n}\n\nexport { Undo };\n","import { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Redo extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-redo`);\n    this.icon = new Icon('redo');\n    this.children(this.icon);\n  }\n}\n\nexport { Redo };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\n\nclass PaintFormat extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-point-format`);\n    this.icon = new Icon('point-format');\n    this.sheets = [];\n    this.children(this.icon);\n  }\n\n  addSheet(sheet) {\n    this.sheets.push(sheet);\n  }\n\n  removeSheet(sheet) {\n    for (let i = 0; i < this.sheets.length; i += 1) {\n      if (this.sheets[i] === sheet) {\n        this.sheets.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  includeSheet(sheet) {\n    for (let i = 0; i < this.sheets.length; i += 1) {\n      if (this.sheets[i] === sheet) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nexport { PaintFormat };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\n\nclass ClearFormat extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-clear-format`);\n    this.icon = new Icon('clear-format');\n    this.children(this.icon);\n  }\n}\n\nexport { ClearFormat };\n","import { Item } from './Item';\nimport { cssPrefix } from '../../../../constant/Constant';\nimport { h } from '../../../../lib/Element';\nimport { Icon } from '../Icon';\n\nclass DropDownItem extends Item {\n  constructor(className) {\n    super(`${cssPrefix}-tools-drop-down-item ${className}`);\n    this.drop = h('div', `${cssPrefix}-tools-drop-down-item-mark`);\n    this.title = h('div', `${cssPrefix}-tools-drop-down-item-title`);\n    this.drop.children(new Icon('arrow-down'));\n    this.children(this.title);\n    this.children(this.drop);\n  }\n\n  setTitle(text) {\n    this.title.text(text);\n  }\n\n  setIcon(icon) {\n    this.title.html('');\n    this.title.children(icon);\n  }\n\n  setWidth(px) {\n    this.title.css('width', `${px}px`);\n  }\n\n  setEllipsis() {\n    this.title.css('overflow', 'hidden');\n    this.title.css('text-overflow', 'ellipsis');\n    this.title.css('white-space', 'nowrap');\n  }\n\n  removeEllipsis() {\n    this.title.cssRemoveKeys('overflow');\n    this.title.cssRemoveKeys('text-overflow');\n    this.title.cssRemoveKeys('white-space');\n  }\n}\n\nexport { DropDownItem };\n","import { Constant } from '../constant/Constant';\n\nclass EventBind {\n  static bind(target, name, fn) {\n    if (Array.isArray(target)) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of target) {\n        (item.el || item).addEventListener(name, fn);\n      }\n    } else {\n      (target.el || target).addEventListener(name, fn);\n    }\n  }\n\n  static unbind(target, name, fn) {\n    if (Array.isArray(target)) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of target) {\n        (item.el || item).addEventListener(name, fn);\n      }\n    } else {\n      (target.el || target).removeEventListener(name, fn);\n    }\n  }\n\n  static mouseMoveUp(target, moveFunc = () => {}, upFunc = () => {}) {\n    const xEvtUp = (evt) => {\n      EventBind.unbind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, moveFunc);\n      EventBind.unbind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_UP, xEvtUp);\n      upFunc(evt);\n    };\n    EventBind.bind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, moveFunc);\n    EventBind.bind(target, Constant.SYSTEM_EVENT_TYPE.MOUSE_UP, xEvtUp);\n  }\n\n  static dbClick(target, func = () => {}) {\n    let t = 0;\n    EventBind.bind(target, Constant.SYSTEM_EVENT_TYPE.CLICK, (e) => {\n      const n = Date.now();\n      if (n - t <= 300) {\n        func(e);\n        t = 0;\n      } else {\n        t = n;\n      }\n    });\n  }\n}\n\nexport { EventBind };\n","/* global document */\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix, Constant } from '../../constant/Constant';\nimport { h } from '../../lib/Element';\nimport { Utils } from '../../utils/Utils';\n\nimport { EventBind } from '../../utils/EventBind';\n\nclass ScrollBarX extends Widget {\n\n  constructor(option) {\n    super(`${cssPrefix}-scroll-bar-x`);\n    this.option = Utils.mergeDeep({\n      style: {},\n      scroll: to => to,\n    }, option);\n    this.lastBut = h('div', `${cssPrefix}-scroll-bar-x-last-but`);\n    this.nextBut = h('div', `${cssPrefix}-scroll-bar-x-next-but`);\n    this.content = h('div', `${cssPrefix}-scroll-bar-x-content`);\n    this.block = h('div', `${cssPrefix}-scroll-bar-x-block`);\n    this.content.children(this.block);\n    this.children(...[\n      this.lastBut,\n      this.nextBut,\n      this.content,\n    ]);\n    this.blockLeft = 0;\n    this.maxBlockLeft = 0;\n    this.blockWidth = 0;\n    this.minBlockWidth = 20;\n    this.scrollTo = 0;\n    this.contentWidth = 0;\n    this.viewPortWidth = 0;\n    this.isHide = true;\n    this.css(this.option.style);\n    this.hide();\n  }\n\n  onAttach() {\n    this.bind();\n  }\n\n  bind() {\n    this.block.on(Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (evt1) => {\n      if (evt1.button !== 0) return;\n      const downEventXy = this.computeEventXy(evt1, this.block);\n      EventBind.mouseMoveUp(h(document), (evt2) => {\n        // 计算移动的距离\n        const moveEventXy = this.computeEventXy(evt2, this.content);\n        let left = moveEventXy.x - downEventXy.x;\n        if (left < 0) left = 0;\n        if (left > this.maxBlockLeft) left = this.maxBlockLeft;\n        // 计算滑动的距离\n        this.blockLeft = left;\n        this.scrollTo = this.computeScrollTo(this.blockLeft);\n        this.block.css('left', `${left}px`);\n        this.option.scroll(this.scrollTo);\n        evt2.stopPropagation();\n        evt2.preventDefault();\n      });\n      evt1.stopPropagation();\n      evt1.preventDefault();\n    });\n  }\n\n  setSize(viewPortWidth, contentWidth) {\n    if (viewPortWidth < contentWidth) {\n      this.isHide = false;\n      this.show();\n      // 计算滑块宽度\n      const contentBox = this.content.box();\n      const blockWidth = viewPortWidth / contentWidth * contentBox.width;\n      this.blockWidth = blockWidth < this.minBlockWidth ? this.minBlockWidth : blockWidth;\n      this.viewPortWidth = viewPortWidth;\n      this.contentWidth = contentWidth;\n      this.maxBlockLeft = contentBox.width - this.blockWidth;\n      this.block.css('width', `${this.blockWidth}px`);\n      // 计算滑块位置\n      const blockLeft = (this.scrollTo / (contentWidth - viewPortWidth)) * this.maxBlockLeft;\n      this.blockLeft = blockLeft > this.maxBlockLeft ? this.maxBlockLeft : blockLeft;\n      this.scrollTo = this.computeScrollTo(this.blockLeft);\n      this.block.css('left', `${this.blockLeft}px`);\n    } else {\n      this.isHide = true;\n      this.hide();\n      this.option.scroll(0);\n    }\n  }\n\n  scrollMove(move) {\n    let to = move;\n    const maxTo = this.contentWidth - this.viewPortWidth;\n    if (to > maxTo) to = maxTo; else if (to < 0) to = 0;\n    const blockLeft = (to / (this.contentWidth - this.viewPortWidth)) * this.maxBlockLeft;\n    this.blockLeft = blockLeft > this.maxBlockLeft ? this.maxBlockLeft : blockLeft;\n    if (this.scrollTo !== to) {\n      this.scrollTo = to;\n      this.block.css('left', `${this.blockLeft}px`);\n      this.option.scroll(this.scrollTo);\n    }\n  }\n\n  computeScrollTo(move) {\n    return (move / this.maxBlockLeft) * (this.contentWidth - this.viewPortWidth);\n  }\n}\n\nexport { ScrollBarX };\n","/* global document */\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix, Constant } from '../../constant/Constant';\nimport { h } from '../../lib/Element';\n\nimport { Utils } from '../../utils/Utils';\nimport { EventBind } from '../../utils/EventBind';\n\nclass ScrollBarY extends Widget {\n  constructor(option) {\n    super(`${cssPrefix}-scroll-bar-y`);\n    this.option = Utils.mergeDeep({\n      style: {},\n      scroll: to => to,\n    }, option);\n    this.lastBut = h('div', `${cssPrefix}-scroll-bar-y-last-but`);\n    this.nextBut = h('div', `${cssPrefix}-scroll-bar-y-next-but`);\n    this.content = h('div', `${cssPrefix}-scroll-bar-y-content`);\n    this.block = h('div', `${cssPrefix}-scroll-bar-y-block`);\n    this.content.children(this.block);\n    this.children(...[\n      this.lastBut,\n      this.nextBut,\n      this.content,\n    ]);\n    this.blockTop = 0;\n    this.maxBlockTop = 0;\n    this.blockHeight = 0;\n    this.minBlockHeight = 20;\n    this.scrollTo = 0;\n    this.contentHeight = 0;\n    this.viewPortHeight = 0;\n    this.isHide = true;\n    this.css(this.option.style);\n    this.hide();\n  }\n\n  onAttach() {\n    this.bind();\n  }\n\n  bind() {\n    EventBind.bind(this.block, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (evt1) => {\n      if (evt1.button !== 0) return;\n      const downEventXy = this.computeEventXy(evt1, this.block);\n      EventBind.mouseMoveUp(h(document), (evt2) => {\n        // 计算移动的距离\n        const moveEventXy = this.computeEventXy(evt2, this.content);\n        let top = moveEventXy.y - downEventXy.y;\n        if (top < 0) top = 0;\n        if (top > this.maxBlockTop) top = this.maxBlockTop;\n        // 计算滑动的距离\n        this.blockTop = top;\n        this.scrollTo = this.computeScrollTo(this.blockTop);\n        this.block.css('top', `${top}px`);\n        this.option.scroll(this.scrollTo);\n        evt2.stopPropagation();\n        evt2.preventDefault();\n      });\n    });\n  }\n\n  setSize(viewPortHeight, contentHeight) {\n    if (viewPortHeight < contentHeight) {\n      this.isHide = false;\n      this.show();\n      // 计算滑块高度\n      const contentBox = this.content.box();\n      const blockHeight = viewPortHeight / contentHeight * contentBox.height;\n      this.blockHeight = blockHeight < this.minBlockHeight ? this.minBlockHeight : blockHeight;\n      this.viewPortHeight = viewPortHeight;\n      this.contentHeight = contentHeight;\n      this.maxBlockTop = contentBox.height - this.blockHeight;\n      this.block.css('height', `${this.blockHeight}px`);\n      // 计算滑块位置\n      const blockTop = (this.scrollTo / (contentHeight - viewPortHeight)) * this.maxBlockTop;\n      this.blockTop = blockTop > this.maxBlockTop ? this.maxBlockTop : blockTop;\n      this.scrollTo = this.computeScrollTo(this.blockTop);\n      this.block.css('top', `${this.blockTop}px`);\n    } else {\n      this.isHide = true;\n      this.hide();\n      this.option.scroll(0);\n    }\n  }\n\n  scrollMove(move) {\n    let to = move;\n    const maxTo = this.contentHeight - this.viewPortHeight;\n    if (to > maxTo) to = maxTo; else if (to < 0) to = 0;\n    const blockTop = (to / (this.contentHeight - this.viewPortHeight)) * this.maxBlockTop;\n    this.blockTop = blockTop > this.maxBlockTop ? this.maxBlockTop : blockTop;\n    if (this.scrollTo !== to) {\n      this.scrollTo = to;\n      this.block.css('top', `${this.blockTop}px`);\n      this.option.scroll(this.scrollTo);\n    }\n  }\n\n  computeScrollTo(move) {\n    return (move / this.maxBlockTop) * (this.contentHeight - this.viewPortHeight);\n  }\n}\n\nexport { ScrollBarY };\n","import { cssPrefix } from '../../constant/Constant';\r\nimport { Utils } from '../../utils/Utils';\r\nimport { Layer } from '../Layer';\r\n\r\nclass HorizontalLayerElement extends Layer {\r\n\r\n  constructor(options) {\r\n    super(`${cssPrefix}-horizontal-layer-element`);\r\n    this.options = Utils.mergeDeep({\r\n      style: {\r\n        flexGrow: '0',\r\n      },\r\n    }, options);\r\n    this.css(this.options.style);\r\n  }\r\n}\r\n\r\nexport { HorizontalLayerElement };\r\n","import { cssPrefix } from '../../constant/Constant';\r\nimport { Utils } from '../../utils/Utils';\r\nimport { Layer } from '../Layer';\r\n\r\nclass HorizontalLayer extends Layer {\r\n\r\n  constructor(options) {\r\n    super(`${cssPrefix}-horizontal-layer`);\r\n    this.options = Utils.mergeDeep({\r\n      style: {},\r\n    }, options);\r\n    this.css(this.options.style);\r\n  }\r\n}\r\n\r\nexport { HorizontalLayer };\r\n","/* global document window */\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix, Constant } from '../../constant/Constant';\nimport { h } from '../../lib/Element';\nimport { ScrollBarX } from '../scrollbar/ScrollBarX';\nimport { ScrollBarY } from '../scrollbar/ScrollBarY';\nimport { Utils } from '../../utils/Utils';\nimport { HorizontalLayerElement } from '../../lib/layer/HorizontalLayerElement';\nimport { HorizontalLayer } from '../../lib/layer/HorizontalLayer';\nimport { VerticalLayer } from '../../lib/layer/VerticalLayer';\nimport { VerticalLayerElement } from '../../lib/layer/VerticalLayerElement';\nimport { EventBind } from '../../utils/EventBind';\n\nconst EL_POPUP_POSITION = {\n  TOP: 1,\n  LEFT: 2,\n  BOTTOM: 3,\n  RIGHT: 4,\n};\n\nconst POOL = [];\n\nclass ElPopUp extends Widget {\n\n  constructor(options) {\n    super(`${cssPrefix}-el-pop-up`);\n    POOL.push(this);\n    this.options = Utils.mergeDeep({\n      position: EL_POPUP_POSITION.BOTTOM,\n      el: null,\n    }, options);\n    this.off = true;\n\n    this.content = new Widget(`${cssPrefix}-el-pop-up-content`);\n    this.scrollBarX = new ScrollBarX();\n    this.scrollBarY = new ScrollBarY();\n\n    // 内容\n    const contentLayer = new HorizontalLayerElement({\n      style: {\n        flexGrow: 1,\n      },\n    });\n    contentLayer.children(this.content);\n\n    // Y 滚动条\n    const scrollBarYLayer = new HorizontalLayerElement({\n      style: {\n        overflow: 'inherit',\n      },\n    });\n    scrollBarYLayer.children(this.scrollBarY);\n\n    const horizontalLayer = new HorizontalLayer();\n    horizontalLayer.children(contentLayer);\n    horizontalLayer.children(scrollBarYLayer);\n\n    // 内容 & Y 滚动条\n    const contentVerticalLayer = new VerticalLayerElement(horizontalLayer);\n    contentVerticalLayer.children(horizontalLayer);\n\n    // X 滚动条\n    const scrollBarXVerticalLayer = new VerticalLayerElement();\n    scrollBarXVerticalLayer.children(this.scrollBarX);\n\n    const verticalLayer = new VerticalLayer();\n    verticalLayer.children(contentVerticalLayer);\n    verticalLayer.children(scrollBarXVerticalLayer);\n    super.children(verticalLayer);\n\n    this.bind();\n  }\n\n  bind() {\n    EventBind.bind(window, Constant.SYSTEM_EVENT_TYPE.RESIZE, () => {\n      this.position();\n      this.scrollbar();\n    });\n  }\n\n  children(...args) {\n    this.content.children(...args);\n  }\n\n  position() {\n    const { content } = this;\n    const { el, position } = this.options;\n    const elBox = el.box();\n    const contentBox = content.box();\n    let { top, left } = elBox;\n    switch (position) {\n      case EL_POPUP_POSITION.TOP:\n        top = elBox.top - contentBox.height;\n        break;\n      case EL_POPUP_POSITION.LEFT:\n        left = elBox.left - contentBox.width;\n        break;\n      case EL_POPUP_POSITION.RIGHT:\n        left = elBox.left + elBox.width;\n        break;\n      case EL_POPUP_POSITION.BOTTOM:\n        top = elBox.top + elBox.height;\n        break;\n      default: break;\n    }\n    const maxWidth = window.innerWidth;\n    const maxHeight = window.innerHeight;\n    if (left < 0 || left + contentBox.width > maxWidth) {\n      // 左右颠倒\n      switch (position) {\n        case EL_POPUP_POSITION.LEFT:\n          left = elBox.left + elBox.width;\n          break;\n        case EL_POPUP_POSITION.RIGHT:\n          left = elBox.left - contentBox.width;\n          break;\n        default: break;\n      }\n    }\n    if (top < 0 || top + contentBox.height > maxHeight) {\n      // 上下颠倒\n      switch (position) {\n        case EL_POPUP_POSITION.TOP:\n          top = elBox.top + elBox.height;\n          break;\n        case EL_POPUP_POSITION.BOTTOM:\n          top = elBox.top - contentBox.height;\n          break;\n        default: break;\n      }\n    }\n    if (left < 0 || left + contentBox.width > maxWidth) {\n      top = elBox.top + elBox.height;\n      ({ left } = elBox);\n    }\n    if (top < 0 || top + contentBox.height > maxHeight) {\n      top = elBox.top + elBox.height;\n      ({ left } = elBox);\n    }\n    this.offset({\n      top,\n      left,\n    });\n  }\n\n  scrollbar() {\n    const { content } = this;\n    const contentBox = content.box();\n    const box = this.box();\n    this.scrollBarY.setSize(box.height, contentBox.height);\n    this.scrollBarX.setSize(box.width, contentBox.width);\n  }\n\n  open() {\n    if (this.off) {\n      h(document.body).children(this);\n      this.position();\n      this.scrollbar();\n      this.off = false;\n    }\n  }\n\n  close() {\n    if (this.off === false) {\n      h(document.body).remove(this);\n      this.off = true;\n    }\n  }\n\n  static closeAll(filter = []) {\n    POOL.forEach((item) => {\n      if (filter.indexOf(item) === -1) {\n        item.close();\n      }\n    });\n  }\n}\n\nexport { ElPopUp, EL_POPUP_POSITION };\n","/* global document */\nimport { cssPrefix, Constant } from '../../constant/Constant';\nimport { EventBind } from '../../utils/EventBind';\nimport { Widget } from '../../lib/Widget';\nimport { ElPopUp } from '../elpopup/ElPopUp';\nimport { Utils } from '../../utils/Utils';\n\nclass ELContextMenu extends Widget {\n\n  constructor(className = '', options = {}) {\n    super(`${cssPrefix}-el-context-menu ${className}`);\n    this.options = Utils.mergeDeep({}, options);\n    this.menus = [];\n    // 环绕元素弹层组件\n    this.elPopUp = new ElPopUp(this.options);\n    this.elPopUp.children(this);\n    this.bind();\n  }\n\n  bind() {\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n    });\n    EventBind.bind(document.body, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      this.close();\n    });\n  }\n\n  addItem(item) {\n    const { menus } = this;\n    menus.push(item);\n    this.children(item);\n    return this;\n  }\n\n  open() {\n    this.elPopUp.open();\n    return this;\n  }\n\n  close() {\n    this.elPopUp.close();\n    return this;\n  }\n\n  isOpen() {\n    return this.elPopUp.off;\n  }\n}\n\nexport { ELContextMenu };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../constant/Constant';\n\nclass ELContextMenuItem extends Widget {\n  constructor(className = '') {\n    super(`${cssPrefix}-el-context-menu-item hover ${className}`);\n  }\n}\n\nexport { ELContextMenuItem };\n","import { h } from '../../../../../lib/Element';\nimport { cssPrefix } from '../../../../../constant/Constant';\nimport { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { Icon } from '../../Icon';\n\nconst pool = [];\n\nclass FormatContextMenuItem extends ELContextMenuItem {\n  constructor(title, desc) {\n    super(`${cssPrefix}-format-context-menu-item`);\n    this.title = title;\n    this.desc = desc;\n    this.icon = new Icon('checked');\n    this.iconElement = h('div', `${cssPrefix}-format-context-menu-item-icon`);\n    this.iconElement.children(this.icon);\n    this.titleElement = h('div', `${cssPrefix}-format-context-menu-item-title`);\n    this.descElement = h('div', `${cssPrefix}-format-context-menu-item-desc`);\n    this.titleElement.text(title);\n    this.descElement.text(desc);\n    this.children(this.iconElement);\n    this.children(this.titleElement);\n    this.children(this.descElement);\n    pool.push(this);\n  }\n\n  setTitle(title) {\n    this.titleElement.text(title);\n  }\n\n  setDesc(desc) {\n    this.descElement.text(desc);\n  }\n\n  setActive() {\n    pool.forEach((item) => {\n      item.removeClass('active');\n    });\n    this.addClass('active');\n  }\n}\n\nexport { FormatContextMenuItem };\n","import { cssPrefix } from '../../constant/Constant';\nimport { Widget } from '../../lib/Widget';\n\nclass ELContextMenuDivider extends Widget {\n  constructor() {\n    super(`${cssPrefix}-el-context-menu-item-divider`);\n  }\n}\n\nexport { ELContextMenuDivider };\n","import { cssPrefix, Constant } from '../../../../../constant/Constant';\nimport { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { FormatContextMenuItem } from './FormatContextMenuItem';\nimport { ELContextMenuDivider } from '../../../../../component/elcontextmenu/ELContextMenuDivider';\n\nimport { Utils } from '../../../../../utils/Utils';\n\nclass FormatContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-format-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new FormatContextMenuItem('常规', '').data('type', 'default'),\n      new FormatContextMenuItem('文本', '').data('type', 'text'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('数值', '0.59').data('type', 'number'),\n      new FormatContextMenuItem('百分比', '90.00%').data('type', 'percentage'),\n      new FormatContextMenuItem('分数', '1/2').data('type', 'fraction'),\n      new FormatContextMenuItem('科学计数', '9.50e-01').data('type', 'ENotation'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('人民币', '￥5.00').data('type', 'rmb'),\n      new FormatContextMenuItem('港币', 'HK5.00').data('type', 'hk'),\n      new FormatContextMenuItem('美元', '$5.00').data('type', 'dollar'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('日期', '2018/4/18').data('type', 'date1'),\n      new FormatContextMenuItem('日期', '4月18日').data('type', 'date2'),\n      new FormatContextMenuItem('日期', '2018年4月').data('type', 'date3'),\n      new FormatContextMenuItem('日期', '2018年4月18日').data('type', 'date4'),\n      new FormatContextMenuItem('日期', '2018/4/18 14:30:30').data('type', 'date5'),\n      new FormatContextMenuItem('时间', '14:30:30').data('type', 'time'),\n      new ELContextMenuDivider(),\n      new FormatContextMenuItem('更多格式', ''),\n    ];\n    this.items.forEach((item) => {\n      if (item instanceof FormatContextMenuItem && item.data('type')) {\n        item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n          this.update(item.data('type'), item.title);\n          item.setActive();\n        });\n      }\n      this.addItem(item);\n    });\n    this.init();\n  }\n\n  init() {\n    const { options, items } = this;\n    const { el } = options;\n    const first = items[0];\n    el.setTitle(first.title);\n    first.setActive();\n  }\n\n  update(format, title) {\n    const { options } = this;\n    options.onUpdate(format, title);\n    this.close();\n  }\n\n  setActiveByType(type) {\n    this.items.forEach((item) => {\n      if (item.data('type') === type) {\n        item.setActive();\n      }\n    });\n  }\n}\n\nexport { FormatContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { FormatContextMenu } from './contextmenu/format/FormatContextMenu';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { Utils } from '../../../utils/Utils';\n\nclass Format extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-format`);\n    this.options = Utils.copyProp({\n      contextMenu: {},\n    }, options);\n    this.setTitle('常规');\n    this.setWidth(50);\n    this.setEllipsis();\n    this.formatContextMenu = new FormatContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { Format };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../constant/Constant';\nimport { h } from '../../../../../lib/Element';\nimport { Icon } from '../../Icon';\n\nconst pool = [];\n\nclass FontContextMenuItem extends ELContextMenuItem {\n  constructor(title) {\n    super(`${cssPrefix}-font-context-menu-item`);\n    this.title = title;\n    this.icon = new Icon('checked');\n    this.iconElement = h('div', `${cssPrefix}-font-context-menu-item-icon`);\n    this.iconElement.children(this.icon);\n    this.titleElement = h('div', `${cssPrefix}-font-context-menu-item-title`);\n    this.titleElement.text(title);\n    this.titleElement.css('font-family', title);\n    this.children(this.iconElement);\n    this.children(this.titleElement);\n    pool.push(this);\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.titleElement.text(title);\n  }\n\n  setActive() {\n    pool.forEach((item) => {\n      item.removeClass('active');\n    });\n    this.addClass('active');\n  }\n}\n\nexport { FontContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix, Constant } from '../../../../../constant/Constant';\nimport { Utils } from '../../../../../utils/Utils';\nimport { FontContextMenuItem } from './FontContextMenuItem';\n\n\nclass FontContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new FontContextMenuItem('Arial'),\n      new FontContextMenuItem('Helvetica'),\n      new FontContextMenuItem('Source Sans Pro'),\n      new FontContextMenuItem('Comic Sans Ms'),\n      new FontContextMenuItem('Courier New'),\n      new FontContextMenuItem('Verdana'),\n      new FontContextMenuItem('Lalo'),\n    ];\n    this.items.forEach((item) => {\n      item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n        this.update(item.title);\n        item.setActive();\n      });\n      this.addItem(item);\n    });\n    this.setActiveByType(this.items[0].title);\n  }\n\n  update(type) {\n    const { options } = this;\n    options.onUpdate(type);\n    this.close();\n  }\n\n  setActiveByType(type) {\n    this.items.forEach((item) => {\n      if (item.title === type) {\n        item.setActive();\n      }\n    });\n  }\n}\n\nexport { FontContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { FontContextMenu } from './contextmenu/font/FontContextMenu';\n\nclass Font extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-font`);\n    this.options = Utils.copyProp({\n      contextMenu: {},\n    }, options);\n    this.setTitle('Arial');\n    this.setWidth(50);\n    this.setEllipsis();\n    this.fontContextMenu = new FontContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { Font };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../constant/Constant';\nimport { h } from '../../../../../lib/Element';\n\nclass FontSizeContextMenuItem extends ELContextMenuItem {\n  constructor(size) {\n    super(`${cssPrefix}-font-size-context-menu-item`);\n    this.size = size;\n    this.titleElement = h('div', `${cssPrefix}-font-size-context-menu-item-title`);\n    this.titleElement.text(size);\n    this.titleElement.css('text-align', 'center');\n    this.children(this.titleElement);\n  }\n}\n\nexport { FontSizeContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { Utils } from '../../../../../utils/Utils';\nimport { cssPrefix, Constant } from '../../../../../constant/Constant';\nimport { FontSizeContextMenuItem } from './FontSizeContextMenuItem';\n\n\nclass FontSizeContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-size-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new FontSizeContextMenuItem(6),\n      new FontSizeContextMenuItem(7),\n      new FontSizeContextMenuItem(8),\n      new FontSizeContextMenuItem(9),\n      new FontSizeContextMenuItem(10),\n      new FontSizeContextMenuItem(11),\n      new FontSizeContextMenuItem(12),\n      new FontSizeContextMenuItem(14),\n      new FontSizeContextMenuItem(15),\n      new FontSizeContextMenuItem(18),\n      new FontSizeContextMenuItem(24),\n      new FontSizeContextMenuItem(36),\n    ];\n    this.items.forEach((item) => {\n      item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n        this.update(item.size);\n      });\n      this.addItem(item);\n    });\n  }\n\n  update(size) {\n    const { options } = this;\n    options.onUpdate(size);\n    this.close();\n  }\n}\n\nexport { FontSizeContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { FontSizeContextMenu } from './contextmenu/fontsize/FontSizeContextMenu';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\n\nclass FontSize extends DropDownItem {\n  constructor(options = { contextMenu: {} }) {\n    super(`${cssPrefix}-tools-font-size`);\n    this.options = options;\n    this.setTitle('10');\n    this.setWidth(30);\n    this.setEllipsis();\n    this.fontSizeContextMenu = new FontSizeContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { FontSize };\n","import { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass FontBold extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-font-bold`);\n    this.icon = new Icon('font-bold');\n    this.children(this.icon);\n  }\n}\n\nexport { FontBold };\n","import { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass FontItalic extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-font-italic`);\n    this.icon = new Icon('font-italic');\n    this.children(this.icon);\n  }\n}\n\nexport { FontItalic };\n","import { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass UnderLine extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-under-line`);\n    this.icon = new Icon('under-line');\n    this.children(this.icon);\n  }\n}\n\nexport { UnderLine };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\n\nclass FontStrike extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-font-strike`);\n    this.icon = new Icon('font-strike');\n    this.children(this.icon);\n  }\n}\n\nexport { FontStrike };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../constant/Constant';\nimport { h } from '../../../../../lib/Element';\n\nclass FontColorContextMenuItem extends ELContextMenuItem {\n  constructor(title, icon) {\n    super(`${cssPrefix}-font-color-context-menu-item`);\n    this.title = title;\n    this.icon = icon;\n    if (icon) {\n      this.iconElement = h('div', `${cssPrefix}-font-color-context-menu-item-icon`);\n      this.iconElement.children(this.icon);\n      this.children(this.iconElement);\n    }\n    if (title) {\n      this.titleElement = h('div', `${cssPrefix}-font-color-context-menu-item-title`);\n      this.titleElement.text(title);\n      this.children(this.titleElement);\n    }\n  }\n}\n\nexport { FontColorContextMenuItem };\n","/* global document */\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix, Constant } from '../../constant/Constant';\nimport { EventBind } from '../../utils/EventBind';\n\nimport { h } from '../../lib/Element';\nimport { Utils } from '../../utils/Utils';\n\nconst POOL = [];\n\nconst DRAG_PANEL_POSITION = {\n  LEFT: 1,\n  TOP: 2,\n  RIGHT: 3,\n  CENTER: 4,\n};\n\nclass DragPanel extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-drag-panel`);\n    this.options = Utils.mergeDeep({\n      position: DRAG_PANEL_POSITION.CENTER,\n    }, options);\n    this.off = true;\n    this.mask = h('div', `${cssPrefix}-drag-panel-mask`);\n    this.content = h('div', `${cssPrefix}-drag-panel-content`);\n    super.children(this.content);\n    this.bind();\n    POOL.push(this);\n  }\n\n  bind() {\n    const { mask } = this;\n    EventBind.bind(mask, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.close();\n      e.stopPropagation();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (evt1) => {\n      if (evt1.button !== 0) return;\n      const downEventXy = this.computeEventXy(evt1, this);\n      EventBind.mouseMoveUp(h(document), (evt2) => {\n        // 计算移动的距离\n        const top = evt2.pageY - downEventXy.y;\n        const left = evt2.pageX - downEventXy.x;\n        this.offset({ top, left });\n        evt2.stopPropagation();\n        evt2.preventDefault();\n      });\n      evt1.stopPropagation();\n      evt1.preventDefault();\n    });\n  }\n\n  position() {\n    const { options } = this;\n    const { position } = options;\n    const { width, height } = Utils.viewPort();\n    const box = this.box();\n    switch (position) {\n      case DRAG_PANEL_POSITION.LEFT:\n        break;\n      case DRAG_PANEL_POSITION.RIGHT:\n        break;\n      case DRAG_PANEL_POSITION.TOP:\n        break;\n      case DRAG_PANEL_POSITION.CENTER:\n        this.offset({\n          left: width / 2 - box.width / 2,\n          top: height / 2 - box.height / 2,\n        });\n        break;\n      default: break;\n    }\n  }\n\n  open() {\n    if (this.off) {\n      const { mask } = this;\n      h(document.body).children(mask);\n      h(document.body).children(this);\n      this.position();\n      this.off = false;\n    }\n  }\n\n  close() {\n    if (this.off === false) {\n      const { mask } = this;\n      h(document.body).remove(this);\n      h(document.body).remove(mask);\n      this.off = true;\n    }\n  }\n\n  children(...args) {\n    this.content.children(...args);\n  }\n\n  static closeAll(filter = []) {\n    POOL.forEach((item) => {\n      if (filter.indexOf(item) === -1) {\n        item.close();\n      }\n    });\n  }\n}\n\nexport { DragPanel };\n","/* global document */\nimport { h } from '../../lib/Element';\nimport { cssPrefix, Constant } from '../../constant/Constant';\nimport { Widget } from '../../lib/Widget';\nimport { DragPanel } from '../dragpanel/DragPanel';\nimport { EventBind } from '../../utils/EventBind';\n\nimport { Utils } from '../../utils/Utils';\n\nclass ColorPicker extends Widget {\n\n  constructor(options) {\n    super(`${cssPrefix}-color-picker`);\n    this.options = Utils.mergeDeep({\n      selectCb: () => {},\n    }, options);\n    // 拖拽组件\n    this.dragPanel = new DragPanel();\n    this.color = [360, 0, 100];\n    // 头部\n    this.preViewColorPoint = h('div', `${cssPrefix}-color-picker-pre-view-color-point`);\n    this.colorValueTips = h('div', `${cssPrefix}-color-picker-color-value-tips`);\n    this.colorValueTips.text('十六进制颜色值');\n    this.colorInput = h('input', `${cssPrefix}-color-picker-color-input`);\n    this.top = h('div', `${cssPrefix}-color-picker-top`);\n    this.top.children(this.preViewColorPoint);\n    this.top.children(this.colorValueTips);\n    this.top.children(this.colorInput);\n    // 中间部分\n    this.selectColorPoint = h('div', `${cssPrefix}-color-picker-select-color-point`);\n    this.selectColorArea1 = h('div', `${cssPrefix}-color-picker-select-color-area area1`);\n    this.selectColorArea2 = h('div', `${cssPrefix}-color-picker-select-color-area area2`);\n    this.selectColorArea3 = h('div', `${cssPrefix}-color-picker-select-color-area area3`);\n    this.center = h('div', `${cssPrefix}-color-picker-center`);\n    this.center.children(this.selectColorArea1);\n    this.center.children(this.selectColorArea2);\n    this.center.children(this.selectColorArea3);\n    this.center.children(this.selectColorPoint);\n    // 底部\n    this.colorHuxTips = h('div', `${cssPrefix}-color-picker-color-hux-tips`);\n    this.colorBar = h('div', `${cssPrefix}-color-picker-color-bar`);\n    this.colorBarPoint = h('div', `${cssPrefix}-color-picker-bar-point`);\n    this.bottom = h('div', `${cssPrefix}-color-picker-bottom`);\n    this.colorHuxTips.text('HUE');\n    this.colorBar.children(this.colorBarPoint);\n    this.bottom.children(this.colorHuxTips);\n    this.bottom.children(this.colorBar);\n    // 按钮\n    this.cancelButton = h('div', `${cssPrefix}-color-picker-button cancel`);\n    this.selectButton = h('div', `${cssPrefix}-color-picker-button select`);\n    this.buttons = h('div', `${cssPrefix}-color-picker-buttons`);\n    this.cancelButton.text('取消');\n    this.selectButton.text('确定');\n    this.buttons.children(this.selectButton);\n    this.buttons.children(this.cancelButton);\n    this.children(this.top);\n    this.children(this.center);\n    this.children(this.bottom);\n    this.children(this.buttons);\n    this.dragPanel.children(this);\n    this.dragPanel.css('background', '#ffffff');\n    this.bind();\n  }\n\n  bind() {\n    const { selectColorPoint, center } = this;\n    const { colorBarPoint, colorBar } = this;\n    const { colorInput, cancelButton, selectButton } = this;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      e.stopPropagation();\n    });\n    EventBind.bind(selectColorPoint, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      const xy = this.computeEventXy(e1, center);\n      const centerBox = center.box();\n      if (xy.x < 0) xy.x = 0;\n      if (xy.x > centerBox.width) xy.x = centerBox.width;\n      if (xy.y < 0) xy.y = 0;\n      if (xy.y > centerBox.height) xy.y = centerBox.height;\n      this.downSelect(xy.x, xy.y, centerBox.width, centerBox.height);\n      EventBind.mouseMoveUp(h(document), (e2) => {\n        const xy = this.computeEventXy(e2, center);\n        if (xy.x < 0) xy.x = 0;\n        if (xy.x > centerBox.width) xy.x = centerBox.width;\n        if (xy.y < 0) xy.y = 0;\n        if (xy.y > centerBox.height) xy.y = centerBox.height;\n        this.moveSelect(xy.x, xy.y, centerBox.width, centerBox.height);\n      });\n    });\n    EventBind.bind(colorBarPoint, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      const xy = this.computeEventXy(e1, colorBar);\n      const colorBarBox = colorBar.box();\n      if (xy.x < 0) xy.x = 0;\n      if (xy.x > colorBarBox.width) xy.x = colorBarBox.width;\n      this.downHue(xy.x, colorBarBox.width);\n      EventBind.mouseMoveUp(h(document), (e2) => {\n        const xy = this.computeEventXy(e2, colorBar);\n        const colorBarBox = colorBar.box();\n        if (xy.x < 0) xy.x = 0;\n        if (xy.x > colorBarBox.width) xy.x = colorBarBox.width;\n        this.moveHue(xy.x, colorBarBox.width);\n      });\n    });\n    EventBind.bind(colorInput, Constant.SYSTEM_EVENT_TYPE.CHANGE, () => {\n      const value = colorInput.val();\n      if (value) {\n        this.hexColor(value);\n      }\n    });\n    EventBind.bind(cancelButton, Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.close();\n    });\n    EventBind.bind(selectButton, Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      const { color } = this;\n      const hsb = ColorPicker.fixHsx({\n        h: parseInt(color[0], 10),\n        s: parseInt(color[1], 10),\n        x: parseInt(color[2], 10),\n      });\n      const colorValue = ColorPicker.hsbToHex(hsb);\n      this.options.selectCb(`#${colorValue}`);\n      this.close();\n    });\n  }\n\n  open(hex) {\n    const { dragPanel } = this;\n    dragPanel.open();\n    if (hex) {\n      if (ColorPicker.isRgb(hex)) {\n        const rgb = ColorPicker.parseRgb(hex);\n        // eslint-disable-next-line no-param-reassign\n        hex = ColorPicker.rgbToHex(rgb);\n      }\n      this.hexColor(hex);\n    } else {\n      this.change();\n    }\n    return this;\n  }\n\n  close() {\n    const { dragPanel } = this;\n    dragPanel.close();\n    return this;\n  }\n\n  sliderPosition(hsb) {\n    // hue 滑块位置\n    const { colorBar, colorBarPoint } = this;\n    const colorBarPointBox = colorBarPoint.box();\n    const colorBarBox = colorBar.box();\n    let colorBarPointLeft = parseInt(colorBarBox.width - colorBarBox.width * hsb.h / 360, 10);\n    colorBarPointLeft -= colorBarPointBox.width / 2;\n    colorBarPoint.offset({\n      left: colorBarPointLeft,\n    });\n    // select color 滑块位置\n    const { center, selectColorPoint } = this;\n    const selectColorPointBox = selectColorPoint.box();\n    const centerBox = center.box();\n    let selectColorPointLeft = parseInt(centerBox.width * hsb.s / 100, 10);\n    let selectColorPointTop = parseInt(centerBox.height * (100 - hsb.x) / 100, 10);\n    selectColorPointLeft -= selectColorPointBox.width / 2;\n    selectColorPointTop -= selectColorPointBox.height / 2;\n    selectColorPoint.offset({\n      left: selectColorPointLeft,\n      top: selectColorPointTop,\n    });\n  }\n\n  hueChange() {\n    const { color } = this;\n    const hsb = ColorPicker.fixHsx({\n      h: parseInt(color[0], 10),\n      s: parseInt(color[1], 10),\n      x: parseInt(color[2], 10),\n    });\n    const {\n      colorBarPoint, selectColorPoint, preViewColorPoint, selectColorArea1, colorInput,\n    } = this;\n    const colorValue = ColorPicker.hsbToHex(hsb);\n    const areaColorValue = ColorPicker.hsbToHex({ h: hsb.h, s: 100, x: 100 });\n    selectColorPoint.css('backgroundColor', `#${colorValue}`);\n    preViewColorPoint.css('backgroundColor', `#${colorValue}`);\n    colorBarPoint.css('backgroundColor', `#${areaColorValue}`);\n    selectColorArea1.css('backgroundColor', `#${areaColorValue}`);\n    colorInput.val(`#${colorValue}`);\n    this.sliderPosition(hsb);\n  }\n\n  selectChange() {\n    const { color } = this;\n    const hsb = ColorPicker.fixHsx({\n      h: parseInt(color[0], 10),\n      s: parseInt(color[1], 10),\n      x: parseInt(color[2], 10),\n    });\n    const { preViewColorPoint, selectColorPoint, colorInput } = this;\n    const colorValue = ColorPicker.hsbToHex(hsb);\n    selectColorPoint.css('backgroundColor', `#${colorValue}`);\n    preViewColorPoint.css('backgroundColor', `#${colorValue}`);\n    colorInput.val(`#${colorValue}`);\n    this.sliderPosition(hsb);\n  }\n\n  change() {\n    this.hueChange();\n    this.selectChange();\n  }\n\n  downSelect(x, y, width, height) {\n    const { color } = this;\n    color[1] = parseInt(100 * x / width, 10);\n    color[2] = parseInt(100 * (height - y) / height, 10);\n    this.selectChange();\n  }\n\n  moveSelect(x, y, width, height) {\n    const { color } = this;\n    color[1] = parseInt(100 * (Math.max(0, Math.min(width, x))) / width, 10);\n    color[2] = parseInt(100 * (height - Math.max(0, Math.min(height, y))) / height, 10);\n    this.selectChange();\n  }\n\n  downHue(x, width) {\n    const { color } = this;\n    color[0] = parseInt(360 * (width - x) / width, 10);\n    this.hueChange();\n  }\n\n  moveHue(x, width) {\n    const { color } = this;\n    color[0] = parseInt(360 * (width - Math.max(0, Math.min(width, x))) / width, 10);\n    this.hueChange();\n  }\n\n  hexColor(hex) {\n    const { color } = this;\n    const result = ColorPicker.hexToHsb(ColorPicker.fixHex(hex));\n    color[0] = result.h;\n    color[1] = result.s;\n    color[2] = result.x;\n    this.change();\n  }\n\n  static fixHex(hex) {\n    const len = 6 - hex.length;\n    if (len > 0) {\n      const o = [];\n      for (let i = 0; i < len; i += 1) {\n        o.push('0');\n      }\n      o.push(hex);\n      // eslint-disable-next-line no-param-reassign\n      hex = o.join('');\n    }\n    return hex;\n  }\n\n  static fixHsx(hsx) {\n    return {\n      h: Math.min(360, Math.max(0, hsx.h)),\n      s: Math.min(100, Math.max(0, hsx.s)),\n      x: Math.min(100, Math.max(0, hsx.x)),\n    };\n  }\n\n  static hexToRgb(hex) {\n    // eslint-disable-next-line no-redeclare,no-param-reassign\n    hex = parseInt(((hex.indexOf('#') > -1) ? hex.substring(1) : hex), 16);\n    // eslint-disable-next-line no-bitwise\n    return { r: hex >> 16, g: (hex & 0x00FF00) >> 8, b: (hex & 0x0000FF) };\n  }\n\n  static hexToHsb(hex) {\n    return this.rgbToHsb(this.hexToRgb(hex));\n  }\n\n  static rgbToHsb(rgb) {\n    const hsb = { h: 0, s: 0, x: 0 };\n    const min = Math.min(rgb.r, rgb.g, rgb.b);\n    const max = Math.max(rgb.r, rgb.g, rgb.b);\n    const delta = max - min;\n    hsb.x = max;\n    hsb.s = max !== 0 ? 255 * delta / max : 0;\n    if (hsb.s !== 0) {\n      if (rgb.r === max) hsb.h = (rgb.g - rgb.b) / delta;\n      else if (rgb.g === max) hsb.h = 2 + (rgb.b - rgb.r) / delta;\n      else hsb.h = 4 + (rgb.r - rgb.g) / delta;\n    } else hsb.h = -1;\n    hsb.h *= 60;\n    if (hsb.h < 0) hsb.h += 360;\n    hsb.s *= 100 / 255;\n    hsb.x *= 100 / 255;\n    return hsb;\n  }\n\n  static hsbToRgb(hsb) {\n    const rgb = {};\n    let { h } = hsb;\n    const s = hsb.s * 255 / 100;\n    const v = hsb.x * 255 / 100;\n    if (s === 0) {\n      rgb.r = v;\n      rgb.g = v;\n      rgb.b = v;\n    } else {\n      const t1 = v;\n      const t2 = (255 - s) * v / 255;\n      const t3 = (t1 - t2) * (h % 60) / 60;\n      if (h === 360) h = 0;\n      if (h < 60) {\n        rgb.r = t1;\n        rgb.b = t2;\n        rgb.g = t2 + t3;\n      } else if (h < 120) {\n        rgb.g = t1;\n        rgb.b = t2;\n        rgb.r = t1 - t3;\n      } else if (h < 180) {\n        rgb.g = t1;\n        rgb.r = t2;\n        rgb.b = t2 + t3;\n      } else if (h < 240) {\n        rgb.b = t1;\n        rgb.r = t2;\n        rgb.g = t1 - t3;\n      } else if (h < 300) {\n        rgb.b = t1;\n        rgb.g = t2;\n        rgb.r = t2 + t3;\n      } else if (h < 360) {\n        rgb.r = t1;\n        rgb.g = t2;\n        rgb.b = t1 - t3;\n      } else {\n        rgb.r = 0;\n        rgb.g = 0;\n        rgb.b = 0;\n      }\n    }\n    return { r: Math.round(rgb.r), g: Math.round(rgb.g), b: Math.round(rgb.b) };\n  }\n\n  static rgbToHex(rgb) {\n    const hex = [\n      rgb.r.toString(16),\n      rgb.g.toString(16),\n      rgb.b.toString(16),\n    ];\n    hex.forEach((val, nr) => {\n      if (val.length === 1) {\n        hex[nr] = `0${val}`;\n      }\n    });\n    return hex.join('');\n  }\n\n  static hsbToHex(hsb) {\n    return this.rgbToHex(this.hsbToRgb(hsb));\n  }\n\n  static isRgb(rgb) {\n    return rgb.startsWith('rgb');\n  }\n\n  static isHex(hex) {\n    return hex.startsWith('#');\n  }\n\n  static parseRgb(rgb) {\n    const rxp = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/;\n    const result = rgb.match(rxp);\n    return {\n      r: result[1],\n      g: result[2],\n      b: result[3],\n    };\n  }\n\n  static isDark(rgb) {\n    if (Utils.isBlank(rgb)) {\n      return false;\n    }\n    if (this.isHex(rgb)) {\n      const v = ColorPicker.hexToRgb(rgb);\n      // eslint-disable-next-line no-param-reassign\n      rgb = `rgb(${v.r}, ${v.g}, ${v.b})`;\n    }\n    const result = ColorPicker.parseRgb(rgb);\n    return result.r * 0.299 + result.g * 0.578 + result.b * 0.114 >= 192;\n  }\n}\n\nexport { ColorPicker };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { Utils } from '../../../utils/Utils';\nimport { Icon } from '../../../core/work/tools/Icon';\nimport { ColorPicker } from '../ColorPicker';\n\nclass ColorItem extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-color-array-item`);\n    this.options = Utils.mergeDeep({\n      color: null,\n      icon: null,\n    }, options);\n    this.color = this.options.color;\n    this.icon = this.options.icon;\n    if (this.color) {\n      this.css('backgroundColor', this.color);\n      if (ColorPicker.isDark(this.options.color)) {\n        this.checkedIcon = new Icon('checked-dark');\n        this.children(this.checkedIcon);\n      } else {\n        this.checkedIcon = new Icon('checked-light');\n        this.children(this.checkedIcon);\n      }\n      this.checkedIcon.hide();\n    }\n    if (this.icon) {\n      this.children(this.options.icon);\n    }\n  }\n\n  setActive(active) {\n    if (this.checkedIcon) {\n      if (active) {\n        this.checkedIcon.show();\n      } else {\n        this.checkedIcon.hide();\n      }\n    }\n  }\n}\n\nexport { ColorItem };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix, Constant } from '../../../constant/Constant';\nimport { ColorItem } from './ColorItem';\nimport { Utils } from '../../../utils/Utils';\n\n\nclass ColorArray extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-color-array`);\n    this.options = Utils.mergeDeep({\n      colors: [\n        new ColorItem({ color: 'rgb(0,0,0)' }),\n        new ColorItem({ color: 'rgb(67, 67, 67)' }),\n        new ColorItem({ color: 'rgb(102, 102, 102)' }),\n        new ColorItem({ color: 'rgb(153, 153, 153)' }),\n        new ColorItem({ color: 'rgb(183, 183, 183)' }),\n        new ColorItem({ color: 'rgb(204, 204, 204)' }),\n        new ColorItem({ color: 'rgb(217, 217, 217)' }),\n        new ColorItem({ color: 'rgb(239, 239, 239)' }),\n        new ColorItem({ color: 'rgb(255, 255, 255)' }),\n\n        new ColorItem({ color: 'rgb(152, 0, 0)' }),\n        new ColorItem({ color: 'rgb(255, 0, 0)' }),\n        new ColorItem({ color: 'rgb(255, 153, 0)' }),\n        new ColorItem({ color: 'rgb(255, 255, 0)' }),\n        new ColorItem({ color: 'rgb(0, 255, 0)' }),\n        new ColorItem({ color: 'rgb(0, 255, 255)' }),\n        new ColorItem({ color: 'rgb(74, 134, 232)' }),\n        new ColorItem({ color: 'rgb(0, 0, 255)' }),\n        new ColorItem({ color: 'rgb(153, 0, 255)' }),\n        new ColorItem({ color: 'rgb(255, 0, 255)' }),\n\n        new ColorItem({ color: 'rgb(230, 184, 175)' }),\n        new ColorItem({ color: 'rgb(244, 204, 204)' }),\n        new ColorItem({ color: 'rgb(252, 229, 205)' }),\n        new ColorItem({ color: 'rgb(255, 242, 204)' }),\n        new ColorItem({ color: 'rgb(217, 234, 211)' }),\n        new ColorItem({ color: 'rgb(208, 224, 227)' }),\n        new ColorItem({ color: 'rgb(201, 218, 248)' }),\n        new ColorItem({ color: 'rgb(207, 226, 243)' }),\n        new ColorItem({ color: 'rgb(217, 210, 233)' }),\n        new ColorItem({ color: 'rgb(234, 209, 220)' }),\n\n        new ColorItem({ color: 'rgb(221, 126, 107)' }),\n        new ColorItem({ color: 'rgb(234, 153, 153)' }),\n        new ColorItem({ color: 'rgb(249, 203, 156)' }),\n        new ColorItem({ color: 'rgb(255, 229, 153)' }),\n        new ColorItem({ color: 'rgb(182, 215, 168)' }),\n        new ColorItem({ color: 'rgb(162, 196, 201)' }),\n        new ColorItem({ color: 'rgb(164, 194, 244)' }),\n        new ColorItem({ color: 'rgb(159, 197, 232)' }),\n        new ColorItem({ color: 'rgb(180, 167, 214)' }),\n        new ColorItem({ color: 'rgb(213, 166, 189)' }),\n\n        new ColorItem({ color: 'rgb(204, 65, 37)' }),\n        new ColorItem({ color: 'rgb(224, 102, 102)' }),\n        new ColorItem({ color: 'rgb(246, 178, 107)' }),\n        new ColorItem({ color: 'rgb(255, 217, 102)' }),\n        new ColorItem({ color: 'rgb(147, 196, 125)' }),\n        new ColorItem({ color: 'rgb(118, 165, 175)' }),\n        new ColorItem({ color: 'rgb(109, 158, 235)' }),\n        new ColorItem({ color: 'rgb(111, 168, 220)' }),\n        new ColorItem({ color: 'rgb(142, 124, 195)' }),\n        new ColorItem({ color: 'rgb(194, 123, 160)' }),\n\n        new ColorItem({ color: 'rgb(166, 28, 0)' }),\n        new ColorItem({ color: 'rgb(204, 0, 0)' }),\n        new ColorItem({ color: 'rgb(230, 145, 56)' }),\n        new ColorItem({ color: 'rgb(241, 194, 50)' }),\n        new ColorItem({ color: 'rgb(106, 168, 79)' }),\n        new ColorItem({ color: 'rgb(69, 129, 142)' }),\n        new ColorItem({ color: 'rgb(60, 120, 216)' }),\n        new ColorItem({ color: 'rgb(61, 133, 198)' }),\n        new ColorItem({ color: 'rgb(103, 78, 167)' }),\n        new ColorItem({ color: 'rgb(166, 77, 121)' }),\n\n        new ColorItem({ color: 'rgb(133, 32, 12)' }),\n        new ColorItem({ color: 'rgb(153, 0, 0)' }),\n        new ColorItem({ color: 'rgb(180, 95, 6)' }),\n        new ColorItem({ color: 'rgb(191, 144, 0)' }),\n        new ColorItem({ color: 'rgb(56, 118, 29)' }),\n        new ColorItem({ color: 'rgb(19, 79, 92)' }),\n        new ColorItem({ color: 'rgb(17, 85, 204)' }),\n        new ColorItem({ color: 'rgb(11, 83, 148)' }),\n        new ColorItem({ color: 'rgb(53, 28, 117)' }),\n        new ColorItem({ color: 'rgb(116, 27, 71)' }),\n\n        new ColorItem({ color: 'rgb(91, 15, 0)' }),\n        new ColorItem({ color: 'rgb(102, 0, 0)' }),\n        new ColorItem({ color: 'rgb(120, 63, 4)' }),\n        new ColorItem({ color: 'rgb(127, 96, 0)' }),\n        new ColorItem({ color: 'rgb(39, 78, 19)' }),\n        new ColorItem({ color: 'rgb(12, 52, 61)' }),\n        new ColorItem({ color: 'rgb(28, 69, 135)' }),\n        new ColorItem({ color: 'rgb(7, 55, 99)' }),\n        new ColorItem({ color: 'rgb(32, 18, 77)' }),\n        new ColorItem({ color: 'rgb(76, 17, 48)' }),\n      ],\n      selectCb: () => {},\n    }, options);\n    this.colors = this.options.colors;\n    this.activeColor = null;\n    this.colors.forEach((item) => {\n      this.children(item);\n      item.on(Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n        this.options.selectCb(item);\n        if (item.options.color) {\n          this.setActiveByColor(item.options.color);\n        }\n      });\n    });\n    if (this.colors.length > 0) {\n      this.setActiveByColor(this.colors[0].options.color);\n    }\n  }\n\n  add(item) {\n    item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.selectCb(item);\n      if (item.options.color) {\n        this.setActiveByColor(item.options.color);\n      }\n    });\n    this.colors.push(item);\n    this.children(item);\n  }\n\n  setActiveByColor(color) {\n    this.colors.forEach((item) => {\n      const { options } = item;\n      if (options.color === color) {\n        item.setActive(true);\n        this.activeColor = options.color;\n      } else {\n        item.setActive(false);\n      }\n    });\n  }\n}\n\nexport { ColorArray };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix, Constant } from '../../../../../constant/Constant';\nimport { FontColorContextMenuItem } from './FontColorContextMenuItem';\nimport { ColorArray } from '../../../../../component/colorpicker/colorarray/ColorArray';\nimport { h } from '../../../../../lib/Element';\nimport { ColorItem } from '../../../../../component/colorpicker/colorarray/ColorItem';\nimport { ELContextMenuDivider } from '../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { Icon } from '../../Icon';\nimport { Utils } from '../../../../../utils/Utils';\n\nimport { ColorPicker } from '../../../../../component/colorpicker/ColorPicker';\n\nclass FontColorContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-color-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.colorPicker = new ColorPicker({\n      selectCb: (color) => {\n        const item = new ColorItem({ color });\n        this.customizeColorArray.add(item);\n        this.customizeColorArray.setActiveByColor(color);\n        this.colorArray.setActiveByColor(null);\n        this.options.onUpdate(color);\n        this.close();\n      },\n    });\n    // 重置\n    this.reset = new FontColorContextMenuItem('重置', new Icon('clear-color'));\n    this.reset.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.onUpdate('rgb(0,0,0)');\n      this.customizeColorArray.setActiveByColor(null);\n      this.colorArray.setActiveByColor(null);\n    });\n    // 颜色筛选\n    this.array = new FontColorContextMenuItem();\n    this.array.removeClass('hover');\n    this.colorArray = new ColorArray({\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) this.options.onUpdate(color);\n        this.customizeColorArray.setActiveByColor(null);\n        this.close();\n      },\n    });\n    this.array.children(this.colorArray);\n    // 历史选中\n    this.title = h('div', `${cssPrefix}-font-color-context-menu-color-title`);\n    this.title.text('自定义');\n    this.plus = new Icon('plus');\n    this.customizeColorArray = new ColorArray({\n      colors: [\n        new ColorItem({ icon: this.plus }),\n      ],\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) {\n          this.options.onUpdate(color);\n          this.colorArray.setActiveByColor(null);\n          this.close();\n        } else {\n          this.colorPicker.open(this.customizeColorArray.activeColor);\n        }\n      },\n    });\n    this.customize = new FontColorContextMenuItem();\n    this.customize.removeClass('hover');\n    this.customize.children(this.title);\n    this.customize.children(this.customizeColorArray);\n    // 菜单元素追加子节点\n    this.addItem(this.reset);\n    this.addItem(this.array);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.customize);\n  }\n\n  setActiveByColor(color) {\n    this.customizeColorArray.setActiveByColor(color);\n    this.colorArray.setActiveByColor(color);\n  }\n}\n\nexport { FontColorContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { FontColorContextMenu } from './contextmenu/fontcolor/FontColorContextMenu';\n\nclass FontColor extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-font-color`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('color');\n    this.fontColorContextMenu = new FontColorContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n    this.setIcon(this.icon);\n    this.setColor('rgb(0,0,0)');\n    this.fontColorContextMenu.setActiveByColor('rgb(0,0,0)');\n  }\n\n  setColor(color) {\n    this.icon.css('border-bottom', `3px solid ${color}`);\n  }\n}\n\nexport { FontColor };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../constant/Constant';\nimport { h } from '../../../../../lib/Element';\n\nclass FillColorContextMenuItem extends ELContextMenuItem {\n  constructor(title, icon) {\n    super(`${cssPrefix}-fill-color-context-menu-item`);\n    this.title = title;\n    this.icon = icon;\n    if (icon) {\n      this.iconElement = h('div', `${cssPrefix}-fill-color-context-menu-item-icon`);\n      this.iconElement.children(this.icon);\n      this.children(this.iconElement);\n    }\n    if (title) {\n      this.titleElement = h('div', `${cssPrefix}-fill-color-context-menu-item-title`);\n      this.titleElement.text(title);\n      this.children(this.titleElement);\n    }\n  }\n}\n\nexport { FillColorContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix, Constant } from '../../../../../constant/Constant';\nimport { ColorArray } from '../../../../../component/colorpicker/colorarray/ColorArray';\nimport { h } from '../../../../../lib/Element';\nimport { ColorItem } from '../../../../../component/colorpicker/colorarray/ColorItem';\nimport { ELContextMenuDivider } from '../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { Icon } from '../../Icon';\nimport { Utils } from '../../../../../utils/Utils';\n\nimport { FillColorContextMenuItem } from './FillColorContextMenuItem';\nimport { ColorPicker } from '../../../../../component/colorpicker/ColorPicker';\n\nclass FillColorContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-font-color-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.colorPicker = new ColorPicker({\n      selectCb: (color) => {\n        const item = new ColorItem({ color });\n        this.customizeColorArray.add(item);\n        this.customizeColorArray.setActiveByColor(color);\n        this.colorArray.setActiveByColor(null);\n        this.options.onUpdate(color);\n        this.close();\n      },\n    });\n    // 重置\n    this.reset = new FillColorContextMenuItem('重置', new Icon('clear-color'));\n    this.reset.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.onUpdate(null);\n      this.customizeColorArray.setActiveByColor(null);\n      this.colorArray.setActiveByColor(null);\n    });\n    // 颜色筛选\n    this.array = new FillColorContextMenuItem();\n    this.array.removeClass('hover');\n    this.colorArray = new ColorArray({\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) this.options.onUpdate(color);\n        this.customizeColorArray.setActiveByColor(null);\n        this.close();\n      },\n    });\n    this.array.children(this.colorArray);\n    // 历史选中\n    this.title = h('div', `${cssPrefix}-font-color-context-menu-color-title`);\n    this.title.text('自定义');\n    this.plus = new Icon('plus');\n    this.customizeColorArray = new ColorArray({\n      colors: [\n        new ColorItem({ icon: this.plus }),\n      ],\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) {\n          this.options.onUpdate(color);\n          this.colorArray.setActiveByColor(null);\n          this.close();\n        } else {\n          this.colorPicker.open(this.customizeColorArray.activeColor);\n        }\n      },\n    });\n    this.customize = new FillColorContextMenuItem();\n    this.customize.removeClass('hover');\n    this.customize.children(this.title);\n    this.customize.children(this.customizeColorArray);\n    // 菜单元素追加子节点\n    this.addItem(this.reset);\n    this.addItem(this.array);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.customize);\n  }\n\n  setActiveByColor(color) {\n    this.customizeColorArray.setActiveByColor(color);\n    this.colorArray.setActiveByColor(color);\n  }\n}\n\nexport { FillColorContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { FillColorContextMenu } from './contextmenu/fillcolor/FillColorContextMenu';\n\nclass FillColor extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-fill-color`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('fill-color');\n    this.fillColorContextMenu = new FillColorContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n    this.setIcon(this.icon);\n    this.setColor('rgb(255, 255, 255)');\n    this.fillColorContextMenu.setActiveByColor('rgb(255, 255, 255)');\n  }\n\n  setColor(color) {\n    this.icon.css('border-bottom', `3px solid ${color}`);\n  }\n}\n\nexport { FillColor };\n","import { ELContextMenuItem } from '../../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../../constant/Constant';\n\nclass BorderTypeContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-border-type-context-menu-item`);\n  }\n}\n\nexport { BorderTypeContextMenuItem };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border1`);\n    this.icon = new Icon('border1');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon1 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border2`);\n    this.icon = new Icon('border2');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon2 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border3`);\n    this.icon = new Icon('border3');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon3 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon4 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border4`);\n    this.icon = new Icon('border4');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon4 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon5 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border5`);\n    this.icon = new Icon('border5');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon5 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon6 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border6`);\n    this.icon = new Icon('border6');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon6 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon7 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border7`);\n    this.icon = new Icon('border7');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon7 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon8 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border8`);\n    this.icon = new Icon('border8');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon8 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon9 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border9`);\n    this.icon = new Icon('border9');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon9 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass BorderIcon10 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-border10`);\n    this.icon = new Icon('border10');\n    this.children(this.icon);\n  }\n}\n\nexport { BorderIcon10 };\n","import { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\nimport { DropDownItem } from '../../../base/DropDownItem';\n\nclass BorderColor extends DropDownItem {\n  constructor() {\n    super(`${cssPrefix}-tools-border-color`);\n    this.icon = new Icon('border-color');\n    this.setIcon(this.icon);\n    this.setColor('#000000');\n  }\n\n  setColor(color) {\n    this.icon.css('border-bottom', `3px solid ${color}`);\n  }\n}\n\nexport { BorderColor };\n","import { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\nimport { DropDownItem } from '../../../base/DropDownItem';\n\nclass BorderType extends DropDownItem {\n  constructor() {\n    super(`${cssPrefix}-tools-border-type`);\n    this.icon = new Icon('border-type');\n    this.setIcon(this.icon);\n  }\n}\n\nexport { BorderType };\n","import { ELContextMenuItem } from '../../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { h } from '../../../../../../lib/Element';\n\nclass BorderColorContextMenuItem extends ELContextMenuItem {\n  constructor(title, icon) {\n    super(`${cssPrefix}-border-color-context-menu-item`);\n    this.title = title;\n    this.icon = icon;\n    if (icon) {\n      this.iconElement = h('div', `${cssPrefix}-border-color-context-menu-item-icon`);\n      this.iconElement.children(this.icon);\n      this.children(this.iconElement);\n    }\n    if (title) {\n      this.titleElement = h('div', `${cssPrefix}-border-color-context-menu-item-title`);\n      this.titleElement.text(title);\n      this.children(this.titleElement);\n    }\n  }\n}\n\nexport { BorderColorContextMenuItem };\n","import { ELContextMenu } from '../../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix, Constant } from '../../../../../../constant/Constant';\nimport { Utils } from '../../../../../../utils/Utils';\nimport { ColorPicker } from '../../../../../../component/colorpicker/ColorPicker';\nimport { ColorItem } from '../../../../../../component/colorpicker/colorarray/ColorItem';\nimport { Icon } from '../../../Icon';\nimport { ColorArray } from '../../../../../../component/colorpicker/colorarray/ColorArray';\nimport { ELContextMenuDivider } from '../../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { BorderColorContextMenuItem } from './BorderColorContextMenuItem';\nimport { h } from '../../../../../../lib/Element';\n\nclass BorderColorContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-border-color-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.colorPicker = new ColorPicker({\n      selectCb: (color) => {\n        const item = new ColorItem({ color });\n        this.customizeColorArray.add(item);\n        this.customizeColorArray.setActiveByColor(color);\n        this.colorArray.setActiveByColor(null);\n        this.options.onUpdate(color);\n        this.close();\n      },\n    });\n    // 重置\n    this.reset = new BorderColorContextMenuItem('重置', new Icon('clear-color'));\n    this.reset.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.options.onUpdate('rgb(0,0,0)');\n      this.customizeColorArray.setActiveByColor(null);\n      this.colorArray.setActiveByColor(null);\n    });\n    // 颜色筛选\n    this.array = new BorderColorContextMenuItem();\n    this.array.removeClass('hover');\n    this.colorArray = new ColorArray({\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) this.options.onUpdate(color);\n        this.customizeColorArray.setActiveByColor(null);\n        this.close();\n      },\n    });\n    this.array.children(this.colorArray);\n    // 历史选中\n    this.title = h('div', `${cssPrefix}-border-color-context-menu-color-title`);\n    this.title.text('自定义');\n    this.plus = new Icon('plus');\n    this.customizeColorArray = new ColorArray({\n      colors: [\n        new ColorItem({ icon: this.plus }),\n      ],\n      selectCb: (item) => {\n        const { color } = item.options;\n        if (color) {\n          this.options.onUpdate(color);\n          this.colorArray.setActiveByColor(null);\n          this.close();\n        } else {\n          this.colorPicker.open(this.customizeColorArray.activeColor);\n        }\n      },\n    });\n    this.customize = new BorderColorContextMenuItem();\n    this.customize.removeClass('hover');\n    this.customize.children(this.title);\n    this.customize.children(this.customizeColorArray);\n    // 菜单元素追加子节点\n    this.addItem(this.reset);\n    this.addItem(this.array);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.customize);\n  }\n\n  setActiveByColor(color) {\n    this.customizeColorArray.setActiveByColor(color);\n    this.colorArray.setActiveByColor(color);\n  }\n}\n\nexport { BorderColorContextMenu };\n","import { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\nimport { h } from '../../../../../../lib/Element';\nimport { ELContextMenuItem } from '../../../../../../component/elcontextmenu/ELContextMenuItem';\n\nconst pool = [];\n\nclass LineTypeContextMenuItem extends ELContextMenuItem {\n  constructor(type) {\n    super(`${cssPrefix}-font-context-menu-item`);\n    this.type = type;\n    this.icon = new Icon('checked');\n    this.typeIcon = new Icon(type);\n    this.typeIcon.setWidth(50);\n    this.iconElement = h('div', `${cssPrefix}-font-context-menu-item-icon`);\n    this.titleElement = h('div', `${cssPrefix}-font-context-menu-item-title`);\n    this.iconElement.children(this.icon);\n    this.titleElement.children(this.typeIcon);\n    this.children(this.iconElement);\n    this.children(this.titleElement);\n    pool.push(this);\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.titleElement.text(title);\n  }\n\n  setActive() {\n    pool.forEach((item) => {\n      item.removeClass('active');\n    });\n    this.addClass('active');\n  }\n}\n\nexport { LineTypeContextMenuItem };\n","import { ELContextMenu } from '../../../../../../component/elcontextmenu/ELContextMenu';\nimport { Utils } from '../../../../../../utils/Utils';\nimport { cssPrefix, Constant } from '../../../../../../constant/Constant';\nimport { LineTypeContextMenuItem } from './LineTypeContextMenuItem';\n\n\nclass LineTypeContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-line-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.items = [\n      new LineTypeContextMenuItem('line1'),\n      new LineTypeContextMenuItem('line2'),\n      new LineTypeContextMenuItem('line3'),\n      new LineTypeContextMenuItem('line4'),\n      new LineTypeContextMenuItem('line5'),\n      new LineTypeContextMenuItem('line6'),\n    ];\n    this.items.forEach((item) => {\n      item.on(Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n        this.update(item.type);\n        item.setActive();\n      });\n      this.addItem(item);\n    });\n    this.setActiveByType(this.items[0].type);\n  }\n\n  update(type) {\n    const { options } = this;\n    options.onUpdate(type);\n    this.close();\n  }\n\n  setActiveByType(type) {\n    this.items.forEach((item) => {\n      if (item.type === type) {\n        item.setActive();\n      }\n    });\n  }\n}\n\nexport { LineTypeContextMenu };\n","import { Utils } from '../utils/Utils';\n\nconst LINE_TYPE = {\n  SOLID_LINE: 0,\n  DOTTED_LINE: 1,\n  POINT_LINE: 2,\n  DOUBLE_LINE: 3,\n};\n\nclass SolidLine {\n\n  constructor(draw, attr) {\n    this.draw = draw;\n    Utils.mergeDeep(this, {\n      color: '#000000',\n      width: 1,\n    }, attr);\n  }\n\n  drawLine(sx, sy, ex, ey) {\n    const { draw } = this;\n    const { width, color } = this;\n    draw.beginPath();\n    draw.attr({\n      lineWidth: width,\n      strokeStyle: color,\n    });\n    draw.setLineDash([]);\n    draw.line([sx, sy], [ex, ey]);\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n}\n\nclass DottedLine {\n\n  constructor(draw, attr) {\n    this.draw = draw;\n    Utils.mergeDeep(this, {\n      color: '#000000',\n      width: 1,\n      dash: [5],\n    }, attr);\n  }\n\n  drawLine(sx, sy, ex, ey) {\n    const { draw, dash } = this;\n    const { width, color } = this;\n    draw.beginPath();\n    draw.attr({\n      lineWidth: width,\n      strokeStyle: color,\n    });\n    draw.setLineDash(dash);\n    draw.line([sx, sy], [ex, ey]);\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n}\n\nclass DoubleLine {\n\n  constructor(draw, attr) {\n    this.draw = draw;\n    Utils.mergeDeep(this, {\n      color: '#000000',\n      width: 1,\n      padding: 1,\n      spacing: 1.5,\n      leftShow: () => false,\n      topShow: () => false,\n      rightShow: () => false,\n      bottomShow: () => false,\n      iFMerge: () => false,\n      iFMergeFirstRow: () => false,\n      iFMergeLastRow: () => false,\n      iFMergeFirstCol: () => false,\n      iFMergeLastCol: () => false,\n    }, attr);\n  }\n\n  handleExternal(sx, sy, ex, ey, row, col, pos) {\n    const external = {};\n    const { leftShow, topShow, rightShow, bottomShow } = this;\n    const { iFMerge, iFMergeFirstRow, iFMergeLastRow, iFMergeFirstCol, iFMergeLastCol } = this;\n    const { spacing } = this;\n    let ifMerge = null;\n    let firstRow = null;\n    let lastRow = null;\n    let firstCol = null;\n    let lastCol = null;\n    switch (pos) {\n      case 'left':\n        ifMerge = iFMerge(row, col - 1);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row, col - 1);\n          lastRow = iFMergeLastRow(row, col - 1);\n          firstCol = iFMergeFirstCol(row, col - 1);\n          lastCol = iFMergeLastCol(row, col - 1);\n        }\n        break;\n      case 'top':\n        ifMerge = iFMerge(row - 1, col);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row - 1, col);\n          lastRow = iFMergeLastRow(row - 1, col);\n          firstCol = iFMergeFirstCol(row - 1, col);\n          lastCol = iFMergeLastCol(row - 1, col);\n        }\n        break;\n      case 'right':\n        ifMerge = iFMerge(row, col + 1);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row, col + 1);\n          lastRow = iFMergeLastRow(row, col + 1);\n          firstCol = iFMergeFirstCol(row, col + 1);\n          lastCol = iFMergeLastCol(row, col + 1);\n        }\n        break;\n      case 'bottom':\n        ifMerge = iFMerge(row + 1, col);\n        if (ifMerge) {\n          firstRow = iFMergeFirstRow(row + 1, col);\n          lastRow = iFMergeLastRow(row + 1, col);\n          firstCol = iFMergeFirstCol(row + 1, col);\n          lastCol = iFMergeLastCol(row + 1, col);\n        }\n        break;\n      default: break;\n    }\n    if (ifMerge) {\n      switch (pos) {\n        case 'left': {\n          external.sx = sx - spacing;\n          external.ex = ex - spacing;\n          // 检查顶边和上底边及左上角底边及左顶边\n          const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          external.sy = sy;\n          if (sTop || sBottom) external.sy = sy - spacing;\n          if (sTopLeftCorner && firstRow) external.sy = sy + spacing;\n          // 检查底边和下顶边及左下角顶边和左底边\n          const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          external.ey = ey;\n          if (eBottom || eTop) external.ey = ey + spacing;\n          if (eBottomLeftCorner && lastRow) external.ey = ey - spacing;\n          break;\n        }\n        case 'top': {\n          external.sy = sy - spacing;\n          external.ey = ey - spacing;\n          // 检查左边和左右边及左上角右边及上左边\n          const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          external.sx = sx;\n          if (sLeft || sRight) external.sx = sx - spacing;\n          if (sTopLeftCorner && firstCol) external.sx = sx + spacing;\n          // 检查右边和右左边及右上角左边及上右边\n          const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          external.ex = ex;\n          if (eRight || eLeft) external.ex = ex + spacing;\n          if (eTopRightCorner && lastCol) external.ex = ex - spacing;\n          break;\n        }\n        case 'right': {\n          external.sx = sx + spacing;\n          external.ex = ex + spacing;\n          // 检查顶边和上底边及右上角底边及右顶边\n          const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          external.sy = sy;\n          if (sTop || sBottom) external.sy = sy - spacing;\n          if (sTopRightCorner && firstRow) external.sy = sy + spacing;\n          // 检查底边和下顶边及右下角顶边及右底边\n          const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          external.ey = ey;\n          if (eBottom || eTop) external.ey = ey + spacing;\n          if (eBottomRightCorner && lastRow) external.ey = ey - spacing;\n          break;\n        }\n        case 'bottom': {\n          external.sy = sy + spacing;\n          external.ey = ey + spacing;\n          // 检查左边和左右边及左下角右边及下左边\n          const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          external.sx = sx;\n          if (sLeft || sRight) external.sx = sx - spacing;\n          if (sBottomLeftCorner && firstCol) external.sx = sx + spacing;\n          // 检查右边和右左边及右下角左边及下右边\n          const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          external.ex = ex;\n          if (eRight || eLeft) external.ex = ex + spacing;\n          if (eBottomRightCorner && lastCol) external.ex = ex - spacing;\n          break;\n        }\n        default: break;\n      }\n      return external;\n    }\n    switch (pos) {\n      case 'left': {\n        external.sx = sx - spacing;\n        external.ex = ex - spacing;\n        // 检查顶边和上底边及左上角底边及左顶边\n        const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        external.sy = sy;\n        if (sTop || sBottom) external.sy = sy - spacing;\n        if (sTopLeftCorner) external.sy = sy + spacing;\n        // 检查底边和下顶边及左下角顶边和左底边\n        const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        external.ey = ey;\n        if (eBottom || eTop) external.ey = ey + spacing;\n        if (eBottomLeftCorner) external.ey = ey - spacing;\n        break;\n      }\n      case 'top': {\n        external.sy = sy - spacing;\n        external.ey = ey - spacing;\n        // 检查左边和左右边及左上角右边及上左边\n        const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        external.sx = sx;\n        if (sLeft || sRight) external.sx = sx - spacing;\n        if (sTopLeftCorner) external.sx = sx + spacing;\n        // 检查右边和右左边及右上角左边及上右边\n        const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        external.ex = ex;\n        if (eRight || eLeft) external.ex = ex + spacing;\n        if (eTopRightCorner) external.ex = ex - spacing;\n        break;\n      }\n      case 'right': {\n        external.sx = sx + spacing;\n        external.ex = ex + spacing;\n        // 检查顶边和上底边及右上角底边及右顶边\n        const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        external.sy = sy;\n        if (sTop || sBottom) external.sy = sy - spacing;\n        if (sTopRightCorner) external.sy = sy + spacing;\n        // 检查底边和下顶边及右下角顶边及右底边\n        const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        external.ey = ey;\n        if (eBottom || eTop) external.ey = ey + spacing;\n        if (eBottomRightCorner) external.ey = ey - spacing;\n        break;\n      }\n      case 'bottom': {\n        external.sy = sy + spacing;\n        external.ey = ey + spacing;\n        // 检查左边和左右边及左下角右边及下左边\n        const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        external.sx = sx;\n        if (sLeft || sRight) external.sx = sx - spacing;\n        if (sBottomLeftCorner) external.sx = sx + spacing;\n        // 检查右边和右左边及右下角左边及下右边\n        const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        external.ex = ex;\n        if (eRight || eLeft) external.ex = ex + spacing;\n        if (eBottomRightCorner) external.ex = ex - spacing;\n        break;\n      }\n      default: break;\n    }\n    return external;\n  }\n\n  handleInternal(sx, sy, ex, ey, row, col, pos) {\n    const internal = {};\n    const { leftShow, topShow, rightShow, bottomShow } = this;\n    const { iFMerge, iFMergeFirstRow, iFMergeLastRow, iFMergeFirstCol, iFMergeLastCol } = this;\n    const { spacing } = this;\n    const ifMerge = iFMerge(row, col);\n    // merge\n    if (ifMerge) {\n      const firstRow = iFMergeFirstRow(row, col);\n      const lastRow = iFMergeLastRow(row, col);\n      const firstCol = iFMergeFirstCol(row, col);\n      const lastCol = iFMergeLastCol(row, col);\n      switch (pos) {\n        case 'left': {\n          internal.sx = sx + spacing;\n          internal.ex = ex + spacing;\n          // 检查顶边和上底边及左上角底边及左顶边\n          const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          internal.sy = sy;\n          if (sTopLeftCorner) internal.sy = sy - spacing;\n          if ((sTop || sBottom) && firstRow) internal.sy = sy + spacing;\n          // 检查底边和下顶边及左下角顶边和左底边\n          const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          internal.ey = ey;\n          if (eBottomLeftCorner) internal.ey = ey + spacing;\n          if ((eBottom || eTop) && lastRow) internal.ey = ey - spacing;\n          break;\n        }\n        case 'top': {\n          internal.sy = sy + spacing;\n          internal.ey = ey + spacing;\n          // 检查左边和左右边及左上角右边及上左边\n          const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          internal.sx = sx;\n          if (sTopLeftCorner) internal.sx = sx - spacing;\n          if ((sLeft || sRight) && firstCol) internal.sx = sx + spacing;\n          // 检查右边和右左边及右上角左边及上右边\n          const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          internal.ex = ex;\n          if (eTopRightCorner) internal.ex = ex + spacing;\n          if ((eRight || eLeft) && lastCol) internal.ex = ex - spacing;\n          break;\n        }\n        case 'right': {\n          internal.sx = sx - spacing;\n          internal.ex = ex - spacing;\n          // 检查顶边和上底边及右上角底边及右上边\n          const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n          const sTop = topShow(row, col);\n          const sBottom = bottomShow(row - 1, col);\n          internal.sy = sy;\n          if (sTopRightCorner) internal.sy = sy - spacing;\n          if ((sTop || sBottom) && firstRow) internal.sy = sy + spacing;\n          // 检查底边和下顶边右下角顶边及右下边\n          const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n          const eBottom = bottomShow(row, col);\n          const eTop = topShow(row + 1, col);\n          internal.ey = ey;\n          if (eBottomRightCorner) internal.ey = ey + spacing;\n          if ((eBottom || eTop) && lastRow) internal.ey = ey - spacing;\n          break;\n        }\n        case 'bottom': {\n          internal.sy = sy - spacing;\n          internal.ey = ey - spacing;\n          // 检查左边和左右边及左下角右边及下左边\n          const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n          const sLeft = leftShow(row, col);\n          const sRight = rightShow(row, col - 1);\n          internal.sx = sx;\n          if (sBottomLeftCorner) internal.sx = sx - spacing;\n          if ((sLeft || sRight) && firstCol) internal.sx = sx + spacing;\n          // 检查右边和右左边及右下角左边及下右边\n          const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n          const eRight = rightShow(row, col);\n          const eLeft = leftShow(row, col + 1);\n          internal.ex = ex;\n          if (eBottomRightCorner) internal.ex = ex + spacing;\n          if ((eRight || eLeft) && lastCol) internal.ex = ex - spacing;\n          break;\n        }\n        default: break;\n      }\n      return internal;\n    }\n    switch (pos) {\n      case 'left': {\n        internal.sx = sx + spacing;\n        internal.ex = ex + spacing;\n        // 检查顶边和上底边及左上角底边及左顶边\n        const sTopLeftCorner = bottomShow(row - 1, col - 1) || topShow(row, col - 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        internal.sy = sy;\n        if (sTopLeftCorner) internal.sy = sy - spacing;\n        if (sTop || sBottom) internal.sy = sy + spacing;\n        // 检查底边和下顶边及左下角顶边和左底边\n        const eBottomLeftCorner = topShow(row + 1, col - 1) || bottomShow(row, col - 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        internal.ey = ey;\n        if (eBottomLeftCorner) internal.ey = ey + spacing;\n        if (eBottom || eTop) internal.ey = ey - spacing;\n        break;\n      }\n      case 'top': {\n        internal.sy = sy + spacing;\n        internal.ey = ey + spacing;\n        // 检查左边和左右边及左上角右边及上左边\n        const sTopLeftCorner = rightShow(row - 1, col - 1) || leftShow(row - 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        internal.sx = sx;\n        if (sTopLeftCorner) internal.sx = sx - spacing;\n        if (sLeft || sRight) internal.sx = sx + spacing;\n        // 检查右边和右左边及右上角左边及上右边\n        const eTopRightCorner = leftShow(row - 1, col + 1) || rightShow(row - 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        internal.ex = ex;\n        if (eTopRightCorner) internal.ex = ex + spacing;\n        if (eRight || eLeft) internal.ex = ex - spacing;\n        break;\n      }\n      case 'right': {\n        internal.sx = sx - spacing;\n        internal.ex = ex - spacing;\n        // 检查顶边和上底边及右上角底边及右上边\n        const sTopRightCorner = bottomShow(row - 1, col + 1) || topShow(row, col + 1);\n        const sTop = topShow(row, col);\n        const sBottom = bottomShow(row - 1, col);\n        internal.sy = sy;\n        if (sTopRightCorner) internal.sy = sy - spacing;\n        if (sTop || sBottom) internal.sy = sy + spacing;\n        // 检查底边和下顶边右下角顶边及右下边\n        const eBottomRightCorner = topShow(row + 1, col + 1) || bottomShow(row, col + 1);\n        const eBottom = bottomShow(row, col);\n        const eTop = topShow(row + 1, col);\n        internal.ey = ey;\n        if (eBottomRightCorner) internal.ey = ey + spacing;\n        if (eBottom || eTop) internal.ey = ey - spacing;\n        break;\n      }\n      case 'bottom': {\n        internal.sy = sy - spacing;\n        internal.ey = ey - spacing;\n        // 检查左边和左右边及左下角右边及下左边\n        const sBottomLeftCorner = rightShow(row + 1, col - 1) || leftShow(row + 1, col);\n        const sLeft = leftShow(row, col);\n        const sRight = rightShow(row, col - 1);\n        internal.sx = sx;\n        if (sBottomLeftCorner) internal.sx = sx - spacing;\n        if (sLeft || sRight) internal.sx = sx + spacing;\n        // 检查右边和右左边及右下角左边及下右边\n        const eBottomRightCorner = leftShow(row + 1, col + 1) || rightShow(row + 1, col);\n        const eRight = rightShow(row, col);\n        const eLeft = leftShow(row, col + 1);\n        internal.ex = ex;\n        if (eBottomRightCorner) internal.ex = ex + spacing;\n        if (eRight || eLeft) internal.ex = ex - spacing;\n        break;\n      }\n      default: break;\n    }\n    return internal;\n  }\n\n  drawLine(sx, sy, ex, ey, row, col, pos) {\n    const { draw } = this;\n    const { width, color } = this;\n    draw.beginPath();\n    draw.attr({\n      lineWidth: width,\n      strokeStyle: color,\n    });\n    draw.setLineDash([]);\n    const external = this.handleExternal(sx, sy, ex, ey, row, col, pos);\n    const internal = this.handleInternal(sx, sy, ex, ey, row, col, pos);\n    if (!Utils.isEmptyObject(internal)) {\n      draw.line([internal.sx, internal.sy], [internal.ex, internal.ey]);\n    }\n    if (!Utils.isEmptyObject(external)) {\n      draw.line([external.sx, external.sy], [external.ex, external.ey]);\n    }\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n}\n\nclass Line {\n\n  constructor(draw, attr = {}) {\n    this.type = LINE_TYPE.SOLID_LINE;\n    this.solidLine = new SolidLine(draw, Utils.mergeDeep({}, attr));\n    this.dottedLine = new DottedLine(draw, Utils.mergeDeep({\n      dash: [5],\n    }, attr));\n    this.pointLine = new DottedLine(draw, Utils.mergeDeep({\n      dash: [2, 2],\n    }, attr));\n    this.doubleLine = new DoubleLine(draw, Utils.mergeDeep({}, attr));\n  }\n\n  drawLine(sx, sy, ex, ey, row, col, pos) {\n    const {\n      type,\n      solidLine,\n      dottedLine,\n      pointLine,\n      doubleLine,\n    } = this;\n    switch (type) {\n      case LINE_TYPE.SOLID_LINE:\n        solidLine.drawLine(sx, sy, ex, ey);\n        break;\n      case LINE_TYPE.DOTTED_LINE:\n        dottedLine.drawLine(sx, sy, ex, ey);\n        break;\n      case LINE_TYPE.POINT_LINE:\n        pointLine.drawLine(sx, sy, ex, ey);\n        break;\n      case LINE_TYPE.DOUBLE_LINE:\n        doubleLine.drawLine(sx, sy, ex, ey, row, col, pos);\n        break;\n      default: break;\n    }\n  }\n\n  setType(type) {\n    this.type = type;\n  }\n\n  setWidth(width) {\n    if (width) {\n      if (this.type === LINE_TYPE.SOLID_LINE) {\n        this.solidLine.setWidth(width);\n      }\n    }\n  }\n\n  setColor(color) {\n    if (color) {\n      this.solidLine.setColor(color);\n      this.dottedLine.setColor(color);\n      this.pointLine.setColor(color);\n      this.doubleLine.setColor(color);\n    }\n  }\n}\n\nexport { Line, LINE_TYPE };\n","import { ELContextMenu } from '../../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix, Constant } from '../../../../../../constant/Constant';\nimport { Utils } from '../../../../../../utils/Utils';\nimport { BorderTypeContextMenuItem } from './BorderTypeContextMenuItem';\nimport { ELContextMenuDivider } from '../../../../../../component/elcontextmenu/ELContextMenuDivider';\nimport { h } from '../../../../../../lib/Element';\nimport { BorderIcon1 } from '../../icon/border/BorderIcon1';\nimport { BorderIcon2 } from '../../icon/border/BorderIcon2';\nimport { BorderIcon3 } from '../../icon/border/BorderIcon3';\nimport { BorderIcon4 } from '../../icon/border/BorderIcon4';\nimport { BorderIcon5 } from '../../icon/border/BorderIcon5';\nimport { BorderIcon6 } from '../../icon/border/BorderIcon6';\nimport { BorderIcon7 } from '../../icon/border/BorderIcon7';\nimport { BorderIcon8 } from '../../icon/border/BorderIcon8';\nimport { BorderIcon9 } from '../../icon/border/BorderIcon9';\nimport { BorderIcon10 } from '../../icon/border/BorderIcon10';\nimport { BorderColor } from '../../icon/border/BorderColor';\nimport { BorderType } from '../../icon/border/BorderType';\nimport { EventBind } from '../../../../../../utils/EventBind';\nimport { EL_POPUP_POSITION, ElPopUp } from '../../../../../../component/elpopup/ElPopUp';\nimport { BorderColorContextMenu } from '../bordercolor/BorderColorContextMenu';\nimport { LineTypeContextMenu } from '../linetype/LineTypeContextMenu';\nimport { LINE_TYPE } from '../../../../../../canvas/Line';\n\nclass BorderTypeContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-border-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.type = LINE_TYPE.SOLID_LINE;\n    this.color = '#000000';\n    // 边框样式\n    this.borderIcon1 = new BorderIcon1();\n    this.borderIcon2 = new BorderIcon2();\n    this.borderIcon3 = new BorderIcon3();\n    this.borderIcon4 = new BorderIcon4();\n    this.borderIcon5 = new BorderIcon5();\n    const div1 = h('div', `${cssPrefix}-border-type-context-menu-type-icon-line`);\n    div1.children(this.borderIcon1);\n    div1.children(this.borderIcon2);\n    div1.children(this.borderIcon3);\n    div1.children(this.borderIcon4);\n    div1.children(this.borderIcon5);\n    this.borderIcon6 = new BorderIcon6();\n    this.borderIcon7 = new BorderIcon7();\n    this.borderIcon8 = new BorderIcon8();\n    this.borderIcon9 = new BorderIcon9();\n    this.borderIcon10 = new BorderIcon10();\n    const div2 = h('div', `${cssPrefix}-border-type-context-menu-type-icon-line`);\n    div2.children(this.borderIcon6);\n    div2.children(this.borderIcon7);\n    div2.children(this.borderIcon8);\n    div2.children(this.borderIcon9);\n    div2.children(this.borderIcon10);\n    this.borderIcons = new BorderTypeContextMenuItem();\n    this.borderIcons.removeClass('hover');\n    this.borderIcons.children(div1);\n    this.borderIcons.children(div2);\n    // 子菜单\n    this.borderColor = new BorderColor();\n    this.borderType = new BorderType();\n    const div3 = h('div', `${cssPrefix}-border-type-context-menu-type-icon-line`);\n    div3.children(this.borderColor);\n    div3.children(this.borderType);\n    this.borderColorAndType = new BorderTypeContextMenuItem();\n    this.borderColorAndType.removeClass('hover');\n    this.borderColorAndType.children(div3);\n    // 追加子菜单\n    this.addItem(this.borderIcons);\n    this.addItem(new ELContextMenuDivider());\n    this.addItem(this.borderColorAndType);\n    // 边框颜色菜单\n    this.borderColorContextMenu = new BorderColorContextMenu(Utils.copyProp({\n      el: this.borderColor,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, {\n      onUpdate: (color) => {\n        this.color = color;\n        this.borderColor.setColor(color);\n      },\n    }));\n    // 边框类型\n    this.lineTypeContextMenu = new LineTypeContextMenu(Utils.copyProp({\n      el: this.borderType,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, {\n      onUpdate: (type) => {\n        this.type = type;\n      },\n    }));\n    // 添加事件\n    EventBind.bind(this.borderColor, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { borderColorContextMenu } = this;\n      const { elPopUp } = borderColorContextMenu;\n      ElPopUp.closeAll([elPopUp, this.elPopUp]);\n      if (borderColorContextMenu.isOpen()) {\n        borderColorContextMenu.open();\n      } else {\n        borderColorContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderType, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { lineTypeContextMenu } = this;\n      const { elPopUp } = lineTypeContextMenu;\n      ElPopUp.closeAll([elPopUp, this.elPopUp]);\n      if (lineTypeContextMenu.isOpen()) {\n        lineTypeContextMenu.open();\n      } else {\n        lineTypeContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border1', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border2', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border3', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon4, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border4', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon5, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border5', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon6, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border6', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon7, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border7', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon8, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border8', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon9, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border9', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.borderIcon10, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate('border10', this.color, this.type);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { BorderTypeContextMenu };\n","import { DropDownItem } from '../../../base/DropDownItem';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\nimport { BorderTypeContextMenu } from '../../border/bordertype/BorderTypeContextMenu';\nimport { Utils } from '../../../../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../../../../component/elpopup/ElPopUp';\n\nclass Border extends DropDownItem {\n  constructor(options) {\n    super(`${cssPrefix}-tools-border`);\n    this.options = Utils.copyProp({\n      contextMenu: {},\n    }, options);\n    this.icon = new Icon('border');\n    this.setIcon(this.icon);\n    this.borderTypeContextMenu = new BorderTypeContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\nexport { Border };\n","import { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Merge extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-merge`);\n    this.icon = new Icon('merge');\n    this.children(this.icon);\n  }\n}\n\nexport { Merge };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass HorizontalIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-horizontal1`);\n    this.icon = new Icon('align-left');\n    this.children(this.icon);\n  }\n}\n\nexport { HorizontalIcon1 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass HorizontalIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-horizontal2`);\n    this.icon = new Icon('align-center');\n    this.children(this.icon);\n  }\n}\n\nexport { HorizontalIcon2 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass HorizontalIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-horizontal3`);\n    this.icon = new Icon('align-right');\n    this.children(this.icon);\n  }\n}\n\nexport { HorizontalIcon3 };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../constant/Constant';\n\nclass HorizontalContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-horizontal-type-context-menu-item`);\n  }\n}\n\nexport { HorizontalContextMenuItem };\n","class Crop {\n  constructor({\n    rect, draw, offset = 0,\n  }) {\n    this.rect = rect;\n    this.draw = draw;\n    this.offset = offset;\n  }\n\n  open() {\n    const { rect, draw, offset } = this;\n    const {\n      x, y, width, height,\n    } = rect;\n    draw.save();\n    draw.rect(x, y, width + offset, height + offset);\n    draw.clip();\n    return this;\n  }\n\n  close() {\n    const { draw } = this;\n    draw.restore();\n    return this;\n  }\n}\n\nexport { Crop };\n","/* global window */\n\nfunction dpr() {\n  return window.devicePixelRatio || 1;\n}\n\nfunction npx(px) {\n  return Math.ceil(px * dpr());\n}\n\nfunction angleToRadian(angle) {\n  return -angle * (Math.PI / 180);\n}\n\nclass Draw {\n\n  constructor(el) {\n    this.el = el;\n    this.ctx = el.getContext('2d');\n    this.width = el.width;\n    this.height = el.height;\n    this.offsetX = 0;\n    this.offsetY = 0;\n  }\n\n  rotate(angle) {\n    const { ctx } = this;\n    ctx.rotate(angleToRadian(angle));\n    return this;\n  }\n\n  offset(offsetX = 0, offsetY = 0) {\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n  }\n\n  resize(width, height) {\n    const { el } = this;\n    this.width = width;\n    this.height = height;\n    el.style.width = `${width}px`;\n    el.style.height = `${height}px`;\n    el.width = npx(width);\n    el.height = npx(height);\n    return this;\n  }\n\n  clear() {\n    const { width, height } = this;\n    this.clearRect(0, 0, width, height);\n    return this;\n  }\n\n  attr(options) {\n    // eslint-disable-next-line guard-for-in,no-restricted-syntax\n    for (const key in options) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (options.hasOwnProperty(key)) {\n        let value = options[key];\n        if (typeof value === 'string' || value instanceof String) {\n          value = value.trim();\n        }\n        if (this.ctx[key] !== value) {\n          this.ctx[key] = value;\n        }\n      }\n    }\n    return this;\n  }\n\n  beginPath() {\n    this.ctx.beginPath();\n    return this;\n  }\n\n  save() {\n    const { ctx } = this;\n    ctx.save();\n    this.beginPath();\n    return this;\n  }\n\n  restore() {\n    const { ctx } = this;\n    ctx.restore();\n    return this;\n  }\n\n  clip() {\n    const { ctx } = this;\n    ctx.clip();\n    return this;\n  }\n\n  fill() {\n    this.ctx.fill();\n  }\n\n  setLineDash(dash) {\n    this.ctx.setLineDash(dash);\n  }\n\n  measureText(text) {\n    return this.ctx.measureText(text);\n  }\n\n  line(...xys) {\n    const { ctx } = this;\n    if (xys.length > 1) {\n      const [x, y] = xys[0];\n      this.moveTo(x, y);\n      for (let i = 1, len = xys.length; i < len; i += 1) {\n        const [x1, y1] = xys[i];\n        this.lineTo(x1, y1);\n      }\n      ctx.stroke();\n    }\n    return this;\n  }\n\n  clearRect(x, y, w, h) {\n    const { offsetX, offsetY } = this;\n    this.ctx.clearRect(npx(x + offsetX), npx(y + offsetY), npx(w), npx(h));\n    return this;\n  }\n\n  rect(x, y, w, h) {\n    const { offsetX, offsetY } = this;\n    this.ctx.rect(npx(x + offsetX), npx(y + offsetY), npx(w), npx(h));\n    return this;\n  }\n\n  fillRect(x, y, w, h) {\n    const { offsetX, offsetY } = this;\n    this.ctx.fillRect(npx(x + offsetX), npx(y + offsetY), npx(w), npx(h));\n    return this;\n  }\n\n  fillText(text, x, y) {\n    const { offsetX, offsetY } = this;\n    this.ctx.fillText(text, npx(x + offsetX), npx(y + offsetY));\n    return this;\n  }\n\n  moveTo(x, y) {\n    const { ctx } = this;\n    const { offsetX, offsetY } = this;\n    const even = ctx.lineWidth % 2 === 0;\n    const nx = even ? npx(x + offsetX) : npx(x + offsetX) + 0.5;\n    const ny = even ? npx(y + offsetY) : npx(y + offsetY) + 0.5;\n    ctx.moveTo(nx, ny);\n  }\n\n  lineTo(x, y) {\n    const { ctx } = this;\n    const { offsetX, offsetY } = this;\n    const even = ctx.lineWidth % 2 === 0;\n    const nx = even ? npx(x + offsetX) : npx(x + offsetX) + 0.5;\n    const ny = even ? npx(y + offsetY) : npx(y + offsetY) + 0.5;\n    ctx.lineTo(nx, ny);\n  }\n\n  drawImage(origin, sx, sy, sWidth, sHeight, x, y, width, height) {\n    const { offsetX, offsetY } = this;\n    this.ctx.drawImage(\n      origin,\n      npx(sx + offsetX),\n      npx(sy + offsetY),\n      npx(sWidth),\n      npx(sHeight),\n      npx(x + offsetX),\n      npx(y + offsetY),\n      npx(width),\n      npx(height),\n    );\n  }\n}\n\nexport {\n  Draw,\n  npx,\n  dpr,\n  angleToRadian,\n};\n","class Rect {\n  constructor({\n    x, y, width, height,\n  }) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n\n  expandSize(size) {\n    this.width += size;\n    this.height += size;\n    return this;\n  }\n\n  clone() {\n    const { x, y, width, height } = this;\n    return new Rect({ x, y, width, height });\n  }\n}\n\n\nexport { Rect };\n","import { Rect } from './Rect';\nimport { angleToRadian, npx } from './Draw';\n\nconst ANGLE_ORIGIN = {\n  TOP_LEFT: 'top-left',\n  TOP_CENTER: 'top-center',\n  TOP_RIGHT: 'top-right',\n  MIDDLE_LEFT: 'middle-left',\n  MIDDLE_CENTER: 'middle-center',\n  MIDDLE_RIGHT: 'middle-right',\n  BOTTOM_LEFT: 'bottom-left',\n  BOTTOM_CENTER: 'bottom-center',\n  BOTTOM_RIGHT: 'bottom-right',\n};\n\nclass DrawAngle {\n  constructor({\n    dw,\n    angle,\n    origin = ANGLE_ORIGIN.MIDDLE_CENTER,\n    rect = new Rect({ x: 0, y: 0, width: 0, height: 0 }),\n  }) {\n    this.dw = dw;\n    this.origin = origin;\n    this.rect = rect;\n    this.angle = angle;\n  }\n\n  rotate() {\n    const { origin, dw, rect, angle } = this;\n    const { x, y, width, height } = rect;\n    dw.save();\n    let tx = 0;\n    let ty = 0;\n    switch (origin) {\n      case ANGLE_ORIGIN.TOP_LEFT:\n        tx = x;\n        ty = y;\n        break;\n      case ANGLE_ORIGIN.TOP_CENTER:\n        tx = x + width / 2;\n        ty = y;\n        break;\n      case ANGLE_ORIGIN.TOP_RIGHT:\n        tx = x + width;\n        ty = y;\n        break;\n      case ANGLE_ORIGIN.MIDDLE_LEFT:\n        tx = x;\n        ty = y + height / 2;\n        break;\n      case ANGLE_ORIGIN.MIDDLE_CENTER:\n        tx = x + width / 2;\n        ty = y + height / 2;\n        break;\n      case ANGLE_ORIGIN.MIDDLE_RIGHT:\n        tx = x + width;\n        ty = y + height / 2;\n        break;\n      case ANGLE_ORIGIN.BOTTOM_LEFT:\n        tx = x;\n        ty = y + height;\n        break;\n      case ANGLE_ORIGIN.BOTTOM_CENTER:\n        tx = x + width / 2;\n        ty = y + height;\n        break;\n      case ANGLE_ORIGIN.BOTTOM_RIGHT:\n        tx = x + width;\n        ty = y + height;\n        break;\n      default: break;\n    }\n    dw.ctx.translate(npx(tx + dw.offsetX), npx(ty + dw.offsetY));\n    dw.rotate(angle);\n    dw.ctx.translate(-npx(tx + dw.offsetX), -npx(ty + dw.offsetY));\n    return this;\n  }\n\n  revert() {\n    const { dw } = this;\n    dw.restore();\n    return this;\n  }\n\n  static triangleHypotenuse(angle, width) {\n    const cos = Math.cos(angleToRadian(angle));\n    const sin = Math.sin(angleToRadian(angle));\n    return {\n      width: Math.abs(cos * width), height: Math.abs(sin * width),\n    };\n  }\n\n  setOrigin(origin) {\n    this.origin = origin;\n    return this;\n  }\n\n  setRect(rect) {\n    this.rect = rect;\n    return this;\n  }\n}\n\nclass TrigonometricFunction {\n  constructor({ angle, width, height }) {\n    this.angle = angle;\n    this.width = width;\n    this.height = height;\n  }\n\n  // 斜边 + sin 角度\n  sinWidthAngle() {\n    const { angle, width } = this;\n    return Math.abs(Math.sin(angleToRadian(angle)) * width);\n  }\n\n  // 斜边 + cos 角度\n  cosWidthAngle() {\n    const { angle, width } = this;\n    return Math.abs(Math.cos(angleToRadian(angle)) * width);\n  }\n\n  // 对边 + sin角度\n  sinHeightAngle() {\n    const { angle, height } = this;\n    return Math.abs(height / Math.sin(angleToRadian(angle)));\n  }\n\n  setWidth(width) {\n    this.width = width;\n  }\n\n  setHeight(height) {\n    this.height = height;\n  }\n\n  setAngle(angle) {\n    this.angle = angle;\n  }\n}\n\nexport { DrawAngle, TrigonometricFunction, ANGLE_ORIGIN };\n","import { Crop } from './Crop';\nimport { dpr, npx } from './Draw';\nimport { Utils } from '../utils/Utils';\nimport { DrawAngle, TrigonometricFunction } from './DrawAngle';\nimport { Rect } from './Rect';\n\n// 垂直文字间距\nconst VERTICAL_SPACING = 2;\n// 垂直文本行间距\nconst VERTICAL_LIEN_HEIGHT = 0;\n// 水平文本间距\nconst HORIZONTAL_LIEN_HEIGHT = 4;\n// 旋转文本间距\nconst ANGLE_LINE_HEIGHT = 4;\n// 内容填充\nconst PADDING = 8;\n\nconst ALIGN = {\n  left: 'left',\n  center: 'center',\n  right: 'right',\n};\nconst VERTICAL_ALIGN = {\n  top: 'top',\n  center: 'middle',\n  bottom: 'bottom',\n};\nconst TEXT_WRAP = {\n  OVER_FLOW: 1,\n  WORD_WRAP: 2,\n  TRUNCATE: 3,\n};\nconst TEXT_DIRECTION = {\n  HORIZONTAL: 'horizontal',\n  VERTICAL: 'vertical',\n  ANGLE: 'angle',\n};\n\n/**\n * 水平方向字体绘制\n */\nclass HorizontalFontDraw {\n  constructor({\n    text, rect, dw, overflow, overflowCrop, attr,\n  }) {\n    this.text = text;\n    this.dw = dw;\n    this.rect = rect;\n    this.overflow = overflow;\n    this.overflowCrop = overflowCrop;\n    this.attr = attr;\n  }\n\n  textWidth(text) {\n    const { dw } = this;\n    return dw.measureText(text).width;\n  }\n\n  drawLine(type, tx, ty, textWidth) {\n    const { dw, attr } = this;\n    const { size, verticalAlign, align } = attr;\n    const s = [0, 0];\n    const e = [0, 0];\n    if (type === 'strike') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default:\n          break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty - size / 2;\n          e[1] = ty - size / 2;\n          break;\n        default:\n          break;\n      }\n    }\n    if (type === 'underline') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default:\n          break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size;\n          e[1] = ty + size;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        default:\n          break;\n      }\n    }\n    dw.line(s, e);\n  }\n\n  /**\n   * 越界的文字截斷\n   * @returns {number}\n   */\n  drawTextTruncate() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign,\n    } = attr;\n    const { width, height } = rect;\n    const textWidth = this.textWidth(text) / dpr();\n    let tx = rect.x;\n    let ty = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        tx += PADDING;\n        break;\n      case ALIGN.center:\n        tx += width / 2;\n        break;\n      case ALIGN.right:\n        tx += width - PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        ty += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        ty += height / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        ty += height - PADDING;\n        break;\n      default:\n        break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = textWidth + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = textWidth;\n    }\n    const crop = new Crop({\n      draw: dw,\n      rect,\n    });\n    crop.open();\n    dw.fillText(text, tx, ty);\n    if (underline || strikethrough) {\n      dw.beginPath();\n    }\n    if (underline) {\n      this.drawLine('underline', tx, ty, textWidth);\n    }\n    if (strikethrough) {\n      this.drawLine('strike', tx, ty, textWidth);\n    }\n    crop.close();\n    return contentWidth;\n  }\n\n  /**\n   * 文字超過最大可繪製區域后自動\n   * 截斷\n   * @returns {number}\n   */\n  drawTextOverFlow() {\n    const {\n      text, dw, attr, rect, overflow, overflowCrop,\n    } = this;\n    const {\n      size, underline, strikethrough, align, verticalAlign,\n    } = attr;\n    const { width, height } = rect;\n    const textWidth = this.textWidth(text) / dpr();\n    let tx = rect.x;\n    let ty = rect.y;\n    let paddingH = 0;\n    let paddingV = 0;\n    switch (align) {\n      case ALIGN.left:\n        tx += PADDING;\n        paddingH = PADDING;\n        break;\n      case ALIGN.center:\n        tx += width / 2;\n        break;\n      case ALIGN.right:\n        tx += width - PADDING;\n        paddingH = PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        ty += PADDING;\n        paddingV = PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        ty += height / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        ty += height - PADDING;\n        paddingV = PADDING;\n        break;\n      default:\n        break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = textWidth + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = textWidth;\n    }\n    if (overflowCrop || (overflow && (textWidth + paddingH > overflow.width\n      || size + paddingV > overflow.height))) {\n      const crop = new Crop({\n        draw: dw,\n        rect: overflow,\n      });\n      crop.open();\n      // console.log('text >>>', text, tx, ty);\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      crop.close();\n    } else {\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n    }\n    return contentWidth;\n  }\n\n  /**\n   * 文字自動換行\n   * @returns {number}\n   */\n  drawTextWarp() {\n    // console.log('drawTextWarp');\n    const { text, dw, attr, rect } = this;\n    const { size, underline, strikethrough, align, verticalAlign } = attr;\n    const { width, height } = rect;\n    const maxTextWidth = width - PADDING * 2;\n    const textArray = [];\n    const textLine = {\n      len: 0,\n      start: 0,\n    };\n    const len = text.length;\n    let hOffset = 0;\n    let i = 0;\n    let maxLen = 0;\n    while (i < len) {\n      const charWidth = this.textWidth(text.charAt(i)) / dpr();\n      const textWidth = textLine.len + charWidth;\n      if (textWidth > maxTextWidth) {\n        if (textLine.len === 0) {\n          textArray.push({\n            text: text.substring(i, i + 1),\n            len: textWidth,\n            tx: 0,\n            ty: hOffset,\n          });\n          i += 1;\n          if (textWidth > maxLen) {\n            maxLen = textWidth;\n          }\n        } else {\n          textArray.push({\n            text: text.substring(textLine.start, i),\n            len: textLine.len,\n            tx: 0,\n            ty: hOffset,\n          });\n          if (textLine.len > maxLen) {\n            maxLen = textLine.len;\n          }\n        }\n        hOffset += size + HORIZONTAL_LIEN_HEIGHT;\n        textLine.len = 0;\n        textLine.start = i;\n      } else {\n        textLine.len = textWidth;\n        i += 1;\n      }\n    }\n    if (textLine.len > 0) {\n      textArray.push({\n        text: text.substring(textLine.start),\n        len: textLine.len,\n        tx: 0,\n        ty: hOffset,\n      });\n      if (textLine.len > maxLen) {\n        maxLen = textLine.len;\n      }\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2;\n        break;\n      case ALIGN.right:\n        bx += width - PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        by += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        by += height / 2 - hOffset / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        by += height - hOffset - PADDING;\n        break;\n      default:\n        break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = maxLen + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = maxLen;\n    }\n    const crop = new Crop({\n      draw: dw,\n      rect,\n    });\n    crop.open();\n    for (let i = 0, len = textArray.length; i < len; i += 1) {\n      const item = textArray[i];\n      item.tx += bx;\n      item.ty += by;\n      // console.log('text >>>', item.text, item.tx, item.ty);\n      dw.fillText(item.text, item.tx, item.ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', item.tx, item.ty, item.len);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', item.tx, item.ty, item.len);\n      }\n    }\n    crop.close();\n    return contentWidth;\n  }\n\n  draw() {\n    const { dw, attr } = this;\n    const { textWrap } = attr;\n    dw.attr({\n      textAlign: attr.align,\n      textBaseline: attr.verticalAlign,\n      font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n      fillStyle: attr.color,\n      strokeStyle: attr.color,\n    });\n    switch (textWrap) {\n      case TEXT_WRAP.TRUNCATE:\n        return this.drawTextTruncate();\n      case TEXT_WRAP.WORD_WRAP:\n        return this.drawTextWarp();\n      case TEXT_WRAP.OVER_FLOW:\n      default:\n        return this.drawTextOverFlow();\n    }\n  }\n\n  setTextWrap(textWrap) {\n    this.attr.textWrap = textWrap;\n  }\n\n  setOverflowCrop(overflowCrop) {\n    this.overflowCrop = overflowCrop;\n  }\n}\n\n/**\n * 垂直方向字体绘制\n */\nclass VerticalFontDraw {\n  constructor({\n    text, rect, dw, overflow, overflowCrop, attr,\n  }) {\n    this.text = text;\n    this.dw = dw;\n    this.rect = rect;\n    this.overflow = overflow;\n    this.overflowCrop = overflowCrop;\n    this.attr = attr;\n  }\n\n  textWidth(text) {\n    const { dw } = this;\n    return dw.measureText(text).width;\n  }\n\n  drawLine(type, tx, ty, textWidth, align, verticalAlign) {\n    const { dw, attr } = this;\n    const { size } = attr;\n    const s = [0, 0];\n    const e = [0, 0];\n    if (type === 'strike') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default:\n          break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty - size / 2;\n          e[1] = ty - size / 2;\n          break;\n        default:\n          break;\n      }\n    }\n    if (type === 'underline') {\n      switch (align) {\n        case ALIGN.right:\n          s[0] = tx - textWidth;\n          e[0] = tx;\n          break;\n        case ALIGN.center:\n          s[0] = tx - textWidth / 2;\n          e[0] = tx + textWidth / 2;\n          break;\n        case ALIGN.left:\n          s[0] = tx;\n          e[0] = tx + textWidth;\n          break;\n        default:\n          break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          s[1] = ty + size;\n          e[1] = ty + size;\n          break;\n        case VERTICAL_ALIGN.center:\n          s[1] = ty + size / 2;\n          e[1] = ty + size / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          s[1] = ty;\n          e[1] = ty;\n          break;\n        default:\n          break;\n      }\n    }\n    dw.line(s, e);\n  }\n\n  drawTextTruncate() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    const { width, height } = rect;\n    const textArray = [];\n    let hOffset = 0;\n    for (let i = 0; i < text.length; i += 1) {\n      const char = text.charAt(i);\n      textArray.push({\n        len: this.textWidth(char) / dpr(),\n        text: char,\n        tx: 0,\n        ty: hOffset,\n      });\n      if (i < text.length - 1) {\n        hOffset += size + VERTICAL_SPACING;\n      } else {\n        hOffset += size;\n      }\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2;\n        break;\n      case ALIGN.right:\n        bx += width - PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        by += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        by += height / 2 - hOffset / 2 + PADDING;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        by += height - hOffset + PADDING;\n        break;\n      default:\n        break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.left:\n      case ALIGN.right:\n        contentWidth = size + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = size;\n    }\n    const crop = new Crop({\n      draw: dw,\n      rect,\n    });\n    crop.open();\n    for (let i = 0, len = textArray.length; i < len; i += 1) {\n      const item = textArray[i];\n      item.tx += bx;\n      item.ty += by;\n      dw.fillText(item.text, item.tx, item.ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlign);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlign);\n      }\n    }\n    crop.close();\n    return contentWidth;\n  }\n\n  drawTextOverFlow() {\n    const {\n      text, dw, attr, rect, overflow, overflowCrop,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    const { width, height } = rect;\n    const textArray = [];\n    let hOffset = 0;\n    for (let i = 0; i < text.length; i += 1) {\n      const char = text.charAt(i);\n      textArray.push({\n        len: this.textWidth(char) / dpr(),\n        text: char,\n        tx: 0,\n        ty: hOffset,\n      });\n      if (i < text.length - 1) {\n        hOffset += size + VERTICAL_SPACING;\n      } else {\n        hOffset += size;\n      }\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    let paddingH = 0;\n    let paddingV = 0;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        paddingH = PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2;\n        break;\n      case ALIGN.right:\n        bx += width - PADDING;\n        paddingH = PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        by += PADDING;\n        paddingV = PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        by += height / 2 - hOffset / 2 + PADDING;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        by += height - hOffset + PADDING;\n        paddingV = PADDING;\n        break;\n      default:\n        break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.left:\n      case ALIGN.right:\n        contentWidth = size + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = size;\n    }\n    if (overflowCrop || (overflow && (hOffset + paddingV > overflow.height\n      || size + paddingH > overflow.width))) {\n      const crop = new Crop({\n        draw: dw,\n        rect: overflow,\n      });\n      crop.open();\n      for (let i = 0, len = textArray.length; i < len; i += 1) {\n        const item = textArray[i];\n        item.tx += bx;\n        item.ty += by;\n        dw.fillText(item.text, item.tx, item.ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n      }\n      crop.close();\n    } else {\n      for (let i = 0, len = textArray.length; i < len; i += 1) {\n        const item = textArray[i];\n        item.tx += bx;\n        item.ty += by;\n        dw.fillText(item.text, item.tx, item.ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlign);\n        }\n      }\n    }\n    return contentWidth;\n  }\n\n  drawTextWarp() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    const { width, height } = rect;\n    const textArray = [];\n    const len = text.length;\n    const boxHeight = height - PADDING * 2;\n    let textItem = [];\n    let textLen = 0;\n    let hOffset = 0;\n    let wOffset = 0;\n    let column = 0;\n    let i = 0;\n    while (i < len) {\n      const last = i === len - 1;\n      const first = i === 0;\n      const char = text.charAt(i);\n      const charWidth = this.textWidth(char) / dpr();\n      let textHeight;\n      if (last) {\n        textHeight = textLen + size;\n      } else {\n        textHeight = textLen + size + VERTICAL_SPACING;\n      }\n      if (textHeight > boxHeight) {\n        if (textItem.length > 0) {\n          textArray.push(textItem);\n        }\n        textLen = 0;\n        hOffset = 0;\n        textItem = [];\n        if (!first) wOffset += size + VERTICAL_LIEN_HEIGHT;\n        column += 1;\n        textItem.push({\n          len: charWidth,\n          text: char,\n          tx: wOffset,\n          ty: hOffset,\n        });\n        if (last) {\n          textLen = size;\n        } else {\n          textLen = size + VERTICAL_SPACING;\n        }\n      } else {\n        textItem.push({\n          len: charWidth,\n          text: char,\n          tx: wOffset,\n          ty: hOffset,\n        });\n        textLen = textHeight;\n      }\n      if (last) {\n        hOffset += size;\n      } else {\n        hOffset += size + VERTICAL_SPACING;\n      }\n      i += 1;\n    }\n    if (textItem.length > 0) {\n      textArray.push(textItem);\n    }\n    let bx = rect.x;\n    let by = rect.y;\n    let verticalAlignValue = verticalAlign;\n    switch (align) {\n      case ALIGN.left:\n        bx += PADDING;\n        break;\n      case ALIGN.center:\n        bx += width / 2 - wOffset / 2;\n        break;\n      case ALIGN.right:\n        bx += width - wOffset - PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        dw.attr({\n          textBaseline: attr.verticalAlign,\n        });\n        by += PADDING;\n        verticalAlignValue = VERTICAL_ALIGN.top;\n        break;\n      case VERTICAL_ALIGN.center:\n        if (column === 0) {\n          dw.attr({\n            textBaseline: attr.verticalAlign,\n          });\n          by += height / 2 - hOffset / 2 + PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.center;\n        } else {\n          dw.attr({\n            textBaseline: VERTICAL_ALIGN.top,\n          });\n          by += PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.top;\n        }\n        break;\n      case VERTICAL_ALIGN.bottom:\n        if (column === 0) {\n          dw.attr({\n            textBaseline: VERTICAL_ALIGN.bottom,\n          });\n          by += height - hOffset + PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.bottom;\n        } else {\n          dw.attr({\n            textBaseline: VERTICAL_ALIGN.top,\n          });\n          by += PADDING;\n          verticalAlignValue = VERTICAL_ALIGN.top;\n        }\n        break;\n      default:\n        break;\n    }\n    let contentWidth;\n    switch (align) {\n      case ALIGN.left:\n      case ALIGN.right:\n        contentWidth = wOffset + size + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = wOffset + size;\n    }\n    const crop = new Crop({\n      draw: dw,\n      rect,\n    });\n    crop.open();\n    for (let i = 0, len = textArray.length; i < len; i += 1) {\n      const textItem = textArray[i];\n      for (let j = 0; j < textItem.length; j += 1) {\n        const item = textItem[j];\n        item.tx += bx;\n        item.ty += by;\n        dw.fillText(item.text, item.tx, item.ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', item.tx, item.ty, item.len, align, verticalAlignValue);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', item.tx, item.ty, item.len, align, verticalAlignValue);\n        }\n      }\n    }\n    crop.close();\n    return contentWidth;\n  }\n\n  draw() {\n    const { dw, attr } = this;\n    const { textWrap } = attr;\n    switch (textWrap) {\n      case TEXT_WRAP.TRUNCATE:\n        dw.attr({\n          textAlign: attr.align,\n          textBaseline: attr.verticalAlign,\n          font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n          fillStyle: attr.color,\n          strokeStyle: attr.color,\n        });\n        return this.drawTextTruncate();\n      case TEXT_WRAP.WORD_WRAP:\n        dw.attr({\n          textAlign: attr.align,\n          font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n          fillStyle: attr.color,\n          strokeStyle: attr.color,\n        });\n        return this.drawTextWarp();\n      case TEXT_WRAP.OVER_FLOW:\n      default:\n        dw.attr({\n          textAlign: attr.align,\n          textBaseline: attr.verticalAlign,\n          font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n          fillStyle: attr.color,\n          strokeStyle: attr.color,\n        });\n        return this.drawTextOverFlow();\n    }\n  }\n\n  setTextWrap(textWrap) {\n    this.attr.textWrap = textWrap;\n  }\n\n  setOverflowCrop(overflowCrop) {\n    this.overflowCrop = overflowCrop;\n  }\n}\n\n/**\n * 旋转字体绘制\n */\nclass AngleFontDraw {\n  constructor({\n    text, rect, dw, overflow, overflowCrop, attr,\n  }) {\n    this.text = text;\n    this.dw = dw;\n    this.rect = rect;\n    this.overflow = overflow;\n    this.overflowCrop = overflowCrop;\n    this.attr = attr;\n  }\n\n  textWidth(text) {\n    const { dw } = this;\n    return dw.measureText(text).width;\n  }\n\n  drawLine(type, tx, ty, textWidth) {\n    const { dw, attr } = this;\n    const { size } = attr;\n    const s = [0, 0];\n    const e = [0, 0];\n    if (type === 'strike') {\n      s[0] = tx;\n      e[0] = tx + textWidth;\n      s[1] = ty + size / 2;\n      e[1] = ty + size / 2;\n    }\n    if (type === 'underline') {\n      s[0] = tx;\n      e[0] = tx + textWidth;\n      s[1] = ty + size;\n      e[1] = ty + size;\n    }\n    dw.line(s, e);\n  }\n\n  drawTextTruncate() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    let { angle } = attr;\n    const { width, height } = rect;\n    if (angle > 90) {\n      angle = 90;\n    }\n    if (angle < -90) {\n      angle = -90;\n    }\n    // 计算文字斜边\n    // 的宽度\n    const textWidth = this.textWidth(text) / dpr();\n    const trigonometric = new TrigonometricFunction({\n      angle,\n      width: textWidth,\n      height: size,\n    });\n    const trigonometricWidth = trigonometric.cosWidthAngle();\n    const trigonometricHeight = trigonometric.sinWidthAngle();\n    // 计算文字的位置\n    let rtx = rect.x;\n    let rty = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        rtx += PADDING;\n        break;\n      case ALIGN.center:\n        rtx += width / 2 - trigonometricWidth / 2;\n        break;\n      case ALIGN.right:\n        rtx += width - trigonometricWidth - PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        rty += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        rty += height / 2 - trigonometricHeight / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        rty += height - trigonometricHeight - PADDING;\n        break;\n      default:\n        break;\n    }\n    // 计算内容宽度\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = trigonometricWidth + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = trigonometricWidth;\n    }\n    const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n    const ty = rty + (trigonometricHeight / 2 - size / 2);\n    // 旋转剪切\n    // 绘制文字\n    const dwAngle = new DrawAngle({\n      dw,\n      angle,\n      rect: new Rect({\n        x: rtx,\n        y: rty,\n        width: trigonometricWidth,\n        height: trigonometricHeight,\n      }),\n    });\n    // 角度不同, 裁剪的\n    // 大小不同\n    let crop;\n    if (angle === 0) {\n      crop = new Crop({\n        draw: dw,\n        rect,\n      });\n    } else {\n      crop = new Crop({\n        draw: dw,\n        rect: new Rect({\n          x: 0,\n          y: rect.y,\n          width: contentWidth,\n          height: rect.height,\n        }),\n      });\n    }\n    crop.open();\n    dwAngle.rotate();\n    dw.fillText(text, tx, ty);\n    if (underline || strikethrough) {\n      dw.beginPath();\n    }\n    if (underline) {\n      this.drawLine('underline', tx, ty, textWidth);\n    }\n    if (strikethrough) {\n      this.drawLine('strike', tx, ty, textWidth);\n    }\n    dwAngle.revert();\n    crop.close();\n    return contentWidth;\n  }\n\n  drawTextOverFlow() {\n    const {\n      text, dw, attr, rect, overflow,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size, overflowCrop,\n    } = attr;\n    let { angle } = attr;\n    const { width, height } = rect;\n    if (angle > 90) {\n      angle = 90;\n    }\n    if (angle < -90) {\n      angle = -90;\n    }\n    // 计算文字斜边\n    // 的宽度\n    const textWidth = this.textWidth(text) / dpr();\n    const trigonometric = new TrigonometricFunction({\n      angle,\n      width: textWidth,\n      height: size,\n    });\n    const trigonometricWidth = trigonometric.cosWidthAngle();\n    const trigonometricHeight = trigonometric.sinWidthAngle();\n    // 计算文字的位置\n    let rtx = rect.x;\n    let rty = rect.y;\n    switch (align) {\n      case ALIGN.left:\n        rtx += PADDING;\n        break;\n      case ALIGN.center:\n        rtx += width / 2 - trigonometricWidth / 2;\n        break;\n      case ALIGN.right:\n        rtx += width - trigonometricWidth - PADDING;\n        break;\n      default:\n        break;\n    }\n    switch (verticalAlign) {\n      case VERTICAL_ALIGN.top:\n        rty += PADDING;\n        break;\n      case VERTICAL_ALIGN.center:\n        rty += height / 2 - trigonometricHeight / 2;\n        break;\n      case VERTICAL_ALIGN.bottom:\n        rty += height - trigonometricHeight - PADDING;\n        break;\n      default:\n        break;\n    }\n    // 计算内容宽度\n    let contentWidth;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        contentWidth = trigonometricWidth + PADDING * 2;\n        break;\n      case ALIGN.center:\n      default:\n        contentWidth = trigonometricWidth;\n    }\n    const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n    const ty = rty + (trigonometricHeight / 2 - size / 2);\n    // 旋转剪切\n    // 绘制文字\n    const dwAngle = new DrawAngle({\n      dw,\n      angle,\n      rect: new Rect({\n        x: rtx,\n        y: rty,\n        width: trigonometricWidth,\n        height: trigonometricHeight,\n      }),\n    });\n    // 角度不同, 裁剪的\n    // 大小不同\n    let crop;\n    if (angle === 0) {\n      crop = new Crop({\n        draw: dw,\n        rect: overflow,\n      });\n    } else {\n      crop = new Crop({\n        draw: dw,\n        rect: new Rect({\n          x: 0,\n          y: rect.y,\n          width: contentWidth,\n          height: rect.height,\n        }),\n      });\n    }\n    // 文本是否越界\n    if (overflowCrop || (overflow && (trigonometricWidth > overflow.width\n      || trigonometricHeight > overflow.height))) {\n      crop.open();\n      dwAngle.rotate();\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n      crop.close();\n    } else {\n      dwAngle.rotate();\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n    }\n    return contentWidth;\n  }\n\n  drawTextWarp() {\n    const {\n      text, dw, attr, rect,\n    } = this;\n    const {\n      underline, strikethrough, align, verticalAlign, size,\n    } = attr;\n    let { angle } = attr;\n    if (angle > 90) {\n      angle = 90;\n    }\n    if (angle < -90) {\n      angle = -90;\n    }\n    const { width, height } = rect;\n    if (angle > 0) {\n      const trigonometric = new TrigonometricFunction({\n        angle,\n      });\n\n      // 计算斜角文本的最大绘制宽度\n      // 超过绘制宽度自动换行\n      trigonometric.setHeight(height - PADDING * 2);\n      const textHypotenuseWidth = trigonometric.sinHeightAngle();\n\n      // 计算文本块之间的间隙\n      trigonometric.setHeight(size + ANGLE_LINE_HEIGHT);\n      const lineHeight = trigonometric.sinHeightAngle();\n\n      // 折行文本计算\n      const textArray = [];\n      const textLine = {\n        len: 0,\n        start: 0,\n      };\n      const len = text.length;\n      let i = 0;\n      while (i < len) {\n        const charWidth = this.textWidth(text.charAt(i)) / dpr();\n        const textWidth = textLine.len + charWidth;\n        if (textWidth > textHypotenuseWidth) {\n          if (textLine.len === 0) {\n            textArray.push({\n              text: text.substring(i, i + 1),\n              len: textWidth,\n              tx: 0,\n              ty: 0,\n            });\n            i += 1;\n          } else {\n            textArray.push({\n              text: text.substring(textLine.start, i),\n              len: textLine.len,\n              tx: 0,\n              ty: 0,\n            });\n          }\n          textLine.len = 0;\n          textLine.start = i;\n        } else {\n          textLine.len = textWidth;\n          i += 1;\n        }\n      }\n      if (textLine.len > 0) {\n        textArray.push({\n          text: text.substring(textLine.start),\n          len: textLine.len,\n          tx: 0,\n          ty: 0,\n        });\n      }\n      const textArrayLen = textArray.length;\n\n      // 每个文本块的x坐标\n      // 加上指定的间隙\n      let wOffset = 0;\n      for (let i = 0; i < textArrayLen; i += 1) {\n        const item = textArray[i];\n        item.tx = wOffset;\n        wOffset += lineHeight;\n      }\n\n      // 多行文本和单行文本\n      // 采用不同的绘制\n      // 逻辑\n      if (textArrayLen > 1) {\n        // 计算每个文本块的\n        // 宽度和高度\n        trigonometric.setWidth(textHypotenuseWidth);\n        const textWidth = Math.max(trigonometric.cosWidthAngle(), size);\n        const textHeight = trigonometric.sinWidthAngle();\n        // console.log('textHeight>>>', textHeight);\n\n        // 计算总宽度\n        const totalWidth = textWidth + ((textArray.length - 1) * lineHeight);\n        // console.log(totalWidth);\n        let bx = rect.x;\n        let by = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            bx += PADDING;\n            break;\n          case ALIGN.center:\n            bx += width / 2 - totalWidth / 2;\n            break;\n          case ALIGN.right:\n            bx += width - totalWidth - PADDING;\n            break;\n          default:\n            break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            by += PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            by += height / 2 - textHeight / 2;\n            break;\n          case VERTICAL_ALIGN.bottom:\n            by += height - textHeight - PADDING;\n            break;\n          default:\n            break;\n        }\n        let contentWidth;\n        switch (align) {\n          case ALIGN.right:\n          case ALIGN.left:\n            contentWidth = totalWidth + PADDING * 2;\n            break;\n          case ALIGN.center:\n          default:\n            contentWidth = totalWidth;\n        }\n\n        // 渲染文本\n        for (let i = 0; i < textArray.length; i += 1) {\n          // 计算文本的\n          // 绘制位置\n          // 旋转中心\n          const item = textArray[i];\n          const rx = item.tx + bx;\n          const ry = item.ty + by;\n          let ax = 0;\n          let ay = 0;\n          switch (align) {\n            case ALIGN.left: {\n              trigonometric.setWidth(item.len / 2);\n              const tw = Math.max(trigonometric.cosWidthAngle(), size);\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + tw;\n              ay += ry + textHeight - th;\n              break;\n            }\n            case ALIGN.center: {\n              ax = rx + textWidth / 2;\n              ay = ry + textHeight / 2;\n              break;\n            }\n            case ALIGN.right: {\n              trigonometric.setWidth(item.len / 2);\n              const tw = Math.max(trigonometric.cosWidthAngle(), size);\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + textWidth - tw;\n              ay += ry + th;\n              break;\n            }\n            default:\n              break;\n          }\n          const tx = ax - item.len / 2;\n          const ty = ay - size / 2;\n\n          // 旋转并且\n          // 绘制文本\n          if (i === -1) {\n            dw.attr({ fillStyle: '#000000' });\n            dw.fillRect(rx, ry, textWidth, textHeight);\n            dw.attr({ fillStyle: 'red' });\n          }\n          const dwAngle = new DrawAngle({\n            dw,\n            angle,\n            rect: new Rect({\n              x: tx,\n              y: ty,\n              width: item.len,\n              height: size,\n            }),\n          });\n          dwAngle.rotate();\n          dw.fillText(item.text, tx, ty);\n          if (underline || strikethrough) {\n            dw.beginPath();\n          }\n          if (underline) {\n            this.drawLine('underline', tx, ty, item.len);\n          }\n          if (strikethrough) {\n            this.drawLine('strike', tx, ty, item.len);\n          }\n          dwAngle.revert();\n        }\n        return contentWidth;\n      }\n\n      // 计算文本块的\n      // 大小\n      const textWidth = this.textWidth(text) / dpr();\n      trigonometric.setWidth(textWidth);\n      const trigonometricWidth = Math.max(trigonometric.cosWidthAngle(), size);\n      const trigonometricHeight = trigonometric.sinWidthAngle();\n\n      // 计算文本\n      // 绘制位置\n      // 旋转中心\n      let rtx = rect.x;\n      let rty = rect.y;\n      switch (align) {\n        case ALIGN.left:\n          rtx += PADDING;\n          break;\n        case ALIGN.center:\n          rtx += width / 2 - trigonometricWidth / 2;\n          break;\n        case ALIGN.right:\n          rtx += width - trigonometricWidth - PADDING;\n          break;\n        default:\n          break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          rty += PADDING;\n          break;\n        case VERTICAL_ALIGN.center:\n          rty += height / 2 - trigonometricHeight / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          rty += height - trigonometricHeight - PADDING;\n          break;\n        default:\n          break;\n      }\n      let contentWidth;\n      switch (align) {\n        case ALIGN.right:\n        case ALIGN.left:\n          contentWidth = trigonometricWidth + PADDING * 2;\n          break;\n        case ALIGN.center:\n        default:\n          contentWidth = trigonometricWidth;\n      }\n\n      // 旋转并且\n      // 绘制文本\n      const dwAngle = new DrawAngle({\n        dw,\n        angle,\n        rect: new Rect({\n          x: rtx,\n          y: rty,\n          width: trigonometricWidth,\n          height: trigonometricHeight,\n        }),\n      });\n      dwAngle.rotate();\n      const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n      const ty = rty + (trigonometricHeight / 2 - size / 2);\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n      return contentWidth;\n    }\n    if (angle < 0) {\n      const trigonometric = new TrigonometricFunction({\n        angle,\n      });\n\n      // 计算斜角文本的最大绘制宽度\n      // 超过绘制宽度自动换行\n      trigonometric.setHeight(height - PADDING * 2);\n      const textHypotenuseWidth = trigonometric.sinHeightAngle();\n\n      // 计算文本块之间的间隙\n      trigonometric.setHeight(size + ANGLE_LINE_HEIGHT);\n      const lineHeight = trigonometric.sinHeightAngle();\n\n      // 折行文本计算\n      const textArray = [];\n      const textLine = {\n        len: 0,\n        start: 0,\n      };\n      const len = text.length;\n      let i = 0;\n      while (i < len) {\n        const charWidth = this.textWidth(text.charAt(i)) / dpr();\n        const textWidth = textLine.len + charWidth;\n        if (textWidth > textHypotenuseWidth) {\n          if (textLine.len === 0) {\n            textArray.push({\n              text: text.substring(i, i + 1),\n              len: textWidth,\n              tx: 0,\n              ty: 0,\n            });\n            i += 1;\n          } else {\n            textArray.push({\n              text: text.substring(textLine.start, i),\n              len: textLine.len,\n              tx: 0,\n              ty: 0,\n            });\n          }\n          textLine.len = 0;\n          textLine.start = i;\n        } else {\n          textLine.len = textWidth;\n          i += 1;\n        }\n      }\n      if (textLine.len > 0) {\n        textArray.push({\n          text: text.substring(textLine.start),\n          len: textLine.len,\n          tx: 0,\n          ty: 0,\n        });\n      }\n      const textArrayLen = textArray.length;\n\n      // 每个文本块的x坐标\n      // 加上指定的间隙\n      let wOffset = 0;\n      for (let i = textArrayLen - 1; i >= 0; i -= 1) {\n        const item = textArray[i];\n        item.tx = wOffset;\n        wOffset += lineHeight;\n      }\n\n      // 多行文本和单行文本\n      // 采用不同的绘制\n      // 逻辑\n      if (textArrayLen > 1) {\n\n        // 计算每个文本块的\n        // 宽度和高度\n        trigonometric.setWidth(textHypotenuseWidth);\n        const textWidth = Math.max(trigonometric.cosWidthAngle(), size);\n        const textHeight = trigonometric.sinWidthAngle();\n\n        // 文本总宽度\n        const totalWidth = textWidth + ((textArray.length - 1) * lineHeight);\n        let bx = rect.x;\n        let by = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            bx += PADDING;\n            break;\n          case ALIGN.center:\n            bx += width / 2 - totalWidth / 2;\n            break;\n          case ALIGN.right:\n            bx += width - totalWidth - PADDING;\n            break;\n          default:\n            break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            by += PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            by += height / 2 - textHeight / 2;\n            break;\n          case VERTICAL_ALIGN.bottom:\n            by += height - textHeight - PADDING;\n            break;\n          default:\n            break;\n        }\n        let contentWidth;\n        switch (align) {\n          case ALIGN.right:\n          case ALIGN.left:\n            contentWidth = totalWidth + PADDING * 2;\n            break;\n          case ALIGN.center:\n          default:\n            contentWidth = totalWidth;\n        }\n\n        // 渲染文本\n        for (let i = 0; i < textArray.length; i += 1) {\n          // 计算文本的\n          // 绘制位置\n          // 旋转中心\n          const item = textArray[i];\n          const rx = item.tx + bx;\n          const ry = item.ty + by;\n          let ax = 0;\n          let ay = 0;\n          switch (align) {\n            case ALIGN.left: {\n              trigonometric.setWidth(item.len / 2);\n              const tw = Math.max(trigonometric.cosWidthAngle(), size);\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + tw;\n              ay += ry + th;\n              break;\n            }\n            case ALIGN.center: {\n              ax = rx + textWidth / 2;\n              ay = ry + textHeight / 2;\n              break;\n            }\n            case ALIGN.right: {\n              trigonometric.setWidth(item.len / 2);\n              const tw = Math.max(trigonometric.cosWidthAngle(), size);\n              const th = trigonometric.sinWidthAngle();\n              ax += rx + textWidth - tw;\n              ay += ry + textHeight - th;\n              break;\n            }\n            default:\n              break;\n          }\n          const tx = ax - item.len / 2;\n          const ty = ay - size / 2;\n          if (i === -1) {\n            dw.attr({ fillStyle: '#000000' });\n            dw.fillRect(rx, ry, textWidth, textHeight);\n            dw.attr({ fillStyle: 'red' });\n          }\n\n          // 旋转并且\n          // 绘制文本\n          const dwAngle = new DrawAngle({\n            dw,\n            angle,\n            rect: new Rect({\n              x: tx,\n              y: ty,\n              width: item.len,\n              height: size,\n            }),\n          });\n          dwAngle.rotate();\n          dw.fillText(item.text, tx, ty);\n          if (underline || strikethrough) {\n            dw.beginPath();\n          }\n          if (underline) {\n            this.drawLine('underline', tx, ty, item.len);\n          }\n          if (strikethrough) {\n            this.drawLine('strike', tx, ty, item.len);\n          }\n          dwAngle.revert();\n        }\n        return contentWidth;\n      }\n\n      // 计算文本块的\n      // 大小\n      const textWidth = this.textWidth(text) / dpr();\n      trigonometric.setWidth(textWidth);\n      const trigonometricWidth = Math.max(trigonometric.cosWidthAngle(), size);\n      const trigonometricHeight = trigonometric.sinWidthAngle();\n\n      // 计算文本\n      // 绘制位置\n      // 旋转中心\n      let rtx = rect.x;\n      let rty = rect.y;\n      switch (align) {\n        case ALIGN.left:\n          rtx += PADDING;\n          break;\n        case ALIGN.center:\n          rtx += width / 2 - trigonometricWidth / 2;\n          break;\n        case ALIGN.right:\n          rtx += width - trigonometricWidth - PADDING;\n          break;\n        default:\n          break;\n      }\n      switch (verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          rty += PADDING;\n          break;\n        case VERTICAL_ALIGN.center:\n          rty += height / 2 - trigonometricHeight / 2;\n          break;\n        case VERTICAL_ALIGN.bottom:\n          rty += height - trigonometricHeight - PADDING;\n          break;\n        default:\n          break;\n      }\n      let contentWidth;\n      switch (align) {\n        case ALIGN.right:\n        case ALIGN.left:\n          contentWidth = trigonometricWidth + PADDING * 2;\n          break;\n        case ALIGN.center:\n        default:\n          contentWidth = trigonometricWidth;\n      }\n\n      // 旋转并且\n      // 绘制文本\n      const dwAngle = new DrawAngle({\n        dw,\n        angle,\n        rect: new Rect({\n          x: rtx,\n          y: rty,\n          width: trigonometricWidth,\n          height: trigonometricHeight,\n        }),\n      });\n      dwAngle.rotate();\n      const tx = rtx + (trigonometricWidth / 2 - textWidth / 2);\n      const ty = rty + (trigonometricHeight / 2 - size / 2);\n      dw.fillText(text, tx, ty);\n      if (underline || strikethrough) {\n        dw.beginPath();\n      }\n      if (underline) {\n        this.drawLine('underline', tx, ty, textWidth);\n      }\n      if (strikethrough) {\n        this.drawLine('strike', tx, ty, textWidth);\n      }\n      dwAngle.revert();\n      return contentWidth;\n    }\n    if (angle === 0) {\n      const maxTextWidth = width - PADDING * 2;\n      const textArray = [];\n      const textLine = {\n        len: 0,\n        start: 0,\n      };\n      const len = text.length;\n\n      // 折行\n      let i = 0;\n      let maxLen = 0;\n      while (i < len) {\n        const charWidth = this.textWidth(text.charAt(i)) / dpr();\n        const textWidth = textLine.len + charWidth;\n        if (textWidth > maxTextWidth) {\n          if (textLine.len === 0) {\n            textArray.push({\n              text: text.substring(i, i + 1),\n              len: textWidth,\n              tx: 0,\n              ty: 0,\n            });\n            i += 1;\n            if (textWidth > maxLen) {\n              maxLen = textWidth;\n            }\n          } else {\n            textArray.push({\n              text: text.substring(textLine.start, i),\n              len: textLine.len,\n              tx: 0,\n              ty: 0,\n            });\n            if (textLine.len > maxLen) {\n              maxLen = textLine.len;\n            }\n          }\n          textLine.len = 0;\n          textLine.start = i;\n        } else {\n          textLine.len = textWidth;\n          i += 1;\n        }\n      }\n      if (textLine.len > 0) {\n        textArray.push({\n          text: text.substring(textLine.start),\n          len: textLine.len,\n          tx: 0,\n          ty: 0,\n        });\n        if (textLine.len > maxLen) {\n          maxLen = textLine.len;\n        }\n      }\n      const textArrayLen = textArray.length;\n\n      // 位置计算\n      let hOffset = 0;\n      for (let i = 0; i < textArrayLen; i += 1) {\n        const item = textArray[i];\n        item.ty = hOffset;\n        hOffset += size + HORIZONTAL_LIEN_HEIGHT;\n      }\n      const totalTextHeight = textArrayLen * (size + HORIZONTAL_LIEN_HEIGHT);\n\n      let contentWidth;\n      switch (align) {\n        case ALIGN.right:\n        case ALIGN.left:\n          contentWidth = maxLen + PADDING * 2;\n          break;\n        case ALIGN.center:\n        default:\n          contentWidth = maxLen;\n      }\n      // 裁剪 绘制\n      const crop = new Crop({\n        draw: dw,\n        rect,\n      });\n      crop.open();\n      for (let i = 0; i < textArrayLen; i += 1) {\n        const item = textArray[i];\n        let tx = rect.x;\n        let ty = rect.y;\n        switch (align) {\n          case ALIGN.left:\n            tx += PADDING;\n            break;\n          case ALIGN.center:\n            tx += width / 2 - item.len / 2;\n            break;\n          case ALIGN.right:\n            tx += width - item.len - PADDING;\n            break;\n          default:\n            break;\n        }\n        switch (verticalAlign) {\n          case VERTICAL_ALIGN.top:\n            ty += item.ty + PADDING;\n            break;\n          case VERTICAL_ALIGN.center:\n            ty += item.ty + (height / 2 - totalTextHeight / 2);\n            break;\n          case VERTICAL_ALIGN.bottom:\n            ty += item.ty + (height - totalTextHeight - PADDING);\n            break;\n          default:\n            break;\n        }\n        dw.fillText(item.text, tx, ty);\n        if (underline || strikethrough) {\n          dw.beginPath();\n        }\n        if (underline) {\n          this.drawLine('underline', tx, ty, item.len);\n        }\n        if (strikethrough) {\n          this.drawLine('strike', tx, ty, item.len);\n        }\n      }\n      crop.close();\n      return contentWidth;\n    }\n    return 0;\n  }\n\n  draw() {\n    const { dw, attr } = this;\n    const { textWrap } = attr;\n    dw.attr({\n      textAlign: ALIGN.left,\n      textBaseline: VERTICAL_ALIGN.top,\n      font: `${attr.italic ? 'italic' : ''} ${attr.bold ? 'bold' : ''} ${npx(attr.size)}px ${attr.name}`,\n      fillStyle: attr.color,\n      strokeStyle: attr.color,\n    });\n    switch (textWrap) {\n      case TEXT_WRAP.TRUNCATE:\n        return this.drawTextTruncate();\n      case TEXT_WRAP.WORD_WRAP:\n        return this.drawTextWarp();\n      case TEXT_WRAP.OVER_FLOW:\n      default:\n        return this.drawTextOverFlow();\n    }\n  }\n\n  setOverflowCrop(overflowCrop) {\n    this.overflowCrop = overflowCrop;\n  }\n}\n\n/**\n * Base font\n */\nclass Font {\n  constructor({\n    text, rect, dw, overflow, attr,\n  }) {\n    this.attr = Utils.mergeDeep({}, {\n      name: 'Arial',\n      size: npx(13),\n      color: '#000000',\n      bold: false,\n      italic: false,\n      textWrap: false,\n      underline: false,\n      strikethrough: false,\n      align: ALIGN.left,\n      verticalAlign: VERTICAL_ALIGN.center,\n      direction: TEXT_DIRECTION.HORIZONTAL,\n      angle: 0,\n    }, attr);\n    this.verticalFontDraw = new VerticalFontDraw({\n      text,\n      rect,\n      dw,\n      overflow,\n      attr: this.attr,\n    });\n    this.horizontalFontDraw = new HorizontalFontDraw({\n      text,\n      rect,\n      dw,\n      overflow,\n      attr: this.attr,\n    });\n    this.angleFontDraw = new AngleFontDraw({\n      text,\n      rect,\n      dw,\n      overflow,\n      attr: this.attr,\n    });\n  }\n\n  draw() {\n    const { attr } = this;\n    switch (attr.direction) {\n      case TEXT_DIRECTION.VERTICAL:\n        return this.verticalFontDraw.draw();\n      case TEXT_DIRECTION.ANGLE:\n        return this.angleFontDraw.draw();\n      case TEXT_DIRECTION.HORIZONTAL:\n      default:\n        return this.horizontalFontDraw.draw();\n    }\n  }\n\n  setTextWrap(textWrap) {\n    const { attr } = this;\n    switch (attr.direction) {\n      case TEXT_DIRECTION.VERTICAL:\n        this.verticalFontDraw.setTextWrap(textWrap);\n        break;\n      case TEXT_DIRECTION.HORIZONTAL:\n      default:\n        this.horizontalFontDraw.setTextWrap(textWrap);\n    }\n  }\n\n  setOverflowCrop(overflowCrop) {\n    this.verticalFontDraw.setOverflowCrop(overflowCrop);\n    this.horizontalFontDraw.setOverflowCrop(overflowCrop);\n    this.angleFontDraw.setOverflowCrop(overflowCrop);\n  }\n}\n\nexport {\n  VERTICAL_ALIGN,\n  ALIGN, TEXT_WRAP,\n  TEXT_DIRECTION,\n  PADDING,\n};\n\nexport { Font };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix, Constant } from '../../../../../constant/Constant';\nimport { Utils } from '../../../../../utils/Utils';\nimport { h } from '../../../../../lib/Element';\nimport { HorizontalIcon1 } from '../icon/horizontal/HorizontalIcon1';\nimport { HorizontalIcon2 } from '../icon/horizontal/HorizontalIcon2';\nimport { HorizontalIcon3 } from '../icon/horizontal/HorizontalIcon3';\nimport { HorizontalContextMenuItem } from './HorizontalContextMenuItem';\nimport { EventBind } from '../../../../../utils/EventBind';\n\nimport { ALIGN } from '../../../../../canvas/Font';\n\nclass HorizontalContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-horizontal-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.horizontalIcon1 = new HorizontalIcon1();\n    this.horizontalIcon2 = new HorizontalIcon2();\n    this.horizontalIcon3 = new HorizontalIcon3();\n    const div2 = h('div', `${cssPrefix}-horizontal-type-context-menu-type-icon-line`);\n    div2.children(this.horizontalIcon1);\n    div2.children(this.horizontalIcon2);\n    div2.children(this.horizontalIcon3);\n    this.horizontalIcons = new HorizontalContextMenuItem();\n    this.horizontalIcons.removeClass('hover');\n    this.horizontalIcons.children(div2);\n    this.addItem(this.horizontalIcons);\n    // 添加事件\n    EventBind.bind(this.horizontalIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(ALIGN.left);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.horizontalIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(ALIGN.center);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.horizontalIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(ALIGN.right);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { HorizontalContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { HorizontalContextMenu } from './contextmenu/horizontal/HorizontalContextMenu';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\n\nclass HorizontalAlign extends DropDownItem {\n  constructor(options = {}) {\n    super(`${cssPrefix}-tools-horizontal-align`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('align-left');\n    this.setIcon(this.icon);\n    this.horizontalContextMenu = new HorizontalContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\nexport { HorizontalAlign };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../constant/Constant';\n\nclass VerticalContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-vertical-type-context-menu-item`);\n  }\n}\n\nexport { VerticalContextMenuItem };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass VerticalIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-verticalIcon1`);\n    this.icon = new Icon('align-top');\n    this.children(this.icon);\n  }\n}\n\nexport { VerticalIcon1 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass VerticalIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-verticalIcon2`);\n    this.icon = new Icon('align-middle');\n    this.children(this.icon);\n  }\n}\n\nexport { VerticalIcon2 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass VerticalIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-verticalIcon3`);\n    this.icon = new Icon('align-bottom');\n    this.children(this.icon);\n  }\n}\n\nexport { VerticalIcon3 };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix, Constant } from '../../../../../constant/Constant';\nimport { Utils } from '../../../../../utils/Utils';\nimport { h } from '../../../../../lib/Element';\nimport { VerticalContextMenuItem } from './VerticalContextMenuItem';\nimport { VerticalIcon1 } from '../icon/vertical/VerticalIcon1';\nimport { VerticalIcon2 } from '../icon/vertical/VerticalIcon2';\nimport { VerticalIcon3 } from '../icon/vertical/VerticalIcon3';\nimport { EventBind } from '../../../../../utils/EventBind';\n\nimport { VERTICAL_ALIGN } from '../../../../../canvas/Font';\n\nclass VerticalContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-vertical-type-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.verticalIcon1 = new VerticalIcon1();\n    this.verticalIcon2 = new VerticalIcon2();\n    this.verticalIcon3 = new VerticalIcon3();\n    const div2 = h('div', `${cssPrefix}-vertical-type-context-menu-type-icon-line`);\n    div2.children(this.verticalIcon1);\n    div2.children(this.verticalIcon2);\n    div2.children(this.verticalIcon3);\n    this.verticalIcons = new VerticalContextMenuItem();\n    this.verticalIcons.removeClass('hover');\n    this.verticalIcons.children(div2);\n    this.addItem(this.verticalIcons);\n    // 添加事件\n    EventBind.bind(this.verticalIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(VERTICAL_ALIGN.top);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.verticalIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(VERTICAL_ALIGN.center);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.verticalIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(VERTICAL_ALIGN.bottom);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { VerticalContextMenu };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { VerticalContextMenu } from './contextmenu/vertical/VerticalContextMenu';\n\nclass VerticalAlign extends DropDownItem {\n  constructor(options = {}) {\n    super(`${cssPrefix}-tools-vertical-align`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('align-middle');\n    this.setIcon(this.icon);\n    this.verticalContextMenu = new VerticalContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { VerticalAlign };\n","import { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\nimport { Item } from '../../../base/Item';\n\nclass TextWrappingIcon1 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-text-wrapping1`);\n    this.icon = new Icon('truncate');\n    this.children(this.icon);\n  }\n}\n\nexport { TextWrappingIcon1 };\n","import { Item } from '../../../base/Item';\nimport { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\n\nclass TextWrappingIcon2 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-text-wrapping2`);\n    this.icon = new Icon('overflow');\n    this.children(this.icon);\n  }\n}\n\nexport { TextWrappingIcon2 };\n","import { cssPrefix } from '../../../../../../constant/Constant';\nimport { Icon } from '../../../Icon';\nimport { Item } from '../../../base/Item';\n\nclass TextWrappingIcon3 extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-text-wrapping3`);\n    this.icon = new Icon('wrap');\n    this.children(this.icon);\n  }\n}\n\nexport { TextWrappingIcon3 };\n","import { ELContextMenuItem } from '../../../../../component/elcontextmenu/ELContextMenuItem';\nimport { cssPrefix } from '../../../../../constant/Constant';\n\nclass TextWrappingContextMenuItem extends ELContextMenuItem {\n  constructor() {\n    super(`${cssPrefix}-text-wrapping-context-menu-item`);\n  }\n}\n\nexport { TextWrappingContextMenuItem };\n","import { ELContextMenu } from '../../../../../component/elcontextmenu/ELContextMenu';\nimport { cssPrefix, Constant } from '../../../../../constant/Constant';\nimport { Utils } from '../../../../../utils/Utils';\nimport { TextWrappingIcon1 } from '../icon/textwrapping/TextWrappingIcon1';\nimport { TextWrappingIcon2 } from '../icon/textwrapping/TextWrappingIcon2';\nimport { TextWrappingIcon3 } from '../icon/textwrapping/TextWrappingIcon3';\nimport { h } from '../../../../../lib/Element';\nimport { TextWrappingContextMenuItem } from './TextWrappingContextMenuItem';\nimport { EventBind } from '../../../../../utils/EventBind';\n\nimport { TEXT_WRAP } from '../../../../../canvas/Font';\n\nclass TextWrappingContextMenu extends ELContextMenu {\n  constructor(options = {}) {\n    super(`${cssPrefix}-text-wrapping-context-menu`, Utils.mergeDeep({\n      onUpdate: () => {},\n    }, options));\n    this.textWrappingIcon1 = new TextWrappingIcon1();\n    this.textWrappingIcon2 = new TextWrappingIcon2();\n    this.textWrappingIcon3 = new TextWrappingIcon3();\n    const div2 = h('div', `${cssPrefix}-text-wrapping-context-menu-type-icon-line`);\n    div2.children(this.textWrappingIcon1);\n    div2.children(this.textWrappingIcon2);\n    div2.children(this.textWrappingIcon3);\n    this.textWrappingIcons = new TextWrappingContextMenuItem();\n    this.textWrappingIcons.removeClass('hover');\n    this.textWrappingIcons.children(div2);\n    this.addItem(this.textWrappingIcons);\n    // 添加事件\n    EventBind.bind(this.textWrappingIcon1, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(TEXT_WRAP.TRUNCATE);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.textWrappingIcon2, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(TEXT_WRAP.OVER_FLOW);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.textWrappingIcon3, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      this.options.onUpdate(TEXT_WRAP.WORD_WRAP);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n}\n\nexport { TextWrappingContextMenu };\n","import { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { Utils } from '../../../utils/Utils';\nimport { EL_POPUP_POSITION } from '../../../component/elpopup/ElPopUp';\nimport { DropDownItem } from './base/DropDownItem';\nimport { TextWrappingContextMenu } from './contextmenu/textwrapping/TextWrappingContextMenu';\n\nclass TextWrapping extends DropDownItem {\n  constructor(options = {}) {\n    super(`${cssPrefix}-tools-text-wrapping`);\n    this.options = Utils.mergeDeep({ contextMenu: {} }, options);\n    this.icon = new Icon('text-wrap');\n    this.setIcon(this.icon);\n    this.textWrappingContextMenu = new TextWrappingContextMenu(Utils.copyProp({\n      el: this,\n      position: EL_POPUP_POSITION.BOTTOM,\n    }, this.options.contextMenu));\n  }\n}\n\nexport { TextWrapping };\n","import { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Fixed extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-fixed`);\n    this.icon = new Icon('freeze');\n    this.children(this.icon);\n  }\n}\n\nexport { Fixed };\n","import { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\nimport { Item } from './base/Item';\n\nclass Filter extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-filter`);\n    this.icon = new Icon('filter');\n    this.children(this.icon);\n  }\n}\n\nexport { Filter };\n","import { DropDownItem } from './base/DropDownItem';\nimport { cssPrefix } from '../../../constant/Constant';\nimport { Icon } from './Icon';\n\nclass Functions extends DropDownItem {\n  constructor() {\n    super(`${cssPrefix}-tools-format`);\n    this.icon = new Icon('functions');\n    this.setIcon(this.icon);\n  }\n}\nexport { Functions };\n","import { Widget } from '../../../../lib/Widget';\nimport { Utils } from '../../../../utils/Utils';\nimport { cssPrefix } from '../../../../constant/Constant';\nimport { h } from '../../../../lib/Element';\n\nconst svg = `\n  <svg class=\"${cssPrefix}-copy-style-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\">\n    <line class=\"${cssPrefix}-copy-style-stroked-top\" x1=\"0\" y1=\"0\" x2=\"100%\" y2=\"0\"/>\n    <line class=\"${cssPrefix}-copy-style-stroked-left\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"100%\"/>\n    <line class=\"${cssPrefix}-copy-style-stroked-bottom\" x1=\"0\" y1=\"100%\" x2=\"100%\" y2=\"100%\"/>\n    <line class=\"${cssPrefix}-copy-style-stroked-right\" x1=\"100%\" y1=\"0\" x2=\"100%\" y2=\"100%\"/>\n  </svg>\n`;\n\nclass CopyStyle extends Widget {\n  constructor(options) {\n    super(`${cssPrefix}-copy-style`);\n    this.options = Utils.mergeDeep({}, options);\n    this.mask = h('div', `${cssPrefix}-copy-style-mask`);\n    this.html(svg);\n    this.children(this.mask);\n    this.top = this.find(`.${cssPrefix}-copy-style-stroked-top`);\n    this.left = this.find(`.${cssPrefix}-copy-style-stroked-left`);\n    this.bottom = this.find(`.${cssPrefix}-copy-style-stroked-bottom`);\n    this.right = this.find(`.${cssPrefix}-copy-style-stroked-right`);\n    this.hide();\n  }\n}\n\nexport { CopyStyle };\n","class ScreenWidget {\n  constructor(screen) {\n    this.screen = screen;\n    this.lt = null;\n    this.t = null;\n    this.l = null;\n    this.br = null;\n  }\n\n  getLT() {\n    return this.lt;\n  }\n\n  getT() {\n    return this.t;\n  }\n\n  getL() {\n    return this.l;\n  }\n\n  getBR() {\n    return this.br;\n  }\n\n  onAppendScreen() {\n\n  }\n}\n\nexport { ScreenWidget };\n","import { Utils } from '../../utils/Utils';\n\nclass RectRange {\n\n  /**\n   * RectRange\n   * @param {int} sri 起始行\n   * @param {int} sci 起始列\n   * @param {int} eri 结束行\n   * @param {int} eci 结束列\n   * @param {int} w 宽度\n   * @param {int} h 高度\n   */\n  constructor(sri, sci, eri, eci, w = 0, h = 0) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n    this.w = w;\n    this.h = h;\n  }\n\n  /**\n   * 设置区域\n   * @param {int} sri 起始行\n   * @param {int} sci 起始列\n   * @param {int} eri 结束行\n   * @param {int} eci 结束列\n   */\n  set(sri, sci, eri, eci) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n  }\n\n  /**\n   * 判断是否跨多个单元格\n   * @returns {boolean}\n   */\n  multiple() {\n    return this.eri - this.sri > 0 || this.eci - this.sci > 0;\n  }\n\n  /**\n   * 判断当前的区域是否包含指定的行和列\n   * 参数支持 ri, ci 和 A10 两种形式\n   * @param {[int, int] | String} args 行索引,列索引 或者 字符串\n   * @returns {boolean}\n   */\n  includes(...args) {\n    let [ri, ci] = [0, 0];\n    if (args.length === 1) {\n      [ci, ri] = Utils.expr2xy(args[0]);\n    } else if (args.length === 2) {\n      [ri, ci] = args;\n    }\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return sri <= ri && ri <= eri && sci <= ci && ci <= eci;\n  }\n\n  /**\n   * 循环过滤指定的行列\n   * @param {Function} cb 回调函数\n   * @param {Function} rowFilter 过滤使用的回调函数\n   */\n  each(cb, rowFilter = () => true) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    for (let i = sri; i <= eri; i += 1) {\n      if (rowFilter(i)) {\n        for (let j = sci; j <= eci; j += 1) {\n          cb(i, j);\n        }\n      }\n    }\n  }\n\n  /**\n   * 判断当前的区域是否包含指定的区域\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  contains(other) {\n    return this.sri <= other.sri\n      && this.sci <= other.sci\n      && this.eri >= other.eri\n      && this.eci >= other.eci;\n  }\n\n  /**\n   * 判断当前的区域是否被指定的区域包含\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  within(other) {\n    return this.sri >= other.sri\n      && this.sci >= other.sci\n      && this.eri <= other.eri\n      && this.eci <= other.eci;\n  }\n\n  /**\n   * 判断当前的区域和指定的区域不发生重合\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  disjoint(other) {\n    return this.sri > other.eri\n      || this.sci > other.eci\n      || other.sri > this.eri\n      || other.sci > this.eci;\n  }\n\n  /**\n   * 判断当前的区域和指定的区域发生重合\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  intersects(other) {\n    return this.sri <= other.eri\n      && this.sci <= other.eci\n      && other.sri <= this.eri\n      && other.sci <= this.eci;\n  }\n\n  /**\n   * 返回当前区域和指定区域合并后的新区域\n   * @param {RectRange} other 区域\n   * @returns {RectRange}\n   */\n  union(other) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return new RectRange(\n      other.sri < sri ? other.sri : sri,\n      other.sci < sci ? other.sci : sci,\n      other.eri > eri ? other.eri : eri,\n      other.eci > eci ? other.eci : eci,\n    );\n  }\n\n  /**\n   * 返回当前区域和指定区域合重合的新区域\n   * @param {RectRange} other\n   * @returns {RectRange}\n   */\n  coincide(other) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    if (this.disjoint(other)) {\n      return RectRange.EMPTY;\n    }\n    return new RectRange(\n      other.sri > sri ? other.sri : sri,\n      other.sci > sci ? other.sci : sci,\n      other.eri < eri ? other.eri : eri,\n      other.eci < eci ? other.eci : eci,\n    );\n  }\n\n  /**\n   * 当前区域和指定区域重合\n   * 返回当前区域和指定区域不重合的部分\n   * @param {RectRange} other 区域\n   * @returns {Array}\n   */\n  coincideDifference(other) {\n    if (this.coincide(other).equals(RectRange.EMPTY)) {\n      return [];\n    }\n    return this.difference(other);\n  }\n\n  /**\n   * 返回当前区域和指定区域不重合的部分\n   * @param {RectRange} other 区域\n   * @returns {Array}\n   */\n  difference(other) {\n    const ret = [];\n    const addRet = (sri, sci, eri, eci) => {\n      ret.push(new RectRange(sri, sci, eri, eci));\n    };\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    const dsr = other.sri - sri;\n    const dsc = other.sci - sci;\n    const der = eri - other.eri;\n    const dec = eci - other.eci;\n    if (dsr > 0) {\n      addRet(sri, sci, other.sri - 1, eci);\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, eci);\n        if (dsc > 0) {\n          addRet(other.sri, sci, other.eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, other.eri, eci);\n        }\n      } else {\n        if (dsc > 0) {\n          addRet(other.sri, sci, eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, eri, eci);\n        }\n      }\n    } else if (der > 0) {\n      addRet(other.eri + 1, sci, eri, eci);\n      if (dsc > 0) {\n        addRet(sri, sci, other.eri, other.sci - 1);\n      }\n      if (dec > 0) {\n        addRet(sri, other.eci + 1, other.eri, eci);\n      }\n    }\n    if (dsc > 0) {\n      addRet(sri, sci, eri, other.sci - 1);\n      if (dec > 0) {\n        addRet(sri, other.eri + 1, eri, eci);\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, other.eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, other.eci);\n        }\n      } else {\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, eci);\n        }\n      }\n    } else if (dec > 0) {\n      addRet(sri, other.eci + 1, eri, eci);\n      if (dsr > 0) {\n        addRet(sri, sci, other.sri - 1, other.eci);\n      }\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, other.eci);\n      }\n    }\n    return ret;\n  }\n\n  /**\n   * 当前区域跨的行列数\n   * @returns {number[]}\n   */\n  size() {\n    return [\n      this.eri - this.sri + 1,\n      this.eci - this.sci + 1,\n    ];\n  }\n\n  /**\n   * 返回边缘区域\n   * @returns {{top: RectRange, left: RectRange, bottom: RectRange, right: RectRange}}\n   */\n  brink() {\n    const { sri, eri, sci, eci } = this;\n    const top = new RectRange(sri, sci, sri, eci);\n    const bottom = new RectRange(eri, sci, eri, eci);\n    const right = new RectRange(sri, eci, eri, eci);\n    const left = new RectRange(sri, sci, eri, sci);\n    return { top, right, bottom, left };\n  }\n\n  /**\n   * equals\n   * @param {RectRange} other 区域\n   * @returns {boolean}\n   */\n  equals(other) {\n    return this.eri === other.eri\n      && this.eci === other.eci\n      && this.sri === other.sri\n      && this.sci === other.sci;\n  }\n\n  /**\n   * 克隆\n   * @returns {RectRange}\n   */\n  clone() {\n    const {\n      sri, sci, eri, eci, w, h,\n    } = this;\n    return new RectRange(sri, sci, eri, eci, w, h);\n  }\n\n  toString() {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    let ref = Utils.xy2expr(sci, sri);\n    if (this.multiple()) {\n      ref = `${ref}:${Utils.xy2expr(eci, eri)}`;\n    }\n    return ref;\n  }\n\n  /**\n   * 将 B1:B8 或者 B1 参数转换成新的区域\n   * @param {String} ref 行列字符串\n   * @returns {RectRange}\n   */\n  static valueOf(ref) {\n    const refs = ref.split(':');\n    const [sci, sri] = Utils.expr2xy(refs[0]);\n    let [eri, eci] = [sri, sci];\n    if (refs.length > 1) {\n      [eci, eri] = Utils.expr2xy(refs[1]);\n    }\n    return new RectRange(sri, sci, eri, eci);\n  }\n}\n\nRectRange.EMPTY = new RectRange(-1, -1, -1, -1);\n\nexport { RectRange };\n","import { Utils } from '../../../../utils/Utils';\nimport { CopyStyle } from './CopyStyle';\nimport { ScreenWidget } from '../../screen/ScreenWidget';\nimport { RectRange } from '../../RectRange';\nimport { EventBind } from '../../../../utils/EventBind';\nimport { Constant } from '../../../../constant/Constant';\nimport { Rect } from '../../../../canvas/Rect';\n\nclass ScreenCopyStyle extends ScreenWidget {\n  constructor(screen, options = {}) {\n    super(screen);\n    this.options = Utils.mergeDeep({}, options);\n    this.lt = new CopyStyle();\n    this.t = new CopyStyle();\n    this.l = new CopyStyle();\n    this.br = new CopyStyle();\n    this.selectorAttr = null;\n    this.bind();\n  }\n\n  setLTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      frozenLeftTop, cols, rows, grid,\n    } = table;\n    const viewRange = frozenLeftTop.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.lt.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.eci > viewRange.eci) {\n      this.lt.right.hide();\n      this.lt.mask.css('border-right', 'none');\n    } else {\n      this.lt.right.show();\n      this.lt.mask.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.lt.bottom.hide();\n      this.lt.mask.css('border-bottom', 'none');\n    } else {\n      this.lt.bottom.show();\n      this.lt.mask.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.lt.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedTop, cols, rows, grid,\n    } = table;\n    const viewRange = fixedTop.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.t.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.t.left.hide();\n      this.t.mask.css('border-left', 'none');\n    } else {\n      this.t.left.show();\n      this.t.mask.cssRemoveKeys('border-left');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.t.bottom.hide();\n      this.t.mask.css('border-bottom', 'none');\n    } else {\n      this.t.bottom.show();\n      this.t.mask.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.t.right.hide();\n      this.t.mask.css('border-right', 'none');\n    } else {\n      this.t.right.show();\n      this.t.mask.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.t.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setLOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedLeft, cols, rows, grid,\n    } = table;\n    const viewRange = fixedLeft.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.l.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sri < viewRange.sri) {\n      this.l.top.hide();\n      this.l.mask.css('border-top', 'none');\n    } else {\n      this.l.top.show();\n      this.l.mask.cssRemoveKeys('border-top');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.l.right.hide();\n      this.l.mask.css('border-right', 'none');\n    } else {\n      this.l.right.show();\n      this.l.mask.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.l.bottom.hide();\n      this.l.mask.css('border-bottom', 'none');\n    } else {\n      this.l.bottom.show();\n      this.l.mask.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.l.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setBROffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      cols, rows, grid,\n    } = table;\n    const viewRange = table.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.br.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.br.left.hide();\n      this.br.mask.css('border-left', 'none');\n    } else {\n      this.br.left.show();\n      this.br.mask.cssRemoveKeys('border-left');\n    }\n    if (rect.sri < viewRange.sri) {\n      this.br.top.hide();\n      this.br.mask.css('border-top', 'none');\n    } else {\n      this.br.top.show();\n      this.br.mask.cssRemoveKeys('border-top');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.br.bottom.hide();\n      this.br.mask.css('border-bottom', 'none');\n    } else {\n      this.br.bottom.show();\n      this.br.mask.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.br.right.hide();\n      this.br.mask.css('border-right', 'none');\n    } else {\n      this.br.right.show();\n      this.br.mask.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.br.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setOffset(selectorAttr) {\n    this.setLTOffset(selectorAttr);\n    this.setTOffset(selectorAttr);\n    this.setLOffset(selectorAttr);\n    this.setBROffset(selectorAttr);\n  }\n\n  bind() {\n    const { screen } = this;\n    const { table } = screen;\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n    });\n  }\n\n  setShow(selectorAttr) {\n    this.selectorAttr = selectorAttr;\n    this.setOffset(selectorAttr);\n  }\n\n  setHide() {\n    this.selectorAttr = null;\n    this.lt.hide();\n    this.t.hide();\n    this.l.hide();\n    this.br.hide();\n  }\n}\n\nexport { ScreenCopyStyle };\n","import { Widget } from '../../../../lib/Widget';\nimport { cssPrefix } from '../../../../constant/Constant';\nimport { h } from '../../../../lib/Element';\n\nclass Selector extends Widget {\n  constructor() {\n    super(`${cssPrefix}-selector`);\n    this.cornerEl = h('div', `${cssPrefix}-selector-corner`);\n    this.areaEl = h('div', `${cssPrefix}-selector-area`);\n    this.areaEl.children(this.cornerEl);\n    this.children(this.areaEl);\n    this.hide();\n  }\n}\n\nexport { Selector };\n","/* global document */\nimport { Selector } from './Selector';\nimport { EventBind } from '../../../../utils/EventBind';\nimport { Constant } from '../../../../constant/Constant';\nimport { ScreenWidget } from '../../screen/ScreenWidget';\nimport { RectRange } from '../../RectRange';\nimport { Rect } from '../../../../canvas/Rect';\n\nconst SCREEN_SELECT_EVENT = {\n  DOWN_SELECT: Symbol('选择单元格时触发'),\n  CHANGE: Symbol('选择区域大小发生变化时触发'),\n  SELECT_CHANGE: Symbol('选择区域发生变化时触发'),\n  SELECT_CHANGE_OVER: Symbol('选择区域结束时触发'),\n};\n\nclass ScreenSelector extends ScreenWidget {\n\n  constructor(screen, options = {}) {\n    super(screen);\n    this.options = options;\n    this.selectorAttr = null;\n    this.downSelectorAttr = null;\n    this.onChangeStack = [];\n    this.onSelectChangeStack = [];\n    this.onSelectChangeOver = [];\n    this.onDownSelectStack = [];\n    this.lt = new Selector();\n    this.t = new Selector();\n    this.l = new Selector();\n    this.br = new Selector();\n    this.bind();\n  }\n\n  bind() {\n    const { screen } = this;\n    const { table } = screen;\n    const { mousePointer, focus } = table;\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e1) => {\n      if (e1.button !== 0) return;\n      const { activate } = focus;\n      const { el } = activate;\n      if (el !== table) return;\n      const { x, y } = table.computeEventXy(e1);\n      const downSelectAttr = this.getDownXYSelectorAttr(x, y);\n      // console.log('downSelectAttr >>>', downSelectAttr);\n      this.setSelectAttr(downSelectAttr);\n      this.setDownSelectAttr(downSelectAttr);\n      this.setOffset(downSelectAttr);\n      this.onDownSelectStack.forEach(cb => cb());\n      this.onChangeStack.forEach(cb => cb());\n      this.onSelectChangeStack.forEach(cb => cb());\n      const { edgeType } = downSelectAttr;\n      let key;\n      switch (edgeType) {\n        case 'left': {\n          key = Constant.MOUSE_POINTER_TYPE.SELECT_ONE_ROW;\n          break;\n        }\n        case 'top': {\n          key = Constant.MOUSE_POINTER_TYPE.SELECT_ONE_COLUMN;\n          break;\n        }\n        default: {\n          key = Constant.MOUSE_POINTER_TYPE.SELECT_CELL;\n          break;\n        }\n      }\n      mousePointer.on(key);\n      EventBind.mouseMoveUp(document, (e2) => {\n        const { x, y } = table.computeEventXy(e2);\n        const moveSelectorAttr = this.getMoveXySelectorAttr(downSelectAttr, x, y);\n        this.setSelectAttr(moveSelectorAttr);\n        this.setOffset(moveSelectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n        this.onSelectChangeStack.forEach(cb => cb());\n      }, () => {\n        mousePointer.off(key);\n        this.onSelectChangeOver.forEach(cb => cb());\n      });\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n      }\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, () => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n      }\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, () => {\n      if (this.selectorAttr) {\n        this.setOffset(this.selectorAttr);\n        this.onChangeStack.forEach(cb => cb());\n      }\n    });\n  }\n\n  setLTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      frozenLeftTop, cols, rows, grid,\n    } = table;\n    const viewRange = frozenLeftTop.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.lt.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.eci > viewRange.eci) {\n      this.lt.areaEl.css('border-right', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.lt.areaEl.css('border-bottom', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.lt.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setTOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedTop, cols, rows, grid,\n    } = table;\n    const viewRange = fixedTop.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.t.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.t.areaEl.css('border-left', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.t.areaEl.css('border-bottom', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.t.areaEl.css('border-right', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.t.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setLOffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      fixedLeft, cols, rows, grid,\n    } = table;\n    const viewRange = fixedLeft.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.l.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sri < viewRange.sri) {\n      this.l.areaEl.css('border-top', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.l.areaEl.css('border-right', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.l.areaEl.css('border-bottom', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-bottom');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.l.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setBROffset(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      cols, rows, grid,\n    } = table;\n    const viewRange = table.getScrollViewRange();\n    const { rect } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.br.hide();\n      return;\n    }\n\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n\n    if (rect.sci < viewRange.sci) {\n      this.br.areaEl.css('border-left', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.sri < viewRange.sri) {\n      this.br.areaEl.css('border-top', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.br.areaEl.css('border-bottom', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.br.areaEl.css('border-right', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-right');\n    }\n\n    const size = new Rect({\n      x: left, y: top, width, height,\n    });\n    size.expandSize(grid.lineWidth());\n    this.br.offset({\n      width: size.width,\n      height: size.height,\n      left: size.x,\n      top: size.y,\n    }).show();\n  }\n\n  setLTCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const { frozenLeftTop } = table;\n    const viewRange = frozenLeftTop.getScrollViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.lt.cornerEl.cssRemoveKeys('left');\n    this.lt.cornerEl.cssRemoveKeys('top');\n    this.lt.cornerEl.cssRemoveKeys('right');\n    this.lt.cornerEl.cssRemoveKeys('bottom');\n    this.lt.cornerEl.hide();\n\n    if (edge) {\n      const ltT = intersectsArea === 'ltt';\n      const ltL = intersectsArea === 'ltl';\n      if (edgeType === 'left' && ltT) {\n        this.lt.cornerEl.show();\n        this.lt.cornerEl.css('left', '0px');\n        this.lt.cornerEl.css('bottom', '0px');\n      }\n      if (edgeType === 'top' && ltL) {\n        this.lt.cornerEl.show();\n        this.lt.cornerEl.css('right', '0px');\n        this.lt.cornerEl.css('top', '0px');\n      }\n    } else {\n      const lt = intersectsArea === 'lt';\n      if (lt) {\n        this.lt.cornerEl.show();\n        this.lt.cornerEl.css('right', '0px');\n        this.lt.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eci > viewRange.eci) {\n        this.lt.cornerEl.hide();\n      }\n      if (rect.eri > viewRange.eri) {\n        this.lt.cornerEl.hide();\n      }\n    }\n  }\n\n  setTCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedTop } = table;\n    const viewRange = fixedTop.getScrollViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.t.cornerEl.cssRemoveKeys('left');\n    this.t.cornerEl.cssRemoveKeys('top');\n    this.t.cornerEl.cssRemoveKeys('right');\n    this.t.cornerEl.cssRemoveKeys('bottom');\n    this.t.cornerEl.hide();\n\n    if (edge) {\n      const tBr = intersectsArea === 'tbr';\n      const ltTBrL = intersectsArea === 'lttlbr';\n      if (edgeType === 'top' && tBr) {\n        this.t.cornerEl.show();\n        this.t.cornerEl.css('right', '0px');\n        this.t.cornerEl.css('top', '0px');\n      }\n      if (edgeType === 'top' && ltTBrL) {\n        this.t.cornerEl.show();\n        this.t.cornerEl.css('right', '0px');\n        this.t.cornerEl.css('top', '0px');\n      }\n      if (edgeType === 'top' && rect.eci > viewRange.eci) {\n        this.t.cornerEl.hide();\n      }\n    } else {\n      const t = intersectsArea === 't';\n      const ltT = intersectsArea === 'ltt';\n      if (t || ltT) {\n        this.t.cornerEl.show();\n        this.t.cornerEl.css('right', '0px');\n        this.t.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eci > viewRange.eci) {\n        this.t.cornerEl.hide();\n      }\n      if (rect.eri > viewRange.eri) {\n        this.t.cornerEl.hide();\n      }\n    }\n  }\n\n  setLCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedLeft } = table;\n    const viewRange = fixedLeft.getScrollViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.l.cornerEl.cssRemoveKeys('left');\n    this.l.cornerEl.cssRemoveKeys('top');\n    this.l.cornerEl.cssRemoveKeys('right');\n    this.l.cornerEl.cssRemoveKeys('bottom');\n    this.l.cornerEl.hide();\n\n    if (edge) {\n      const lBr = intersectsArea === 'lbr';\n      const ltTBrL = intersectsArea === 'lttlbr';\n      if (edgeType === 'left' && lBr) {\n        this.l.cornerEl.show();\n        this.l.cornerEl.css('left', '0');\n        this.l.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left' && ltTBrL) {\n        this.l.cornerEl.show();\n        this.l.cornerEl.css('left', '0');\n        this.l.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left' && rect.eri > viewRange.eri) {\n        this.l.cornerEl.hide();\n      }\n    } else {\n      const l = intersectsArea === 'l';\n      const ltL = intersectsArea === 'ltl';\n      if (l || ltL) {\n        this.l.cornerEl.show();\n        this.l.cornerEl.css('right', '0px');\n        this.l.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eci > viewRange.eci) {\n        this.l.cornerEl.hide();\n      }\n      if (rect.eri > viewRange.eri) {\n        this.l.cornerEl.hide();\n      }\n    }\n  }\n\n  setBrCorner(selectorAttr, intersectsArea) {\n    const { screen } = this;\n    const { table } = screen;\n    const viewRange = table.getScrollViewRange();\n    const { rect, edge, edgeType } = selectorAttr;\n\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      return;\n    }\n\n    this.br.cornerEl.cssRemoveKeys('left');\n    this.br.cornerEl.cssRemoveKeys('top');\n    this.br.cornerEl.cssRemoveKeys('right');\n    this.br.cornerEl.cssRemoveKeys('bottom');\n    this.br.cornerEl.hide();\n\n    if (edge) {\n      const br = intersectsArea === 'br';\n      const ltTLBr = intersectsArea === 'lttlbr';\n      if (edgeType === 'left' && br) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('left', '0');\n        this.br.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'top' && br) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0');\n        this.br.cornerEl.css('top', '0');\n      }\n      if (edgeType === 'left-top' && ltTLBr) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0');\n        this.br.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left-top' && br) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0');\n        this.br.cornerEl.css('bottom', '0');\n      }\n      if (edgeType === 'left' && rect.eri > viewRange.eri) {\n        this.br.cornerEl.hide();\n      }\n      if (edgeType === 'top' && rect.eci > viewRange.eci) {\n        this.br.cornerEl.hide();\n      }\n    } else {\n      const br = intersectsArea === 'br';\n      const tBr = intersectsArea === 'tbr';\n      const lBr = intersectsArea === 'lbr';\n      const ltTLBr = intersectsArea === 'lttlbr';\n      if (br || tBr || lBr || lBr || ltTLBr) {\n        this.br.cornerEl.show();\n        this.br.cornerEl.css('right', '0px');\n        this.br.cornerEl.css('bottom', '0px');\n      }\n      if (rect.eri > viewRange.eri) {\n        this.br.cornerEl.hide();\n      }\n      if (rect.eci > viewRange.eci) {\n        this.br.cornerEl.hide();\n      }\n    }\n  }\n\n  setSelectAttr(selectorAttr) {\n    this.selectorAttr = selectorAttr;\n    this.selectorAttr.id = Date.now();\n  }\n\n  setDownSelectAttr(downSelectorAttr) {\n    this.downSelectorAttr = downSelectorAttr;\n  }\n\n  getIntersectsArea(selectorAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixed, cols, rows } = table;\n    const { rect } = selectorAttr;\n    let type = '';\n    const tlRange = new RectRange(0, 0, fixed.fxTop, fixed.fxLeft);\n    const tRange = new RectRange(0, fixed.fxLeft + 1, fixed.fxTop, cols.len);\n    const lRange = new RectRange(fixed.fxTop + 1, 0, rows.len, fixed.fxLeft);\n    const brRange = new RectRange(fixed.fxTop + 1, fixed.fxLeft + 1, rows.len, cols.len);\n    if (rect.intersects(tlRange)) type += 'lt';\n    if (rect.intersects(tRange)) type += 't';\n    if (rect.intersects(lRange)) type += 'l';\n    if (rect.intersects(brRange)) type += 'br';\n    return type;\n  }\n\n  setOffset(selectorAttr) {\n    const intersectsArea = this.getIntersectsArea(selectorAttr);\n    // console.log('intersectsArea', intersectsArea)\n\n    this.setLTOffset(selectorAttr);\n    this.setTOffset(selectorAttr);\n    this.setLOffset(selectorAttr);\n    this.setBROffset(selectorAttr);\n\n    this.setLTCorner(selectorAttr, intersectsArea);\n    this.setTCorner(selectorAttr, intersectsArea);\n    this.setLCorner(selectorAttr, intersectsArea);\n    this.setBrCorner(selectorAttr, intersectsArea);\n  }\n\n  getViewRange() {\n    const { screen } = this;\n    const { table } = screen;\n    const { cols, rows } = table;\n    const viewRange = table.getScrollViewRange();\n    let { sri, sci } = viewRange;\n    const { eri, eci } = viewRange;\n\n    if (table.getFixedWidth() > 0) {\n      sri = 0;\n    }\n    if (table.getFixedHeight() > 0) {\n      sci = 0;\n    }\n\n    const width = cols.sectionSumWidth(sci, eci);\n    const height = rows.sectionSumHeight(sri, eri);\n\n    return new RectRange(sri, sci, eri, eci, width, height);\n  }\n\n  getDownXYSelectorAttr(x, y) {\n    const { screen } = this;\n    const { table } = screen;\n    const { merges, rows, cols } = table;\n    const { ri, ci } = table.getRiCiByXy(x, y);\n    if (ri === -1 && ci === -1) {\n      const rect = new RectRange(0, 0, rows.len - 1, cols.len - 1);\n      return {\n        rect, edge: true, edgeType: 'left-top',\n      };\n    }\n    if (ri === -1) {\n      const rect = new RectRange(0, ci, rows.len - 1, ci);\n      return {\n        rect, edge: true, edgeType: 'top',\n      };\n    }\n    if (ci === -1) {\n      const rect = new RectRange(ri, 0, ri, cols.len - 1);\n      return {\n        rect, edge: true, edgeType: 'left',\n      };\n    }\n    const merge = merges.getFirstIncludes(ri, ci);\n    let rect = new RectRange(ri, ci, ri, ci);\n    if (merge) {\n      rect = merge;\n    }\n    return { rect };\n  }\n\n  getMoveXySelectorAttr(selectorAttr, x, y) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      merges, rows, cols,\n    } = table;\n    const { rect: selectRect, edgeType } = selectorAttr;\n    const viewRange = this.getViewRange();\n    let { ri, ci } = table.getRiCiByXy(x, y);\n    if (ri === -1) ri = viewRange.sri;\n    if (ci === -1) ci = viewRange.sci;\n    switch (edgeType) {\n      case 'left-top': {\n        let rect = selectRect.union(new RectRange(0, 0, rows.len - 1, cols.len - 1));\n        rect = selectRect.union(rect);\n        return {\n          rect, edge: true, edgeType: 'left-top',\n        };\n      }\n      case 'top': {\n        let rect = selectRect.union(new RectRange(0, ci, 0, ci));\n        rect = selectRect.union(rect);\n        return {\n          rect, edge: true, edgeType: 'top',\n        };\n      }\n      case 'left': {\n        let rect = selectRect.union(new RectRange(ri, 0, ri, 0));\n        rect = selectRect.union(rect);\n        return {\n          rect, edge: true, edgeType: 'left',\n        };\n      }\n      default: break;\n    }\n    let rect = selectRect.union(new RectRange(ri, ci, ri, ci));\n    rect = merges.union(rect);\n    return { rect };\n  }\n\n  getSelectRange() {\n    const { rect } = this.selectorAttr;\n    return rect;\n  }\n\n  on(type, cb) {\n    let array;\n    switch (type) {\n      case SCREEN_SELECT_EVENT.CHANGE:\n        array = this.onChangeStack;\n        break;\n      case SCREEN_SELECT_EVENT.SELECT_CHANGE_OVER:\n        array = this.onSelectChangeOver;\n        break;\n      case SCREEN_SELECT_EVENT.DOWN_SELECT:\n        array = this.onDownSelectStack;\n        break;\n      case SCREEN_SELECT_EVENT.SELECT_CHANGE:\n        array = this.onSelectChangeStack;\n        break;\n      default: break;\n    }\n    if (array) {\n      array.push(cb);\n    }\n  }\n\n  remove(type, cb) {\n    let array;\n    switch (type) {\n      case SCREEN_SELECT_EVENT.CHANGE:\n        array = this.onChangeStack;\n        break;\n      case SCREEN_SELECT_EVENT.SELECT_CHANGE_OVER:\n        array = this.onSelectChangeOver;\n        break;\n      case SCREEN_SELECT_EVENT.DOWN_SELECT:\n        array = this.onDownSelectStack;\n        break;\n      case SCREEN_SELECT_EVENT.SELECT_CHANGE:\n        array = this.onSelectChangeStack;\n        break;\n      default: break;\n    }\n    if (array) {\n      for (let i = 0; i < array.length; i += 1) {\n        const item = array[i];\n        if (item === cb) {\n          array.splice(i, 1);\n          return;\n        }\n      }\n    }\n  }\n}\n\nexport {\n  SCREEN_SELECT_EVENT,\n  ScreenSelector,\n};\n","import {\n  ALIGN,\n  TEXT_DIRECTION,\n  TEXT_WRAP,\n  VERTICAL_ALIGN,\n} from '../../../canvas/Font';\n\n/**\n *  CellFont\n *  @author jerry\n */\nclass CellFont {\n\n  /**\n   * CellFont\n   * @param align\n   * @param verticalAlign\n   * @param textWrap\n   * @param strikethrough\n   * @param underline\n   * @param color\n   * @param name\n   * @param size\n   * @param bold\n   * @param italic\n   * @param angle\n   * @param direction\n   */\n  constructor({\n    align = ALIGN.left,\n    verticalAlign = VERTICAL_ALIGN.center,\n    textWrap = TEXT_WRAP.OVER_FLOW,\n    strikethrough = false,\n    underline = false,\n    color = 'rgb(0,0,0)',\n    name = 'Arial',\n    size = 14,\n    bold = false,\n    italic = false,\n    angle = 0,\n    direction = TEXT_DIRECTION.HORIZONTAL,\n  }) {\n    this.align = align;\n    this.verticalAlign = verticalAlign;\n    this.textWrap = textWrap;\n    this.strikethrough = strikethrough;\n    this.underline = underline;\n    this.color = color;\n    this.name = name;\n    this.size = size;\n    this.bold = bold;\n    this.italic = italic;\n    this.direction = direction;\n    this.angle = angle;\n  }\n\n  clone() {\n    const {\n      align,\n      verticalAlign,\n      textWrap,\n      strikethrough,\n      underline,\n      color,\n      name,\n      size,\n      bold,\n      italic,\n      angle,\n      direction,\n    } = this;\n    return new CellFont({\n      align,\n      verticalAlign,\n      textWrap,\n      strikethrough,\n      underline,\n      color,\n      name,\n      size,\n      bold,\n      italic,\n      angle,\n      direction,\n    });\n  }\n}\n\nexport { CellFont };\n","import { LINE_TYPE } from '../../../canvas/Line';\nimport { Utils } from '../../../utils/Utils';\n\n/**\n * Border\n * @author jerry\n */\nclass Border {\n\n  /**\n   * Border\n   * @param time\n   * @param display\n   * @param width\n   * @param color\n   * @param type\n   */\n  constructor({\n    time = Utils.now(),\n    display = false,\n    width = 1,\n    color = '#000000',\n    type = LINE_TYPE.SOLID_LINE,\n  }) {\n    this.$time = time;\n    this.$display = display;\n    this.$width = width;\n    this.$color = color;\n    this.$type = type;\n  }\n\n  /**\n   * 读取属性修改时间\n   * @returns {*}\n   */\n  get time() {\n    return this.$time;\n  }\n\n  /**\n   * 读取边框是否显示\n   * @returns {boolean}\n   */\n  get display() {\n    return this.$display;\n  }\n\n  /**\n   * 设置边框是否显示\n   * @param value\n   */\n  set display(value) {\n    this.$time = Utils.now();\n    this.$display = value;\n  }\n\n  /**\n   * 读取边框宽度\n   * @returns {number}\n   */\n  get width() {\n    return this.$width;\n  }\n\n  /**\n   * 设置边框宽度\n   * @param value\n   */\n  set width(value) {\n    this.$time = Utils.now();\n    this.$width = value;\n  }\n\n  /**\n   * 读取边框颜色\n   * @returns {string}\n   */\n  get color() {\n    return this.$color;\n  }\n\n  /**\n   * 设置边框颜色\n   * @param value\n   */\n  set color(value) {\n    this.$time = Utils.now();\n    this.$color = value;\n  }\n\n  /**\n   * 读取边框类型\n   * @returns {number}\n   */\n  get type() {\n    return this.$type;\n  }\n\n  /**\n   * 设置边框类型\n   * @param value\n   */\n  set type(value) {\n    this.$time = Utils.now();\n    this.$type = value;\n  }\n\n  /**\n   * 判断两个边框是否一致\n   * @param target\n   */\n  equal(target) {\n    const color = this.color === target.color;\n    const width = this.width === target.width;\n    const type = this.type === target.type;\n    return color && width && type;\n  }\n\n  /**\n   * 比较两个边框的修改时间\n   * this > target = 1\n   * this < target = -1\n   * this == target = 0\n   * @param target\n   * @returns {number}\n   */\n  compareTime(target) {\n    if (Utils.isUnDef(target)) {\n      return -2;\n    }\n    const srcTime = this.time;\n    const targetTime = target.time;\n    if (srcTime > targetTime) {\n      return 1;\n    }\n    if (targetTime > srcTime) {\n      return -1;\n    }\n    return 0;\n  }\n}\n\nexport { Border };\n","import { Border } from './Border';\n\n/**\n * CellBorder\n * @author jerry\n */\nclass CellBorder {\n\n  /**\n   * CellBorder\n   * @param time\n   * @param left\n   * @param top\n   * @param right\n   * @param bottom\n   */\n  constructor({\n    left = {},\n    top = {},\n    right = {},\n    bottom = {},\n  }) {\n    this.left = new Border(left);\n    this.top = new Border(top);\n    this.right = new Border(right);\n    this.bottom = new Border(bottom);\n  }\n\n  clone() {\n    const {\n      left,\n      top,\n      right,\n      bottom,\n    } = this;\n    return new CellBorder({\n      left,\n      top,\n      right,\n      bottom,\n    });\n  }\n}\n\nexport { CellBorder };\n","import { Utils } from '../../../utils/Utils';\nimport { CellFont } from './CellFont';\nimport { CellBorder } from './CellBorder';\n\n/**\n * Cell\n * @author jerry\n */\nclass Cell {\n\n  /**\n   * Cell\n   * @param text\n   * @param background\n   * @param format\n   * @param fontAttr\n   * @param borderAttr\n   * @param contentWidth\n   */\n  constructor({\n    text = Utils.EMPTY,\n    background = Utils.Nul,\n    format = 'default',\n    fontAttr = {},\n    borderAttr = {},\n    contentWidth = 0,\n  }) {\n    this.background = background;\n    this.format = format;\n    this.text = text;\n    this.fontAttr = new CellFont(fontAttr);\n    this.borderAttr = new CellBorder(borderAttr);\n    this.contentWidth = contentWidth;\n  }\n\n  setContentWidth(contentWidth) {\n    this.contentWidth = contentWidth;\n  }\n\n  clone() {\n    const {\n      background,\n      format,\n      text,\n      fontAttr,\n      borderAttr,\n    } = this;\n    return new Cell({\n      background,\n      format,\n      text,\n      fontAttr: fontAttr.clone(),\n      borderAttr: borderAttr.clone(),\n    });\n  }\n}\n\nexport { Cell };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix, Constant } from '../../constant/Constant';\nimport { Undo } from './tools/Undo';\nimport { Redo } from './tools/Redo';\nimport { PaintFormat } from './tools/PaintFormat';\nimport { ClearFormat } from './tools/ClearFormat';\nimport { Format } from './tools/Format';\nimport { Font } from './tools/Font';\nimport { FontSize } from './tools/FontSize';\nimport { FontBold } from './tools/FontBold';\nimport { FontItalic } from './tools/FontItalic';\nimport { UnderLine } from './tools/UnderLine';\nimport { FontStrike } from './tools/FontStrike';\nimport { FontColor } from './tools/FontColor';\nimport { FillColor } from './tools/FillColor';\nimport { Border } from './tools/contextmenu/icon/border/Border';\nimport { Merge } from './tools/Merge';\nimport { HorizontalAlign } from './tools/HorizontalAlign';\nimport { VerticalAlign } from './tools/VerticalAlign';\nimport { TextWrapping } from './tools/TextWrapping';\nimport { Fixed } from './tools/Fixed';\nimport { Filter } from './tools/Filter';\nimport { Functions } from './tools/Functions';\nimport { EventBind } from '../../utils/EventBind';\nimport { ScreenCopyStyle } from '../table/screenwiget/copystyle/ScreenCopyStyle';\nimport { SCREEN_SELECT_EVENT, ScreenSelector } from '../table/screenwiget/selector/ScreenSelector';\nimport { ElPopUp } from '../../component/elpopup/ElPopUp';\nimport { LINE_TYPE } from '../../canvas/Line';\nimport { Icon } from './tools/Icon';\nimport { ALIGN, TEXT_WRAP, VERTICAL_ALIGN } from '../../canvas/Font';\nimport { Cell } from '../table/cells/Cell';\n\nclass Divider extends Widget {\n  constructor() {\n    super(`${cssPrefix}-tools-divider`);\n  }\n}\n\nclass TopMenu extends Widget {\n\n  constructor(workTop) {\n    super(`${cssPrefix}-tools-menu`);\n\n    this.workTop = workTop;\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n\n    // tools\n    this.undo = new Undo();\n    this.redo = new Redo();\n    this.paintFormat = new PaintFormat();\n    this.clearFormat = new ClearFormat();\n    this.format = new Format({\n      contextMenu: {\n        onUpdate: (format, title) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.format.setTitle(title);\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.format = format;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.font = new Font({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.font.setTitle(type);\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.fontAttr.name = type;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fontSize = new FontSize({\n      contextMenu: {\n        onUpdate: (size) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.fontSize.setTitle(size);\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.fontAttr.size = size;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fontColor = new FontColor({\n      contextMenu: {\n        onUpdate: (color) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.fontColor.setColor(color);\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.fontAttr.color = color;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fillColor = new FillColor({\n      contextMenu: {\n        onUpdate: (color) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          this.fillColor.setColor(color);\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.background = color;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.border = new Border({\n      contextMenu: {\n        onUpdate: (borderType, color, lineType) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            cells,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            let width = 1;\n            let type = LINE_TYPE.SOLID_LINE;\n            // Line Type\n            switch (lineType) {\n              case 'line1':\n                width = 1;\n                type = LINE_TYPE.SOLID_LINE;\n                break;\n              case 'line2':\n                width = 2;\n                type = LINE_TYPE.SOLID_LINE;\n                break;\n              case 'line3':\n                width = 3;\n                type = LINE_TYPE.SOLID_LINE;\n                break;\n              case 'line4':\n                type = LINE_TYPE.DOTTED_LINE;\n                break;\n              case 'line5':\n                type = LINE_TYPE.POINT_LINE;\n                break;\n              case 'line6':\n                type = LINE_TYPE.DOUBLE_LINE;\n                break;\n              default: break;\n            }\n            // Border Type\n            switch (borderType) {\n              case 'border1':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    cell.borderAttr.left.display = true;\n                    cell.borderAttr.top.display = true;\n                    cell.borderAttr.right.display = true;\n                    cell.borderAttr.bottom.display = true;\n                    // 颜色\n                    cell.borderAttr.left.color = color;\n                    cell.borderAttr.top.color = color;\n                    cell.borderAttr.right.color = color;\n                    cell.borderAttr.bottom.color = color;\n                    // 宽度\n                    cell.borderAttr.left.width = width;\n                    cell.borderAttr.top.width = width;\n                    cell.borderAttr.right.width = width;\n                    cell.borderAttr.bottom.width = width;\n                    // 类型\n                    cell.borderAttr.left.type = type;\n                    cell.borderAttr.top.type = type;\n                    cell.borderAttr.right.type = type;\n                    cell.borderAttr.bottom.type = type;\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border2':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.display = true;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.display = true;\n                    } else {\n                      cell.borderAttr.bottom.display = true;\n                      cell.borderAttr.top.display = true;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.display = true;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.display = true;\n                    } else {\n                      cell.borderAttr.right.display = true;\n                      cell.borderAttr.left.display = true;\n                    }\n                    // 颜色\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.color = color;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.color = color;\n                    } else {\n                      cell.borderAttr.bottom.color = color;\n                      cell.borderAttr.top.color = color;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.color = color;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.color = color;\n                    } else {\n                      cell.borderAttr.right.color = color;\n                      cell.borderAttr.left.color = color;\n                    }\n                    // 宽度\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.width = width;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.width = width;\n                    } else {\n                      cell.borderAttr.bottom.width = width;\n                      cell.borderAttr.top.width = width;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.width = width;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.width = width;\n                    } else {\n                      cell.borderAttr.right.width = width;\n                      cell.borderAttr.left.width = width;\n                    }\n                    // 类型\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.type = type;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.type = type;\n                    } else {\n                      cell.borderAttr.bottom.type = type;\n                      cell.borderAttr.top.type = type;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.type = type;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.type = type;\n                    } else {\n                      cell.borderAttr.right.type = type;\n                      cell.borderAttr.left.type = type;\n                    }\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border3':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.display = true;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.display = true;\n                    } else {\n                      cell.borderAttr.bottom.display = true;\n                      cell.borderAttr.top.display = true;\n                    }\n                    // 颜色\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.color = color;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.color = color;\n                    } else {\n                      cell.borderAttr.bottom.color = color;\n                      cell.borderAttr.top.color = color;\n                    }\n                    // 宽度\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.width = width;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.width = width;\n                    } else {\n                      cell.borderAttr.bottom.width = width;\n                      cell.borderAttr.top.width = width;\n                    }\n                    // 类型\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.bottom.type = type;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.top.type = type;\n                    } else {\n                      cell.borderAttr.bottom.type = type;\n                      cell.borderAttr.top.type = type;\n                    }\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border4':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.display = true;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.display = true;\n                    } else {\n                      cell.borderAttr.right.display = true;\n                      cell.borderAttr.left.display = true;\n                    }\n                    // 颜色\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.color = color;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.color = color;\n                    } else {\n                      cell.borderAttr.right.color = color;\n                      cell.borderAttr.left.color = color;\n                    }\n                    // 宽度\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.width = width;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.width = width;\n                    } else {\n                      cell.borderAttr.right.width = width;\n                      cell.borderAttr.left.width = width;\n                    }\n                    // 类型\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.right.type = type;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.left.type = type;\n                    } else {\n                      cell.borderAttr.right.type = type;\n                      cell.borderAttr.left.type = type;\n                    }\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border5':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.left.display = true;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.right.display = true;\n                    }\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.top.display = true;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.bottom.display = true;\n                    }\n                    // 颜色\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.left.color = color;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.right.color = color;\n                    }\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.top.color = color;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.bottom.color = color;\n                    }\n                    // 宽度\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.left.width = width;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.right.width = width;\n                    }\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.top.width = width;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.bottom.width = width;\n                    }\n                    // 类型\n                    if (selectorAttr.rect.sci === c) {\n                      cell.borderAttr.left.type = type;\n                    } else if (selectorAttr.rect.eci === c) {\n                      cell.borderAttr.right.type = type;\n                    }\n                    if (selectorAttr.rect.sri === r) {\n                      cell.borderAttr.top.type = type;\n                    } else if (selectorAttr.rect.eri === r) {\n                      cell.borderAttr.bottom.type = type;\n                    }\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border6':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (c === selectorAttr.rect.sci) {\n                      cell.borderAttr.left.display = true;\n                    }\n                    // 颜色\n                    cell.borderAttr.left.color = color;\n                    // 宽度\n                    cell.borderAttr.left.width = width;\n                    // 类型\n                    cell.borderAttr.left.type = type;\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border7':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (r === selectorAttr.rect.sri) {\n                      cell.borderAttr.top.display = true;\n                    }\n                    // 颜色\n                    cell.borderAttr.top.color = color;\n                    // 宽度\n                    cell.borderAttr.top.width = width;\n                    // 类型\n                    cell.borderAttr.top.type = type;\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border8':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (c === selectorAttr.rect.eci) {\n                      cell.borderAttr.right.display = true;\n                    }\n                    // 颜色\n                    cell.borderAttr.right.color = color;\n                    // 宽度\n                    cell.borderAttr.right.width = width;\n                    // 类型\n                    cell.borderAttr.right.type = type;\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border9':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (r === selectorAttr.rect.eri) {\n                      cell.borderAttr.bottom.display = true;\n                    }\n                    // 颜色\n                    cell.borderAttr.bottom.color = color;\n                    // 宽度\n                    cell.borderAttr.bottom.width = width;\n                    // 类型\n                    cell.borderAttr.bottom.type = type;\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              case 'border10':\n                cellsHelper.getCellOrNewCellByViewRange({\n                  rectRange: selectorAttr.rect,\n                  callback: (r, c, origin) => {\n                    const cell = origin.clone();\n                    // 显示\n                    if (selectorAttr.rect.sri === r) {\n                      const top = cells.getCellOrNew(r - 1, c);\n                      top.borderAttr.bottom.display = false;\n                    }\n                    if (selectorAttr.rect.eri === r) {\n                      const bottom = cells.getCellOrNew(r + 1, c);\n                      bottom.borderAttr.top.display = false;\n                    }\n                    if (selectorAttr.rect.sci === c) {\n                      const left = cells.getCellOrNew(r, c - 1);\n                      left.borderAttr.right.display = false;\n                    }\n                    if (selectorAttr.rect.eci === c) {\n                      const right = cells.getCellOrNew(r, c + 1);\n                      right.borderAttr.left.display = false;\n                    }\n                    cell.borderAttr.left.display = false;\n                    cell.borderAttr.top.display = false;\n                    cell.borderAttr.right.display = false;\n                    cell.borderAttr.bottom.display = false;\n                    // 颜色\n                    cell.borderAttr.left.color = false;\n                    cell.borderAttr.top.color = false;\n                    cell.borderAttr.right.color = false;\n                    cell.borderAttr.bottom.color = false;\n                    // 宽度\n                    cell.borderAttr.left.width = false;\n                    cell.borderAttr.top.width = false;\n                    cell.borderAttr.right.width = false;\n                    cell.borderAttr.bottom.width = false;\n                    // 类型\n                    cell.borderAttr.left.type = false;\n                    cell.borderAttr.top.type = false;\n                    cell.borderAttr.right.type = false;\n                    cell.borderAttr.bottom.type = false;\n                    // 修改\n                    cellDataProxy.setCell(r, c, cell);\n                  },\n                });\n                break;\n              default: break;\n            }\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fontBold = new FontBold();\n    this.fontItalic = new FontItalic();\n    this.underLine = new UnderLine();\n    this.fontStrike = new FontStrike();\n    this.merge = new Merge();\n    this.horizontalAlign = new HorizontalAlign({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          switch (type) {\n            case ALIGN.left:\n              this.horizontalAlign.setIcon(new Icon('align-left'));\n              break;\n            case ALIGN.center:\n              this.horizontalAlign.setIcon(new Icon('align-center'));\n              break;\n            case ALIGN.right:\n              this.horizontalAlign.setIcon(new Icon('align-right'));\n              break;\n            default: break;\n          }\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.fontAttr.align = type;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.verticalAlign = new VerticalAlign({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          switch (type) {\n            case VERTICAL_ALIGN.top:\n              this.verticalAlign.setIcon(new Icon('align-top'));\n              break;\n            case VERTICAL_ALIGN.center:\n              this.verticalAlign.setIcon(new Icon('align-middle'));\n              break;\n            case VERTICAL_ALIGN.bottom:\n              this.verticalAlign.setIcon(new Icon('align-bottom'));\n              break;\n            default: break;\n          }\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.fontAttr.verticalAlign = type;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.textWrapping = new TextWrapping({\n      contextMenu: {\n        onUpdate: (type) => {\n          const sheet = sheetView.getActiveSheet();\n          const { table } = sheet;\n          const {\n            screen,\n            cellsHelper,\n            tableDataSnapshot,\n          } = table;\n          const screenSelector = screen.findByClass(ScreenSelector);\n          const { selectorAttr } = screenSelector;\n          let icon;\n          switch (type) {\n            case TEXT_WRAP.TRUNCATE:\n              icon = new Icon('truncate');\n              break;\n            case TEXT_WRAP.WORD_WRAP:\n              icon = new Icon('text-wrap');\n              break;\n            case TEXT_WRAP.OVER_FLOW:\n            default:\n              icon = new Icon('overflow');\n              break;\n          }\n          this.textWrapping.setIcon(icon);\n          if (selectorAttr) {\n            tableDataSnapshot.begin();\n            const { cellDataProxy } = tableDataSnapshot;\n            cellsHelper.getCellOrNewCellByViewRange({\n              rectRange: selectorAttr.rect,\n              callback: (r, c, origin) => {\n                const cell = origin.clone();\n                cell.fontAttr.textWrap = type;\n                cellDataProxy.setCell(r, c, cell);\n              },\n            });\n            tableDataSnapshot.end();\n            table.render();\n          }\n        },\n      },\n    });\n    this.fixed = new Fixed();\n    this.filter = new Filter();\n    this.functions = new Functions();\n    this.children(this.undo);\n    this.children(this.redo);\n    this.children(this.paintFormat);\n    this.children(this.clearFormat);\n    this.children(new Divider());\n    this.children(this.format);\n    this.children(new Divider());\n    this.children(this.font);\n    this.children(this.fontSize);\n    this.children(new Divider());\n    this.children(this.fontBold);\n    this.children(this.fontItalic);\n    this.children(this.underLine);\n    this.children(this.fontStrike);\n    this.children(this.fontColor);\n    this.children(new Divider());\n    this.children(this.fillColor);\n    this.children(this.border);\n    this.children(this.merge);\n    this.children(this.horizontalAlign);\n    this.children(this.verticalAlign);\n    this.children(this.textWrapping);\n    this.children(this.fixed);\n    this.children(this.filter);\n    this.children(this.functions);\n  }\n\n  onAttach() {\n    this.bind();\n  }\n\n  bind() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    EventBind.bind(body, Constant.WORK_BODY_EVENT_TYPE.CHANGE_ACTIVE, () => {\n      this.setStatus();\n    });\n    EventBind.bind(body, Constant.TABLE_EVENT_TYPE.DATA_CHANGE, () => {\n      this.setStatus();\n    });\n    EventBind.bind(body, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, () => {\n      // console.log('TABLE_EVENT_TYPE.SELECT_DOWN');\n      this.setFormatStatus();\n      this.setFontStatus();\n      this.setFontSizeStatus();\n      this.setFontBoldStatus();\n      this.setFontItalicStatus();\n      this.setUnderLineStatus();\n      this.setFontStrikeStatus();\n      this.setFontColorStatus();\n      this.setFillColorStatus();\n      this.setHorizontalAlignStatus();\n      this.setVerticalAlignStatus();\n      this.setTextWrappingStatus();\n    });\n    EventBind.bind(this.undo, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { tableDataSnapshot } = table;\n      if (tableDataSnapshot.canBack()) tableDataSnapshot.back();\n    });\n    EventBind.bind(this.redo, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const { tableDataSnapshot } = table;\n      if (tableDataSnapshot.canGo()) tableDataSnapshot.go();\n    });\n    EventBind.bind(this.paintFormat, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        cells,\n        tableDataSnapshot,\n      } = table;\n      const screenCopyStyle = screen.findByClass(ScreenCopyStyle);\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        screenCopyStyle.setShow(selectorAttr);\n        this.paintFormat.active(true);\n        this.paintFormat.addSheet(sheet);\n        const cb = () => {\n          // 清除复制\n          screenCopyStyle.setHide();\n          this.paintFormat.active(false);\n          this.paintFormat.removeSheet(sheet);\n          screenSelector.remove(SCREEN_SELECT_EVENT.SELECT_CHANGE_OVER, cb);\n\n          const srcRect = selectorAttr.rect;\n          const targetRect = screenSelector.selectorAttr.rect;\n\n          tableDataSnapshot.begin();\n          const { cellDataProxy } = tableDataSnapshot;\n          for (let i = srcRect.sri, j = targetRect.sri; i <= srcRect.eri; i += 1, j += 1) {\n            for (let k = srcRect.sci, v = targetRect.sci; k <= srcRect.eci; k += 1, v += 1) {\n              const src = cells.getCellOrNew(i, k);\n              const target = cells.getCellOrNew(j, v);\n              const { text } = target;\n              const cell = src.clone();\n              cell.text = text;\n              cellDataProxy.setCell(j, v, cell);\n            }\n          }\n          tableDataSnapshot.end();\n          table.render();\n        };\n        screenSelector.on(SCREEN_SELECT_EVENT.SELECT_CHANGE_OVER, cb);\n      }\n    });\n    EventBind.bind(this.clearFormat, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        cellsHelper,\n        tableDataSnapshot,\n      } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        tableDataSnapshot.begin();\n        const { cellDataProxy } = tableDataSnapshot;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, origin) => {\n            const { text } = origin;\n            cellDataProxy.setCell(r, c, new Cell({ text }));\n          },\n        });\n        tableDataSnapshot.end();\n        table.render();\n      }\n    });\n    EventBind.bind(this.format, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { format } = this;\n      const { formatContextMenu } = format;\n      const { elPopUp } = formatContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (formatContextMenu.isOpen()) {\n        formatContextMenu.open();\n      } else {\n        formatContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.font, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { font } = this;\n      const { fontContextMenu } = font;\n      const { elPopUp } = fontContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fontContextMenu.isOpen()) {\n        fontContextMenu.open();\n      } else {\n        fontContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.fontSize, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { fontSize } = this;\n      const { fontSizeContextMenu } = fontSize;\n      const { elPopUp } = fontSizeContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fontSizeContextMenu.isOpen()) {\n        fontSizeContextMenu.open();\n      } else {\n        fontSizeContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.fontBold, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        cells,\n        cellsHelper,\n        tableDataSnapshot,\n      } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const bold = !firstCell.fontAttr.bold;\n        tableDataSnapshot.begin();\n        const { cellDataProxy } = tableDataSnapshot;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, origin) => {\n            const cell = origin.clone();\n            cell.fontAttr.bold = bold;\n            cellDataProxy.setCell(r, c, cell);\n          },\n        });\n        tableDataSnapshot.end();\n        table.render();\n      }\n    });\n    EventBind.bind(this.fontItalic, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        cells,\n        cellsHelper,\n        tableDataSnapshot,\n      } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const italic = !firstCell.fontAttr.italic;\n        tableDataSnapshot.begin();\n        const { cellDataProxy } = tableDataSnapshot;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, origin) => {\n            const cell = origin.clone();\n            cell.fontAttr.italic = italic;\n            cellDataProxy.setCell(r, c, cell);\n          },\n        });\n        tableDataSnapshot.end();\n        table.render();\n      }\n    });\n    EventBind.bind(this.underLine, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        cells,\n        cellsHelper,\n        tableDataSnapshot,\n      } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const underline = !firstCell.fontAttr.underline;\n        tableDataSnapshot.begin();\n        const { cellDataProxy } = tableDataSnapshot;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, origin) => {\n            const cell = origin.clone();\n            cell.fontAttr.underline = underline;\n            cellDataProxy.setCell(r, c, cell);\n          },\n        });\n        tableDataSnapshot.end();\n        table.render();\n      }\n    });\n    EventBind.bind(this.fontStrike, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        cells,\n        cellsHelper,\n        tableDataSnapshot,\n      } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n        const strikethrough = !firstCell.fontAttr.strikethrough;\n        tableDataSnapshot.begin();\n        const { cellDataProxy } = tableDataSnapshot;\n        cellsHelper.getCellOrNewCellByViewRange({\n          rectRange: selectorAttr.rect,\n          callback: (r, c, origin) => {\n            const cell = origin.clone();\n            cell.fontAttr.strikethrough = strikethrough;\n            cellDataProxy.setCell(r, c, cell);\n          },\n        });\n        tableDataSnapshot.end();\n        table.render();\n      }\n    });\n    EventBind.bind(this.fontColor, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { fontColor } = this;\n      const { fontColorContextMenu } = fontColor;\n      const { elPopUp } = fontColorContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fontColorContextMenu.isOpen()) {\n        fontColorContextMenu.open();\n      } else {\n        fontColorContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.fillColor, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { fillColor } = this;\n      const { fillColorContextMenu } = fillColor;\n      const { elPopUp } = fillColorContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (fillColorContextMenu.isOpen()) {\n        fillColorContextMenu.open();\n      } else {\n        fillColorContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.border, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { border } = this;\n      const { borderTypeContextMenu } = border;\n      const { elPopUp } = borderTypeContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (borderTypeContextMenu.isOpen()) {\n        borderTypeContextMenu.open();\n      } else {\n        borderTypeContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.merge, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      const {\n        screen,\n        merges,\n        tableDataSnapshot,\n      } = table;\n      const screenSelector = screen.findByClass(ScreenSelector);\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const merge = selectorAttr.rect.clone();\n        const find = merges.getFirstIncludes(merge.sri, merge.sci);\n        tableDataSnapshot.begin();\n        const { mergeDataProxy } = tableDataSnapshot;\n        if (find !== null) {\n          mergeDataProxy.deleteMerge(find);\n        } else if (merge.multiple()) {\n          mergeDataProxy.addMerge(merge);\n        }\n        tableDataSnapshot.end();\n        table.render();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.horizontalAlign, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { horizontalAlign } = this;\n      const { horizontalContextMenu } = horizontalAlign;\n      const { elPopUp } = horizontalContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (horizontalContextMenu.isOpen()) {\n        horizontalContextMenu.open();\n      } else {\n        horizontalContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.verticalAlign, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { verticalAlign } = this;\n      const { verticalContextMenu } = verticalAlign;\n      const { elPopUp } = verticalContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (verticalContextMenu.isOpen()) {\n        verticalContextMenu.open();\n      } else {\n        verticalContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    EventBind.bind(this.textWrapping, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      const { textWrapping } = this;\n      const { textWrappingContextMenu } = textWrapping;\n      const { elPopUp } = textWrappingContextMenu;\n      ElPopUp.closeAll([elPopUp]);\n      if (textWrappingContextMenu.isOpen()) {\n        textWrappingContextMenu.open();\n      } else {\n        textWrappingContextMenu.close();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n\n  setUndoStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { tableDataSnapshot } = table;\n    this.undo.active(tableDataSnapshot.canBack());\n  }\n\n  setRedoStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { tableDataSnapshot } = table;\n    this.redo.active(tableDataSnapshot.canGo());\n  }\n\n  setPaintFormatStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    this.paintFormat.active(this.paintFormat.includeSheet(sheet));\n  }\n\n  setFormatStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let text = '常规';\n    let format = 'default';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      format = firstCell.format;\n      switch (format) {\n        case 'default':\n          text = '常规';\n          break;\n        case 'text':\n          text = '文本';\n          break;\n        case 'number':\n          text = '数字';\n          break;\n        case 'percentage':\n          text = '百分比';\n          break;\n        case 'fraction':\n          text = '分数';\n          break;\n        case 'ENotation':\n          text = '科学计数';\n          break;\n        case 'rmb':\n          text = '人民币';\n          break;\n        case 'hk':\n          text = '港币';\n          break;\n        case 'dollar':\n          text = '美元';\n          break;\n        case 'date1':\n        case 'date2':\n        case 'date3':\n        case 'date4':\n        case 'date5':\n          text = '日期';\n          break;\n        case 'time':\n          text = '时间';\n          break;\n        default: break;\n      }\n    }\n    this.format.setTitle(text);\n    this.format.formatContextMenu.setActiveByType(format);\n  }\n\n  setFontStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let name = 'Arial';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      name = firstCell.fontAttr.name;\n    }\n    this.font.setTitle(name);\n    this.font.fontContextMenu.setActiveByType(name);\n  }\n\n  setFontSizeStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let size = '12';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      size = firstCell.fontAttr.size;\n    }\n    this.fontSize.setTitle(size);\n  }\n\n  setFontBoldStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let bold = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      bold = firstCell.fontAttr.bold;\n    }\n    this.fontBold.active(bold);\n  }\n\n  setFontItalicStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let italic = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      italic = firstCell.fontAttr.italic;\n    }\n    this.fontItalic.active(italic);\n  }\n\n  setUnderLineStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let underline = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      underline = firstCell.fontAttr.underline;\n    }\n    this.underLine.active(underline);\n  }\n\n  setFontStrikeStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let strikethrough = false;\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      strikethrough = firstCell.fontAttr.strikethrough;\n    }\n    this.fontStrike.active(strikethrough);\n  }\n\n  setFontColorStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let color = 'rgb(0, 0, 0)';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      color = firstCell.fontAttr.color;\n    }\n    this.fontColor.setColor(color);\n    this.fontColor.fontColorContextMenu.setActiveByColor(color);\n  }\n\n  setFillColorStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let color = 'rgb(255, 255, 255)';\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      // eslint-disable-next-line prefer-destructuring\n      if (firstCell.background) {\n        color = firstCell.background;\n      }\n    }\n    this.fillColor.setColor(color);\n    this.fillColor.fillColorContextMenu.setActiveByColor(color);\n  }\n\n  setHorizontalAlignStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let icon = new Icon('align-left');\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      switch (firstCell.fontAttr.align) {\n        case ALIGN.left:\n          icon = new Icon('align-left');\n          break;\n        case ALIGN.center:\n          icon = new Icon('align-center');\n          break;\n        case ALIGN.right:\n          icon = new Icon('align-right');\n          break;\n        default: break;\n      }\n    }\n    this.horizontalAlign.setIcon(icon);\n  }\n\n  setVerticalAlignStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let icon = new Icon('align-middle');\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      switch (firstCell.fontAttr.verticalAlign) {\n        case VERTICAL_ALIGN.top:\n          icon = new Icon('align-top');\n          break;\n        case VERTICAL_ALIGN.center:\n          icon = new Icon('align-middle');\n          break;\n        case VERTICAL_ALIGN.bottom:\n          icon = new Icon('align-bottom');\n          break;\n        default: break;\n      }\n    }\n    this.verticalAlign.setIcon(icon);\n  }\n\n  setTextWrappingStatus() {\n    const { body } = this.workTop.work;\n    const { sheetView } = body;\n    const sheet = sheetView.getActiveSheet();\n    const { table } = sheet;\n    const { screen, cells } = table;\n    const screenSelector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = screenSelector;\n    let icon = new Icon('text-wrap');\n    if (selectorAttr) {\n      const firstCell = cells.getCellOrNew(selectorAttr.rect.sri, selectorAttr.rect.sci);\n      switch (firstCell.fontAttr.textWrap) {\n        case TEXT_WRAP.TRUNCATE:\n          icon = new Icon('truncate');\n          break;\n        case TEXT_WRAP.WORD_WRAP:\n          icon = new Icon('text-wrap');\n          break;\n        case TEXT_WRAP.OVER_FLOW:\n        default:\n          icon = new Icon('overflow');\n          break;\n      }\n    }\n    this.textWrapping.setIcon(icon);\n  }\n\n  setStatus() {\n    this.setUndoStatus();\n    this.setRedoStatus();\n    this.setPaintFormatStatus();\n    this.setFormatStatus();\n    this.setFontStatus();\n    this.setFontSizeStatus();\n    this.setFontBoldStatus();\n    this.setFontItalicStatus();\n    this.setUnderLineStatus();\n    this.setFontStrikeStatus();\n    this.setFontColorStatus();\n    this.setFillColorStatus();\n    this.setHorizontalAlignStatus();\n    this.setVerticalAlignStatus();\n    this.setTextWrappingStatus();\n  }\n}\n\nexport { TopMenu };\n","import { Widget } from '../../../../lib/Widget';\nimport { cssPrefix } from '../../../../constant/Constant';\n\nclass Item extends Widget {\n  constructor(className) {\n    super(`${cssPrefix}-option-item ${className}`);\n    this.title = '';\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.text(this.title);\n  }\n}\n\nexport { Item };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../constant/Constant';\n\nclass File extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-file`);\n    this.setTitle('文件');\n  }\n}\n\nexport { File };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../constant/Constant';\n\nclass ForMart extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-format`);\n    this.setTitle('格式');\n  }\n}\n\nexport { ForMart };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../constant/Constant';\n\nclass Insert extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-insert`);\n    this.setTitle('插入');\n  }\n}\n\nexport { Insert };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../constant/Constant';\n\nclass Look extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-look`);\n    this.setTitle('查看');\n  }\n}\n\nexport { Look };\n","import { Item } from './base/Item';\nimport { cssPrefix } from '../../../constant/Constant';\n\nclass Update extends Item {\n  constructor() {\n    super(`${cssPrefix}-tools-update`);\n    this.setTitle('修改');\n  }\n}\n\nexport { Update };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../constant/Constant';\nimport { h } from '../../lib/Element';\nimport { File } from './options/File';\nimport { ForMart } from './options/ForMart';\nimport { Insert } from './options/Insert';\nimport { Look } from './options/Look';\nimport { Update } from './options/Update';\n\nclass TopOption extends Widget {\n  constructor(workTop) {\n    super(`${cssPrefix}-option`);\n\n    this.workTop = workTop;\n    this.title = ' X-Sheet 工作簿';\n    this.logoEle = h('div', `${cssPrefix}-option-logo`);\n    this.titleEle = h('div', `${cssPrefix}-option-title`);\n    this.optionsEle = h('div', `${cssPrefix}-option-box`);\n    this.leftEle = h('div', `${cssPrefix}-option-left`);\n    this.rightEle = h('div', `${cssPrefix}-option-right`);\n    this.leftEle.children(this.logoEle);\n    this.rightEle.children(this.titleEle, this.optionsEle);\n    this.children(this.leftEle);\n    this.children(this.rightEle);\n    this.setTitle(this.title);\n    this.file = new File();\n    this.format = new ForMart();\n    this.insert = new Insert();\n    this.look = new Look();\n    this.update = new Update();\n    this.optionsEle.children(this.file);\n    this.optionsEle.children(this.format);\n    this.optionsEle.children(this.insert);\n    this.optionsEle.children(this.look);\n    this.optionsEle.children(this.update);\n  }\n\n  setTitle(title) {\n    this.title = title;\n    this.titleEle.text(title);\n  }\n}\n\nexport { TopOption };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../constant/Constant';\nimport { TopMenu } from './TopMenu';\nimport { TopOption } from './TopOption';\n\nclass WorkTop extends Widget {\n\n  constructor(work) {\n    super(`${cssPrefix}-work-top`);\n    this.work = work;\n  }\n\n  onAttach() {\n    this.toolsMenu = new TopMenu(this);\n    this.option = new TopOption(this);\n    this.attach(this.option);\n    this.attach(this.toolsMenu);\n  }\n}\n\nexport { WorkTop };\n","import { cssPrefix } from '../../../constant/Constant';\r\nimport { Utils } from '../../../utils/Utils';\r\nimport { Layer } from '../../Layer';\r\n\r\nclass VerticalCenterElement extends Layer {\r\n\r\n  constructor(options) {\r\n    super(`${cssPrefix}-vertical-center-element`);\r\n    this.options = Utils.mergeDeep({\r\n      style: {},\r\n    }, options);\r\n    this.css(this.options.style);\r\n  }\r\n}\r\n\r\nexport { VerticalCenterElement };\r\n","import { cssPrefix } from '../../../constant/Constant';\r\nimport { Utils } from '../../../utils/Utils';\r\nimport { Layer } from '../../Layer';\r\n\r\nclass VerticalCenter extends Layer {\r\n  constructor(options) {\r\n    super('div', `${cssPrefix}-vertical-center`);\r\n    this.options = Utils.mergeDeep({\r\n      style: {},\r\n    }, options);\r\n    this.css(this.options.style);\r\n  }\r\n}\r\n\r\nexport { VerticalCenter };\r\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix, Constant } from '../../constant/Constant';\nimport { EventBind } from '../../utils/EventBind';\n\n\nclass SheetView extends Widget {\n\n  constructor() {\n    super(`${cssPrefix}-sheet-view`);\n    this.sheetList = [];\n    this.activeIndex = -1;\n  }\n\n  attach(sheet) {\n    this.sheetList.push(sheet);\n    super.attach(sheet);\n    sheet.hide();\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, () => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH);\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, () => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT);\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.DATA_CHANGE, () => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, () => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE);\n    });\n    EventBind.bind(sheet, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, () => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN, this);\n    });\n  }\n\n  setActiveSheet(index) {\n    const { sheetList } = this;\n    if (sheetList[index]) {\n      this.activeIndex = index;\n      return this.setActive(sheetList[index]);\n    }\n    return null;\n  }\n\n  setActive(sheet) {\n    sheet.show();\n    sheet.sibling().forEach((item) => {\n      item.hide();\n    });\n    return sheet;\n  }\n\n  getActiveSheet() {\n    return this.sheetList[this.activeIndex];\n  }\n\n  getLastIndex() {\n    return this.sheetList.length - 1;\n  }\n}\n\nexport { SheetView };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix, Constant } from '../../constant/Constant';\nimport { h } from '../../lib/Element';\nimport { Utils } from '../../utils/Utils';\nimport { EventBind } from '../../utils/EventBind';\n\n\nclass TabView extends Widget {\n\n  constructor(options) {\n    super(`${cssPrefix}-sheet-switch-tab`);\n    this.last = h('div', `${cssPrefix}-switch-tab-last-btn`);\n    this.next = h('div', `${cssPrefix}-switch-tab-next-btn`);\n    this.content = h('div', `${cssPrefix}-sheet-tab-content`);\n    this.tabs = h('div', `${cssPrefix}-sheet-tab-tabs`);\n    this.plus = h('div', `${cssPrefix}-sheet-tab-plus`);\n    this.content.children(this.tabs);\n    this.children(...[\n      this.last,\n      this.next,\n      this.content,\n      this.plus,\n    ]);\n    this.optiions = Utils.mergeDeep({\n      onAdd(tab) { return tab; },\n      onSwitch(tab) { return tab; },\n    }, options);\n    this.left = null;\n    this.tabList = [];\n  }\n\n  onAttach() {\n    this.bind();\n  }\n\n  offsetSizeLeft() {\n    const maxWidth = this.content.offset().width;\n    const current = this.tabs.offset().width;\n    if (current > maxWidth) {\n      this.left = -(current - maxWidth);\n      this.tabs.css('marginLeft', `${this.left}px`);\n    }\n  }\n\n  bind() {\n    const { next, last, plus } = this;\n    EventBind.bind(next, Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      const maxWidth = this.content.offset().width;\n      const current = this.tabs.offset().width;\n      const min = -(current - maxWidth);\n      let left = this.left || 0;\n      left -= 30;\n      if (left < min) left = min;\n      this.left = left;\n      this.tabs.css('marginLeft', `${this.left}px`);\n    });\n    EventBind.bind(last, Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      let left = this.left || 0;\n      left += 30;\n      if (left > 0) left = 0;\n      this.left = left;\n      this.tabs.css('marginLeft', `${this.left}px`);\n    });\n    EventBind.bind(plus, Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.optiions.onAdd();\n      this.offsetSizeLeft();\n    });\n  }\n\n  attach(tab) {\n    this.tabList.push(tab);\n    this.tabs.children(tab);\n    tab.onAttach();\n    EventBind.bind(tab, Constant.SYSTEM_EVENT_TYPE.CLICK, () => {\n      this.setActive(tab);\n      this.optiions.onSwitch(tab);\n    });\n  }\n\n  setActiveTab(index) {\n    const { tabList } = this;\n    if (tabList[index]) {\n      this.setActive(tabList[index]);\n      return tabList[index];\n    }\n    return null;\n  }\n\n  setActive(tab) {\n    tab.addClass('active');\n    tab.sibling().forEach((item) => {\n      item.removeClass('active');\n    });\n  }\n\n  getLastIndex() {\n    return this.tabList.length - 1;\n  }\n}\n\nexport { TabView };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../constant/Constant';\n\nlet number = 0;\n\nclass Tab extends Widget {\n  constructor(name = `Sheet${number += 1}`) {\n    super(`${cssPrefix}-sheet-tab`);\n    this.setName(name);\n  }\n\n  setName(name) {\n    this.name = name;\n    this.text(this.name);\n  }\n}\n\nexport { Tab };\n","class DateUtils {\n  static dateFormat(fmt, date) {\n    const o = {\n      'M+': date.getMonth() + 1,\n      'd+': date.getDate(),\n      'h+': date.getHours(),\n      'm+': date.getMinutes(),\n      's+': date.getSeconds(),\n      'q+': Math.floor((date.getMonth() + 3) / 3),\n      S: date.getMilliseconds(),\n    };\n    const reYear = /(y+)/;\n    const resultYear = reYear.exec(fmt);\n    if (resultYear) {\n      const yearFormatPart = resultYear[0];\n      const yearVal = (date.getFullYear().toString()).substr(4 - yearFormatPart.length);\n      // eslint-disable-next-line no-param-reassign\n      fmt = fmt.replace(yearFormatPart, yearVal);\n    }\n    // eslint-disable-next-line guard-for-in,no-restricted-syntax\n    for (const k in o) {\n      const re = new RegExp(`(${k})`);\n      const res = re.exec(fmt);\n      if (res) {\n        const Val = o[k].toString();\n        const formatPart = res[0];\n        const replaceVal = (formatPart.length === 1) ? (Val) : ((`00${Val}`).substr(Val.length));\n        // eslint-disable-next-line no-param-reassign\n        fmt = fmt.replace(formatPart, replaceVal);\n      }\n    }\n    return fmt;\n  }\n\n  static parserToDate(dateText, format) {\n    if (!dateText) {\n      return null;\n    }\n    const defaultVal = new Date('1970/01/01 00:00:00');\n    const o = [{\n      reg: 'y+',\n    }, {\n      reg: 'M+',\n    }, {\n      reg: 'd+',\n    }, {\n      reg: 'h+',\n    }, {\n      reg: 'm+',\n    }, {\n      reg: 's+',\n    }, {\n      reg: 'S',\n    }];\n    let year = defaultVal.getFullYear();\n    let month = defaultVal.getMonth() + 1;\n    let day = defaultVal.getDate();\n    let hours = defaultVal.getHours();\n    let minutes = defaultVal.getMinutes();\n    let seconds = defaultVal.getSeconds();\n    let milliseconds = defaultVal.getMilliseconds();\n    let index = 1;\n    for (let j = 0; j < format.length; j += 1) {\n      const oneChar = format[j];\n      for (let i = 0; i < o.length; i += 1) {\n        const onePart = o[i];\n        const onePartReg = onePart.reg;\n        if (onePartReg[0] === oneChar) {\n          if (!onePart.index) {\n            onePart.index = index;\n            index += 1;\n          }\n          break;\n        }\n      }\n    }\n    for (let i = 0; i < o.length; i += 1) {\n      const onePart = o[i];\n      const onePartReg = onePart.reg;\n      const re = new RegExp(`(${onePartReg})`);\n      const res = re.exec(format);\n      if (res) {\n        const formatPart = res[0];\n        const replaceVal = `([0-9]{1,${formatPart.length}})`;\n        // eslint-disable-next-line no-param-reassign\n        format = format.replace(formatPart, replaceVal);\n      }\n    }\n    const dataInfo = {};\n    const re = new RegExp(format);\n    const res = re.exec(dateText);\n    if (res) {\n      for (let i = 1; i < res.length; i += 1) {\n        dataInfo[i] = res[i];\n      }\n    } else {\n      return null;\n    }\n    if (o[0].index) {\n      const { index } = o[0];\n      year = dataInfo[index];\n    }\n    if (o[1].index) {\n      const { index } = o[1];\n      month = dataInfo[index];\n    }\n    if (o[2].index) {\n      const { index } = o[2];\n      day = dataInfo[index];\n    }\n    if (o[3].index) {\n      const { index } = o[3];\n      hours = dataInfo[index];\n    }\n    if (o[4].index) {\n      const { index } = o[4];\n      minutes = dataInfo[index];\n    }\n    if (o[5].index) {\n      const { index } = o[5];\n      seconds = dataInfo[index];\n    }\n    if (o[6].index) {\n      const { index } = o[6];\n      milliseconds = dataInfo[index];\n    }\n    return new Date(year, month - 1, day, hours, minutes, seconds, milliseconds);\n  }\n}\n\nexport { DateUtils };\n","import { Utils } from '../../utils/Utils';\nimport { DateUtils } from '../../utils/DateUtils';\n\nfunction parserToDate(text) {\n  let result = DateUtils.parserToDate(text, 'yyyy/MM/dd hh:mm:ss');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'yyyy/MM/dd');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'hh:mm:ss');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'MM月dd日');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'yyyy年MM月');\n  if (result) return result;\n  result = DateUtils.parserToDate(text, 'yyyy年MM月dd日');\n  if (result) return result;\n  return null;\n}\n\nclass Format {\n\n  default(value) {\n    return value;\n  }\n\n  text(value) {\n    return value;\n  }\n\n  number(value) {\n    if (Utils.isNumber(value)) {\n      if (value.toString().indexOf('.') !== -1) {\n        const lastIndex = value.toString().lastIndexOf('.') + 1;\n        return value.toString().substring(0, lastIndex + 2);\n      }\n      return `${value}.00`;\n    }\n    return value;\n  }\n\n  percentage(value) {\n    if (Utils.isNumber(value)) {\n      return `${value}%`;\n    }\n    return value;\n  }\n\n  fraction(value) {\n    if (Utils.isFraction(value)) {\n      const left = value.split('/')[0];\n      const right = value.split('/')[1];\n      return Utils.parseInt(left) / Utils.parseInt(right);\n    }\n    return value;\n  }\n\n  ENotation(value) {\n    if (Utils.isNumber(value)) {\n      const number = Utils.parseFloat(value);\n      return number.toExponential(2);\n    }\n    return value;\n  }\n\n  rmb(value) {\n    if (Utils.isNumber(value)) {\n      return `￥${value}`;\n    }\n    return value;\n  }\n\n  hk(value) {\n    if (Utils.isNumber(value)) {\n      return `HK${value}`;\n    }\n    return value;\n  }\n\n  dollar(value) {\n    if (Utils.isNumber(value)) {\n      return `$${value}`;\n    }\n    return value;\n  }\n\n  date1(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy/MM/dd', result);\n    return value;\n  }\n\n  date2(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('MM月dd日', result);\n    return value;\n  }\n\n  date3(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy年MM月', result);\n    return value;\n  }\n\n  date4(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy年MM月dd日', result);\n    return value;\n  }\n\n  date5(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('yyyy/MM/dd hh:mm:ss', result);\n    return value;\n  }\n\n  time(value) {\n    const result = parserToDate(value);\n    if (result) return DateUtils.dateFormat('hh:mm:ss', result);\n    return value;\n  }\n}\n\nconst format = new Format();\n\nexport default (type, value) => format[type](value);\n","import { Utils } from '../../utils/Utils';\n\nclass Rows {\n\n  constructor({ data = [], len = 10, height }) {\n    this._ = [];\n    this.minHeight = 5;\n    this.height = Utils.minIf(height, this.minHeight);\n    this.len = len;\n    this.cacheTotalHeight = -1;\n    this.setData(data);\n  }\n\n  get(ri) {\n    return this._[ri];\n  }\n\n  getOrNew(ri) {\n    this._[ri] = this._[ri] || {};\n    return this._[ri];\n  }\n\n  getHeight(ri) {\n    const row = this.get(ri);\n    if (row && row.height) {\n      return row.height;\n    }\n    return this.height;\n  }\n\n  setHeight(ri, height) {\n    const row = this.getOrNew(ri);\n    row.height = Utils.minIf(height, this.minHeight);\n    this.cacheTotalHeight = -1;\n  }\n\n  eachHeight(ri, ei, cb, sy = 0) {\n    let y = sy;\n    for (let i = ri; i <= ei; i += 1) {\n      const rowHeight = this.getHeight(i);\n      cb(i, rowHeight, y);\n      y += rowHeight;\n    }\n  }\n\n  sectionSumHeight(sri, eri) {\n    return Utils.rangeSum(sri, eri + 1, i => this.getHeight(i));\n  }\n\n  rectRangeSumHeight(rectRange) {\n    return this.sectionSumHeight(rectRange.sri, rectRange.eri);\n  }\n\n  totalHeight() {\n    if (this.cacheTotalHeight === -1) {\n      this.cacheTotalHeight = Utils.rangeSum(0, this.len, i => this.getHeight(i));\n    }\n    return this.cacheTotalHeight;\n  }\n\n  getData() {\n    return this._;\n  }\n\n  setData(data) {\n    this._ = data;\n  }\n}\n\nexport { Rows };\n","import { Utils } from '../../utils/Utils';\n\nclass Cols {\n\n  constructor({ data = [], len = 10, width }) {\n    this._ = [];\n    this.minWidth = 5;\n    this.width = Utils.minIf(width, this.minWidth);\n    this.len = len;\n    this.cacheTotalWidth = -1;\n    this.setData(data);\n  }\n\n  get(ci) {\n    return this._[ci];\n  }\n\n  getOrNew(ci) {\n    this._[ci] = this._[ci] || {};\n    return this._[ci];\n  }\n\n  getWidth(i) {\n    const col = this._[i];\n    if (col && col.width) {\n      return col.width;\n    }\n    return this.width;\n  }\n\n  setWidth(i, width) {\n    const col = this.getOrNew(i);\n    col.width = Utils.minIf(width, this.minWidth);\n    this.cacheTotalWidth = -1;\n  }\n\n  eachWidth(ci, ei, cb, sx = 0) {\n    let x = sx;\n    for (let i = ci; i <= ei; i += 1) {\n      const colWidth = this.getWidth(i);\n      cb(i, colWidth, x);\n      x += colWidth;\n    }\n  }\n\n  sectionSumWidth(sci, eci) {\n    return Utils.rangeSum(sci, eci + 1, i => this.getWidth(i));\n  }\n\n  rectRangeSumWidth(rectRange) {\n    return this.sectionSumWidth(rectRange.sci, rectRange.eci);\n  }\n\n  totalWidth() {\n    if (this.cacheTotalWidth === -1) {\n      this.cacheTotalWidth = Utils.rangeSum(0, this.len, i => this.getWidth(i));\n    }\n    return this.cacheTotalWidth;\n  }\n\n  getData() {\n    return this._;\n  }\n\n  setData(data) {\n    this._ = data;\n  }\n}\n\nexport { Cols };\n","\nconst SCROLL_TYPE = {\n  H_LEFT: Symbol('水平方向左边滚动条'),\n  H_RIGHT: Symbol('水平方向向右边滚动'),\n  V_TOP: Symbol('垂直方向向上滚动'),\n  V_BOTTOM: Symbol('垂直方向下滚动'),\n  UN: Symbol('未知'),\n};\n\nclass Scroll {\n\n  constructor(table) {\n    this.table = table;\n    this.x = 0;\n    this.y = 0;\n    this.ri = table.fixed.fxTop + 1;\n    this.ci = table.fixed.fxLeft + 1;\n    this.type = SCROLL_TYPE.UN;\n  }\n}\n\nexport { Scroll, SCROLL_TYPE };\n","class Fixed {\n\n  constructor(fixed = { fxTop: -1, fxLeft: -1 }) {\n    this.fxTop = fixed.fxTop;\n    this.fxLeft = fixed.fxLeft;\n  }\n}\n\nexport { Fixed };\n","import { RectRange } from './RectRange';\n\nclass Merges {\n\n  /**\n   *  Merges\n   * @param {RectRange[]} data 区域数组\n   */\n  constructor({ data = [] }) {\n    this._ = [];\n    this.setData(data);\n  }\n\n  /**\n   * 遍历所有区域\n   * @param {Function} cb 回调函数\n   */\n  forEach(cb) {\n    this._.forEach(cb);\n  }\n\n  /**\n   * 删除区域数组中被指定区域包含的区域\n   * @param {RectRange} cr 区域\n   */\n  deleteWithin(cr) {\n    this._ = this._.filter(it => !it.within(cr));\n  }\n\n  /**\n   * 返回区域数组中第一个包含指定行和列的区域\n   * @param {int} ri 行索引\n   * @param {int} ci  列索引\n   * @returns {*}\n   */\n  getFirstIncludes(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.includes(ri, ci)) {\n        return it;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * 返回新的合并实例,同时剔除原来的合并实例区域数组中不和指定区域发生重合的区域\n   * @param {RectRange} cellRange 区域\n   * @returns {Merges}\n   */\n  filterIntersects(cellRange) {\n    return new Merges(this._.filter(it => it.intersects(cellRange)));\n  }\n\n  /**\n   * 判断区域数组中是否存在和指定区域发生重合的区域\n   * @param {RectRange} cellRange 区域\n   * @returns {boolean}\n   */\n  intersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        // console.log('intersects');\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * 删除重合的区域\n   * @param cellRange\n   */\n  deleteIntersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        this._.splice(i, 1);\n      }\n    }\n  }\n\n  /**\n   * 返回区域数组中和指定区域发生重合的新区域\n   * @param {RectRange} cellRange 区域\n   * @returns {*}\n   */\n  union(cellRange) {\n    let cr = cellRange;\n    const filter = [];\n    for (let i = 0; i < this._.length; i += 1) {\n      const item = this._[i];\n      if (filter.find(e => e === item)) {\n        continue;\n      }\n      if (item.intersects(cr)) {\n        filter.push(item);\n        cr = item.union(cr);\n        i = -1;\n      }\n    }\n    return cr;\n  }\n\n  /**\n   * 添加一个新的区域, 并且删除区域数组中被新区域包含的区域\n   * @param {RectRange} cr 区域\n   */\n  add(cr) {\n    if (cr) {\n      this.deleteWithin(cr);\n      this._.push(cr);\n    }\n  }\n\n  /**\n   * 区域数组中和指定区域发生重合的区域移动指定的行和列\n   * @param {RectRange} cellRange 区域\n   * @param {int} rn 增加的行索引\n   * @param {int} cn 增加的列索引\n   */\n  move(cellRange, rn, cn) {\n    this._.forEach((it1) => {\n      const it = it1;\n      if (it.within(cellRange)) {\n        it.eri += rn;\n        it.sri += rn;\n        it.sci += cn;\n        it.eci += cn;\n      }\n    });\n  }\n\n  // type: row | column\n  shift(type, index, n, cbWithin) {\n    this._.forEach((cellRange) => {\n      const {\n        sri, sci, eri, eci,\n      } = cellRange;\n      const range = cellRange;\n      if (type === 'row') {\n        if (sri >= index) {\n          range.sri += n;\n          range.eri += n;\n        } else if (sri < index && index <= eri) {\n          range.eri += n;\n          cbWithin(sri, sci, n, 0);\n        }\n      } else if (type === 'column') {\n        if (sci >= index) {\n          range.sci += n;\n          range.eci += n;\n        } else if (sci < index && index <= eci) {\n          range.eci += n;\n          cbWithin(sri, sci, 0, n);\n        }\n      }\n    });\n  }\n\n  setData(merges = []) {\n    this._ = merges.map(merge => RectRange.valueOf(merge));\n    return this;\n  }\n\n  getData() {\n    return this._.map(merge => merge.toString());\n  }\n}\n\nexport { Merges };\n\nexport default Merges;\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix } from '../../../constant/Constant';\n\nclass ScreenElement extends Widget {\n  constructor(className) {\n    super(`${cssPrefix}-screen-element ${className}`);\n    this.widgets = [];\n  }\n\n  addWidget(widget) {\n    this.widgets.push(widget);\n    this.children(widget);\n  }\n}\n\nexport { ScreenElement };\n","/* global window */\nimport { ScreenElement } from './ScreenElement';\nimport { Widget } from '../../../lib/Widget';\nimport { cssPrefix, Constant } from '../../../constant/Constant';\nimport { EventBind } from '../../../utils/EventBind';\n\nclass Screen extends Widget {\n  constructor(table) {\n    super(`${cssPrefix}-screen`);\n\n    this.table = table;\n    this.widgets = [];\n\n    this.lt = new ScreenElement(`${cssPrefix}-screen-element-lt`);\n    this.t = new ScreenElement(`${cssPrefix}-screen-element-t`);\n    this.l = new ScreenElement(`${cssPrefix}-screen-element-l`);\n    this.br = new ScreenElement(`${cssPrefix}-screen-element-br`);\n\n    this.children(this.lt, this.t, this.l, this.br);\n  }\n\n  onAttach() {\n    this.bind();\n    this.setDivideLayer();\n  }\n\n  init() {\n  }\n\n  bind() {\n    const { table } = this;\n    EventBind.bind(window, Constant.SYSTEM_EVENT_TYPE.RESIZE, () => {\n      this.setDivideLayer();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, () => {\n      this.setDivideLayer();\n    });\n    EventBind.bind(table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, () => {\n      this.setDivideLayer();\n    });\n  }\n\n  addWidget(widget) {\n    this.widgets.push(widget);\n    this.lt.addWidget(widget.getLT(this));\n    this.t.addWidget(widget.getT(this));\n    this.l.addWidget(widget.getL(this));\n    this.br.addWidget(widget.getBR(this));\n  }\n\n  setDivideLayer() {\n    const { table } = this;\n    const { settings, grid } = table;\n    const { index } = settings;\n    const fixedWidth = table.getFixedWidth();\n    const fixedHeight = table.getFixedHeight();\n    const brLeft = index.width + fixedWidth;\n    const brTop = index.height + fixedHeight;\n    this.br.offset({ left: brLeft, top: brTop });\n    if (fixedWidth > 0 && fixedHeight > 0) {\n      this.lt.offset({\n        left: index.width, top: index.height, width: fixedWidth, height: fixedHeight,\n      }).show();\n      this.lt.css('border-width', `${grid.lineWidth()}px`);\n    } else {\n      this.lt.hide();\n    }\n    if (fixedWidth > 0) {\n      this.l.offset({ left: index.width, top: brTop, width: fixedWidth }).show();\n      this.l.css('border-width', `${grid.lineWidth()}px`);\n    } else {\n      this.l.hide();\n    }\n    if (fixedHeight > 0) {\n      this.t.offset({ left: brLeft, top: index.height, height: fixedHeight }).show();\n      this.t.css('border-width', `${grid.lineWidth()}px`);\n    } else {\n      this.t.hide();\n    }\n  }\n\n  findByClass(clazz) {\n    let find = null;\n    this.widgets.forEach((item) => {\n      if (item instanceof clazz) {\n        find = item;\n        return false;\n      }\n      return true;\n    });\n    return find;\n  }\n}\n\nexport { Screen };\n","/* global document */\nimport { Widget } from '../../../lib/Widget';\nimport { cssPrefix, Constant } from '../../../constant/Constant';\nimport { h } from '../../../lib/Element';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Utils } from '../../../utils/Utils';\n\nclass XReSizer extends Widget {\n\n  constructor(table, options = { width: 5 }) {\n    super(`${cssPrefix}-re-sizer-horizontal`);\n\n    this.table = table;\n    this.options = options;\n    this.width = options.width;\n    this.hoverEl = h('div', `${cssPrefix}-re-sizer-hover`);\n    this.lineEl = h('div', `${cssPrefix}-re-sizer-line`);\n    this.children(...[\n      this.hoverEl,\n      this.lineEl,\n    ]);\n  }\n\n  onAttach() {\n    this.bind();\n    this.table.focus.register({ el: this });\n  }\n\n  getEventLeft(event) {\n    const { table } = this;\n    const {\n      settings, cols, fixed, scroll,\n    } = table;\n    const { index } = settings;\n    const { x, y } = table.computeEventXy(event);\n    const { ri, ci } = table.getRiCiByXy(x, y);\n    if (ri !== -1) {\n      return { left: -1, x, y, ri, ci };\n    }\n    let left = index.width + cols.sectionSumWidth(0, ci);\n    if (ci > fixed.fxLeft) {\n      left -= scroll.x;\n    }\n    return {\n      left, x, y, ri, ci,\n    };\n  }\n\n  bind() {\n    const { table } = this;\n    const {\n      settings, cols, mousePointer, tableDataSnapshot,\n    } = table;\n    const { colsDataProxy } = tableDataSnapshot;\n    const { index } = settings;\n    const { key, type } = Constant.MOUSE_POINTER_TYPE.COL_RESIZE;\n    let moveOff = false;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, () => {\n      if (moveOff) return;\n      mousePointer.on(key);\n      mousePointer.set(type, key);\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_LEAVE, () => {\n      if (moveOff) return;\n      mousePointer.off(key);\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      moveOff = true;\n      mousePointer.on(key);\n      mousePointer.set(type, key);\n      const { left, ci } = this.getEventLeft(e);\n      const min = left - cols.getWidth(ci) + cols.minWidth;\n      let { x: mx } = table.computeEventXy(e);\n      EventBind.mouseMoveUp(document, (e) => {\n        ({ x: mx } = table.computeEventXy(e));\n        mx -= this.width / 2;\n        mx = Math.ceil(Utils.minIf(mx, min));\n        this.css('left', `${mx}px`);\n        this.lineEl.css('height', `${table.visualHeight()}px`);\n        this.lineEl.show();\n      }, (e) => {\n        moveOff = false;\n        mousePointer.off(key);\n        this.lineEl.hide();\n        this.css('left', `${mx}px`);\n        const { y } = table.computeEventXy(e);\n        if (y <= 0) {\n          this.hide();\n        }\n        const newLeft = mx - (left - cols.getWidth(ci)) + this.width;\n        tableDataSnapshot.begin();\n        colsDataProxy.setWidth(ci, newLeft);\n        tableDataSnapshot.end();\n        table.resize();\n      });\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      if (moveOff) return;\n      // eslint-disable-next-line prefer-const\n      let { left, ci } = this.getEventLeft(e);\n      const min = left - cols.getWidth(ci) + cols.minWidth;\n      const visualWidth = table.visualWidth();\n      if (left > visualWidth) {\n        left = visualWidth;\n      }\n      if (left === -1 || min > visualWidth || ci === -1) {\n        this.hide();\n      } else {\n        this.show();\n        this.css('left', `${left - this.width}px`);\n        this.hoverEl.css('width', `${this.width}px`);\n        this.hoverEl.css('height', `${index.height}px`);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_LEAVE, () => {\n      if (moveOff) return;\n      this.hide();\n    });\n  }\n}\n\nexport { XReSizer };\n","/* global document */\nimport { Widget } from '../../../lib/Widget';\nimport { cssPrefix, Constant } from '../../../constant/Constant';\nimport { h } from '../../../lib/Element';\nimport { EventBind } from '../../../utils/EventBind';\nimport { Utils } from '../../../utils/Utils';\n\nclass YReSizer extends Widget {\n\n  constructor(table, options = { height: 5 }) {\n    super(`${cssPrefix}-re-sizer-vertical`);\n\n    this.table = table;\n    this.options = options;\n    this.height = options.height;\n    this.hoverEl = h('div', `${cssPrefix}-re-sizer-hover`);\n    this.lineEl = h('div', `${cssPrefix}-re-sizer-line`);\n    this.children(...[\n      this.hoverEl,\n      this.lineEl,\n    ]);\n  }\n\n  onAttach() {\n    this.bind();\n    this.table.focus.register({ el: this });\n  }\n\n  getEventTop(event) {\n    const { table } = this;\n    const {\n      settings, rows, fixed, scroll,\n    } = table;\n    const { index } = settings;\n    const { x, y } = table.computeEventXy(event);\n    const { ri, ci } = table.getRiCiByXy(x, y);\n    if (ci !== -1) {\n      return {\n        top: -1, x, y, ri, ci,\n      };\n    }\n    let top = index.height + rows.sectionSumHeight(0, ri);\n    if (ri > fixed.fxTop) {\n      top -= scroll.y;\n    }\n    return {\n      top, x, y, ri, ci,\n    };\n  }\n\n  bind() {\n    const { table } = this;\n    const { settings, rows, mousePointer, tableDataSnapshot } = table;\n    const { rowsDataProxy } = tableDataSnapshot;\n    const { index } = settings;\n    const { key, type } = Constant.MOUSE_POINTER_TYPE.ROW_RESIZE;\n    let moveOff = false;\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, () => {\n      if (moveOff) return;\n      mousePointer.on(key);\n      mousePointer.set(type, key);\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_LEAVE, () => {\n      if (moveOff) return;\n      mousePointer.off(key);\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n      moveOff = true;\n      mousePointer.on(key);\n      mousePointer.set(type, key);\n      const { top, ri } = this.getEventTop(e);\n      const min = top - rows.getHeight(ri) + rows.minHeight;\n      let { y: my } = table.computeEventXy(e);\n      EventBind.mouseMoveUp(document, (e) => {\n        ({ y: my } = table.computeEventXy(e));\n        my -= this.height / 2;\n        my = Math.ceil(Utils.minIf(my, min));\n        this.css('top', `${my}px`);\n        this.lineEl.css('width', `${table.visualWidth()}px`);\n        this.lineEl.show();\n      }, (e) => {\n        moveOff = false;\n        mousePointer.off(key);\n        this.lineEl.hide();\n        this.css('top', `${my}px`);\n        const { x } = table.computeEventXy(e);\n        if (x <= 0) {\n          this.hide();\n        }\n        const newTop = my - (top - rows.getHeight(ri)) + this.height;\n        tableDataSnapshot.begin();\n        rowsDataProxy.setHeight(ri, newTop);\n        tableDataSnapshot.end();\n        table.resize();\n      });\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      if (moveOff) return;\n      // eslint-disable-next-line prefer-const\n      let { top, ri } = this.getEventTop(e);\n      const min = top - rows.getHeight(ri) + rows.minHeight;\n      const visualHeight = table.visualHeight();\n      if (top > visualHeight) {\n        top = visualHeight;\n      }\n      if (top === -1 || min > visualHeight || ri === -1) {\n        this.hide();\n      } else {\n        this.show();\n        this.css('top', `${top - this.height}px`);\n        this.hoverEl.css('width', `${index.width}px`);\n        this.hoverEl.css('height', `${this.height}px`);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_LEAVE, () => {\n      if (moveOff) return;\n      this.hide();\n    });\n  }\n}\n\nexport { YReSizer };\n","import { cssPrefix } from '../../../../constant/Constant';\nimport { Widget } from '../../../../lib/Widget';\nimport { h } from '../../../../lib/Element';\n\nclass AutoFill extends Widget {\n  constructor() {\n    super(`${cssPrefix}-autofill`);\n    this.areaEl = h('div', `${cssPrefix}-autofill-area`);\n    this.children(this.areaEl);\n    this.hide();\n  }\n}\n\nexport { AutoFill };\n","/* global document */\nimport { ScreenWidget } from '../../screen/ScreenWidget';\nimport { AutoFill } from './AutoFill';\nimport { EventBind } from '../../../../utils/EventBind';\nimport { Constant } from '../../../../constant/Constant';\nimport { RectRange } from '../../RectRange';\nimport { Utils } from '../../../../utils/Utils';\n\nclass ScreenAutoFill extends ScreenWidget {\n\n  constructor(screen, options = {}) {\n    super(screen);\n    this.options = Utils.mergeDeep({\n      mergeForceSplit: false,\n      onBeforeAutoFill: () => {},\n      onAfterAutoFill: () => {},\n    }, options);\n    this.lt = new AutoFill();\n    this.t = new AutoFill();\n    this.l = new AutoFill();\n    this.br = new AutoFill();\n    this.autoFillAttr = null;\n    this.bind();\n  }\n\n  bind() {\n    const { screen } = this;\n    const { table } = screen;\n    const { mousePointer, screenSelector } = table;\n    const { key, type } = Constant.MOUSE_POINTER_TYPE.AUTO_FILL;\n    EventBind.bind([\n      screenSelector.lt.cornerEl,\n      screenSelector.t.cornerEl,\n      screenSelector.l.cornerEl,\n      screenSelector.br.cornerEl,\n    ], Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      mousePointer.on(key);\n      mousePointer.set(type, key);\n      EventBind.mouseMoveUp(document, (e2) => {\n        const { x, y } = table.computeEventXy(e2);\n        const moveAutoFill = this.getMoveAutoFillAttr(x, y);\n        if (moveAutoFill) {\n          // console.log('moveAutoFill>>>', moveAutoFill);\n          this.setOffset(moveAutoFill);\n        } else {\n          this.lt.hide();\n          this.t.hide();\n          this.l.hide();\n          this.br.hide();\n        }\n        this.autoFillAttr = moveAutoFill;\n      }, () => {\n        mousePointer.off(key);\n        this.lt.hide();\n        this.t.hide();\n        this.l.hide();\n        this.br.hide();\n        if (this.autoFillAttr) {\n          this.autoFillTo();\n          table.render();\n        }\n      });\n    });\n    EventBind.bind([\n      screenSelector.lt.cornerEl,\n      screenSelector.t.cornerEl,\n      screenSelector.l.cornerEl,\n      screenSelector.br.cornerEl,\n    ], Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, () => {\n      mousePointer.set(type, key);\n    });\n  }\n\n  setLTOffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { frozenLeftTop, cols, rows } = table;\n    const viewRange = frozenLeftTop.getScrollViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.lt.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.eci > viewRange.eci) {\n      this.lt.areaEl.css('border-right', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.lt.areaEl.css('border-bottom', 'none');\n    } else {\n      this.lt.areaEl.cssRemoveKeys('border-bottom');\n    }\n    this.lt.offset({\n      width, height, left, top,\n    }).show();\n  }\n\n  setTOffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedTop, cols, rows } = table;\n    const viewRange = fixedTop.getScrollViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.t.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.sci < viewRange.sci) {\n      this.t.areaEl.css('border-left', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.t.areaEl.css('border-bottom', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.t.areaEl.css('border-right', 'none');\n    } else {\n      this.t.areaEl.cssRemoveKeys('border-right');\n    }\n    this.t.offset({\n      width, height, left, top,\n    }).show();\n  }\n\n  setLOffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const { fixedLeft, cols, rows } = table;\n    const viewRange = fixedLeft.getScrollViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.l.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.sri < viewRange.sri) {\n      this.l.areaEl.css('border-top', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.l.areaEl.css('border-right', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-right');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.l.areaEl.css('border-bottom', 'none');\n    } else {\n      this.l.areaEl.cssRemoveKeys('border-bottom');\n    }\n    this.l.offset({\n      width, height, left, top,\n    }).show();\n  }\n\n  setBROffset(autoFillAttr) {\n    const { screen } = this;\n    const { table } = screen;\n    const {\n      cols, rows,\n    } = table;\n    const viewRange = table.getScrollViewRange();\n    const { rect } = autoFillAttr;\n    const empty = new RectRange(-1, -1, -1, -1);\n    const coincideRange = rect.coincide(viewRange);\n    if (empty.equals(coincideRange)) {\n      this.br.hide();\n      return;\n    }\n    const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci);\n    const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri);\n    const top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n    const left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n    if (rect.sci < viewRange.sci) {\n      this.br.areaEl.css('border-left', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-left');\n    }\n    if (rect.sri < viewRange.sri) {\n      this.br.areaEl.css('border-top', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-top');\n    }\n    if (rect.eri > viewRange.eri) {\n      this.br.areaEl.css('border-bottom', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-bottom');\n    }\n    if (rect.eci > viewRange.eci) {\n      this.br.areaEl.css('border-right', 'none');\n    } else {\n      this.br.areaEl.cssRemoveKeys('border-right');\n    }\n    this.br.offset({ width, height, left, top,\n    }).show();\n  }\n\n  setOffset(autoFillAttr) {\n    this.setLTOffset(autoFillAttr);\n    this.setTOffset(autoFillAttr);\n    this.setLOffset(autoFillAttr);\n    this.setBROffset(autoFillAttr);\n  }\n\n  getMoveAutoFillAttr(x, y) {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { selectorAttr } = screenSelector;\n    const { cols, rows, merges } = table;\n    const { rect: selectorRect, edge, edgeType } = selectorAttr;\n    const autoFillSelectorRect = edge || merges.intersects(selectorRect);\n    const [rSize, cSize] = selectorRect.size();\n    let { ri, ci } = table.getRiCiByXy(x, y);\n    // console.log('autoFillSelectorRect >>>', autoFillSelectorRect);\n    if (ri < 0) ri = 0; else if (ri > rows.len) ri = rows.len - 1;\n    if (ci < 0) ci = 0; else if (ci > cols.len) ci = cols.len - 1;\n    const { sri: selectorSri, sci: selectorSci } = selectorRect;\n    let { eri: selectorEri, eci: selectorEci } = selectorRect;\n    if (edgeType === 'left') selectorEci = cols.len - 1;\n    if (edgeType === 'top') selectorEri = rows.len - 1;\n    let rect = null;\n    let direction = 'un';\n    if (ri < selectorSri || ri > selectorEri) {\n      if (ri < selectorSri) {\n        direction = 'top';\n        if (autoFillSelectorRect) {\n          let minRi = selectorSri - rSize;\n          if (minRi >= 0) {\n            const diff = (selectorSri - 1) - ri;\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % rSize === 0 && minRi - rSize >= 0) minRi -= rSize;\n            }\n            rect = new RectRange(minRi, selectorSci, selectorSri - 1, selectorEci);\n          }\n        } else {\n          rect = new RectRange(ri, selectorSci, selectorSri - 1, selectorEci);\n        }\n      }\n      if (ri > selectorEri) {\n        direction = 'bottom';\n        if (autoFillSelectorRect) {\n          let maxRi = selectorEri + rSize;\n          if (maxRi <= rows.len - 1) {\n            const diff = ri - (selectorEri + 1);\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % rSize === 0 && maxRi + rSize <= rows.len - 1) maxRi += rSize;\n            }\n            rect = new RectRange(selectorEri + 1, selectorSci, maxRi, selectorEci);\n          }\n        } else {\n          rect = new RectRange(selectorEri + 1, selectorSci, ri, selectorEci);\n        }\n      }\n    } else if (ci < selectorSci || ci > selectorEci) {\n      if (ci < selectorSci) {\n        direction = 'left';\n        if (autoFillSelectorRect) {\n          let minCi = selectorSci - cSize;\n          if (minCi >= 0) {\n            const diff = (selectorSci - 1) - ci;\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % cSize === 0 && minCi - cSize >= 0) minCi -= cSize;\n            }\n            rect = new RectRange(selectorSri, minCi, selectorEri, selectorSci - 1);\n          }\n        } else {\n          rect = new RectRange(selectorSri, ci, selectorEri, selectorSci - 1);\n        }\n      }\n      if (ci > selectorEci) {\n        direction = 'right';\n        if (autoFillSelectorRect) {\n          let maxCi = selectorEci + cSize;\n          if (maxCi <= cols.len - 1) {\n            const diff = ci - (selectorEci + 1);\n            for (let i = 1; i <= diff; i += 1) {\n              if (i % cSize === 0 && maxCi + cSize <= cols.len - 1) maxCi += cSize;\n            }\n            rect = new RectRange(selectorSri, selectorEci + 1, selectorEri, maxCi);\n          }\n        } else {\n          rect = new RectRange(selectorSri, selectorEci + 1, selectorEri, ci);\n        }\n      }\n    }\n    if (rect !== null) {\n      const width = cols.sectionSumWidth(rect.sci, rect.eci);\n      const height = rows.sectionSumHeight(rect.sri, rect.eri);\n      rect.w = width;\n      rect.h = height;\n      return {\n        rect, direction,\n      };\n    }\n    return null;\n  }\n\n  mergeCellForceSplit() {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { merges } = table;\n    const { autoFillAttr } = this;\n    const { selectorAttr } = screenSelector;\n    const { rect: autoFillRect } = autoFillAttr;\n    const { rect: selectorRect } = selectorAttr;\n    let sIndexRi = selectorRect.sri;\n    let tIndexRi = autoFillRect.sri;\n    while (tIndexRi <= autoFillRect.eri) {\n      let sIndexCi = selectorRect.sci;\n      let tIndexCi = autoFillRect.sci;\n      while (tIndexCi <= autoFillRect.eci) {\n        const rect = new RectRange(tIndexRi, tIndexCi, tIndexRi, tIndexCi);\n        const mergeRect = merges.getFirstIncludes(tIndexRi, tIndexCi);\n        if (!mergeRect || !selectorRect.intersects(mergeRect)) {\n          merges.deleteIntersects(rect);\n        }\n        sIndexCi += 1;\n        tIndexCi += 1;\n        if (sIndexCi > selectorRect.eci) sIndexCi = selectorRect.sci;\n      }\n      sIndexRi += 1;\n      tIndexRi += 1;\n      if (sIndexRi > selectorRect.eri) sIndexRi = selectorRect.sri;\n    }\n  }\n\n  copyContent() {\n    let count = 0;\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { cells, tableDataSnapshot } = table;\n    const { cellDataProxy } = tableDataSnapshot;\n    const { autoFillAttr } = this;\n    const { selectorAttr } = screenSelector;\n    const { rect: autoFillRect } = autoFillAttr;\n    const { rect: selectorRect } = selectorAttr;\n    let sIndexRi = selectorRect.sri;\n    let tIndexRi = autoFillRect.sri;\n    while (tIndexRi <= autoFillRect.eri) {\n      let sIndexCi = selectorRect.sci;\n      let tIndexCi = autoFillRect.sci;\n      while (tIndexCi <= autoFillRect.eci) {\n        const src = cells.getCell(sIndexRi, sIndexCi);\n        if (src) {\n          const target = src.clone();\n          cellDataProxy.setCell(tIndexRi, tIndexCi, target);\n          if (!Utils.isBlank(src.text)) {\n            count += 1;\n          }\n        }\n        sIndexCi += 1;\n        tIndexCi += 1;\n        if (sIndexCi > selectorRect.eci) sIndexCi = selectorRect.sci;\n      }\n      sIndexRi += 1;\n      tIndexRi += 1;\n      if (sIndexRi > selectorRect.eri) sIndexRi = selectorRect.sri;\n    }\n    return count;\n  }\n\n  copyMerge() {\n    const { screen, screenSelector } = this;\n    const { table } = screen;\n    const { merges, tableDataSnapshot } = table;\n    const { mergeDataProxy } = tableDataSnapshot;\n    const { autoFillAttr } = this;\n    const { selectorAttr } = screenSelector;\n    const { rect: autoFillRect, direction } = autoFillAttr;\n    const { rect: selectorRect, edge } = selectorAttr;\n    let sIndexRi = selectorRect.sri;\n    let tIndexRi = autoFillRect.sri;\n    if (edge && (direction === 'top' || direction === 'left')) return;\n    while (tIndexRi <= autoFillRect.eri) {\n      let sIndexCi = selectorRect.sci;\n      let tIndexCi = autoFillRect.sci;\n      while (tIndexCi <= autoFillRect.eci) {\n        const mergeRect = merges.getFirstIncludes(sIndexRi, sIndexCi);\n        if (mergeRect) {\n          const isOrigin = mergeRect.sri === sIndexRi && mergeRect.sci === sIndexCi;\n          if (isOrigin) {\n            let [rSize, cSize] = mergeRect.size();\n            rSize -= 1;\n            cSize -= 1;\n            const newMerge = new RectRange(tIndexRi, tIndexCi, tIndexRi + rSize, tIndexCi + cSize);\n            if (!merges.intersects(newMerge)) {\n              mergeDataProxy.addMerge(newMerge);\n            }\n          }\n        }\n        sIndexCi += 1;\n        tIndexCi += 1;\n        if (sIndexCi > selectorRect.eci) sIndexCi = selectorRect.sci;\n      }\n      sIndexRi += 1;\n      tIndexRi += 1;\n      if (sIndexRi > selectorRect.eri) sIndexRi = selectorRect.sri;\n    }\n  }\n\n  autoFillTo() {\n    const { screen, options } = this;\n    const { mergeForceSplit } = options;\n    const { table } = screen;\n    const { merges } = table;\n    const { autoFillAttr } = this;\n    const { rect: autoFillRect } = autoFillAttr;\n    const mergeRect = merges.getFirstIncludes(autoFillRect.sri, autoFillRect.sci);\n    if (mergeRect && mergeRect.equals(autoFillRect)) {\n      this.options.onBeforeAutoFill();\n      this.mergeCellForceSplit();\n      const count = this.copyContent();\n      this.copyMerge();\n      this.options.onAfterAutoFill(count);\n    } else {\n      if (merges.intersects(autoFillRect) && mergeForceSplit === false) {\n        // eslint-disable-next-line no-undef,no-alert\n        alert('此操作要求合并单元格都具有相同大小');\n        return;\n      }\n      this.options.onBeforeAutoFill();\n      this.mergeCellForceSplit();\n      const count = this.copyContent();\n      this.copyMerge();\n      this.options.onAfterAutoFill(count);\n    }\n  }\n}\n\nexport { ScreenAutoFill };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix, Constant } from '../../../constant/Constant';\nimport { SCREEN_SELECT_EVENT } from '../screenwiget/selector/ScreenSelector';\nimport { EventBind } from '../../../utils/EventBind';\n\nimport { RectRange } from '../RectRange';\n\nclass XHeightLight extends Widget {\n\n  constructor(table) {\n    super(`${cssPrefix}-table-x-height-light`);\n\n    this.table = table;\n    const { settings } = table;\n    const { index } = settings;\n    this.css('height', `${index.height}px`);\n  }\n\n  onAttach() {\n    this.bind();\n    this.hide();\n  }\n\n  disjoint(sRect, tRect) {\n    return sRect.sci > tRect.eci || tRect.sci > sRect.eci;\n  }\n\n  coincide(sRect, tRect) {\n    if (this.disjoint(sRect, tRect)) {\n      return new RectRange(0, -1, 0, -1);\n    }\n    return new RectRange(\n      0,\n      tRect.sci > sRect.sci ? tRect.sci : sRect.sci,\n      0,\n      tRect.eci < sRect.eci ? tRect.eci : sRect.eci,\n    );\n  }\n\n  offsetHeightLight(selectorAttr, intersectsArea) {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const empty = new RectRange(0, -1, 0, -1);\n    this.hide();\n    switch (intersectsArea) {\n      case 'lt': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, cols } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        if (!empty.equals(ltCoincideRange)) {\n          const width = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n          const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 't': {\n        const { rect } = selectorAttr;\n        const { fixedTop, cols } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        if (!empty.equals(tCoincideRange)) {\n          const width = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n          const left = cols.sectionSumWidth(tViewRange.sci, tCoincideRange.sci - 1)\n            + table.getFixedWidth() + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'br': {\n        const { rect } = selectorAttr;\n        const { cols } = table;\n        const cViewRange = table.getScrollViewRange();\n        const cCoincideRange = this.coincide(rect, cViewRange);\n        if (!empty.equals(cCoincideRange)) {\n          const width = cols.sectionSumWidth(cCoincideRange.sci, cCoincideRange.eci);\n          const left = cols.sectionSumWidth(cViewRange.sci, cCoincideRange.sci - 1)\n            + table.getFixedWidth() + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'l': {\n        const { rect } = selectorAttr;\n        const { fixedLeft, cols } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        if (!empty.equals(lCoincideRange)) {\n          const width = cols.sectionSumWidth(lCoincideRange.sci, lCoincideRange.eci);\n          const left = cols.sectionSumWidth(lViewRange.sci, lCoincideRange.sci - 1) + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'ltt': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, fixedTop, cols } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const tViewRange = fixedTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        let width = 0;\n        const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n        if (!empty.equals(ltCoincideRange)) {\n          width += cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        }\n        if (!empty.equals(tCoincideRange)) {\n          width += cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        }\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n        break;\n      }\n      case 'ltl': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, cols } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        if (!empty.equals(ltCoincideRange)) {\n          const width = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n          const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'tbr': {\n        const { rect } = selectorAttr;\n        const { fixedTop, cols } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        if (!empty.equals(tCoincideRange)) {\n          const width = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n          const left = cols.sectionSumWidth(tViewRange.sci, tCoincideRange.sci - 1)\n            + table.getFixedWidth() + index.width;\n          if (`${width}px` !== this.css('width')) {\n            this.css('width', `${width}px`);\n          }\n          if (`${left}px` !== this.css('left')) {\n            this.css('left', `${left}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'lbr': {\n        const { rect } = selectorAttr;\n        const { fixedLeft, cols } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const cViewRange = table.getScrollViewRange();\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        const cCoincideRange = this.coincide(rect, cViewRange);\n        let width = 0;\n        const left = cols.sectionSumWidth(lViewRange.sci, lCoincideRange.sci - 1) + index.width;\n        if (!empty.equals(lCoincideRange)) {\n          width += cols.sectionSumWidth(lCoincideRange.sci, lCoincideRange.eci);\n        }\n        if (!empty.equals(cCoincideRange)) {\n          width += cols.sectionSumWidth(cCoincideRange.sci, cCoincideRange.eci);\n        }\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n        break;\n      }\n      case 'lttlbr': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, fixedTop, cols } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const tViewRange = fixedTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        let width = 0;\n        const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1) + index.width;\n        if (!empty.equals(ltCoincideRange)) {\n          width += cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        }\n        if (!empty.equals(tCoincideRange)) {\n          width += cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        }\n        if (`${width}px` !== this.css('width')) {\n          this.css('width', `${width}px`);\n        }\n        if (`${left}px` !== this.css('left')) {\n          this.css('left', `${left}px`);\n        }\n        this.show();\n        break;\n      }\n      default: break;\n    }\n  }\n\n  bind() {\n    const { table } = this;\n    const { screenSelector } = table;\n    screenSelector.on(SCREEN_SELECT_EVENT.CHANGE, () => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n  }\n}\n\nexport { XHeightLight };\n","import { Widget } from '../../../lib/Widget';\nimport { cssPrefix, Constant } from '../../../constant/Constant';\nimport { RectRange } from '../RectRange';\nimport { SCREEN_SELECT_EVENT } from '../screenwiget/selector/ScreenSelector';\nimport { EventBind } from '../../../utils/EventBind';\n\nclass YHeightLight extends Widget {\n\n  constructor(table) {\n    super(`${cssPrefix}-table-y-height-light`);\n\n    this.table = table;\n    const { settings } = table;\n    const { index } = settings;\n    this.css('width', `${index.width}px`);\n  }\n\n  onAttach() {\n    this.bind();\n    this.hide();\n  }\n\n  disjoint(sRect, tRect) {\n    return sRect.sri > tRect.eri || tRect.sri > sRect.eri;\n  }\n\n  coincide(sRect, tRect) {\n    if (this.disjoint(sRect, tRect)) {\n      return new RectRange(-1, 0, -1, 0);\n    }\n    return new RectRange(\n      tRect.sri > sRect.sri ? tRect.sri : sRect.sri,\n      0,\n      tRect.eri < sRect.eri ? tRect.eri : sRect.eri,\n      0,\n    );\n  }\n\n  offsetHeightLight(selectorAttr, intersectsArea) {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    const empty = new RectRange(-1, 0, -1, 0);\n    this.hide();\n    switch (intersectsArea) {\n      case 'lt': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, rows } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        if (!empty.equals(ltCoincideRange)) {\n          const height = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n          // eslint-disable-next-line max-len\n          const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 't': {\n        const { rect } = selectorAttr;\n        const { fixedTop, rows } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        // console.log('tCoincideRange>>>', tCoincideRange);\n        if (!empty.equals(tCoincideRange)) {\n          const height = rows.sectionSumHeight(tCoincideRange.sri, tCoincideRange.eri);\n          const top = rows.sectionSumHeight(tViewRange.sri, tCoincideRange.sri - 1) + index.height;\n          // console.log('height>>>', height);\n          // console.log('top>>>', top);\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'l': {\n        const { rect } = selectorAttr;\n        const { fixedLeft, rows } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        if (!empty.equals(lCoincideRange)) {\n          const height = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n          const top = rows.sectionSumHeight(lViewRange.sri, lCoincideRange.sri - 1)\n            + table.getFixedHeight() + index.height;\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'br': {\n        const { rect } = selectorAttr;\n        const { rows } = table;\n        const cViewRange = table.getScrollViewRange();\n        const cCoincideRange = this.coincide(rect, cViewRange);\n        // console.log('cCoincideRange>>>', cCoincideRange);\n        if (!empty.equals(cCoincideRange)) {\n          const height = rows.sectionSumHeight(cCoincideRange.sri, cCoincideRange.eri);\n          const top = rows.sectionSumHeight(cViewRange.sri, cCoincideRange.sri - 1)\n            + table.getFixedHeight() + index.height;\n          // console.log('height>>>', height);\n          // console.log('top>>>', top);\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'ltt': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, rows } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        if (!empty.equals(ltCoincideRange)) {\n          // eslint-disable-next-line max-len\n          const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n          const height = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'ltl': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, fixedLeft, rows } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n        let height = 0;\n        if (!empty.equals(ltCoincideRange)) {\n          height += rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        }\n        if (!empty.equals(lCoincideRange)) {\n          height += rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        }\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n        break;\n      }\n      case 'tbr': {\n        const { rect } = selectorAttr;\n        const { fixedTop, rows } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const cViewRange = table.getScrollViewRange();\n        const tCoincideRange = this.coincide(rect, tViewRange);\n        const cCoincideRange = this.coincide(rect, cViewRange);\n        const top = rows.sectionSumHeight(tViewRange.sri, tCoincideRange.sri - 1) + index.height;\n        let height = 0;\n        if (!empty.equals(tCoincideRange)) {\n          height += rows.sectionSumHeight(tCoincideRange.sri, tCoincideRange.eri);\n        }\n        if (!empty.equals(cCoincideRange)) {\n          height += rows.sectionSumHeight(cCoincideRange.sri, cCoincideRange.eri);\n        }\n        // console.log('tCoincideRange>>>', tCoincideRange);\n        // console.log('cCoincideRange>>>', cCoincideRange);\n        // console.log('top>>>', top);\n        // console.log('height>>>', height);\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n        break;\n      }\n      case 'lbr': {\n        const { rect } = selectorAttr;\n        const { fixedLeft, rows } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        if (!empty.equals(lCoincideRange)) {\n          const height = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n          const top = rows.sectionSumHeight(lViewRange.sri, lCoincideRange.sri - 1)\n            + table.getFixedHeight() + index.height;\n          if (`${height}px` !== this.css('height')) {\n            this.css('height', `${height}px`);\n          }\n          if (`${top}px` !== this.css('top')) {\n            this.css('top', `${top}px`);\n          }\n          this.show();\n        }\n        break;\n      }\n      case 'lttlbr': {\n        const { rect } = selectorAttr;\n        const { frozenLeftTop, fixedLeft, rows } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const ltCoincideRange = this.coincide(rect, ltViewRange);\n        const lCoincideRange = this.coincide(rect, lViewRange);\n        let height = 0;\n        const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1) + index.height;\n        if (!empty.equals(ltCoincideRange)) {\n          height += rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        }\n        if (!empty.equals(lCoincideRange)) {\n          height += rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        }\n        if (`${height}px` !== this.css('height')) {\n          this.css('height', `${height}px`);\n        }\n        if (`${top}px` !== this.css('top')) {\n          this.css('top', `${top}px`);\n        }\n        this.show();\n        break;\n      }\n      default: break;\n    }\n  }\n\n  bind() {\n    const { table } = this;\n    const { screenSelector } = table;\n    screenSelector.on(SCREEN_SELECT_EVENT.CHANGE, () => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      const { selectorAttr } = screenSelector;\n      if (selectorAttr) {\n        const intersectsArea = screenSelector.getIntersectsArea(selectorAttr);\n        this.offsetHeightLight(selectorAttr, intersectsArea);\n      }\n    });\n  }\n}\n\nexport { YHeightLight };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix, Constant } from '../../constant/Constant';\nimport { h } from '../../lib/Element';\nimport { EventBind } from '../../utils/EventBind';\n\nimport { ScreenSelector } from './screenwiget/selector/ScreenSelector';\nimport { Utils } from '../../utils/Utils';\nimport { RectRange } from './RectRange';\n\nclass Edit extends Widget {\n\n  constructor(table) {\n    super(`${cssPrefix}-table-edit`);\n    this.input = h('div', `${cssPrefix}-table-edit-input`);\n    this.input.attr('contenteditable', true);\n    this.input.html('<p>&nbsp;</p>');\n    this.table = table;\n    this.text = '';\n    this.select = null;\n    this.children(this.input);\n  }\n\n  onAttach() {\n    this.bind();\n    this.hide();\n  }\n\n  bind() {\n    const { table } = this;\n    const { screenSelector } = table;\n    const selector = screenSelector;\n    EventBind.bind(this.input, Constant.SYSTEM_EVENT_TYPE.INPUT, () => {\n      const { input } = this;\n      if (Utils.isBlank(this.input.text())) {\n        input.html('<p>&nbsp;</p>');\n      }\n      this.text = input.text();\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      this.hideEdit();\n    });\n    EventBind.bind(table, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, () => {\n      this.hideEdit();\n    });\n    EventBind.dbClick([\n      selector.lt,\n      selector.t,\n      selector.l,\n      selector.br,\n    ], () => {\n      this.showEdit();\n    });\n  }\n\n  showEdit() {\n    const { table, input } = this;\n    const { screen, cells } = table;\n    const selector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = selector;\n    if (selectorAttr) {\n      const { rect } = selectorAttr;\n      const cell = cells.getCellOrNew(rect.sri, rect.sci);\n      this.select = rect;\n      this.editOffset(rect);\n      this.text = cell.text;\n      if (Utils.isBlank(this.text)) {\n        input.html('<p>&nbsp;</p>');\n      } else {\n        input.text(this.text);\n      }\n      Utils.keepLastIndex(this.input.el);\n    }\n  }\n\n  hideEdit() {\n    const { select } = this;\n    const { table } = this;\n    const { cells, tableDataSnapshot } = table;\n    const { cellDataProxy } = tableDataSnapshot;\n    if (select) {\n      const origin = cells.getCellOrNew(select.sri, select.sci);\n      const cell = origin.clone();\n      const text = Utils.trim(this.text);\n      if (cell.text !== text) {\n        tableDataSnapshot.begin();\n        cell.text = text;\n        cellDataProxy.setCell(select.sri, select.sci, cell);\n        tableDataSnapshot.end();\n        table.render();\n      }\n      this.select = null;\n    }\n    this.hide();\n  }\n\n  editOffset() {\n    const { table } = this;\n    const { screen } = table;\n    const selector = screen.findByClass(ScreenSelector);\n    const { selectorAttr } = selector;\n    const { rect } = selectorAttr;\n    const { cols, rows } = table;\n    const offset = 3;\n    const intersectsArea = selector.getIntersectsArea(selectorAttr);\n    switch (intersectsArea) {\n      case 'lt': {\n        const { frozenLeftTop } = table;\n        const viewRange = frozenLeftTop.getScrollViewRange();\n        const coincideRange = rect.coincide(viewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(coincideRange)) {\n          this.hide();\n          return;\n        }\n        const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n        const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n        let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n        let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n        top += table.getIndexHeight() + offset;\n        left += table.getIndexWidth() + offset;\n        this.offset({\n          width,\n          height,\n          top,\n          left,\n        }).show();\n        break;\n      }\n      case 't': {\n        const { fixedTop } = table;\n        const viewRange = fixedTop.getScrollViewRange();\n        const coincideRange = rect.coincide(viewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(coincideRange)) {\n          this.hide();\n          return;\n        }\n        const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n        const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n        let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n        let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n        top += table.getIndexHeight() + offset;\n        left += table.getFixedWidth() + table.getIndexWidth() + offset;\n        this.offset({\n          width,\n          height,\n          top,\n          left,\n        }).show();\n        break;\n      }\n      case 'br': {\n        const viewRange = table.getScrollViewRange();\n        const coincideRange = rect.coincide(viewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(coincideRange)) {\n          this.hide();\n          return;\n        }\n        const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n        const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n        let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n        let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n        top += table.getFixedHeight() + table.getIndexHeight() + offset;\n        left += table.getFixedWidth() + table.getIndexWidth() + offset;\n        this.offset({\n          width,\n          height,\n          top,\n          left,\n        }).show();\n        break;\n      }\n      case 'l': {\n        const { fixedLeft } = table;\n        const viewRange = fixedLeft.getScrollViewRange();\n        const coincideRange = rect.coincide(viewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(coincideRange)) {\n          this.hide();\n          return;\n        }\n        const width = cols.sectionSumWidth(coincideRange.sci, coincideRange.eci) - offset * 2;\n        const height = rows.sectionSumHeight(coincideRange.sri, coincideRange.eri) - offset * 2;\n        let top = rows.sectionSumHeight(viewRange.sri, coincideRange.sri - 1);\n        let left = cols.sectionSumWidth(viewRange.sci, coincideRange.sci - 1);\n        top += table.getFixedHeight() + table.getIndexHeight() + offset;\n        left += table.getIndexWidth() + offset;\n        this.offset({\n          width,\n          height,\n          top,\n          left,\n        }).show();\n        break;\n      }\n      case 'ltt': {\n        const { frozenLeftTop, fixedTop } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = rect.coincide(ltViewRange);\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = rect.coincide(tViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(tCoincideRange) && empty.equals(ltCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const ltWidth = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        const ltHeight = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        const ltTop = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1);\n        const ltLeft = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1);\n        const tWidth = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        this.offset({\n          width: (ltWidth + tWidth) - offset * 2,\n          height: ltHeight - offset * 2,\n          top: ltTop + table.getIndexHeight() + offset,\n          left: ltLeft + table.getIndexWidth() + offset,\n        }).show();\n        break;\n      }\n      case 'ltl': {\n        const { frozenLeftTop, fixedLeft } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = rect.coincide(ltViewRange);\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = rect.coincide(lViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(ltCoincideRange) && empty.equals(lCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const ltWidth = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        const ltHeight = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        const lHeight = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        let ltTop = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1);\n        let ltLeft = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1);\n        ltTop += table.getIndexHeight() + offset;\n        ltLeft += table.getIndexWidth() + offset;\n        this.offset({\n          width: ltWidth - offset * 2,\n          height: (ltHeight + lHeight) - offset * 2,\n          top: ltTop,\n          left: ltLeft,\n        }).show();\n        break;\n      }\n      case 'tbr': {\n        const { fixedTop } = table;\n        const cViewRange = table.getScrollViewRange();\n        const cCoincideRange = rect.coincide(cViewRange);\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = rect.coincide(tViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(cCoincideRange) && empty.equals(tCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const tWidth = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        const tHeight = rows.sectionSumHeight(tCoincideRange.sri, tCoincideRange.eri);\n        const tTop = rows.sectionSumHeight(tViewRange.sri, tCoincideRange.sri - 1);\n        const tLeft = cols.sectionSumWidth(tViewRange.sci, tCoincideRange.sci - 1);\n        const cHeight = rows.sectionSumHeight(cCoincideRange.sri, cCoincideRange.eri);\n        this.offset({\n          width: tWidth - offset * 2,\n          height: (cHeight + tHeight) - offset * 2,\n          top: tTop + table.getIndexHeight() + offset,\n          left: tLeft + table.getFixedWidth() + table.getIndexWidth() + offset,\n        }).show();\n        break;\n      }\n      case 'lbr': {\n        const { fixedLeft } = table;\n        const cViewRange = table.getScrollViewRange();\n        const cCoincideRange = rect.coincide(cViewRange);\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = rect.coincide(lViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(cCoincideRange) && empty.equals(lCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const lWidth = cols.sectionSumWidth(lCoincideRange.sci, lCoincideRange.eci);\n        const lHeight = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        const lTop = rows.sectionSumHeight(lViewRange.sri, lCoincideRange.sri - 1);\n        const lLeft = cols.sectionSumWidth(lViewRange.sci, lCoincideRange.sci - 1);\n        const cWidth = cols.sectionSumWidth(cCoincideRange.sci, cCoincideRange.eci);\n        this.offset({\n          width: (lWidth + cWidth) - offset * 2,\n          height: lHeight - offset * 2,\n          top: lTop + table.getFixedHeight() + table.getIndexHeight() + offset,\n          left: lLeft + table.getIndexWidth() + offset,\n        }).show();\n        break;\n      }\n      case 'lttlbr': {\n        const { frozenLeftTop } = table;\n        const ltViewRange = frozenLeftTop.getScrollViewRange();\n        const ltCoincideRange = rect.coincide(ltViewRange);\n        const { fixedTop } = table;\n        const tViewRange = fixedTop.getScrollViewRange();\n        const tCoincideRange = rect.coincide(tViewRange);\n        const { fixedLeft } = table;\n        const lViewRange = fixedLeft.getScrollViewRange();\n        const lCoincideRange = rect.coincide(lViewRange);\n        const empty = new RectRange(-1, -1, -1, -1);\n        if (empty.equals(ltCoincideRange)\n          && empty.equals(tCoincideRange)\n          && empty.equals(lCoincideRange)) {\n          this.hide();\n          return;\n        }\n        const ltWidth = cols.sectionSumWidth(ltCoincideRange.sci, ltCoincideRange.eci);\n        const ltHeight = rows.sectionSumHeight(ltCoincideRange.sri, ltCoincideRange.eri);\n        const tWidth = cols.sectionSumWidth(tCoincideRange.sci, tCoincideRange.eci);\n        const lHeight = rows.sectionSumHeight(lCoincideRange.sri, lCoincideRange.eri);\n        const top = rows.sectionSumHeight(ltViewRange.sri, ltCoincideRange.sri - 1);\n        const left = cols.sectionSumWidth(ltViewRange.sci, ltCoincideRange.sci - 1);\n        this.offset({\n          width: (ltWidth + tWidth) - offset * 2,\n          height: (ltHeight + lHeight) - offset * 2,\n          top: top + table.getIndexHeight() + offset,\n          left: left + table.getIndexWidth() + offset,\n        }).show();\n        break;\n      }\n      default: break;\n    }\n  }\n}\n\nexport { Edit };\n","import { dpr } from './Draw';\nimport { Utils } from '../utils/Utils';\n\nclass Grid {\n\n  constructor(draw, attr = {}) {\n    this.draw = draw;\n    this.color = '#000000';\n    Utils.mergeDeep(this, attr);\n  }\n\n  lineWidth() {\n    const width = Math.floor(dpr());\n    return width > 2 ? width : 1;\n  }\n\n  verticalLine(sx, sy, ex, ey) {\n    if (sx !== ex) {\n      throw new Error('coordinate errors sx should be equal to ex !!!');\n    }\n    const { draw, color } = this;\n    const width = this.lineWidth();\n    draw.attr({\n      fillStyle: color,\n    });\n    const diff = ey - sy;\n    draw.fillRect(sx, sy, width, diff);\n  }\n\n  horizontalLine(sx, sy, ex, ey) {\n    if (sy !== ey) {\n      throw new Error('coordinate errors sy should be equal to ey !!!');\n    }\n    const { draw, color } = this;\n    const width = this.lineWidth();\n    draw.attr({\n      fillStyle: color,\n    });\n    const diff = ex - sx;\n    draw.fillRect(sx, sy, diff, width);\n  }\n}\n\nexport { Grid };\n","class Box {\n  constructor({ rect, draw }) {\n    this.draw = draw;\n    this.rect = rect;\n    this.backgroundColor = null;\n  }\n\n  drawBackgroundColor(color) {\n    if (color) {\n      this.backgroundColor = color;\n      const { draw, rect } = this;\n      draw.attr({\n        fillStyle: color,\n      });\n      draw.fillRect(rect.x, rect.y, rect.width, rect.height);\n    }\n  }\n}\n\nexport { Box };\n","import { RectRange } from '../RectRange';\nimport { Rect } from '../../../canvas/Rect';\nimport { Utils } from '../../../utils/Utils';\nimport { ALIGN, TEXT_DIRECTION, TEXT_WRAP } from '../../../canvas/Font';\n\nclass LineHandle {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  /**\n   * 绘制单元格左边垂直线段时\n   * 判断线段左右的单元格中\n   * 是否存在overflow裁剪类型\n   * 的单元格, 如果有判断宽度是否\n   * 覆盖了当前线段如果覆盖了\n   * 则跳过该线段绘制\n   * @param ci\n   * @param ri\n   */\n  vLineRightOverFlowChecked(ci, ri) {\n    const { table } = this;\n    const { cells, cols, merges } = table;\n    const { len } = cols;\n    const master = cells.getMergeCellOrCell(ri, ci);\n    const next = cells.getMergeCellOrCell(ri, ci + 1);\n    const merge = merges.getFirstIncludes(ri, ci + 1);\n\n    if (merge) {\n      return true;\n    }\n\n    let checkedRight = true;\n    let checkedLeft = true;\n\n    // 检查master单元格是否越界\n    if (master && !Utils.isBlank(master.text)) {\n      const { fontAttr } = master;\n      const { direction } = fontAttr;\n      let checked = true;\n      // 检查文本的绘制方向\n      // 区别对待旋转文本\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        const { angle, textWrap } = fontAttr;\n        if (angle === 90 || angle === -90) {\n          checked = false;\n        }\n        if (textWrap === TEXT_WRAP.TRUNCATE) {\n          checked = false;\n        }\n      } else {\n        // 跳过裁剪类型不是overflow\n        // 类型的单元格\n        // eslint-disable-next-line no-lonely-if\n        const { textWrap } = fontAttr;\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) {\n          checked = false;\n        }\n      }\n      // 跳过对齐方式不是left和center\n      // 类型的单元格\n      const { align } = fontAttr;\n      const maxWidth = cols.getWidth(ci);\n      if (align !== ALIGN.left && align !== ALIGN.center) {\n        checked = false;\n      }\n      // 单元格符合检查条件\n      // 则检查宽度是否越界\n      if (checked) {\n        // 检查当前单元格的内容\n        // 宽度是否越界\n        const width = this.getCellContentWidth(master, ci);\n        if (width > maxWidth) {\n          // 只有next单元格是空时\n          // 才允许不绘制边框\n          if (next === null || Utils.isBlank(next.text)) checkedLeft = false;\n        }\n      }\n    }\n\n    // 检查左边是否越界\n    let leftWidth = cols.getWidth(ci - 1) + cols.getWidth(ci);\n    for (let i = ci - 1; i >= 0; i -= 1, leftWidth += cols.getWidth(i)) {\n      // 过滤掉空单元格\n      const cell = cells.getCell(ri, i);\n      if (cell === null) continue;\n      const { text } = cell;\n      if (Utils.isBlank(text)) continue;\n      // 检查文本的绘制方向\n      // 区别对待旋转文本\n      const { fontAttr } = cell;\n      const { direction } = fontAttr;\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        const { angle, textWrap } = fontAttr;\n        if (angle === 90 || angle === -90) { break; }\n        if (textWrap === TEXT_WRAP.TRUNCATE) { break; }\n      } else {\n        // 跳过裁剪类型不是overflow\n        // 类型的单元格\n        const { textWrap } = fontAttr;\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) { break; }\n        // 跳过对齐方式不是left和center\n        // 类型的单元格\n        const { align } = fontAttr;\n        if (align !== ALIGN.left && align !== ALIGN.center) { break; }\n      }\n      // 检查当前单元格的内容\n      // 宽度是否越界\n      const width = this.getCellContentWidth(cell, i);\n      if (width > leftWidth) {\n        // 只有master单元格和\n        // next单元格都是空时\n        // 才允许不绘制边框\n        const masterBlank = master === null || Utils.isBlank(master.text);\n        const nextBlank = next === null || Utils.isBlank(next.text);\n        if (masterBlank && nextBlank) {\n          checkedLeft = false;\n        }\n      }\n      break;\n    }\n\n    // 检查右边是否越界\n    let rightWidth = cols.getWidth(ci + 1);\n    for (let j = ci + 1; j <= len; j += 1, rightWidth += cols.getWidth(j)) {\n      // 过滤掉空单元格\n      const cell = cells.getCell(ri, j);\n      if (cell === null) continue;\n      const { text } = cell;\n      if (Utils.isBlank(text)) continue;\n      // 检查文本的绘制方向\n      // 区别对待旋转文本\n      const { fontAttr } = cell;\n      const { direction } = fontAttr;\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        const { angle, textWrap } = fontAttr;\n        if (angle === 90 || angle === -90) { break; }\n        if (textWrap === TEXT_WRAP.TRUNCATE) { break; }\n      } else {\n        // 跳过裁剪类型不是overflow\n        // 类型的单元格\n        const { textWrap } = fontAttr;\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) { break; }\n        // 跳过对齐方式不是right和center\n        // 类型的单元格\n        const { align } = fontAttr;\n        if (align !== ALIGN.right && align !== ALIGN.center) { break; }\n      }\n      // 检查当前单元格的内容\n      // 宽度是否越界\n      const width = this.getCellContentWidth(cell, j);\n      if (width > rightWidth) {\n        // 只有master单元格为\n        // 空时才允许不绘制边框\n        if (master === null || Utils.isBlank(master.text)) {\n          checkedRight = false;\n        }\n      }\n      break;\n    }\n\n    return checkedLeft && checkedRight;\n  }\n\n  /**\n   * 绘制单元格右边垂直线段时\n   * 判断线段左右的单元格中\n   * 是否存在overflow裁剪类型\n   * 的单元格, 如果有判断宽度是否\n   * 覆盖了当前线段如果覆盖了\n   * 则跳过该线段绘制\n   * @param ci\n   * @param ri\n   */\n  vLineLeftOverFlowChecked(ci, ri) {\n    const { table } = this;\n    const { cells, cols, merges } = table;\n    const { len } = cols;\n    const master = cells.getMergeCellOrCell(ri, ci);\n    const last = cells.getMergeCellOrCell(ri, ci - 1);\n    const merge = merges.getFirstIncludes(ri, ci - 1);\n\n    if (merge) {\n      return true;\n    }\n\n    let checkedRight = true;\n    let checkedLeft = true;\n\n    // 检查master单元格是否越界\n    if (master && !Utils.isBlank(master.text)) {\n      const { fontAttr } = master;\n      const { direction } = fontAttr;\n      let checked = true;\n      // 检查文本的绘制方向\n      // 区别对待旋转文本\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        const { angle, textWrap } = fontAttr;\n        if (angle === 90 || angle === -90) {\n          checked = false;\n        }\n        if (textWrap === TEXT_WRAP.TRUNCATE) {\n          checked = false;\n        }\n      } else {\n        // 跳过裁剪类型不是overflow\n        // 类型的单元格\n        // eslint-disable-next-line no-lonely-if\n        const { textWrap } = fontAttr;\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) {\n          checked = false;\n        }\n      }\n      // 跳过对齐方式不是left和center\n      // 类型的单元格\n      const { align } = fontAttr;\n      const maxWidth = cols.getWidth(ci);\n      if (align !== ALIGN.right && align !== ALIGN.center) {\n        checked = false;\n      }\n      // 单元格符合检查条件\n      // 则检查宽度是否越界\n      if (checked) {\n        // 检查当前单元格的内容\n        // 宽度是否越界\n        const width = this.getCellContentWidth(master, ci);\n        if (width > maxWidth) {\n          // 只有next单元格是空时\n          // 才允许不绘制边框\n          if (last === null || Utils.isBlank(last.text)) checkedLeft = false;\n        }\n      }\n    }\n\n    // 检查左边是否越界\n    let leftWidth = cols.getWidth(ci - 1);\n    for (let i = ci - 1; i >= 0; i -= 1, leftWidth += cols.getWidth(i)) {\n      // 过滤掉空单元格\n      const cell = cells.getCell(ri, i);\n      if (cell === null) continue;\n      const { text } = cell;\n      if (Utils.isBlank(text)) continue;\n      // 检查文本的绘制方向\n      // 区别对待旋转文本\n      const { fontAttr } = cell;\n      const { direction } = fontAttr;\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        const { angle, textWrap } = fontAttr;\n        if (angle === 90 || angle === -90) { break; }\n        if (textWrap === TEXT_WRAP.TRUNCATE) { break; }\n      } else {\n        // 跳过裁剪类型不是overflow\n        // 类型的单元格\n        const { textWrap } = fontAttr;\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) { break; }\n        // 跳过对齐方式不是left和center\n        // 类型的单元格\n        const { align } = fontAttr;\n        if (align !== ALIGN.left && align !== ALIGN.center) { break; }\n      }\n      // 检查当前单元格的内容\n      // 宽度是否越界\n      const width = this.getCellContentWidth(cell, i);\n      if (width > leftWidth) {\n        // 只有master单元格为\n        // 空时才允许不绘制边框\n        if (master === null || Utils.isBlank(master.text)) {\n          checkedLeft = false;\n        }\n      }\n      break;\n    }\n\n    // 检查右边是否越界\n    let rightWidth = cols.getWidth(ci + 1) + cols.getWidth(ci);\n    for (let j = ci + 1; j <= len; j += 1, rightWidth += cols.getWidth(j)) {\n      // 过滤掉空单元格\n      const cell = cells.getCell(ri, j);\n      if (cell === null) continue;\n      const { text } = cell;\n      if (Utils.isBlank(text)) continue;\n      // 检查文本的绘制方向\n      // 区别对待旋转文本\n      const { fontAttr } = cell;\n      const { direction } = fontAttr;\n      if (direction === TEXT_DIRECTION.ANGLE) {\n        const { angle, textWrap } = fontAttr;\n        if (angle === 90 || angle === -90) { break; }\n        if (textWrap === TEXT_WRAP.TRUNCATE) { break; }\n      } else {\n        // 跳过裁剪类型不是overflow\n        // 类型的单元格\n        const { textWrap } = fontAttr;\n        if (textWrap !== TEXT_WRAP.OVER_FLOW) { break; }\n        // 跳过对齐方式不是right和center\n        // 类型的单元格\n        const { align } = fontAttr;\n        if (align !== ALIGN.right && align !== ALIGN.center) { break; }\n      }\n      // 检查当前单元格的内容\n      // 宽度是否越界\n      const width = this.getCellContentWidth(cell, j);\n      if (width > rightWidth) {\n        // 只有master单元格和\n        // last单元格都是空时\n        // 才允许不绘制边框\n        const masterBlank = master === null || Utils.isBlank(master.text);\n        const nextBlank = last === null || Utils.isBlank(last.text);\n        if (masterBlank && nextBlank) {\n          checkedRight = false;\n        }\n      }\n      break;\n    }\n\n    return checkedLeft && checkedRight;\n  }\n\n  /**\n   * 计算单元格内容宽度\n   * @param cell\n   * @param ci\n   * @returns {number|*}\n   */\n  getCellContentWidth(cell, ci) {\n    const { table } = this;\n    const { cols } = table;\n    const colWidth = cols.getWidth(ci);\n    const { contentWidth, fontAttr } = cell;\n    const { align } = fontAttr;\n    switch (align) {\n      case ALIGN.right:\n      case ALIGN.left:\n        return contentWidth;\n      case ALIGN.center:\n        return colWidth + ((contentWidth - colWidth) / 2);\n      default:\n        return 0;\n    }\n  }\n\n  hEach({\n    viewRange = new RectRange(0, 0, 0, 0),\n    newRow = () => true,\n    filter = () => true,\n    jump = () => true,\n    handle = () => true,\n    endRow = () => true,\n    bx = 0,\n    by = 0,\n  }) {\n    const { table } = this;\n    const { cols, rows } = table;\n    const {\n      sri, eri, sci, eci,\n    } = viewRange;\n    let y = by;\n    for (let i = sri; i <= eri; i += 1) {\n      const height = rows.getHeight(i);\n      let x = bx;\n      newRow(i, y);\n      for (let j = sci; j <= eci; j += 1) {\n        const width = cols.getWidth(j);\n        const result = filter(i, j, x, y);\n        if (result) {\n          handle(i, j, x, y);\n        } else {\n          jump(i, j, x, y);\n        }\n        x += width;\n      }\n      endRow();\n      y += height;\n    }\n  }\n\n  vEach({\n    viewRange = new RectRange(0, 0, 0, 0),\n    newCol = () => true,\n    filter = () => true,\n    jump = () => true,\n    handle = () => true,\n    endCol = () => true,\n    bx = 0,\n    by = 0,\n  }) {\n    const { table } = this;\n    const { cols, rows } = table;\n    const {\n      sri, eri, sci, eci,\n    } = viewRange;\n    let x = bx;\n    for (let i = sci; i <= eci; i += 1) {\n      const width = cols.getWidth(i);\n      let y = by;\n      newCol(i, x);\n      for (let j = sri; j <= eri; j += 1) {\n        const height = rows.getHeight(j);\n        const result = filter(i, j, x, y);\n        if (result) {\n          handle(i, j, x, y);\n        } else {\n          jump(i, j, x, y);\n        }\n        y += height;\n      }\n      endCol();\n      x += width;\n    }\n  }\n\n  viewRangeAndMergeCoincideView({\n    viewRange = new RectRange(0, 0, 0, 0),\n  }) {\n    const { table } = this;\n    const { merges, cols, rows } = table;\n    const filter = [];\n    const result = [];\n    this.hEach({\n      viewRange,\n      handle: (row, col, x, y) => {\n        const merge = merges.getFirstIncludes(row, col);\n        if (merge && filter.indexOf(merge) === -1) {\n          filter.push(merge);\n          const view = viewRange.coincide(merge);\n          const width = cols.sectionSumWidth(view.sci, view.eci);\n          const height = rows.sectionSumHeight(view.sri, view.eri);\n          const rect = new Rect({ x, y, width, height });\n          result.push({ rect, view, merge });\n        }\n      },\n    });\n    return result;\n  }\n\n  coincideViewBrink({\n    coincideView,\n  }) {\n    const { table } = this;\n    const { cols, rows } = table;\n    const result = [];\n    for (let i = 0; i < coincideView.length; i += 1) {\n      const { view, rect, merge } = coincideView[i];\n      const brink = view.brink();\n      const top = {\n        view: brink.top,\n        x: rect.x,\n        y: rect.y,\n      };\n      const left = {\n        view: brink.left,\n        x: rect.x,\n        y: rect.y,\n      };\n      const bottom = {\n        view: brink.bottom,\n        x: rect.x,\n        y: rect.y + rect.height - rows.rectRangeSumHeight(brink.bottom),\n      };\n      const right = {\n        view: brink.right,\n        x: rect.x + rect.width - cols.rectRangeSumWidth(brink.right),\n        y: rect.y,\n      };\n      const item = {};\n      if (merge.sri === view.sri) {\n        item.top = top;\n      }\n      if (merge.sci === view.sci) {\n        item.left = left;\n      }\n      if (merge.eri === view.eri) {\n        item.bottom = bottom;\n      }\n      if (merge.eci === view.eci) {\n        item.right = right;\n      }\n      result.push(item);\n    }\n    return result;\n  }\n}\n\nexport { LineHandle };\n","import { Cell } from './Cell';\nimport { Utils } from '../../../utils/Utils';\n\n/**\n * Cells\n * @author jerry\n */\nclass Cells {\n\n  /**\n   * Cells\n   * @param table\n   * @param cols\n   * @param rows\n   * @param data\n   */\n  constructor({\n    table, cols, rows, data = [],\n  }) {\n    this.table = table;\n    this.cols = cols;\n    this.rows = rows;\n    this.data = data;\n  }\n\n  /**\n   * 获取指定行和列的单元格\n   * @param ri\n   * @param ci\n   */\n  getCell(ri, ci) {\n    const row = this.data[ri];\n    if (row && row[ci]) {\n      let item = row[ci];\n      if (item instanceof Cell) {\n        return row[ci];\n      }\n      if (Utils.isString(item)) {\n        item = {\n          text: item,\n        };\n      }\n      row[ci] = new Cell(item);\n      return row[ci];\n    }\n    return null;\n  }\n\n  /**\n   * 获取指定行和列的单元格，如果获取到的\n   * 单元格是合并单元格的部分则返回合并单元格起始\n   * 单元格\n   * @param ri\n   * @param ci\n   */\n  getMergeCellOrCell(ri, ci) {\n    const { table } = this;\n    const { merges } = table;\n    const merge = merges.getFirstIncludes(ri, ci);\n    if (merge) {\n      return this.getCell(merge.sri, merge.sci);\n    }\n    return this.getCell(ri, ci);\n  }\n\n  /**\n   * 获取指定行列的单元格如果没有返回新的\n   * @param ri\n   * @param ci\n   */\n  getCellOrNew(ri, ci) {\n    if (Utils.isUnDef(this.data[ri])) {\n      this.data[ri] = [];\n    }\n    if (Utils.isUnDef(this.data[ri][ci])) {\n      this.data[ri][ci] = {\n        text: '',\n      };\n    }\n    return this.getCell(ri, ci);\n  }\n\n  /**\n   * 设置指定单元格\n   * @param ri\n   * @param ci\n   * @param cell\n   */\n  setCell(ri, ci, cell) {\n    const row = this.data[ri];\n    if (row && row[ci]) {\n      row[ci] = cell;\n    }\n  }\n\n  /**\n   * 设置指定单元格\n   * 如果不存在则创建\n   * @param ri\n   * @param ci\n   * @param cell\n   */\n  setCellOrNew(ri, ci, cell) {\n    if (Utils.isUnDef(this.data[ri])) {\n      this.data[ri] = [];\n    }\n    this.data[ri][ci] = cell;\n  }\n\n  /**\n   * getData\n   * @returns {*[]}\n   */\n  getData() {\n    return this.data;\n  }\n\n  /**\n   * setData\n   * @param data\n   * @returns {Cells}\n   */\n  setData(data = []) {\n    this.data = data;\n    return this;\n  }\n}\n\nexport { Cells };\n","import { Rect } from '../../canvas/Rect';\nimport { ALIGN, TEXT_DIRECTION, TEXT_WRAP, VERTICAL_ALIGN } from '../../canvas/Font';\nimport { Utils } from '../../utils/Utils';\n\n/**\n * CellsHelper\n * @author jerry\n */\nclass CellsHelper {\n\n  constructor({ cells, merges, rows, cols }) {\n    this.cells = cells;\n    this.merges = merges;\n    this.rows = rows;\n    this.cols = cols;\n  }\n\n  getCellTextMaxHeight(ri, ci) {\n    const { cells, rows } = this;\n    const cell = cells.getCell(ri, ci);\n    const { fontAttr } = cell;\n    const { verticalAlign } = fontAttr;\n    let height = 0;\n    let offset = 0;\n    if (verticalAlign === VERTICAL_ALIGN.top) {\n      for (let i = ri, { len } = rows; i <= len; i += 1) {\n        const cell = cells.getCell(i, ci);\n        if (i === ci) {\n          height += rows.getHeight(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          height += rows.getHeight(i);\n        } else {\n          break;\n        }\n      }\n    }\n    if (verticalAlign === VERTICAL_ALIGN.center) {\n      for (let i = ri, { len } = rows; i <= len; i += 1) {\n        const cell = cells.getCell(i, ci);\n        if (i === ci) {\n          height += rows.getHeight(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          height += rows.getHeight(i);\n        } else {\n          break;\n        }\n      }\n      for (let i = ri - 1; i >= 0; i -= 1) {\n        const cell = cells.getCell(ri, i);\n        if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          const tmp = rows.getHeight(i);\n          height += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    if (verticalAlign === VERTICAL_ALIGN.bottom) {\n      for (let i = ri; i >= 0; i -= 1) {\n        const cell = cells.getCell(ri, i);\n        if (i === ci) {\n          height += rows.getHeight(i);\n        } else if (Utils.isUnDef(cell) || Utils.isBlank(cell.text)) {\n          const tmp = rows.getHeight(i);\n          height += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    return { height, offset };\n  }\n\n  getCellTextMaxWidth(ri, ci) {\n    const { cells, cols, merges } = this;\n    const cell = cells.getCell(ri, ci);\n    const { fontAttr } = cell;\n    const { align } = fontAttr;\n    let width = 0;\n    let offset = 0;\n    // 左边对齐\n    if (align === ALIGN.left) {\n      // 计算当前单元格右边\n      // 空白的单元格的总宽度\n      for (let i = ci, { len } = cols; i <= len; i += 1) {\n        const cell = cells.getCell(ri, i);\n        const merge = merges.getFirstIncludes(ri, i);\n        if (i === ci) {\n          width += cols.getWidth(i);\n        } else if ((Utils.isUnDef(cell) || Utils.isBlank(cell.text)) && Utils.isUnDef(merge)) {\n          width += cols.getWidth(i);\n        } else {\n          break;\n        }\n      }\n    }\n    // 居中对其\n    if (align === ALIGN.center) {\n      let rightWidth = 0;\n      let leftWidth = 0;\n      for (let i = ci + 1, { len } = cols; i <= len; i += 1) {\n        const cell = cells.getCell(ri, i);\n        const merge = merges.getFirstIncludes(ri, i);\n        if ((Utils.isUnDef(cell) || Utils.isBlank(cell.text)) && Utils.isUnDef(merge)) {\n          rightWidth += cols.getWidth(i);\n        } else {\n          break;\n        }\n      }\n      for (let i = ci - 1; i >= 0; i -= 1) {\n        const cell = cells.getCell(ri, i);\n        const merge = merges.getFirstIncludes(ri, i);\n        if ((Utils.isUnDef(cell) || Utils.isBlank(cell.text)) && Utils.isUnDef(merge)) {\n          const tmp = cols.getWidth(i);\n          leftWidth += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n      width = cols.getWidth(ci) + leftWidth + rightWidth;\n    }\n    // 右边对其\n    if (align === ALIGN.right) {\n      // 计算当前单元格左边\n      // 空白的单元格的总宽度\n      for (let i = ci; i >= 0; i -= 1) {\n        const cell = cells.getCell(ri, i);\n        const merge = merges.getFirstIncludes(ri, i);\n        if (i === ci) {\n          width += cols.getWidth(i);\n        } else if ((Utils.isUnDef(cell) || Utils.isBlank(cell.text)) && Utils.isUnDef(merge)) {\n          const tmp = cols.getWidth(i);\n          width += tmp;\n          offset -= tmp;\n        } else {\n          break;\n        }\n      }\n    }\n    return { width, offset };\n  }\n\n  getCellOverFlow(ri, ci, rect, cell) {\n    const { fontAttr } = cell;\n    const { direction, textWrap } = fontAttr;\n    const { x, y, width, height } = rect;\n    if (textWrap === TEXT_WRAP.OVER_FLOW) {\n      if (direction === TEXT_DIRECTION.VERTICAL) {\n        const max = this.getCellTextMaxHeight(ri, ci);\n        return new Rect({ x, y: y + max.offset, width, height: max.height });\n      }\n      const max = this.getCellTextMaxWidth(ri, ci);\n      return new Rect({ x: x + max.offset, y, width: max.width, height });\n    }\n    return null;\n  }\n\n  getCellByViewRange({\n    rectRange, callback, startX = 0, startY = 0,\n  }) {\n    const { rows, cols, cells } = this;\n    const {\n      sri, eri, sci, eci,\n    } = rectRange;\n    let y = startY;\n    for (let i = sri; i <= eri; i += 1) {\n      const height = rows.getHeight(i);\n      let x = startX;\n      for (let j = sci; j <= eci; j += 1) {\n        const width = cols.getWidth(j);\n        const cell = cells.getCell(i, j);\n        if (cell) {\n          const rect = new Rect({ x, y, width, height });\n          const overFlow = this.getCellOverFlow(i, j, rect, cell);\n          const result = callback(i, j, cell, rect, overFlow);\n          if (result === false) {\n            return;\n          }\n        }\n        x += width;\n      }\n      y += height;\n    }\n  }\n\n  getCellOrNewCellByViewRange({\n    rectRange, callback, startX = 0, startY = 0,\n  }) {\n    const { rows, cols, cells } = this;\n    const {\n      sri, eri, sci, eci,\n    } = rectRange;\n    let y = startY;\n    for (let i = sri; i <= eri; i += 1) {\n      const height = rows.getHeight(i);\n      let x = startX;\n      for (let j = sci; j <= eci; j += 1) {\n        const width = cols.getWidth(j);\n        const cell = cells.getCellOrNew(i, j);\n        const rect = new Rect({ x, y, width, height });\n        const overFlow = this.getCellOverFlow(i, j, rect, cell);\n        const result = callback(i, j, cell, rect, overFlow);\n        if (result === false) {\n          return;\n        }\n        x += width;\n      }\n      y += height;\n    }\n  }\n\n  getMergeCellByViewRange({\n    rectRange, callback, startX = 0, startY = 0,\n  }) {\n    const { rows, cols, cells, merges } = this;\n    const {\n      sri, eri, sci, eci,\n    } = rectRange;\n    const filter = [];\n    for (let i = sri; i <= eri; i += 1) {\n      for (let j = sci; j <= eci; j += 1) {\n        const merge = merges.getFirstIncludes(i, j);\n        if (merge && !filter.find(item => item === merge)) {\n          filter.push(merge);\n          const cell = cells.getCellOrNew(merge.sri, merge.sci);\n          const width = cols.sectionSumWidth(merge.sci, merge.eci);\n          const height = rows.sectionSumHeight(merge.sri, merge.eri);\n          const minSri = Math.min(rectRange.sri, merge.sri);\n          const minSci = Math.min(rectRange.sci, merge.sci);\n          let maxSri = Math.max(rectRange.sri, merge.sri);\n          let maxSci = Math.max(rectRange.sci, merge.sci);\n          maxSri -= 1;\n          maxSci -= 1;\n          let x = cols.sectionSumWidth(minSci, maxSci);\n          let y = rows.sectionSumHeight(minSri, maxSri);\n          x = rectRange.sci > merge.sci ? x * -1 : x;\n          y = rectRange.sri > merge.sri ? y * -1 : y;\n          x += startX;\n          y += startY;\n          const rect = new Rect({ x, y, width, height });\n          callback(rect, cell);\n        }\n      }\n    }\n  }\n\n  getCellSkipMergeCellByViewRange({\n    rectRange, callback, startX = 0, startY = 0,\n  }) {\n    const { merges } = this;\n    this.getCellByViewRange({\n      rectRange,\n      callback: (ri, ci, cell, rect, overflow) => {\n        const merge = merges.getFirstIncludes(ri, ci);\n        if (merge === null) {\n          callback(ri, ci, cell, rect, overflow);\n        }\n      },\n      startX,\n      startY,\n    });\n  }\n}\n\nexport { CellsHelper };\n","/**\n * GridLineHandle\n * @author jerry\n */\nclass GridLineHandle {\n\n  /**\n   * GridLineHandle\n   * @param table\n   */\n  constructor(table) {\n    this.table = table;\n  }\n\n  /**\n   * 检查垂直线段是否需要绘制\n   * @param ci\n   * @param ri\n   * @returns {boolean}\n   */\n  vLineBorderChecked(ci, ri) {\n    const { table } = this;\n    const { cells } = table;\n    const cell = cells.getMergeCellOrCell(ri, ci);\n    const nextCell = cells.getMergeCellOrCell(ri, ci + 1);\n    // 跳过绘制边框的单元格\n    if (cell && nextCell) {\n      return !(cell.borderAttr.right.display || nextCell.borderAttr.left.display);\n    }\n    if (cell) {\n      return !cell.borderAttr.right.display;\n    }\n    if (nextCell) {\n      return !nextCell.borderAttr.left.display;\n    }\n    return true;\n  }\n\n  /**\n   * 检查水平线段是否需要绘制\n   * @param ri\n   * @param ci\n   * @returns {boolean}\n   */\n  hLineBorderChecked(ri, ci) {\n    const { table } = this;\n    const { cells } = table;\n    const cell = cells.getMergeCellOrCell(ri, ci);\n    const nextCell = cells.getMergeCellOrCell(ri + 1, ci);\n    // 跳过绘制边框的单元格\n    if (cell && nextCell) {\n      return !(cell.borderAttr.bottom.display || nextCell.borderAttr.top.display);\n    }\n    if (cell) {\n      return !cell.borderAttr.bottom.display;\n    }\n    if (nextCell) {\n      return !nextCell.borderAttr.top.display;\n    }\n    return true;\n  }\n\n  /**\n   * 水平线段位置计算\n   * @param viewRange\n   * @param bx\n   * @param by\n   * @param filter\n   * @returns {[]}\n   */\n  gridHLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table } = this;\n    const { lineHandle, cols, rows } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    let breakpoint;\n    lineHandle.hEach({\n      viewRange,\n      newRow: (row, y) => {\n        const height = rows.getHeight(row);\n        sx = bx;\n        sy = by + y + height;\n        ex = sx;\n        ey = sy;\n        breakpoint = false;\n      },\n      filter,\n      jump: (row, col) => {\n        if (breakpoint) {\n          breakpoint = false;\n          line.push({ sx, sy, ex, ey });\n        }\n        const width = cols.getWidth(col);\n        sx = ex + width;\n        ex = sx;\n      },\n      handle: (row, col) => {\n        breakpoint = true;\n        const width = cols.getWidth(col);\n        ex += width;\n      },\n      endRow: () => {\n        if (breakpoint) {\n          line.push({ sx, sy, ex, ey });\n        }\n      },\n    });\n    return line;\n  }\n\n  /**\n   * 垂直线段位置计算\n   * @param viewRange\n   * @param bx\n   * @param by\n   * @param filter\n   * @returns {[]}\n   */\n  gridVLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table } = this;\n    const { lineHandle, cols, rows } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    let breakpoint;\n    lineHandle.vEach({\n      viewRange,\n      newCol: (col, x) => {\n        const width = cols.getWidth(col);\n        sx = bx + x + width;\n        sy = by;\n        ex = sx;\n        ey = sy;\n        breakpoint = false;\n      },\n      filter,\n      jump: (col, row) => {\n        if (breakpoint) {\n          breakpoint = false;\n          line.push({ sx, sy, ex, ey });\n        }\n        const height = rows.getHeight(row);\n        sy = ey + height;\n        ey = sy;\n      },\n      handle: (col, row) => {\n        breakpoint = true;\n        const height = rows.getHeight(row);\n        ey += height;\n      },\n      endCol: () => {\n        if (breakpoint) {\n          line.push({ sx, sy, ex, ey });\n        }\n      },\n    });\n    return line;\n  }\n\n  /**\n   * 水平线段位置计算\n   * 检查水平线段是否需要绘制\n   * @param viewRange\n   * @returns {*[]}\n   */\n  hLine(viewRange) {\n    const { table } = this;\n    const { merges } = table;\n    return this.gridHLine(viewRange, 0, 0, (ri, ci) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      if (merge) {\n        return false;\n      }\n      return this.hLineBorderChecked(ri, ci);\n    });\n  }\n\n  /**\n   * 垂直线段位置计算\n   * 检查水平线段是否需要绘制\n   * @param viewRange\n   * @returns {*[]}\n   */\n  vLine(viewRange) {\n    const { table } = this;\n    const { merges, lineHandle } = table;\n    return this.gridVLine(viewRange, 0, 0, (ci, ri) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      if (merge) {\n        return false;\n      }\n      if (this.vLineBorderChecked(ci, ri) === false) {\n        return false;\n      }\n      return lineHandle.vLineRightOverFlowChecked(ci, ri);\n    });\n  }\n\n  /**\n   * 水平合并单元格线段位置计算\n   * 检查水平线段是否需要绘制\n   * @param mergesBrink\n   * @returns {*[]}\n   */\n  hMergeLine(mergesBrink) {\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { bottom } = brink;\n      if (bottom) {\n        const { view, x, y } = bottom;\n        const item = this.gridHLine(view, x, y, (ri, ci) => this.hLineBorderChecked(ri, ci));\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  /**\n   *  垂直合并单元格线段位置计算\n   * 检查水平线段是否需要绘制\n   * @param mergesBrink\n   * @returns {*[]}\n   */\n  vMergeLine(mergesBrink) {\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { right } = brink;\n      if (right) {\n        const { view, x, y } = right;\n        const item = this.gridVLine(view, x, y, (ci, ri) => this.vLineBorderChecked(ci, ri));\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n}\n\nexport {\n  GridLineHandle,\n};\n","\n/**\n * BorderLineHandle\n * @author jerry\n */\nclass BorderLineHandle {\n\n  constructor(table) {\n    this.table = table;\n    this.drawOptimization = true;\n    this.borderOptimization = true;\n  }\n\n  borderHTLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, cols, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.hEach({\n      viewRange,\n      newRow: (row, y) => {\n        sx = bx;\n        sy = by + y;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (row, col) => {\n        const width = cols.getWidth(col);\n        sx = ex + width;\n        ex = sx;\n      },\n      handle: (row, col) => {\n        const width = cols.getWidth(col);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ex += width;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sx = ex;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = item.borderAttr.top.equal(last.borderAttr.top);\n        const ck2 = item.col - last.col === 1;\n        const ck3 = item.row === last.row;\n        if (ck1 && ck2 && ck3) {\n          last.ex = item.ex;\n          last.col = item.col;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  borderHBLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, cols, rows, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.hEach({\n      viewRange,\n      newRow: (row, y) => {\n        const height = rows.getHeight(row);\n        sx = bx;\n        sy = by + y + height;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (row, col) => {\n        const width = cols.getWidth(col);\n        sx = ex + width;\n        ex = sx;\n      },\n      handle: (row, col) => {\n        const width = cols.getWidth(col);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ex += width;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sx = ex;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = item.borderAttr.bottom.equal(last.borderAttr.bottom);\n        const ck2 = item.col - last.col === 1;\n        const ck3 = item.row === last.row;\n        if (ck1 && ck2 && ck3) {\n          last.ex = item.ex;\n          last.col = item.col;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  borderVLLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, rows, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.vEach({\n      viewRange,\n      newCol: (col, x) => {\n        sx = bx + x;\n        sy = by;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (col, row) => {\n        const height = rows.getHeight(row);\n        sy = ey + height;\n        ey = sy;\n      },\n      handle: (col, row) => {\n        const height = rows.getHeight(row);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ey += height;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sy = ey;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = item.borderAttr.left.equal(last.borderAttr.left);\n        const ck2 = item.row - last.row === 1;\n        const ck3 = item.col === last.col;\n        if (ck1 && ck2 && ck3) {\n          last.ey = item.ey;\n          last.row = item.row;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  borderVRLine(viewRange, bx = 0, by = 0, filter = () => true) {\n    const { table, drawOptimization } = this;\n    const { lineHandle, rows, cols, cells } = table;\n    const line = [];\n    let sx;\n    let sy;\n    let ex;\n    let ey;\n    lineHandle.vEach({\n      viewRange,\n      newCol: (col, x) => {\n        const width = cols.getWidth(col);\n        sx = bx + x + width;\n        sy = by;\n        ex = sx;\n        ey = sy;\n      },\n      filter,\n      jump: (col, row) => {\n        const height = rows.getHeight(row);\n        sy = ey + height;\n        ey = sy;\n      },\n      handle: (col, row) => {\n        const height = rows.getHeight(row);\n        const cell = cells.getCell(row, col);\n        const { borderAttr } = cell;\n        ey += height;\n        line.push({\n          sx,\n          sy,\n          ex,\n          ey,\n          row,\n          col,\n          borderAttr,\n        });\n        sy = ey;\n      },\n    });\n    if (drawOptimization) {\n      for (let i = 1; i < line.length;) {\n        const item = line[i];\n        const last = line[i - 1];\n        const ck1 = item.borderAttr.right.equal(last.borderAttr.right);\n        const ck2 = item.row - last.row === 1;\n        const ck3 = item.col === last.col;\n        if (ck1 && ck2 && ck3) {\n          last.ey = item.ey;\n          last.row = item.row;\n          line.splice(i, 1);\n        } else {\n          i += 1;\n        }\n      }\n    }\n    return line;\n  }\n\n  htLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells } = table;\n    return this.borderHTLine(viewRange, 0, 0, (ri, ci) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      const cell = cells.getMergeCellOrCell(ri, ci);\n      const nextCell = cells.getMergeCellOrCell(ri - 1, ci);\n      // 跳过合并单元格\n      if (!cell || merge) {\n        return false;\n      }\n      // 边框绘制优先级比较\n      if (nextCell && borderOptimization) {\n        const display = cell.borderAttr.top.display && nextCell.borderAttr.bottom.display;\n        const compareTime = cell.borderAttr.top.compareTime(nextCell.borderAttr.bottom);\n        if (display) {\n          return compareTime === 1;\n        }\n      }\n      // 边框是否显示\n      return cell.borderAttr.top.display;\n    });\n  }\n\n  hbLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells } = table;\n    return this.borderHBLine(viewRange, 0, 0, (ri, ci) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      const cell = cells.getMergeCellOrCell(ri, ci);\n      const nextCell = cells.getMergeCellOrCell(ri + 1, ci);\n      // 跳过合并单元格\n      if (!cell || merge) {\n        return false;\n      }\n      // 边框绘制优先级比较\n      if (nextCell && borderOptimization) {\n        const display = cell.borderAttr.bottom.display && nextCell.borderAttr.top.display;\n        const compareTime = cell.borderAttr.bottom.compareTime(nextCell.borderAttr.top);\n        if (display) {\n          return compareTime === 1 || compareTime === 0;\n        }\n      }\n      // 边框是否显示\n      return cell.borderAttr.bottom.display;\n    });\n  }\n\n  vlLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells, lineHandle } = table;\n    return this.borderVLLine(viewRange, 0, 0, (ci, ri) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      const cell = cells.getMergeCellOrCell(ri, ci);\n      const nextCell = cells.getMergeCellOrCell(ri, ci - 1);\n      // 跳过合并单元格\n      if (!cell || merge) {\n        return false;\n      }\n      // 边框绘制优先级比较\n      if (nextCell && borderOptimization) {\n        const display = cell.borderAttr.left.display && nextCell.borderAttr.right.display;\n        // 是否左右两边线段都需要显示\n        if (display) {\n          // 检查两个边框的更新时间\n          // 由更新时间判断优先显示\n          // 那边的边框\n          const compareTime = cell.borderAttr.left.compareTime(nextCell.borderAttr.right);\n          const diff = compareTime === 1;\n          if (diff) {\n            return lineHandle.vLineLeftOverFlowChecked(ci, ri);\n          }\n          return false;\n        }\n      }\n      // 边框是否显示\n      if (cell.borderAttr.left.display) {\n        return lineHandle.vLineLeftOverFlowChecked(ci, ri);\n      }\n      return cell.borderAttr.left.display;\n    });\n  }\n\n  vrLine(viewRange) {\n    const { table, borderOptimization } = this;\n    const { merges, cells, lineHandle } = table;\n    return this.borderVRLine(viewRange, 0, 0, (ci, ri) => {\n      const merge = merges.getFirstIncludes(ri, ci);\n      const cell = cells.getMergeCellOrCell(ri, ci);\n      const nextCell = cells.getMergeCellOrCell(ri, ci + 1);\n      // 跳过合并单元格\n      if (!cell || merge) {\n        return false;\n      }\n      // 边框绘制优先级比较\n      if (nextCell && borderOptimization) {\n        const display = cell.borderAttr.right.display && nextCell.borderAttr.left.display;\n        // 是否左右两边线段都需要显示\n        if (display) {\n          // 检查两个边框的更新时间\n          // 由更新时间判断优先显示\n          // 那边的边框\n          const compareTime = cell.borderAttr.right.compareTime(nextCell.borderAttr.left);\n          const diff = compareTime === 1 || compareTime === 0;\n          if (diff) {\n            return lineHandle.vLineRightOverFlowChecked(ci, ri);\n          }\n          return false;\n        }\n      }\n      // 边框是否显示\n      if (cell.borderAttr.right.display) {\n        return lineHandle.vLineRightOverFlowChecked(ci, ri);\n      }\n      return cell.borderAttr.right.display;\n    });\n  }\n\n  htMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { top } = brink;\n      if (top) {\n        const item = this.borderHTLine(top.view, top.x, top.y, (ri, ci) => {\n          const cell = cells.getCell(ri, ci);\n          const nextCell = cells.getCell(ri - 1, ci);\n          if (!cell) {\n            return false;\n          }\n          // 边框绘制优先级比较\n          if (nextCell && borderOptimization) {\n            const display = cell.borderAttr.top.display && nextCell.borderAttr.bottom.display;\n            const compareTime = cell.borderAttr.top.compareTime(nextCell.borderAttr.bottom);\n            if (display) {\n              return compareTime === 1;\n            }\n          }\n          // 边框是否显示\n          return cell.borderAttr.top.display;\n        });\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  hbMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { bottom } = brink;\n      if (bottom) {\n        const item = this.borderHBLine(bottom.view, bottom.x, bottom.y, (ri, ci) => {\n          const cell = cells.getCell(ri, ci);\n          const nextCell = cells.getCell(ri + 1, ci);\n          if (!cell) {\n            return false;\n          }\n          // 边框绘制优先级比较\n          if (nextCell && borderOptimization) {\n            const display = cell.borderAttr.bottom.display && nextCell.borderAttr.top.display;\n            const compareTime = cell.borderAttr.bottom.compareTime(nextCell.borderAttr.top);\n            if (display) {\n              return compareTime === 1 || compareTime === 0;\n            }\n          }\n          // 边框是否显示\n          return cell.borderAttr.bottom.display;\n        });\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  vlMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { left } = brink;\n      if (left) {\n        const item = this.borderVLLine(left.view, left.x, left.y, (ci, ri) => {\n          const cell = cells.getCell(ri, ci);\n          const nextCell = cells.getCell(ri, ci - 1);\n          if (!cell) {\n            return false;\n          }\n          // 边框绘制优先级比较\n          if (nextCell && borderOptimization) {\n            const display = cell.borderAttr.left.display && nextCell.borderAttr.right.display;\n            const compareTime = cell.borderAttr.left.compareTime(nextCell.borderAttr.right);\n            if (display) {\n              return compareTime === 1;\n            }\n          }\n          // 边框是否显示\n          return cell.borderAttr.left.display;\n        });\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  vrMergeLine(mergesBrink) {\n    const { table, borderOptimization } = this;\n    const { cells } = table;\n    let result = [];\n    for (let i = 0; i < mergesBrink.length; i += 1) {\n      const brink = mergesBrink[i];\n      const { right } = brink;\n      if (right) {\n        const item = this.borderVRLine(right.view, right.x, right.y, (ci, ri) => {\n          const cell = cells.getCell(ri, ci);\n          const nextCell = cells.getCell(ri, ci + 1);\n          if (!cell) {\n            return false;\n          }\n          // 边框绘制优先级比较\n          if (nextCell && borderOptimization) {\n            const display = cell.borderAttr.right.display && nextCell.borderAttr.left.display;\n            const compareTime = cell.borderAttr.right.compareTime(nextCell.borderAttr.left);\n            if (display) {\n              return compareTime === 1 || compareTime === 0;\n            }\n          }\n          // 边框是否显示\n          return cell.borderAttr.right.display;\n        });\n        result = result.concat(item);\n      }\n    }\n    return result;\n  }\n\n  openDrawOptimization() {\n    this.drawOptimization = true;\n  }\n\n  closeDrawOptimization() {\n    this.drawOptimization = false;\n  }\n\n  openBorderOptimization() {\n    this.borderOptimization = true;\n  }\n\n  closeBorderOptimization() {\n    this.borderOptimization = false;\n  }\n}\n\nexport { BorderLineHandle };\n","class DataProxy {\n\n  constructor() {\n    this.change = false;\n  }\n\n  endNotice() {\n    if (this.change) {\n      this.change = false;\n    }\n  }\n\n  backNotice() {\n    if (this.change) {\n      this.change = false;\n    }\n  }\n\n  goNotice() {\n    if (this.change) {\n      this.change = false;\n    }\n  }\n\n}\n\nexport { DataProxy };\n","import { DataProxy } from '../DataProxy';\nimport { Constant } from '../../../../constant/Constant';\n\nclass TableCellDataProxy extends DataProxy {\n\n  constructor(table, option = {\n    on: { setCell() {} },\n  }) {\n    super();\n    this.table = table;\n    this.option = option;\n  }\n\n  $setCell(ri, ci, newCell) {\n    this.change = true;\n    const { table } = this;\n    const { cells } = table;\n    cells.setCellOrNew(ri, ci, newCell);\n  }\n\n  setCell(ri, ci, newCell) {\n    const { option, table } = this;\n    const { on } = option;\n    const { setCell } = on;\n    const { cells } = table;\n    const oldCell = cells.getCell(ri, ci);\n    setCell(ri, ci, oldCell, newCell);\n    this.$setCell(ri, ci, newCell);\n  }\n\n  endNotice() {\n    const { table } = this;\n    if (this.change) {\n      table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n    }\n    super.endNotice();\n  }\n\n  goNotice() {\n    const { table } = this;\n    if (this.change) {\n      table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n    }\n    super.goNotice();\n  }\n\n  backNotice() {\n    const { table } = this;\n    if (this.change) {\n      table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n    }\n    super.backNotice();\n  }\n}\n\nexport {\n  TableCellDataProxy,\n};\n","class CellDataRecord {\n  constructor({ ri, ci, oldCell, newCell }) {\n    this.ri = ri;\n    this.ci = ci;\n    this.oldCell = oldCell;\n    this.newCell = newCell;\n  }\n}\n\nexport { CellDataRecord };\n","const MERGE_RECORD_TYPE = {\n  ADD: Symbol('添加一个合并单元格'),\n  DELETE: Symbol('删除一个合并单元格'),\n};\n\nclass MergeDataRecord {\n  constructor({ merge, recordType }) {\n    this.merge = merge;\n    this.recordType = recordType;\n  }\n}\n\nexport {\n  MergeDataRecord,\n  MERGE_RECORD_TYPE,\n};\n","import { DataProxy } from '../DataProxy';\n\nclass TableMergeDataProxy extends DataProxy {\n\n  constructor(table, option = {\n    on: {\n      addMerge() {}, deleteMerge() {},\n    },\n  }) {\n    super();\n    this.table = table;\n    this.option = option;\n  }\n\n  $addMerge(merge) {\n    this.change = true;\n    const { table } = this;\n    const { merges } = table;\n    merges.add(merge);\n  }\n\n  $deleteMerge(merge) {\n    this.change = true;\n    const { table } = this;\n    const { merges } = table;\n    merges.deleteIntersects(merge);\n  }\n\n  deleteMerge(merge) {\n    const { option } = this;\n    const { on } = option;\n    const { deleteMerge } = on;\n    deleteMerge(merge);\n    this.$deleteMerge(merge);\n  }\n\n  addMerge(merge) {\n    const { option } = this;\n    const { on } = option;\n    const { addMerge } = on;\n    addMerge(merge);\n    this.$addMerge(merge);\n  }\n}\n\nexport { TableMergeDataProxy };\n","import { DataProxy } from '../DataProxy';\nimport { Constant } from '../../../../constant/Constant';\n\nclass TableColsDataProxy extends DataProxy {\n\n  constructor(table, option = {\n    on: { setWidth() {} },\n  }) {\n    super();\n    this.table = table;\n    this.option = option;\n  }\n\n  $setWidth(ci, width) {\n    this.change = true;\n    const { table } = this;\n    const { cols } = table;\n    cols.setWidth(ci, width);\n  }\n\n  setWidth(ci, newWidth) {\n    const { option, table } = this;\n    const { on } = option;\n    const { setWidth } = on;\n    const { cols } = table;\n    const oldWidth = cols.getWidth(ci);\n    setWidth(ci, oldWidth, newWidth);\n    this.$setWidth(ci, newWidth);\n  }\n\n  endNotice() {\n    const { table } = this;\n    if (this.change) {\n      table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      table.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH);\n    }\n    super.endNotice();\n  }\n\n  backNotice() {\n    const { table } = this;\n    if (this.change) {\n      table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      table.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH);\n    }\n    super.backNotice();\n  }\n\n  goNotice() {\n    const { table } = this;\n    if (this.change) {\n      table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      table.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH);\n    }\n    super.goNotice();\n  }\n}\n\nexport { TableColsDataProxy };\n","class ColsDataRecord {\n  constructor({ ci, oldWidth, newWidth }) {\n    this.ci = ci;\n    this.oldWidth = oldWidth;\n    this.newWidth = newWidth;\n  }\n}\n\nexport { ColsDataRecord };\n","import { DataProxy } from '../DataProxy';\nimport { Constant } from '../../../../constant/Constant';\n\nclass TableRowsDataProxy extends DataProxy {\n\n  constructor(table, option = {\n    on: {\n      setHeight() {},\n    },\n  }) {\n    super();\n    this.table = table;\n    this.option = option;\n  }\n\n  $setHeight(ri, height) {\n    this.change = true;\n    const { table } = this;\n    const { rows } = table;\n    rows.setHeight(ri, height);\n  }\n\n  setHeight(ri, newHeight) {\n    const { option, table } = this;\n    const { on } = option;\n    const { setHeight } = on;\n    const { rows } = table;\n    const oldHeight = rows.getHeight(ri);\n    setHeight(ri, oldHeight, newHeight);\n    this.$setHeight(ri, newHeight);\n  }\n\n  endNotice() {\n    const { table } = this;\n    if (this.change) {\n      table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      table.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT);\n    }\n    super.endNotice();\n  }\n\n  backNotice() {\n    const { table } = this;\n    if (this.change) {\n      table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      table.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT);\n    }\n    super.backNotice();\n  }\n\n  goNotice() {\n    const { table } = this;\n    if (this.change) {\n      table.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      table.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT);\n    }\n    super.goNotice();\n  }\n}\n\nexport { TableRowsDataProxy };\n","class RowsDataRecord {\n  constructor({ ri, oldHeight, newHeight }) {\n    this.ri = ri;\n    this.oldHeight = oldHeight;\n    this.newHeight = newHeight;\n  }\n}\n\nexport { RowsDataRecord };\n","import { TableCellDataProxy } from './proxy/TableCellDataProxy';\nimport { CellDataRecord } from './record/CellDataRecord';\nimport { MERGE_RECORD_TYPE, MergeDataRecord } from './record/MergeDataRecord';\nimport { ChartDataRecord } from './record/ChartDataRecord';\nimport { TableMergeDataProxy } from './proxy/TableMergeDataProxy';\nimport { TableColsDataProxy } from './proxy/TableColsDataProxy';\nimport { ColsDataRecord } from './record/ColsDataRecord';\nimport { TableRowsDataProxy } from './proxy/TableRowsDataProxy';\nimport { RowsDataRecord } from './record/RowsDataRecord';\n\nclass TableDataSnapshot {\n\n  constructor(table) {\n    this.record = false;\n    this.backLayerStack = [];\n    this.goLayerStack = [];\n    this.recordLayer = [];\n    this.table = table;\n    this.mergeDataProxy = new TableMergeDataProxy(table, {\n      on: {\n        addMerge: (merge) => {\n          if (this.record === false) return;\n          const { recordLayer } = this;\n          recordLayer.push(new MergeDataRecord({ merge, recordType: MERGE_RECORD_TYPE.ADD }));\n        },\n        deleteMerge: (merge) => {\n          if (this.record === false) return;\n          const { recordLayer } = this;\n          recordLayer.push(new MergeDataRecord({ merge, recordType: MERGE_RECORD_TYPE.DELETE }));\n        },\n      },\n    });\n    this.cellDataProxy = new TableCellDataProxy(table, {\n      on: {\n        setCell: (ri, ci, oldCell, newCell) => {\n          if (this.record === false) return;\n          const { recordLayer } = this;\n          recordLayer.push(new CellDataRecord({ ri, ci, oldCell, newCell }));\n        },\n      },\n    });\n    this.colsDataProxy = new TableColsDataProxy(table, {\n      on: {\n        setWidth: (ci, oldWidth, newWidth) => {\n          if (this.record === false) return;\n          const { recordLayer } = this;\n          recordLayer.push(new ColsDataRecord({ ci, oldWidth, newWidth }));\n        },\n      },\n    });\n    this.rowsDataProxy = new TableRowsDataProxy(table, {\n      on: {\n        setHeight: (ri, oldHeight, newHeight) => {\n          if (this.record === false) return;\n          const { recordLayer } = this;\n          recordLayer.push(new RowsDataRecord({ ri, oldHeight, newHeight }));\n        },\n      },\n    });\n  }\n\n  back() {\n    const { backLayerStack, goLayerStack, table } = this;\n    const layer = backLayerStack.pop();\n    for (let i = 0, len = layer.length; i < len; i += 1) {\n      const item = layer[i];\n      // 单元格元素\n      if (item instanceof CellDataRecord) {\n        const { ri, ci, oldCell } = item;\n        this.cellDataProxy.$setCell(ri, ci, oldCell);\n        continue;\n      }\n      // 合并单元格元素\n      if (item instanceof MergeDataRecord) {\n        const { merge, recordType } = item;\n        switch (recordType) {\n          case MERGE_RECORD_TYPE.ADD:\n            this.mergeDataProxy.$addMerge(merge);\n            break;\n          case MERGE_RECORD_TYPE.DELETE:\n            this.mergeDataProxy.$deleteMerge(merge);\n            break;\n          default: break;\n        }\n        continue;\n      }\n      // 图表元素\n      if (item instanceof ChartDataRecord) {\n        // TODO...\n        // ...\n      }\n      //  列宽元素\n      if (item instanceof ColsDataRecord) {\n        const { ci, oldWidth } = item;\n        this.colsDataProxy.$setWidth(ci, oldWidth);\n        continue;\n      }\n      // 行高元素\n      if (item instanceof RowsDataRecord) {\n        const { ri, oldHeight } = item;\n        this.rowsDataProxy.$setHeight(ri, oldHeight);\n      }\n    }\n    goLayerStack.push(layer);\n    this.mergeDataProxy.backNotice();\n    this.cellDataProxy.backNotice();\n    this.colsDataProxy.backNotice();\n    this.rowsDataProxy.backNotice();\n    table.render();\n  }\n\n  go() {\n    const { backLayerStack, goLayerStack, table } = this;\n    const layer = goLayerStack.pop();\n    for (let i = 0, len = layer.length; i < len; i += 1) {\n      const item = layer[i];\n      // 单元格元素\n      if (item instanceof CellDataRecord) {\n        const { ri, ci, newCell } = item;\n        this.cellDataProxy.$setCell(ri, ci, newCell);\n        continue;\n      }\n      // 合并单元格元素\n      if (item instanceof MergeDataRecord) {\n        const { merge, recordType } = item;\n        switch (recordType) {\n          case MERGE_RECORD_TYPE.ADD:\n            this.mergeDataProxy.$addMerge(merge);\n            break;\n          case MERGE_RECORD_TYPE.DELETE:\n            this.mergeDataProxy.$deleteMerge(merge);\n            break;\n          default: break;\n        }\n        continue;\n      }\n      // 图表元素\n      if (item instanceof ChartDataRecord) {\n        // TODO...\n        // ...\n      }\n      //  列宽元素\n      if (item instanceof ColsDataRecord) {\n        const { ci, newWidth } = item;\n        this.colsDataProxy.$setWidth(ci, newWidth);\n        continue;\n      }\n      // 行高元素\n      if (item instanceof RowsDataRecord) {\n        const { ri, newHeight } = item;\n        this.rowsDataProxy.$setHeight(ri, newHeight);\n      }\n    }\n    backLayerStack.push(layer);\n    this.mergeDataProxy.goNotice();\n    this.cellDataProxy.goNotice();\n    this.colsDataProxy.goNotice();\n    this.rowsDataProxy.goNotice();\n    table.render();\n  }\n\n  end() {\n    const { recordLayer, backLayerStack } = this;\n    this.record = false;\n    if (recordLayer.length) {\n      backLayerStack.push(recordLayer);\n    }\n    this.recordLayer = [];\n    this.mergeDataProxy.endNotice();\n    this.cellDataProxy.endNotice();\n    this.colsDataProxy.endNotice();\n    this.rowsDataProxy.endNotice();\n  }\n\n  begin() {\n    this.record = true;\n    this.goLayerStack = [];\n  }\n\n  canBack() {\n    const { backLayerStack } = this;\n    return backLayerStack.length !== 0;\n  }\n\n  canGo() {\n    const { goLayerStack } = this;\n    return goLayerStack.length !== 0;\n  }\n}\n\nexport { TableDataSnapshot };\n","import cell from '../../../assets/svg/cell.png';\nimport sResize from '../../../assets/svg/s-resize.png';\nimport eResize from '../../../assets/svg/e-resize.png';\n\nclass MousePointer {\n\n  constructor(table) {\n    this.table = table;\n    this.lock = null;\n  }\n\n  on(lock) {\n    if (this.lock !== null) return;\n    this.lock = lock;\n  }\n\n  set(type, lock) {\n    if (this.lock) {\n      if (lock !== this.lock) return;\n    }\n    const { table } = this;\n    switch (type) {\n      case 'cell':\n        table.css('cursor', `url(${cell}) 7.5 7.5,auto`);\n        break;\n      case 's-resize':\n        table.css('cursor', `url(${sResize}) 2.5 7.5,auto`);\n        break;\n      case 'e-resize':\n        table.css('cursor', `url(${eResize}) 7.5 2.5,auto`);\n        break;\n      default:\n        table.css('cursor', type);\n        break;\n    }\n  }\n\n  off(lock) {\n    if (this.lock !== lock) return;\n    this.lock = null;\n  }\n}\n\nexport { MousePointer };\n","import { EventBind } from '../../utils/EventBind';\nimport { Constant } from '../../constant/Constant';\n\n/* global document */\n\nclass Keyboard {\n\n  constructor(table) {\n    this.table = table;\n    this.bind();\n  }\n\n  register({ el, attr = {}, stop = true, focus = false }) {\n    const { table } = this;\n    table.focus.register({ el, attr, stop, focus });\n  }\n\n  bind() {\n    const { table } = this;\n    const { focus } = table;\n    EventBind.bind(document, Constant.SYSTEM_EVENT_TYPE.KEY_DOWN, (e) => {\n      const { activate } = focus;\n      const { keyCode } = e;\n      if (activate) {\n        const { attr } = activate;\n        const { key, code, callback } = attr;\n        if (key) {\n          if (e[key] && keyCode === code) {\n            callback(e);\n          }\n        } else if (keyCode === code) {\n          callback(e);\n        }\n      }\n      if (keyCode === 9) {\n        e.preventDefault();\n      }\n    });\n  }\n}\n\nexport { Keyboard };\n","import { Constant } from '../../constant/Constant';\nimport { EventBind } from '../../utils/EventBind';\n\nclass Focus {\n\n  constructor(table) {\n    this.table = table;\n    this.pool = [];\n    this.activate = null;\n  }\n\n  findByEl(el) {\n    for (let i = 0; i < this.pool.length; i += 1) {\n      const item = this.pool[i];\n      if (item.el === el) return item;\n    }\n    return null;\n  }\n\n  register({ el, attr = {}, stop = true, focus = false }) {\n    const find = this.findByEl(el);\n    if (find) {\n      Object.assign(find.attr, attr);\n    } else {\n      const item = { el, attr };\n      this.pool.push(item);\n      if (focus) {\n        this.activate = item;\n      }\n      EventBind.bind(el, Constant.SYSTEM_EVENT_TYPE.MOUSE_DOWN, (e) => {\n        this.activate = item;\n        if (stop) e.stopPropagation();\n      });\n    }\n  }\n\n}\n\nexport { Focus };\n","import { cssPrefix, Constant } from '../../constant/Constant';\nimport Format from './Format';\nimport { Utils } from '../../utils/Utils';\nimport { Rows } from './Rows';\nimport { Cols } from './Cols';\nimport { Scroll, SCROLL_TYPE } from './Scroll';\nimport { Fixed } from './Fixed';\nimport { Widget } from '../../lib/Widget';\nimport { RectRange } from './RectRange';\nimport { Merges } from './Merges';\nimport { EventBind } from '../../utils/EventBind';\nimport { Screen } from './screen/Screen';\nimport { ScreenCopyStyle } from './screenwiget/copystyle/ScreenCopyStyle';\nimport { XReSizer } from './resizer/XReSizer';\nimport { YReSizer } from './resizer/YReSizer';\nimport { ScreenAutoFill } from './screenwiget/autofill/ScreenAutoFill';\nimport { XHeightLight } from './highlight/XHeightLight';\nimport { YHeightLight } from './highlight/YHeightLight';\nimport { Edit } from './Edit';\nimport { Draw, npx } from '../../canvas/Draw';\nimport { ALIGN, Font, TEXT_WRAP } from '../../canvas/Font';\nimport { Rect } from '../../canvas/Rect';\nimport { Crop } from '../../canvas/Crop';\nimport { Grid } from '../../canvas/Grid';\nimport { Box } from '../../canvas/Box';\nimport { Line, LINE_TYPE } from '../../canvas/Line';\nimport { LineHandle } from './gridborder/LineHandle';\nimport { Cells } from './cells/Cells';\nimport { CellsHelper } from './CellsHelper';\nimport { GridLineHandle } from './gridborder/GridLineHandle';\nimport { BorderLineHandle } from './gridborder/BorderLineHandle';\nimport { TableDataSnapshot } from './datasnapshot/TableDataSnapshot';\nimport { MousePointer } from './MousePointer';\nimport { Keyboard } from './Keyboard';\nimport { Focus } from './Focus';\nimport {\n  SCREEN_SELECT_EVENT,\n  ScreenSelector,\n} from './screenwiget/selector/ScreenSelector';\n\nconst TABLE_RENDER_MODE = {\n  SCROLL: 1,\n  RENDER: 2,\n};\n\n// ================================ 冻结内容坐标 ================================\n\nclass FrozenLeftIndexOffset {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  getFixedXOffset() {\n    return 0;\n  }\n\n  getFixedYOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  getFixedWidth() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getFixedHeight() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    return table.rows.sectionSumHeight(0, fxTop);\n  }\n\n  getScrollViewChange() {\n    const { table } = this;\n    return table.mode !== TABLE_RENDER_MODE.SCROLL;\n  }\n\n  getScrollView() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const width = this.getFixedWidth();\n    const height = this.getFixedHeight();\n    return new RectRange(0, 0, fxTop, 0, width, height);\n  }\n\n}\n\nclass FrozenTopIndexOffset {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  getFixedXOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getFixedYOffset() {\n    return 0;\n  }\n\n  getFixedWidth() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    return table.cols.sectionSumWidth(0, fxLeft);\n  }\n\n  getFixedHeight() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  getScrollViewChange() {\n    const { table } = this;\n    return table.mode !== TABLE_RENDER_MODE.SCROLL;\n  }\n\n  getScrollView() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    const width = this.getFixedWidth();\n    const height = this.getFixedHeight();\n    return new RectRange(0, 0, 0, fxLeft, width, height);\n  }\n\n}\n\nclass FrozenLeftTopOffset {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  getFixedXOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getFixedYOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  getFixedWidth() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    return table.cols.sectionSumWidth(0, fxLeft);\n  }\n\n  getFixedHeight() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    return table.rows.sectionSumHeight(0, fxTop);\n  }\n\n  getScrollViewChange() {\n    const { table } = this;\n    return table.mode !== TABLE_RENDER_MODE.SCROLL;\n  }\n\n  getScrollView() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop, fxLeft } = fixed;\n    const width = this.getFixedWidth();\n    const height = this.getFixedHeight();\n    return new RectRange(0, 0, fxTop, fxLeft, width, height);\n  }\n\n}\n\n// ================================ 动态内容坐标 ================================\n\nclass FixedTopOffset {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  getFixedXOffset() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxLeft } = fixed;\n    const fixedLeftWidth = table.cols.sectionSumWidth(0, fxLeft);\n    return index.width + fixedLeftWidth;\n  }\n\n  getFixedYOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  getFixedWidth() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxLeft } = fixed;\n    const fixedLeftWidth = table.cols.sectionSumWidth(0, fxLeft);\n    return table.visualWidth() - (index.width + fixedLeftWidth);\n  }\n\n  getFixedHeight() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    return table.rows.sectionSumHeight(0, fxTop);\n  }\n\n  getCaptureX() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const captureX = difference.getCaptureX();\n    const xOffset = this.getFixedXOffset();\n    return xOffset + captureX;\n  }\n\n  getCaptureY() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const captureY = difference.getCaptureY();\n    const yOffset = this.getFixedYOffset();\n    return yOffset + captureY;\n  }\n\n  getDwXOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const dwXOffset = difference.getDwXOffset();\n    const xOffset = this.getFixedXOffset();\n    return xOffset + dwXOffset;\n  }\n\n  getDwYOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const dwYOffset = difference.getDwYOffset();\n    const yOffset = this.getFixedYOffset();\n    return yOffset + dwYOffset;\n  }\n\n  getScrollViewChange() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      const { dynamicView } = table;\n      const last = dynamicView.getOriginLastScrollView();\n      const next = dynamicView.getOriginScrollView();\n      if (last === null) {\n        return true;\n      }\n      last.sri = 0;\n      last.eri = fxTop;\n      next.sri = 0;\n      next.eri = fxTop;\n      return next.equals(last) === false;\n    }\n    return true;\n  }\n\n  getContentView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const contentView = dynamicView.getContentView();\n    contentView.sri = 0;\n    contentView.eri = fxTop;\n    return contentView;\n  }\n\n  getScrollView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const scrollView = dynamicView.getScrollView();\n    scrollView.sri = 0;\n    scrollView.eri = fxTop;\n    return scrollView;\n  }\n\n  getBorderView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const borderView = dynamicView.getBorderView();\n    borderView.sri = 0;\n    borderView.eri = fxTop;\n    return borderView;\n  }\n\n  getScrollXOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    return dynamicView.getScrollXOffset();\n  }\n\n}\n\nclass FixedLeftOffset {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  getFixedXOffset() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getFixedYOffset() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxTop } = fixed;\n    const fixedTopHeight = table.rows.sectionSumHeight(0, fxTop);\n    return index.height + fixedTopHeight;\n  }\n\n  getFixedWidth() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    return table.cols.sectionSumWidth(0, fxLeft);\n  }\n\n  getFixedHeight() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxTop } = fixed;\n    const fixedTopHeight = table.rows.sectionSumHeight(0, fxTop);\n    return table.visualHeight() - (index.height + fixedTopHeight);\n  }\n\n  getCaptureX() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const captureX = difference.getCaptureX();\n    const xOffset = this.getFixedXOffset();\n    return xOffset + captureX;\n  }\n\n  getCaptureY() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const captureY = difference.getCaptureY();\n    const yOffset = this.getFixedYOffset();\n    return yOffset + captureY;\n  }\n\n  getDwXOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const dwXOffset = difference.getDwXOffset();\n    const xOffset = this.getFixedXOffset();\n    return xOffset + dwXOffset;\n  }\n\n  getDwYOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const dwYOffset = difference.getDwYOffset();\n    const yOffset = this.getFixedYOffset();\n    return yOffset + dwYOffset;\n  }\n\n  getScrollViewChange() {\n    const { table } = this;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      const { dynamicView } = table;\n      const last = dynamicView.getOriginLastScrollView();\n      const next = dynamicView.getOriginScrollView();\n      if (last === null) {\n        return true;\n      }\n      last.sci = 0;\n      last.eci = fxLeft;\n      next.sci = 0;\n      next.eci = fxLeft;\n      return next.equals(last) === false;\n    }\n    return true;\n  }\n\n  getContentView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    const contentView = dynamicView.getContentView();\n    contentView.sci = 0;\n    contentView.eci = fxLeft;\n    return contentView;\n  }\n\n  getScrollView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    const scrollView = dynamicView.getScrollView();\n    scrollView.sci = 0;\n    scrollView.eci = fxLeft;\n    return scrollView;\n  }\n\n  getBorderView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    const borderView = dynamicView.getBorderView();\n    borderView.sci = 0;\n    borderView.eci = fxLeft;\n    return borderView;\n  }\n\n}\n\nclass ContentOffset {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  getFixedXOffset() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxLeft } = fixed;\n    const fixedLeftWidth = table.cols.sectionSumWidth(0, fxLeft);\n    return fixedLeftWidth + index.width;\n  }\n\n  getFixedYOffset() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxTop } = fixed;\n    const fixedTopHeight = table.rows.sectionSumHeight(0, fxTop);\n    return index.height + fixedTopHeight;\n  }\n\n  getFixedWidth() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxLeft } = fixed;\n    const fixedLeftWidth = table.cols.sectionSumWidth(0, fxLeft);\n    return table.visualWidth() - (fixedLeftWidth + index.width);\n  }\n\n  getFixedHeight() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxTop } = fixed;\n    const fixedTopHeight = table.rows.sectionSumHeight(0, fxTop);\n    return table.visualHeight() - (index.height + fixedTopHeight);\n  }\n\n  getCaptureX() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const captureX = difference.getCaptureX();\n    const xOffset = this.getFixedXOffset();\n    return xOffset + captureX;\n  }\n\n  getCaptureY() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const captureY = difference.getCaptureY();\n    const yOffset = this.getFixedYOffset();\n    return yOffset + captureY;\n  }\n\n  getDwXOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const dwXOffset = difference.getDwXOffset();\n    const xOffset = this.getFixedXOffset();\n    return xOffset + dwXOffset;\n  }\n\n  getDwYOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const dwYOffset = difference.getDwYOffset();\n    const yOffset = this.getFixedYOffset();\n    return yOffset + dwYOffset;\n  }\n\n  getBdXOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const bdXOffset = difference.getBdXOffset();\n    const xOffset = this.getFixedXOffset();\n    return xOffset + bdXOffset;\n  }\n\n  getBdYOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const bdYOffset = difference.getBdYOffset();\n    const yOffset = this.getFixedYOffset();\n    return yOffset + bdYOffset;\n  }\n\n  getScrollViewChange() {\n    const { table } = this;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      const { dynamicView } = table;\n      const last = dynamicView.getOriginLastScrollView();\n      const next = dynamicView.getOriginScrollView();\n      if (last === null) {\n        return true;\n      }\n      return next.equals(last) === false;\n    }\n    return true;\n  }\n\n  getContentView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    return dynamicView.getContentView();\n  }\n\n  getScrollView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    return dynamicView.getScrollView();\n  }\n\n  getBorderView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    return dynamicView.getBorderView();\n  }\n\n  getScrollXOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    return dynamicView.getScrollXOffset();\n  }\n\n}\n\nclass FixedTopIndexOffset {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  getFixedXOffset() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxLeft } = fixed;\n    const fixedTopWidth = table.cols.sectionSumWidth(0, fxLeft);\n    return index.width + fixedTopWidth;\n  }\n\n  getFixedYOffset() {\n    return 0;\n  }\n\n  getFixedWidth() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxLeft } = fixed;\n    const fixedLeftWidth = table.cols.sectionSumWidth(0, fxLeft);\n    return table.visualWidth() - (index.width + fixedLeftWidth);\n  }\n\n  getFixedHeight() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.height;\n  }\n\n  getCaptureX() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const captureX = difference.getCaptureX();\n    const xOffset = this.getFixedXOffset();\n    return xOffset + captureX;\n  }\n\n  getCaptureY() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const captureY = difference.getCaptureY();\n    const yOffset = this.getFixedYOffset();\n    return yOffset + captureY;\n  }\n\n  getDwXOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const dwXOffset = difference.getDwXOffset();\n    const xOffset = this.getFixedXOffset();\n    return xOffset + dwXOffset;\n  }\n\n  getDwYOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const dwYOffset = difference.getDwYOffset();\n    const yOffset = this.getFixedYOffset();\n    return yOffset + dwYOffset;\n  }\n\n  getScrollViewChange() {\n    const { table } = this;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      const { dynamicView } = table;\n      const last = dynamicView.getOriginLastScrollView();\n      const next = dynamicView.getOriginScrollView();\n      if (last === null) {\n        return true;\n      }\n      last.sri = 0;\n      last.eri = 0;\n      next.sri = 0;\n      next.eri = 0;\n      return next.equals(last) === false;\n    }\n    return true;\n  }\n\n  getContentView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const contentView = dynamicView.getContentView();\n    contentView.sri = 0;\n    contentView.eri = 0;\n    return contentView;\n  }\n\n  getScrollView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const scrollView = dynamicView.getScrollView();\n    scrollView.sri = 0;\n    scrollView.eri = 0;\n    return scrollView;\n  }\n\n}\n\nclass FixedLeftIndexOffset {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  getFixedXOffset() {\n    return 0;\n  }\n\n  getFixedYOffset() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxTop } = fixed;\n    const fixedTopHeight = table.rows.sectionSumHeight(0, fxTop);\n    return index.height + fixedTopHeight;\n  }\n\n  getFixedWidth() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    return index.width;\n  }\n\n  getFixedHeight() {\n    const { table } = this;\n    const { fixed, settings } = table;\n    const { index } = settings;\n    const { fxTop } = fixed;\n    const fixedTopHeight = table.rows.sectionSumHeight(0, fxTop);\n    return table.visualHeight() - (index.height + fixedTopHeight);\n  }\n\n  getCaptureX() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const captureX = difference.getCaptureX();\n    const xOffset = this.getFixedXOffset();\n    return xOffset + captureX;\n  }\n\n  getCaptureY() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const captureY = difference.getCaptureY();\n    const yOffset = this.getFixedYOffset();\n    return yOffset + captureY;\n  }\n\n  getDwXOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const dwXOffset = difference.getDwXOffset();\n    const xOffset = this.getFixedXOffset();\n    return xOffset + dwXOffset;\n  }\n\n  getDwYOffset() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { difference } = dynamicView;\n    const dwYOffset = difference.getDwYOffset();\n    const yOffset = this.getFixedYOffset();\n    return yOffset + dwYOffset;\n  }\n\n  getScrollViewChange() {\n    const { table } = this;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      const { dynamicView } = table;\n      const last = dynamicView.getOriginLastScrollView();\n      const next = dynamicView.getOriginScrollView();\n      if (last === null) {\n        return true;\n      }\n      last.sci = 0;\n      last.eci = 0;\n      next.sci = 0;\n      next.eci = 0;\n      return next.equals(last) === false;\n    }\n    return true;\n  }\n\n  getContentView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const contentView = dynamicView.getContentView();\n    contentView.sci = 0;\n    contentView.eci = 0;\n    return contentView;\n  }\n\n  getScrollView() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const scrollView = dynamicView.getScrollView();\n    scrollView.sci = 0;\n    scrollView.eci = 0;\n    return scrollView;\n  }\n\n}\n\n// ================================ 动态视图计算 ================================\n\nclass DynamicViewDifference {\n\n  constructor(dynamicView) {\n    this.dynamicView = dynamicView;\n    // 滚动时的新区域\n    this.subtractRange = null;\n    this.addRange = null;\n    // 渲染截图的坐标\n    this.captureX = 0;\n    this.captureY = 0;\n    // 滚动区域渲染\n    this.dwAddRange = null;\n    this.dwContentRange = null;\n    // 渲染区域坐标\n    this.dwXOffset = 0;\n    this.dwYOffset = 0;\n    // 边框绘制区域\n    this.borderRange = null;\n    this.bdXOffset = 0;\n    this.bdYOffset = 0;\n  }\n\n  cpSubtractRange() {\n    const { dynamicView } = this;\n    const { table } = dynamicView;\n    const { lastScrollRange } = dynamicView;\n    const { scrollRange } = dynamicView;\n    const { cols, rows } = table;\n    if (lastScrollRange) {\n      const [subtractRange] = lastScrollRange.coincideDifference(scrollRange);\n      if (subtractRange) {\n        subtractRange.w = cols.rectRangeSumWidth(subtractRange);\n        subtractRange.h = rows.rectRangeSumHeight(subtractRange);\n        this.subtractRange = subtractRange;\n      }\n    }\n  }\n\n  cpAddRange() {\n    const { dynamicView } = this;\n    const { table } = dynamicView;\n    const { lastScrollRange } = dynamicView;\n    const { scrollRange } = dynamicView;\n    const { cols, rows } = table;\n    if (lastScrollRange) {\n      const [addRange] = scrollRange.coincideDifference(lastScrollRange);\n      if (addRange) {\n        addRange.w = cols.rectRangeSumWidth(addRange);\n        addRange.h = rows.rectRangeSumHeight(addRange);\n        this.addRange = addRange;\n      }\n    }\n  }\n\n  cpCaptureXY() {\n    const { dynamicView } = this;\n    const { addRange, subtractRange } = this;\n    const { table } = dynamicView;\n    const { scroll } = table;\n    if (addRange || subtractRange) {\n      let captureX = 0;\n      let captureY = 0;\n      switch (scroll.type) {\n        case SCROLL_TYPE.V_TOP: {\n          captureY = addRange.h;\n          break;\n        }\n        case SCROLL_TYPE.V_BOTTOM: {\n          captureY = -subtractRange.h;\n          break;\n        }\n        case SCROLL_TYPE.H_LEFT: {\n          captureX = addRange.w;\n          break;\n        }\n        case SCROLL_TYPE.H_RIGHT: {\n          captureX = -subtractRange.w;\n          break;\n        }\n        default: break;\n      }\n      this.captureX = captureX;\n      this.captureY = captureY;\n    }\n  }\n\n  cpRange() {\n    this.subtractRange = null;\n    this.addRange = null;\n    this.captureX = 0;\n    this.captureY = 0;\n    this.dwAddRange = null;\n    this.dwContentRange = null;\n    this.dwXOffset = 0;\n    this.dwYOffset = 0;\n    this.borderRange = null;\n    this.bdXOffset = 0;\n    this.bdYOffset = 0;\n    this.cpSubtractRange();\n    this.cpAddRange();\n    this.cpDwAddRange();\n    this.cpDwContentRange();\n    this.cpCaptureXY();\n    this.cpDwOffsetXY();\n    this.cpBorderRange();\n    this.cpBdOffsetXY();\n  }\n\n  cpDwAddRange() {\n    const { dynamicView } = this;\n    const { addRange } = this;\n    const { table } = dynamicView;\n    const { scroll } = table;\n    if (addRange) {\n      this.dwAddRange = addRange.clone();\n      const { rows, cols } = table;\n      switch (scroll.type) {\n        case SCROLL_TYPE.H_RIGHT: {\n          this.dwAddRange.sci -= 1;\n          this.dwAddRange.w = cols.rectRangeSumWidth(this.dwAddRange);\n          break;\n        }\n        case SCROLL_TYPE.V_BOTTOM: {\n          this.dwAddRange.sri -= 1;\n          this.dwAddRange.h = rows.rectRangeSumHeight(this.dwAddRange);\n          break;\n        }\n        case SCROLL_TYPE.H_LEFT: {\n          this.dwAddRange.eci += 1;\n          this.dwAddRange.w = cols.rectRangeSumWidth(this.dwAddRange);\n          break;\n        }\n        case SCROLL_TYPE.V_TOP: {\n          this.dwAddRange.eri += 1;\n          this.dwAddRange.h = rows.rectRangeSumHeight(this.dwAddRange);\n          break;\n        }\n        default: break;\n      }\n    }\n  }\n\n  cpDwContentRange() {\n    const { dynamicView } = this;\n    const { table } = dynamicView;\n    const { dwAddRange } = this;\n    if (dwAddRange) {\n      const { sri, eri } = dwAddRange;\n      const { cols } = table;\n      this.dwContentRange = dwAddRange.clone();\n      this.dwContentRange.set(sri, 0, eri, cols.len);\n      this.dwContentRange.w = cols.rectRangeSumWidth(this.dwContentRange);\n    }\n  }\n\n  cpDwOffsetXY() {\n    const { dynamicView } = this;\n    const { dwAddRange } = this;\n    const { table } = dynamicView;\n    if (dwAddRange) {\n      const width = dwAddRange.w;\n      const height = dwAddRange.h;\n      let dwXOffset = 0;\n      let dwYOffset = 0;\n      const { scroll } = table;\n      switch (scroll.type) {\n        case SCROLL_TYPE.V_TOP: {\n          dwYOffset = 0;\n          break;\n        }\n        case SCROLL_TYPE.V_BOTTOM: {\n          const { rows } = table;\n          const { scrollRange } = dynamicView;\n          const h = rows.rectRangeSumHeight(scrollRange);\n          dwYOffset = h - height;\n          break;\n        }\n        case SCROLL_TYPE.H_LEFT: {\n          dwXOffset = 0;\n          break;\n        }\n        case SCROLL_TYPE.H_RIGHT: {\n          const { cols } = table;\n          const { scrollRange } = dynamicView;\n          const w = cols.rectRangeSumWidth(scrollRange);\n          dwXOffset = w - width;\n          break;\n        }\n        default: break;\n      }\n      this.dwXOffset = dwXOffset;\n      this.dwYOffset = dwYOffset;\n    }\n  }\n\n  cpBorderRange() {\n    const { dwContentRange } = this;\n    const { dynamicView } = this;\n    const { table } = dynamicView;\n    const { scroll } = table;\n    const { cols, rows } = table;\n    if (dwContentRange) {\n      const borderRange = dwContentRange.clone();\n      switch (scroll.type) {\n        case SCROLL_TYPE.H_LEFT:\n          borderRange.sci += 1;\n          break;\n        case SCROLL_TYPE.H_RIGHT:\n          borderRange.eci -= 1;\n          break;\n        case SCROLL_TYPE.V_TOP:\n          borderRange.eri += 1;\n          break;\n        case SCROLL_TYPE.V_BOTTOM:\n          borderRange.sri -= 1;\n          break;\n        default: break;\n      }\n      borderRange.w = cols.rectRangeSumWidth(borderRange);\n      borderRange.h = rows.rectRangeSumHeight(borderRange);\n      this.borderRange = borderRange;\n    }\n  }\n\n  cpBdOffsetXY() {\n    const { dynamicView } = this;\n    const { borderRange } = this;\n    const { table } = dynamicView;\n    if (borderRange) {\n      const width = borderRange.w;\n      const height = borderRange.h;\n      let bdXOffset = 0;\n      let bdYOffset = 0;\n      const { scroll } = table;\n      switch (scroll.type) {\n        case SCROLL_TYPE.V_TOP: {\n          bdYOffset = 0;\n          break;\n        }\n        case SCROLL_TYPE.V_BOTTOM: {\n          const { rows } = table;\n          const { scrollRange } = dynamicView;\n          const h = rows.rectRangeSumHeight(scrollRange);\n          bdYOffset = h - height;\n          break;\n        }\n        case SCROLL_TYPE.H_LEFT: {\n          bdXOffset = 0;\n          break;\n        }\n        case SCROLL_TYPE.H_RIGHT: {\n          const { cols } = table;\n          const { scrollRange } = dynamicView;\n          const w = cols.rectRangeSumWidth(scrollRange);\n          bdXOffset = w - width;\n          break;\n        }\n        default: break;\n      }\n      this.bdXOffset = bdXOffset;\n      this.bdYOffset = bdYOffset;\n    }\n  }\n\n  getCaptureX() {\n    const { dynamicView } = this;\n    const { table } = dynamicView;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      return this.captureX;\n    }\n    return 0;\n  }\n\n  getCaptureY() {\n    const { dynamicView } = this;\n    const { table } = dynamicView;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      return this.captureY;\n    }\n    return 0;\n  }\n\n  getDwXOffset() {\n    const { dynamicView } = this;\n    const { table } = dynamicView;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      return this.dwXOffset;\n    }\n    return 0;\n  }\n\n  getDwYOffset() {\n    const { dynamicView } = this;\n    const { table } = dynamicView;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      return this.dwYOffset;\n    }\n    return 0;\n  }\n\n  getBdXOffset() {\n    const { dynamicView } = this;\n    const { table } = dynamicView;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      return this.bdXOffset;\n    }\n    return 0;\n  }\n\n  getBdYOffset() {\n    const { dynamicView } = this;\n    const { table } = dynamicView;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      return this.bdYOffset;\n    }\n    return 0;\n  }\n\n}\n\nclass DynamicView {\n\n  constructor(table) {\n    this.difference = new DynamicViewDifference(this);\n    this.table = table;\n    this.lastScrollRange = null;\n    this.scrollRange = null;\n    this.contentRange = null;\n    this.scrollXOffset = 0;\n  }\n\n  cpScrollRange() {\n    const { table } = this;\n    const {\n      rows, cols, scroll, contentOffset,\n    } = table;\n    let [width, height] = [0, 0];\n    const { ri, ci } = scroll;\n    let [eri, eci] = [rows.len, cols.len];\n    for (let i = ri; i < rows.len; i += 1) {\n      height += rows.getHeight(i);\n      eri = i;\n      if (height > contentOffset.getFixedHeight()) break;\n    }\n    for (let j = ci; j < cols.len; j += 1) {\n      width += cols.getWidth(j);\n      eci = j;\n      if (width > contentOffset.getFixedWidth()) break;\n    }\n    this.scrollRange = new RectRange(ri, ci, eri, eci, width, height);\n  }\n\n  cpContentRange() {\n    const { table } = this;\n    const { scrollRange } = this;\n    const { sri, eri } = scrollRange;\n    const { cols } = table;\n    this.contentRange = scrollRange.clone();\n    this.contentRange.set(sri, 0, eri, cols.len);\n    this.contentRange.w = cols.rectRangeSumWidth(scrollRange);\n  }\n\n  cpScrollXOffset() {\n    const { table } = this;\n    const { scroll, cols } = table;\n    const { ci } = scroll;\n    this.scrollXOffset = -cols.sectionSumWidth(0, ci - 1);\n  }\n\n  cpRange() {\n    this.lastScrollRange = this.scrollRange;\n    this.scrollRange = null;\n    this.contentRange = null;\n    this.scrollXOffset = 0;\n    this.cpScrollRange();\n    this.cpContentRange();\n    this.cpScrollXOffset();\n    this.difference.cpRange();\n\n  }\n\n  getOriginScrollView() {\n    const { scrollRange } = this;\n    return scrollRange.clone();\n  }\n\n  getOriginContentView() {\n    const { contentRange } = this;\n    return contentRange.clone();\n  }\n\n  getOriginLastScrollView() {\n    const { lastScrollRange } = this;\n    if (lastScrollRange) {\n      return lastScrollRange.clone();\n    }\n    return null;\n  }\n\n  getScrollXOffset() {\n    return this.scrollXOffset;\n  }\n\n  getScrollView() {\n    const { table } = this;\n    const { scrollRange } = this;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      const { difference } = this;\n      const { dwAddRange } = difference;\n      if (dwAddRange) {\n        return dwAddRange.clone();\n      }\n    }\n    return scrollRange.clone();\n  }\n\n  getContentView() {\n    const { contentRange } = this;\n    const { table } = this;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      const { scroll } = table;\n      const { difference } = this;\n      switch (scroll.type) {\n        case SCROLL_TYPE.V_TOP:\n        case SCROLL_TYPE.V_BOTTOM: {\n          const { dwContentRange } = difference;\n          if (dwContentRange) {\n            return dwContentRange.clone();\n          }\n          break;\n        }\n        default: break;\n      }\n    }\n    return contentRange.clone();\n  }\n\n  getBorderView() {\n    const { table } = this;\n    const { scrollRange } = this;\n    if (table.mode === TABLE_RENDER_MODE.SCROLL) {\n      const { difference } = this;\n      const { borderRange } = difference;\n      if (borderRange) {\n        return borderRange.clone();\n      }\n    }\n    return scrollRange.clone();\n  }\n\n}\n\n// =============================== 冻结内容渲染 =================================\n\nclass FrozenLeftTop {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  getScrollViewRange() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { fixed } = table;\n    const { fxLeft, fxTop } = fixed;\n    const scrollView = dynamicView.getOriginScrollView();\n    scrollView.sci = 0;\n    scrollView.eci = fxLeft;\n    scrollView.sri = 0;\n    scrollView.eri = fxTop;\n    return scrollView;\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cellsHelper,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格背景\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    // 绘制合并单元格背景\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cellsHelper, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格文字\n    cellsHelper.getCellSkipMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect, overflow) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const { align } = fontAttr;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow,\n          attr: fontAttr,\n        });\n        font.setOverflowCrop(align === ALIGN.center);\n        cell.setContentWidth(font.draw());\n        // Test\n        // draw.attr({ globalAlpha: 0.3 });\n        // draw.fillRect(rect.x, rect.y, cell.contentWidth, rect.height);\n      },\n    });\n    // 绘制合并单元格文字\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // console.log('rect >>>', rect);\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow: null,\n          attr: fontAttr,\n        });\n        font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n        cell.setContentWidth(font.draw());\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  renderClear() {\n    const { table } = this;\n    const { draw, settings } = table;\n    const offset = table.frozenLeftTopOffset;\n    const width = offset.getFixedWidth();\n    const height = offset.getFixedHeight();\n    const x = offset.getFixedXOffset();\n    const y = offset.getFixedYOffset();\n    draw.attr({\n      fillStyle: settings.table.background,\n    });\n    draw.fillRect(x, y, width, height);\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const { frozenLeftTopOffset } = table;\n    const change = frozenLeftTopOffset.getScrollViewChange();\n    if (change) {\n      const scrollView = frozenLeftTopOffset.getScrollView();\n      const offsetX = frozenLeftTopOffset.getFixedXOffset();\n      const offsetY = frozenLeftTopOffset.getFixedYOffset();\n      const fixedWidth = frozenLeftTopOffset.getFixedWidth();\n      const fixedHeight = frozenLeftTopOffset.getFixedHeight();\n      this.renderClear();\n      // 裁剪内容\n      const drawRect = new Rect({\n        x: offsetX + grid.lineWidth(),\n        y: offsetY + grid.lineWidth(),\n        width: fixedWidth,\n        height: fixedHeight,\n      });\n      const drawCrop = new Crop({ draw, rect: drawRect, offset: grid.lineWidth() });\n      drawCrop.open();\n      this.drawBackGround(scrollView, offsetX, offsetY);\n      this.drawCells(scrollView, offsetX, offsetY);\n      if (settings.table.showGrid) {\n        this.drawGrid(scrollView, offsetX, offsetY);\n      }\n      this.drawBorder(scrollView, offsetX, offsetY);\n      drawCrop.close();\n    }\n  }\n\n}\n\nclass FrozenLeftIndex {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, rows, settings,\n    } = table;\n    const { sri, eri } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      draw.fillText(i + 1, width / 2, y + (ch / 2));\n    });\n    // 绘制边框\n    let lineHeight = 0;\n    draw.attr({\n      strokeStyle: settings.table.borderColor,\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      lineHeight += ch;\n      grid.horizontalLine(0, y, width, y);\n      if (i === eri) grid.horizontalLine(0, y + ch, width, y + ch);\n    });\n    grid.verticalLine(width, 0, width, lineHeight);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  renderClear() {\n    const { table } = this;\n    const { draw, settings } = table;\n    const offset = table.frozenLeftIndexOffset;\n    const width = offset.getFixedWidth();\n    const height = offset.getFixedHeight();\n    const x = offset.getFixedXOffset();\n    const y = offset.getFixedYOffset();\n    draw.attr({\n      fillStyle: settings.table.background,\n    });\n    draw.fillRect(x, y, width, height);\n  }\n\n  render() {\n    const { table } = this;\n    const { frozenLeftIndexOffset } = table;\n    const change = frozenLeftIndexOffset.getScrollViewChange();\n    if (change) {\n      const offsetX = frozenLeftIndexOffset.getFixedXOffset();\n      const offsetY = frozenLeftIndexOffset.getFixedYOffset();\n      const width = frozenLeftIndexOffset.getFixedWidth();\n      const height = frozenLeftIndexOffset.getFixedHeight();\n      const scrollView = frozenLeftIndexOffset.getScrollView();\n      this.renderClear();\n      this.draw(scrollView, offsetX, offsetY, width, height);\n    }\n  }\n\n}\n\nclass FrozenTopIndex {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, cols, settings,\n    } = table;\n    const { sci, eci } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      draw.fillText(Utils.stringAt(i), x + (cw / 2), height / 2);\n    });\n    // 绘制边框\n    draw.attr({\n      strokeStyle: settings.table.borderColor,\n    });\n    let lineWidth = 0;\n    draw.attr({\n      strokeStyle: settings.table.borderColor,\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      lineWidth += cw;\n      grid.verticalLine(x, 0, x, height);\n      if (i === eci) grid.verticalLine(x + cw, 0, x + cw, height);\n    });\n    grid.horizontalLine(0, height, lineWidth, height);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  renderClear() {\n    const { table } = this;\n    const { draw, settings } = table;\n    const offset = table.frozenTopIndexOffset;\n    const width = offset.getFixedWidth();\n    const height = offset.getFixedHeight();\n    const x = offset.getFixedXOffset();\n    const y = offset.getFixedYOffset();\n    draw.attr({\n      fillStyle: settings.table.background,\n    });\n    draw.fillRect(x, y, width, height);\n  }\n\n  render() {\n    const { table } = this;\n    const { frozenTopIndexOffset } = table;\n    const change = frozenTopIndexOffset.getScrollViewChange();\n    if (change) {\n      const offsetX = frozenTopIndexOffset.getFixedXOffset();\n      const offsetY = frozenTopIndexOffset.getFixedYOffset();\n      const width = frozenTopIndexOffset.getFixedWidth();\n      const height = frozenTopIndexOffset.getFixedHeight();\n      const scrollView = frozenTopIndexOffset.getScrollView();\n      this.renderClear();\n      this.draw(scrollView, offsetX, offsetY, width, height);\n    }\n  }\n\n}\n\nclass FrozenRect {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  draw(offsetX, offsetY, width, height) {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f4f5f8',\n    });\n    draw.fillRect(0, 0, width, height);\n    draw.offset(0, 0);\n    draw.restore();\n    // 绘制边框\n    draw.attr({\n      strokeStyle: settings.table.borderColor,\n    });\n    grid.verticalLine(width, offsetY, width, height);\n    grid.horizontalLine(0, height, width, height);\n  }\n\n  render() {\n    const { table } = this;\n    const { settings } = table;\n    const { index } = settings;\n    this.draw(0, 0, index.width, index.height);\n  }\n\n}\n\n// ================================ 动态内容渲染 ================================\n\nclass FixedTop {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  getScrollViewRange() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { fixed } = table;\n    const { fxTop } = fixed;\n    const scrollView = dynamicView.getOriginScrollView();\n    scrollView.sri = 0;\n    scrollView.eri = fxTop;\n    return scrollView;\n  }\n\n  drawCells(viewRange, scrollViewXOffset, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cellsHelper, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格文字\n    cellsHelper.getCellSkipMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect, overflow) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const { align } = fontAttr;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow,\n          attr: fontAttr,\n        });\n        font.setOverflowCrop(align === ALIGN.center);\n        cell.setContentWidth(font.draw());\n        // Test\n        // draw.attr({ globalAlpha: 0.3 });\n        // draw.fillRect(rect.x, rect.y, cell.contentWidth, rect.height);\n      },\n      startX: scrollViewXOffset,\n    });\n    // 绘制合并单元格文字\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // console.log('rect >>>', rect);\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow: null,\n          attr: fontAttr,\n        });\n        font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n        cell.setContentWidth(font.draw());\n      },\n      startX: scrollViewXOffset,\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cellsHelper,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格背景\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    // 绘制合并单元格背景\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  renderClear() {\n    const { table } = this;\n    const { draw, settings, grid, dynamicView, cols } = table;\n    const { scroll } = table;\n    const { canvas } = table;\n    const offset = table.fixedTopOffset;\n    const width = offset.getFixedWidth();\n    const height = offset.getFixedHeight();\n    const x = offset.getFixedXOffset();\n    const y = offset.getFixedYOffset();\n    // 贴图\n    let cx = offset.getCaptureX();\n    switch (scroll.type) {\n      case SCROLL_TYPE.H_RIGHT:\n      case SCROLL_TYPE.H_LEFT: {\n        let sx = x;\n        // 防止贴图网格\n        sx += grid.lineWidth();\n        cx += grid.lineWidth();\n        draw.drawImage(canvas.el, sx, y, width, height, cx, y, width, height);\n        break;\n      }\n      default:\n        break;\n    }\n    // 擦除\n    const range = dynamicView.getScrollView();\n    let dx = offset.getDwXOffset();\n    const dy = offset.getDwYOffset();\n    switch (scroll.type) {\n      case SCROLL_TYPE.H_RIGHT: {\n        // 防止擦除网格\n        dx += grid.lineWidth();\n        draw.attr({ fillStyle: settings.table.background });\n        if (cols.len - 1 === range.eci) {\n          const origin = dynamicView.getOriginScrollView();\n          draw.fillRect(dx, dy, range.w + (width - origin.w), height);\n        } else {\n          draw.fillRect(dx, dy, range.w, height);\n        }\n        break;\n      }\n      case SCROLL_TYPE.H_LEFT: {\n        draw.attr({ fillStyle: settings.table.background });\n        draw.fillRect(dx, dy, range.w, height);\n        break;\n      }\n      default: {\n        draw.attr({\n          fillStyle: settings.table.background,\n        });\n        draw.fillRect(x, y, width, height);\n      }\n    }\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const { fixedTopOffset } = table;\n    const change = fixedTopOffset.getScrollViewChange();\n    if (change) {\n      const scrollXOffset = fixedTopOffset.getScrollXOffset();\n      const scrollView = fixedTopOffset.getScrollView();\n      const contentView = fixedTopOffset.getContentView();\n      const borderView = fixedTopOffset.getBorderView();\n      const fixedWidth = fixedTopOffset.getFixedWidth();\n      const fixedHeight = fixedTopOffset.getFixedHeight();\n      // 裁剪背景\n      const offsetX = fixedTopOffset.getFixedXOffset();\n      const offsetY = fixedTopOffset.getFixedYOffset();\n      const clearRect = new Rect({\n        x: offsetX + grid.lineWidth(),\n        y: offsetY + grid.lineWidth(),\n        width: fixedWidth,\n        height: fixedHeight,\n      });\n      const clearCrop = new Crop({ draw, rect: clearRect });\n      clearCrop.open();\n      this.renderClear();\n      clearCrop.close();\n      // 裁剪内容\n      const dx = fixedTopOffset.getDwXOffset();\n      const dy = fixedTopOffset.getDwYOffset();\n      const drawRect = new Rect({\n        x: dx + grid.lineWidth(),\n        y: dy + grid.lineWidth(),\n        width: scrollView.w,\n        height: scrollView.h,\n      });\n      const drawCrop = new Crop({ draw, rect: drawRect });\n      drawCrop.open();\n      this.drawBackGround(scrollView, dx, dy);\n      this.drawCells(contentView, scrollXOffset, offsetX, dy);\n      if (settings.table.showGrid) {\n        this.drawGrid(scrollView, dx, dy);\n      }\n      drawCrop.close();\n      // 裁剪边框\n      const bdY = fixedTopOffset.getBdYOffset();\n      const bdX = fixedTopOffset.getBdXOffset();\n      const borderRect = new Rect({\n        x: offsetX + grid.lineWidth(),\n        y: offsetY + grid.lineWidth(),\n        width: fixedWidth,\n        height: fixedHeight,\n      });\n      const borderCrop = new Crop({ draw, rect: borderRect });\n      borderCrop.open();\n      this.drawBorder(borderView, bdX, bdY);\n      borderCrop.close();\n    }\n  }\n\n}\n\nclass FixedLeft {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  getScrollViewRange() {\n    const { table } = this;\n    const { dynamicView } = table;\n    const { fixed } = table;\n    const { fxLeft } = fixed;\n    const scrollView = dynamicView.getOriginScrollView();\n    scrollView.sci = 0;\n    scrollView.eci = fxLeft;\n    return scrollView;\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cellsHelper,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格背景\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    // 绘制合并单元格背景\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawCells(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cellsHelper, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格文字\n    cellsHelper.getCellSkipMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect, overflow) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const { align } = fontAttr;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow,\n          attr: fontAttr,\n        });\n        font.setOverflowCrop(align === ALIGN.center);\n        cell.setContentWidth(font.draw());\n        // Test\n        // draw.attr({ globalAlpha: 0.3 });\n        // draw.fillRect(rect.x, rect.y, cell.contentWidth, rect.height);\n      },\n    });\n    // 绘制合并单元格文字\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // console.log('rect >>>', rect);\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow: null,\n          attr: fontAttr,\n        });\n        font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n        cell.setContentWidth(font.draw());\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  renderClear() {\n    const { table } = this;\n    const { draw, settings, grid, rows, dynamicView } = table;\n    const { scroll } = table;\n    const { canvas } = table;\n    const offset = table.fixedLeftOffset;\n    const width = offset.getFixedWidth();\n    const height = offset.getFixedHeight();\n    const x = offset.getFixedXOffset();\n    const y = offset.getFixedYOffset();\n    // 贴图\n    let cy = offset.getCaptureY();\n    switch (scroll.type) {\n      case SCROLL_TYPE.V_BOTTOM:\n      case SCROLL_TYPE.V_TOP: {\n        let sy = y;\n        // 防止贴图网格\n        sy += grid.lineWidth();\n        cy += grid.lineWidth();\n        draw.drawImage(canvas.el, x, sy, width, height, x, cy, width, height);\n        break;\n      }\n      default:\n        break;\n    }\n    // 擦除\n    const range = dynamicView.getScrollView();\n    const dx = offset.getDwXOffset();\n    let dy = offset.getDwYOffset();\n    switch (scroll.type) {\n      case SCROLL_TYPE.V_BOTTOM: {\n        draw.attr({ fillStyle: settings.table.background });\n        // 防止擦除网格\n        dy += grid.lineWidth();\n        if (rows.len - 1 === range.eri) {\n          const origin = dynamicView.getOriginScrollView();\n          draw.fillRect(dx, dy, width, range.h + (height - origin.h));\n        } else {\n          draw.fillRect(dx, dy, width, range.h);\n        }\n        break;\n      }\n      case SCROLL_TYPE.V_TOP: {\n        draw.attr({ fillStyle: settings.table.background });\n        draw.fillRect(dx, dy, width, range.h);\n        break;\n      }\n      default: {\n        draw.attr({\n          fillStyle: settings.table.background,\n        });\n        draw.fillRect(x, y, width, height);\n      }\n    }\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const { fixedLeftOffset } = table;\n    const change = fixedLeftOffset.getScrollViewChange();\n    if (change) {\n      const scrollView = fixedLeftOffset.getScrollView();\n      const contentView = fixedLeftOffset.getContentView();\n      const borderView = fixedLeftOffset.getBorderView();\n      const fixedWidth = fixedLeftOffset.getFixedWidth();\n      const fixedHeight = fixedLeftOffset.getFixedHeight();\n      // 裁剪背景\n      const offsetX = fixedLeftOffset.getFixedXOffset();\n      const offsetY = fixedLeftOffset.getFixedYOffset();\n      const clearRect = new Rect({\n        x: offsetX + grid.lineWidth(),\n        y: offsetY + grid.lineWidth(),\n        width: fixedWidth,\n        height: fixedHeight,\n      });\n      const clearCrop = new Crop({ draw, rect: clearRect });\n      clearCrop.open();\n      this.renderClear();\n      clearCrop.close();\n      // 裁剪内容\n      const dx = fixedLeftOffset.getDwXOffset();\n      const dy = fixedLeftOffset.getDwYOffset();\n      const drawRect = new Rect({\n        x: dx + grid.lineWidth(),\n        y: dy + grid.lineWidth(),\n        width: scrollView.w,\n        height: scrollView.h,\n      });\n      const drawCrop = new Crop({ draw, rect: drawRect });\n      drawCrop.open();\n      this.drawBackGround(scrollView, dx, dy);\n      this.drawCells(contentView, offsetX, dy);\n      if (settings.table.showGrid) {\n        this.drawGrid(scrollView, dx, dy);\n      }\n      drawCrop.close();\n      // 裁剪边框\n      const bdY = fixedLeftOffset.getBdYOffset();\n      const bdX = fixedLeftOffset.getBdXOffset();\n      const borderRect = new Rect({\n        x: offsetX + grid.lineWidth(),\n        y: offsetY + grid.lineWidth(),\n        width: fixedWidth,\n        height: fixedHeight,\n      });\n      const borderCrop = new Crop({ draw, rect: borderRect });\n      borderCrop.open();\n      this.drawBorder(borderView, bdX, bdY);\n      borderCrop.close();\n    }\n  }\n\n}\n\nclass Content {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  getContentWidth() {\n    const { table } = this;\n    const { cols, fixed } = table;\n    const total = cols.totalWidth();\n    const fixedWidth = cols.sectionSumWidth(0, fixed.fxLeft);\n    return total - fixedWidth;\n  }\n\n  getContentHeight() {\n    const { table } = this;\n    const { rows, fixed } = table;\n    const total = rows.totalHeight();\n    const fixedHeight = rows.sectionSumHeight(0, fixed.fxTop);\n    return total - fixedHeight;\n  }\n\n  drawCells(viewRange, scrollViewXOffset, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, cellsHelper, grid,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格文字\n    cellsHelper.getCellSkipMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect, overflow) => {\n        // 绘制文字\n        const { fontAttr } = cell;\n        const { align } = fontAttr;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow,\n          attr: fontAttr,\n        });\n        font.setOverflowCrop(align === ALIGN.center);\n        cell.setContentWidth(font.draw());\n        // Test\n        // draw.attr({ globalAlpha: 0.3 });\n        // draw.fillRect(rect.x, rect.y, cell.contentWidth, rect.height);\n      },\n      startX: scrollViewXOffset,\n    });\n    // 绘制合并单元格文字\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // console.log('rect >>>', rect);\n        // 绘制文字\n        const { fontAttr } = cell;\n        const font = new Font({\n          text: Format(cell.format, cell.text),\n          rect: rect.expandSize(grid.lineWidth()),\n          dw: draw,\n          overflow: null,\n          attr: fontAttr,\n        });\n        font.setTextWrap(TEXT_WRAP.WORD_WRAP);\n        cell.setContentWidth(font.draw());\n      },\n      startX: scrollViewXOffset,\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawGrid(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, lineHandle, gridLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const hLine = gridLineHandle.hLine(viewRange);\n    const vLine = gridLineHandle.vLine(viewRange);\n    hLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    const hMergeLine = gridLineHandle.hMergeLine(coincideViewBrink);\n    const vMergeLine = gridLineHandle.vMergeLine(coincideViewBrink);\n    hMergeLine.forEach((item) => {\n      grid.horizontalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    vMergeLine.forEach((item) => {\n      grid.verticalLine(item.sx, item.sy, item.ex, item.ey);\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBorder(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, line, lineHandle, borderLineHandle,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    const coincideView = lineHandle.viewRangeAndMergeCoincideView({ viewRange });\n    const coincideViewBrink = lineHandle.coincideViewBrink({ coincideView });\n    const htLine = borderLineHandle.htLine(viewRange);\n    const hbLine = borderLineHandle.hbLine(viewRange);\n    const vlLine = borderLineHandle.vlLine(viewRange);\n    const vrLine = borderLineHandle.vrLine(viewRange);\n    htLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    const htMergeLine = borderLineHandle.htMergeLine(coincideViewBrink);\n    const hbMergeLine = borderLineHandle.hbMergeLine(coincideViewBrink);\n    const vlMergeLine = borderLineHandle.vlMergeLine(coincideViewBrink);\n    const vrMergeLine = borderLineHandle.vrMergeLine(coincideViewBrink);\n    htMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { top } = borderAttr;\n      const { color, width, type } = top;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'top');\n    });\n    hbMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { bottom } = borderAttr;\n      const { color, width, type } = bottom;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'bottom');\n    });\n    vlMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { left } = borderAttr;\n      const { color, width, type } = left;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'left');\n    });\n    vrMergeLine.forEach((item) => {\n      const { borderAttr, row, col } = item;\n      const { right } = borderAttr;\n      const { color, width, type } = right;\n      line.setType(type);\n      line.setColor(color);\n      line.setWidth(width);\n      line.drawLine(item.sx, item.sy, item.ex, item.ey, row, col, 'right');\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  drawBackGround(viewRange, offsetX, offsetY) {\n    const { table } = this;\n    const {\n      draw, grid, cellsHelper,\n    } = table;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制单元格背景\n    cellsHelper.getCellByViewRange({\n      rectRange: viewRange,\n      callback: (i, c, cell, rect) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    // 绘制合并单元格背景\n    cellsHelper.getMergeCellByViewRange({\n      rectRange: viewRange,\n      callback: (rect, cell) => {\n        // 绘制背景\n        rect.expandSize(grid.lineWidth());\n        const box = new Box({ draw, rect });\n        box.drawBackgroundColor(cell.background);\n      },\n    });\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  renderClear() {\n    const { table } = this;\n    const { draw, settings, grid, rows, dynamicView, cols } = table;\n    const { scroll } = table;\n    const { canvas } = table;\n    const offset = table.contentOffset;\n    const width = offset.getFixedWidth();\n    const height = offset.getFixedHeight();\n    const x = offset.getFixedXOffset();\n    const y = offset.getFixedYOffset();\n    // 贴图\n    let cx = offset.getCaptureX();\n    let cy = offset.getCaptureY();\n    switch (scroll.type) {\n      case SCROLL_TYPE.V_BOTTOM:\n      case SCROLL_TYPE.V_TOP: {\n        let sy = y;\n        // 防止贴图网格\n        if (settings.table.showGrid) {\n          sy += grid.lineWidth();\n          cy += grid.lineWidth();\n        }\n        draw.drawImage(canvas.el, x, sy, width, height, x, cy, width, height);\n        break;\n      }\n      case SCROLL_TYPE.H_RIGHT:\n      case SCROLL_TYPE.H_LEFT: {\n        let sx = x;\n        // 防止贴图网格\n        if (settings.table.showGrid) {\n          sx += grid.lineWidth();\n          cx += grid.lineWidth();\n        }\n        draw.drawImage(canvas.el, sx, y, width, height, cx, y, width, height);\n        break;\n      }\n      default:\n        break;\n    }\n    // 擦除\n    const range = dynamicView.getScrollView();\n    let dx = offset.getDwXOffset();\n    let dy = offset.getDwYOffset();\n    switch (scroll.type) {\n      case SCROLL_TYPE.V_BOTTOM: {\n        draw.attr({ fillStyle: settings.table.background });\n        // 防止擦除网格\n        if (settings.table.showGrid) {\n          dy += grid.lineWidth();\n        }\n        if (rows.len - 1 === range.eri) {\n          const origin = dynamicView.getOriginScrollView();\n          draw.fillRect(dx, dy, width, range.h + (height - origin.h));\n        } else {\n          draw.fillRect(dx, dy, width, range.h);\n        }\n        break;\n      }\n      case SCROLL_TYPE.V_TOP: {\n        draw.attr({ fillStyle: settings.table.background });\n        draw.fillRect(dx, dy, width, range.h);\n        break;\n      }\n      case SCROLL_TYPE.H_RIGHT: {\n        // 防止擦除网格\n        if (settings.table.showGrid) {\n          dx += grid.lineWidth();\n        }\n        draw.attr({ fillStyle: settings.table.background });\n        if (cols.len - 1 === range.eci) {\n          const origin = dynamicView.getOriginScrollView();\n          draw.fillRect(dx, dy, range.w + (width - origin.w), height);\n        } else {\n          draw.fillRect(dx, dy, range.w, height);\n        }\n        break;\n      }\n      case SCROLL_TYPE.H_LEFT: {\n        draw.attr({ fillStyle: settings.table.background });\n        draw.fillRect(dx, dy, range.w, height);\n        break;\n      }\n      default: {\n        draw.attr({\n          fillStyle: settings.table.background,\n        });\n        draw.fillRect(x, y, width, height);\n      }\n    }\n  }\n\n  render() {\n    const { table } = this;\n    const { draw, grid, settings } = table;\n    const { contentOffset } = table;\n    const change = contentOffset.getScrollViewChange();\n    if (change) {\n      const scrollXOffset = contentOffset.getScrollXOffset();\n      const scrollView = contentOffset.getScrollView();\n      const contentView = contentOffset.getContentView();\n      const borderView = contentOffset.getBorderView();\n      const fixedWidth = contentOffset.getFixedWidth();\n      const fixedHeight = contentOffset.getFixedHeight();\n      // 裁剪背景\n      const offsetX = contentOffset.getFixedXOffset();\n      const offsetY = contentOffset.getFixedYOffset();\n      const clearRect = new Rect({\n        x: offsetX + grid.lineWidth(),\n        y: offsetY + grid.lineWidth(),\n        width: fixedWidth,\n        height: fixedHeight,\n      });\n      const clearCrop = new Crop({ draw, rect: clearRect });\n      clearCrop.open();\n      this.renderClear();\n      clearCrop.close();\n      // 裁剪内容\n      const dx = contentOffset.getDwXOffset();\n      const dy = contentOffset.getDwYOffset();\n      const drawRect = new Rect({\n        x: dx + grid.lineWidth(),\n        y: dy + grid.lineWidth(),\n        width: scrollView.w,\n        height: scrollView.h,\n      });\n      const drawCrop = new Crop({ draw, rect: drawRect });\n      drawCrop.open();\n      this.drawBackGround(scrollView, dx, dy);\n      this.drawCells(contentView, scrollXOffset, offsetX, dy);\n      if (settings.table.showGrid) {\n        this.drawGrid(scrollView, dx, dy);\n      }\n      drawCrop.close();\n      // 裁剪边框\n      const bdY = contentOffset.getBdYOffset();\n      const bdX = contentOffset.getBdXOffset();\n      const borderRect = new Rect({\n        x: offsetX + grid.lineWidth(),\n        y: offsetY + grid.lineWidth(),\n        width: fixedWidth,\n        height: fixedHeight,\n      });\n      const borderCrop = new Crop({ draw, rect: borderRect });\n      borderCrop.open();\n      this.drawBorder(borderView, bdX, bdY);\n      borderCrop.close();\n    }\n  }\n\n}\n\nclass FixedTopIndex {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, cols, settings,\n    } = table;\n    const { sci, eci } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      draw.fillText(Utils.stringAt(i), x + (cw / 2), height / 2);\n    });\n    // 绘制边框\n    draw.attr({\n      strokeStyle: settings.table.borderColor,\n    });\n    let lineWidth = 0;\n    draw.attr({\n      strokeStyle: settings.table.borderColor,\n    });\n    cols.eachWidth(sci, eci, (i, cw, x) => {\n      lineWidth += cw;\n      grid.verticalLine(x, 0, x, height);\n      if (i === eci) grid.verticalLine(x + cw, 0, x + cw, height);\n    });\n    grid.horizontalLine(0, height, lineWidth, height);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  renderClear() {\n    const { table } = this;\n    const { draw, settings } = table;\n    const { cols, grid } = table;\n    const { dynamicView } = table;\n    const offset = table.fixedTopIndexOffset;\n    const width = offset.getFixedWidth();\n    const height = offset.getFixedHeight();\n    const x = offset.getFixedXOffset();\n    const y = offset.getFixedYOffset();\n    const dx = offset.getDwXOffset();\n    const dy = offset.getDwYOffset();\n    const cx = offset.getCaptureX();\n    const { scroll } = table;\n    const { canvas } = table;\n    const { el } = canvas;\n    const range = offset.getScrollView();\n    switch (scroll.type) {\n      case SCROLL_TYPE.H_RIGHT:\n      case SCROLL_TYPE.H_LEFT: {\n        const [sx, sy, ey] = [x, y, y];\n        draw.drawImage(el, sx, sy, width, height + grid.lineWidth(),\n          cx, ey, width, height + grid.lineWidth());\n        draw.attr({ fillStyle: settings.table.background });\n        if (cols.len - 1 === range.eci) {\n          const origin = dynamicView.getOriginScrollView();\n          draw.fillRect(dx, dy, range.w + (width - origin.w), height + grid.lineWidth());\n        } else {\n          draw.fillRect(dx, dy, range.w, height + grid.lineWidth());\n        }\n        break;\n      }\n      default: {\n        draw.attr({\n          fillStyle: settings.table.background,\n        });\n        draw.fillRect(x, y, width, height);\n      }\n    }\n  }\n\n  render() {\n    const { table } = this;\n    const { fixedTopIndexOffset, grid, draw } = table;\n    const change = fixedTopIndexOffset.getScrollViewChange();\n    if (change) {\n      const scrollView = fixedTopIndexOffset.getScrollView();\n      const dx = fixedTopIndexOffset.getDwXOffset();\n      const dy = fixedTopIndexOffset.getDwYOffset();\n      const fixedOffsetX = fixedTopIndexOffset.getFixedXOffset();\n      const fixedOffsetY = fixedTopIndexOffset.getFixedYOffset();\n      const fixedWidth = fixedTopIndexOffset.getFixedWidth();\n      const fixedHeight = fixedTopIndexOffset.getFixedHeight();\n      const rect = new Rect({\n        x: fixedOffsetX,\n        y: fixedOffsetY,\n        width: fixedWidth,\n        height: fixedHeight + grid.lineWidth(),\n      });\n      const crop = new Crop({ draw, rect });\n      crop.open();\n      this.renderClear();\n      this.draw(scrollView, dx, dy, scrollView.w, fixedHeight);\n      crop.close();\n    }\n  }\n\n}\n\nclass FixedLeftIndex {\n\n  constructor(table) {\n    this.table = table;\n  }\n\n  draw(viewRange, offsetX, offsetY, width, height) {\n    const { table } = this;\n    const {\n      draw, grid, rows, settings,\n    } = table;\n    const { sri, eri } = viewRange;\n    draw.save();\n    draw.offset(offsetX, offsetY);\n    // 绘制背景\n    draw.attr({\n      fillStyle: '#f6f7fa',\n    });\n    draw.fillRect(0, 0, width, height);\n    // 绘制文字\n    draw.attr({\n      textAlign: 'center',\n      textBaseline: 'middle',\n      font: `${npx(11)}px Arial`,\n      fillStyle: '#585757',\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      draw.fillText(i + 1, width / 2, y + (ch / 2));\n    });\n    // 绘制边框\n    let lineHeight = 0;\n    draw.attr({\n      strokeStyle: settings.table.borderColor,\n    });\n    rows.eachHeight(sri, eri, (i, ch, y) => {\n      lineHeight += ch;\n      grid.horizontalLine(0, y, width, y);\n      if (i === eri) grid.horizontalLine(0, y + ch, width, y + ch);\n    });\n    grid.verticalLine(width, 0, width, lineHeight);\n    draw.offset(0, 0);\n    draw.restore();\n  }\n\n  renderClear() {\n    const { table } = this;\n    const { draw, settings } = table;\n    const { rows, grid } = table;\n    const { dynamicView } = table;\n    const offset = table.fixedLeftIndexOffset;\n    const width = offset.getFixedWidth();\n    const height = offset.getFixedHeight();\n    const x = offset.getFixedXOffset();\n    const y = offset.getFixedYOffset();\n    const dx = offset.getDwXOffset();\n    const dy = offset.getDwYOffset();\n    const cy = offset.getCaptureY();\n    const { scroll } = table;\n    const { canvas } = table;\n    const { el } = canvas;\n    const range = offset.getScrollView();\n    switch (scroll.type) {\n      case SCROLL_TYPE.V_BOTTOM:\n      case SCROLL_TYPE.V_TOP: {\n        const [sx, ex, sy] = [x, x, y];\n        draw.drawImage(el, sx, sy, width + grid.lineWidth(), height,\n          ex, cy, width + grid.lineWidth(), height);\n        draw.attr({ fillStyle: settings.table.background });\n        if (rows.len - 1 === range.eri) {\n          const origin = dynamicView.getOriginScrollView();\n          draw.fillRect(dx, dy, width + grid.lineWidth(), range.h + (height - origin.h));\n        } else {\n          draw.fillRect(dx, dy, width + grid.lineWidth(), range.h);\n        }\n        break;\n      }\n      default: {\n        draw.attr({\n          fillStyle: settings.table.background,\n        });\n        draw.fillRect(x, y, width, height);\n      }\n    }\n  }\n\n  render() {\n    const { table } = this;\n    const { fixedLeftIndexOffset, grid, draw } = table;\n    const change = fixedLeftIndexOffset.getScrollViewChange();\n    if (change) {\n      const scrollView = fixedLeftIndexOffset.getScrollView();\n      const dx = fixedLeftIndexOffset.getDwXOffset();\n      const dy = fixedLeftIndexOffset.getDwYOffset();\n      const fixedOffsetX = fixedLeftIndexOffset.getFixedXOffset();\n      const fixedOffsetY = fixedLeftIndexOffset.getFixedYOffset();\n      const fixedWidth = fixedLeftIndexOffset.getFixedWidth();\n      const fixedHeight = fixedLeftIndexOffset.getFixedHeight();\n      const rect = new Rect({\n        x: fixedOffsetX,\n        y: fixedOffsetY,\n        width: fixedWidth + grid.lineWidth(),\n        height: fixedHeight,\n      });\n      const crop = new Crop({ draw, rect, offset: grid.lineWidth() });\n      crop.open();\n      this.renderClear();\n      this.draw(scrollView, dx, dy, fixedWidth, scrollView.h);\n      crop.close();\n    }\n  }\n\n}\n\n// ================================= 快捷键 ===================================\n\nclass KeyBoardTab {\n\n  constructor(table) {\n    const { keyboard, cols, rows, edit, merges, screenSelector } = table;\n    let tabId = 0;\n    let tabNext = null;\n    keyboard.register({\n      el: table,\n      focus: true,\n      stop: false,\n      attr: {\n        code: 9,\n        callback: () => {\n          edit.hideEdit();\n          const { selectorAttr } = screenSelector;\n          const id = selectorAttr;\n          const rect = selectorAttr.rect.clone();\n          if (tabId !== id) {\n            const { sri, sci } = rect;\n            tabId = id;\n            tabNext = { sri, sci };\n          }\n          const cLen = cols.len - 1;\n          const rLen = rows.len - 1;\n          let { sri, sci } = tabNext;\n          const srcMerges = merges.getFirstIncludes(sri, sci);\n          if (srcMerges) {\n            sci = srcMerges.eci;\n          }\n          if (sci >= cLen && sri >= rLen) {\n            return;\n          }\n          if (sci >= cLen) {\n            sri += 1;\n            sci = 0;\n          } else {\n            sci += 1;\n          }\n          tabNext.sri = sri;\n          tabNext.sci = sci;\n          let eri = sri;\n          let eci = sci;\n          const targetMerges = merges.getFirstIncludes(sri, sci);\n          if (targetMerges) {\n            sri = targetMerges.sri;\n            sci = targetMerges.sci;\n            eri = targetMerges.eri;\n            eci = targetMerges.eci;\n          }\n          rect.sri = sri;\n          rect.sci = sci;\n          rect.eri = eri;\n          rect.eci = eci;\n          screenSelector.selectorAttr.rect = rect;\n          screenSelector.setOffset(screenSelector.selectorAttr);\n          screenSelector.onChangeStack.forEach(cb => cb());\n          screenSelector.onSelectChangeStack.forEach(cb => cb());\n          edit.showEdit();\n        },\n      },\n    });\n  }\n\n}\n\n// ============================== X-Sheet Table ==============================\n\nconst defaultSettings = {\n  tipsRenderTime: false,\n  tipsScrollTime: false,\n  index: {\n    height: 30,\n    width: 50,\n    bgColor: '#f4f5f8',\n    color: '#000000',\n  },\n  table: {\n    background: '#ffffff',\n    borderColor: '#e5e5e5',\n    gridColor: '#000000',\n    showGrid: true,\n  },\n  data: [],\n  rows: {\n    len: 10000,\n    height: 30,\n  },\n  cols: {\n    len: 26,\n    width: 137,\n  },\n  merges: [],\n  fixed: {\n    fxTop: -1,\n    fxLeft: -1,\n  },\n};\n\nclass Table extends Widget {\n\n  constructor(settings) {\n\n    super(`${cssPrefix}-table`);\n\n    this.mode = TABLE_RENDER_MODE.RENDER;\n    this.settings = Utils.mergeDeep({}, defaultSettings, settings);\n    this.canvas = new Widget(`${cssPrefix}-table-canvas`, 'canvas');\n\n    // 动态区域计算\n    this.dynamicView = new DynamicView(this);\n\n    // 表格基本数据信息\n    this.cells = new Cells({\n      table: this,\n      rows: this.rows,\n      cols: this.cols,\n      data: this.settings.data,\n    });\n    this.fixed = new Fixed(this.settings.fixed);\n    this.rows = new Rows(this.settings.rows);\n    this.cols = new Cols(this.settings.cols);\n    this.merges = new Merges(this.settings.merges);\n    this.scroll = new Scroll(this);\n\n    // 帮助类\n    this.cellsHelper = new CellsHelper({\n      cells: this.cells,\n      merges: this.merges,\n      rows: this.rows,\n      cols: this.cols,\n    });\n\n    // 焦点元素管理\n    this.focus = new Focus(this);\n\n    // 数据快照\n    this.tableDataSnapshot = new TableDataSnapshot(this);\n\n    // 鼠标指针\n    this.mousePointer = new MousePointer(this);\n\n    // 键盘快捷键\n    this.keyboard = new Keyboard(this);\n\n    // canvas 绘制资源\n    this.draw = new Draw(this.canvas.el);\n    this.line = new Line(this.draw, {\n      leftShow: (ri, ci) => {\n        // 单元格是否存在\n        const cell = this.cells.getCell(ri, ci);\n        if (cell === null) {\n          return false;\n        }\n        // 是否是合并单元格\n        const merge = this.merges.getFirstIncludes(ri, ci);\n        if (merge) {\n          const mergeCell = this.cells.getCell(merge.sri, merge.sci);\n          return mergeCell.borderAttr.left.display;\n        }\n        // 检查边框是否需要绘制\n        if (cell.borderAttr.left.display) {\n          return this.lineHandle.vLineLeftOverFlowChecked(ci, ri);\n        }\n        return false;\n      },\n      topShow: (ri, ci) => {\n        const cell = this.cells.getMergeCellOrCell(ri, ci);\n        return cell && cell.borderAttr.top.display;\n      },\n      rightShow: (ri, ci) => {\n        // 单元格是否存在\n        const cell = this.cells.getCell(ri, ci);\n        if (cell === null) {\n          return false;\n        }\n        // 是否是合并单元格\n        const merge = this.merges.getFirstIncludes(ri, ci);\n        if (merge) {\n          const mergeCell = this.cells.getCell(merge.sri, merge.sci);\n          return mergeCell.borderAttr.right.display;\n        }\n        // 检查边框是否需要绘制\n        if (cell.borderAttr.right.display) {\n          return this.lineHandle.vLineRightOverFlowChecked(ci, ri);\n        }\n        return false;\n      },\n      bottomShow: (ri, ci) => {\n        const cell = this.cells.getMergeCellOrCell(ri, ci);\n        return cell && cell.borderAttr.bottom.display;\n      },\n      iFMerge: (row, col) => this.merges.getFirstIncludes(row, col) !== null,\n      iFMergeFirstRow: (row, col) => this.merges.getFirstIncludes(row, col).sri === row,\n      iFMergeLastRow: (row, col) => this.merges.getFirstIncludes(row, col).eri === row,\n      iFMergeFirstCol: (row, col) => this.merges.getFirstIncludes(row, col).sci === col,\n      iFMergeLastCol: (row, col) => this.merges.getFirstIncludes(row, col).eci === col,\n    });\n    this.grid = new Grid(this.draw, {\n      color: this.settings.table.borderColor,\n    });\n\n    // 表格线段处理\n    this.lineHandle = new LineHandle(this);\n    this.borderLineHandle = new BorderLineHandle(this);\n    this.gridLineHandle = new GridLineHandle(this);\n\n    // table动态内容定位\n    this.fixedTopOffset = new FixedTopOffset(this);\n    this.fixedLeftOffset = new FixedLeftOffset(this);\n    this.contentOffset = new ContentOffset(this);\n    this.fixedTopIndexOffset = new FixedTopIndexOffset(this);\n    this.fixedLeftIndexOffset = new FixedLeftIndexOffset(this);\n\n    // table固定内容定位\n    this.frozenLeftIndexOffset = new FrozenLeftIndexOffset(this);\n    this.frozenTopIndexOffset = new FrozenTopIndexOffset(this);\n    this.frozenLeftTopOffset = new FrozenLeftTopOffset(this);\n\n    // table动态内容部分\n    this.content = new Content(this);\n    this.fixedLeft = new FixedLeft(this);\n    this.fixedTop = new FixedTop(this);\n    this.fixedTopIndex = new FixedTopIndex(this);\n    this.fixedLeftIndex = new FixedLeftIndex(this);\n\n    // table固定内容部分\n    this.frozenLeftTop = new FrozenLeftTop(this);\n    this.frozenLeftIndex = new FrozenLeftIndex(this);\n    this.frozenTopIndex = new FrozenTopIndex(this);\n    this.frozenRect = new FrozenRect(this);\n\n    // table基础组件\n    this.screen = new Screen(this);\n    this.xReSizer = new XReSizer(this);\n    this.yReSizer = new YReSizer(this);\n    this.xHeightLight = new XHeightLight(this);\n    this.yHeightLight = new YHeightLight(this);\n    this.edit = new Edit(this);\n  }\n\n  onAttach() {\n    this.bind();\n    // 初始化表格基础小部件\n    this.screenSelector = new ScreenSelector(this.screen);\n    this.screenAutoFill = new ScreenAutoFill(this.screen, {\n      onBeforeAutoFill: () => {\n        this.tableDataSnapshot.begin();\n      },\n      onAfterAutoFill: () => {\n        this.tableDataSnapshot.end();\n      },\n    });\n    this.copyStyle = new ScreenCopyStyle(this.screen, {});\n    this.screen.addWidget(this.screenSelector);\n    this.screen.addWidget(this.screenAutoFill);\n    this.screen.addWidget(this.copyStyle);\n    this.screenSelector.on(SCREEN_SELECT_EVENT.SELECT_CHANGE, () => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE);\n    });\n    this.screenSelector.on(SCREEN_SELECT_EVENT.DOWN_SELECT, () => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN);\n    });\n    // 添加表格中的组件\n    this.attach(this.canvas);\n    this.attach(this.screen);\n    this.attach(this.xReSizer);\n    this.attach(this.yReSizer);\n    this.attach(this.xHeightLight);\n    this.attach(this.yHeightLight);\n    this.attach(this.edit);\n    // 注册快捷键\n    this.keyBoardTab = new KeyBoardTab(this);\n  }\n\n  bind() {\n    const { mousePointer, dynamicView } = this;\n    EventBind.bind(this, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, () => {\n      dynamicView.cpRange();\n      this.render();\n    });\n    EventBind.bind(this, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, () => {\n      dynamicView.cpRange();\n      this.render();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.SCROLL, () => {\n      dynamicView.cpRange();\n      this.render();\n    });\n    EventBind.bind(this, Constant.SYSTEM_EVENT_TYPE.MOUSE_MOVE, (e) => {\n      const { x, y } = this.computeEventXy(e);\n      const { ri, ci } = this.getRiCiByXy(x, y);\n      if (ri === -1) {\n        const { type, key } = Constant.MOUSE_POINTER_TYPE.SELECT_ONE_COLUMN;\n        mousePointer.set(type, key);\n        return;\n      }\n      if (ci === -1) {\n        const { type, key } = Constant.MOUSE_POINTER_TYPE.SELECT_ONE_ROW;\n        mousePointer.set(type, key);\n        return;\n      }\n      const { type, key } = Constant.MOUSE_POINTER_TYPE.SELECT_CELL;\n      mousePointer.set(type, key);\n    });\n  }\n\n  drawOptimization() {\n    const { cellsHelper } = this;\n    const { dynamicView } = this;\n    const scrollView = dynamicView.getOriginScrollView();\n    let enable = true;\n    cellsHelper.getCellByViewRange({\n      rectRange: scrollView,\n      callback: (r, c, cell) => {\n        const { borderAttr } = cell;\n        const { top, left, right, bottom } = borderAttr;\n        if (top.type === LINE_TYPE.DOUBLE_LINE) {\n          enable = false;\n          return enable;\n        }\n        if (left.type === LINE_TYPE.DOUBLE_LINE) {\n          enable = false;\n          return enable;\n        }\n        if (right.type === LINE_TYPE.DOUBLE_LINE) {\n          enable = false;\n          return enable;\n        }\n        if (bottom.type === LINE_TYPE.DOUBLE_LINE) {\n          enable = false;\n          return enable;\n        }\n        return true;\n      },\n    });\n    if (enable) {\n      this.borderLineHandle.openDrawOptimization();\n    } else {\n      this.borderLineHandle.closeDrawOptimization();\n    }\n  }\n\n  scrollX(x) {\n    const {\n      cols, fixed, settings, scroll,\n    } = this;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.time();\n    }\n    let { fxLeft } = fixed;\n    fxLeft += 1;\n    const [\n      ci, left, width,\n    ] = Utils.rangeReduceIf(fxLeft, cols.len, 0, 0, x, i => cols.getWidth(i));\n    let x1 = left;\n    if (x > 0) x1 += width;\n    let type;\n    if (scroll.x > x1) {\n      type = SCROLL_TYPE.H_LEFT;\n    } else if (scroll.x < x1) {\n      type = SCROLL_TYPE.H_RIGHT;\n    }\n    scroll.type = type;\n    scroll.ci = ci;\n    scroll.x = x1;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.log('滚动条计算耗时:');\n      // eslint-disable-next-line no-console\n      console.timeEnd();\n    }\n    this.mode = TABLE_RENDER_MODE.SCROLL;\n    this.trigger(Constant.SYSTEM_EVENT_TYPE.SCROLL);\n    this.mode = TABLE_RENDER_MODE.RENDER;\n    scroll.type = SCROLL_TYPE.UN;\n  }\n\n  scrollY(y) {\n    const {\n      rows, fixed, settings, scroll,\n    } = this;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.time();\n    }\n    let { fxTop } = fixed;\n    fxTop += 1;\n    const [\n      ri, top, height,\n    ] = Utils.rangeReduceIf(fxTop, rows.len, 0, 0, y, i => rows.getHeight(i));\n    let y1 = top;\n    if (y > 0) y1 += height;\n    let type;\n    if (scroll.y > y1) {\n      type = SCROLL_TYPE.V_TOP;\n    } else if (scroll.y < y1) {\n      type = SCROLL_TYPE.V_BOTTOM;\n    }\n    scroll.type = type;\n    scroll.ri = ri;\n    scroll.y = y1;\n    if (settings.tipsScrollTime) {\n      // eslint-disable-next-line no-console\n      console.log('滚动条计算耗时:');\n      // eslint-disable-next-line no-console\n      console.timeEnd();\n    }\n    this.mode = TABLE_RENDER_MODE.SCROLL;\n    this.trigger(Constant.SYSTEM_EVENT_TYPE.SCROLL);\n    this.mode = TABLE_RENDER_MODE.RENDER;\n    scroll.type = SCROLL_TYPE.UN;\n  }\n\n  visualHeight() {\n    return this.box().height;\n  }\n\n  visualWidth() {\n    return this.box().width;\n  }\n\n  resize() {\n    const { draw, dynamicView } = this;\n    const [width, height] = [this.visualWidth(), this.visualHeight()];\n    draw.resize(width, height);\n    dynamicView.cpRange();\n    this.render();\n  }\n\n  render() {\n    const { settings, fixed } = this;\n    if (settings.tipsRenderTime) {\n      // eslint-disable-next-line no-console\n      console.time();\n    }\n    this.drawOptimization();\n    this.frozenRect.render();\n    // 固定内容渲染\n    if (fixed.fxLeft > -1 && fixed.fxTop > -1) {\n      this.frozenLeftTop.render();\n    }\n    if (fixed.fxTop > -1) {\n      this.frozenLeftIndex.render();\n      this.fixedTop.render();\n    }\n    if (fixed.fxLeft > -1) {\n      this.frozenTopIndex.render();\n      this.fixedLeft.render();\n    }\n    // 表格内容渲染\n    this.content.render();\n    // 固定索引渲染\n    this.fixedLeftIndex.render();\n    this.fixedTopIndex.render();\n    if (settings.tipsRenderTime) {\n      // eslint-disable-next-line no-console\n      console.log('渲染界面耗时:');\n      // eslint-disable-next-line no-console\n      console.timeEnd();\n    }\n  }\n\n  getContentWidth() {\n    return this.content.getContentWidth();\n  }\n\n  getContentHeight() {\n    return this.content.getContentHeight();\n  }\n\n  getFixedWidth() {\n    return this.fixedLeftOffset.getFixedWidth();\n  }\n\n  getFixedHeight() {\n    return this.fixedTopOffset.getFixedHeight();\n  }\n\n  getContentViewRange() {\n    const { dynamicView } = this;\n    return dynamicView.getOriginContentView();\n  }\n\n  getScrollViewRange() {\n    const { dynamicView } = this;\n    return dynamicView.getOriginScrollView();\n  }\n\n  getScrollViewXOffset() {\n    const { dynamicView } = this;\n    return dynamicView.getScrollXOffset();\n  }\n\n  getRiCiByXy(x, y) {\n    const {\n      settings, fixed, rows, cols,\n    } = this;\n    const { index } = settings;\n    const fixedHeight = this.getFixedHeight();\n    const fixedWidth = this.getFixedWidth();\n\n    let [left, top] = [x, y];\n    let [ci, ri] = [-1, -1];\n\n    left -= index.width;\n    top -= index.height;\n\n    // left\n    if (left <= fixedWidth && x > index.width) {\n      let total = 0;\n      for (let i = 0; i <= fixed.fxLeft; i += 1) {\n        const width = cols.getWidth(i);\n        total += width;\n        ci = i;\n        if (total > left) break;\n      }\n    } else if (x > index.width) {\n      let total = fixedWidth;\n      const viewRange = this.getScrollViewRange();\n      for (let i = viewRange.sci; i <= viewRange.eci; i += 1) {\n        const width = cols.getWidth(i);\n        total += width;\n        ci = i;\n        if (total > left) break;\n      }\n      // console.log('ci >>', ci);\n    }\n\n    // top\n    if (top < fixedHeight && y > index.height) {\n      let total = 0;\n      for (let i = 0; i <= fixed.fxTop; i += 1) {\n        const height = rows.getHeight(i);\n        total += height;\n        ri = i;\n        if (total > top) break;\n      }\n    } else if (y > index.height) {\n      let total = fixedHeight;\n      const viewRange = this.getScrollViewRange();\n      for (let i = viewRange.sri; i <= viewRange.eri; i += 1) {\n        const height = rows.getHeight(i);\n        total += height;\n        ri = i;\n        if (total > top) break;\n      }\n      // console.log('ri >>', ri);\n    }\n\n    return {\n      ri, ci,\n    };\n  }\n\n  getIndexWidth() {\n    const { settings } = this;\n    return settings.index.width;\n  }\n\n  getIndexHeight() {\n    const { settings } = this;\n    return settings.index.height;\n  }\n\n  toString() {\n    const data = {\n      rows: {\n        data: this.rows.getData(),\n      },\n      cols: {\n        data: this.cols.getData(),\n      },\n      merges: {\n        data: this.merges.getData(),\n      },\n    };\n    return JSON.stringify(data);\n  }\n\n}\n\n\nexport {\n  Table,\n};\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix, Constant } from '../../constant/Constant';\nimport { Table } from '../table/Table';\nimport { EventBind } from '../../utils/EventBind';\n\n\nclass Sheet extends Widget {\n\n  constructor(options = {\n    tableConfig: {\n      data: [],\n    },\n  }) {\n    super(`${cssPrefix}-sheet`);\n    this.options = options;\n    this.table = new Table(this.options.tableConfig);\n  }\n\n  bind() {\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, this);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, this);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, this);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.table, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN, this);\n      e.stopPropagation();\n    });\n  }\n\n  onAttach() {\n    this.attach(this.table);\n    this.bind();\n  }\n}\n\nexport { Sheet };\n","/* global window */\nimport { Widget } from '../../lib/Widget';\nimport { cssPrefix, Constant } from '../../constant/Constant';\nimport { VerticalLayer } from '../../lib/layer/VerticalLayer';\nimport { HorizontalLayer } from '../../lib/layer/HorizontalLayer';\nimport { VerticalLayerElement } from '../../lib/layer/VerticalLayerElement';\nimport { ScrollBarX } from '../../component/scrollbar/ScrollBarX';\nimport { ScrollBarY } from '../../component/scrollbar/ScrollBarY';\nimport { HorizontalLayerElement } from '../../lib/layer/HorizontalLayerElement';\nimport { VerticalCenterElement } from '../../lib/layer/center/VerticalCenterElement';\nimport { VerticalCenter } from '../../lib/layer/center/VerticalCenter';\n\nimport { SheetView } from './SheetView';\nimport { TabView } from './TabView';\nimport { Utils } from '../../utils/Utils';\nimport { EventBind } from '../../utils/EventBind';\nimport { h } from '../../lib/Element';\nimport { Tab } from './Tab';\nimport { Sheet } from './Sheet';\n\nclass WorkBody extends Widget {\n\n  constructor(work, options = { sheets: [] }) {\n    super(`${cssPrefix}-work-body`);\n    this.work = work;\n    this.workConfig = options;\n    this.sheets = this.workConfig.sheets;\n    this.tabSheet = [];\n\n    // 版本标识\n    this.poweredBy = h('div', `${cssPrefix}-powered-by-tips`);\n    this.poweredBy.text(' X-Sheet 1.0.1-development ');\n    this.children(this.poweredBy);\n\n    // sheet表\n    this.sheetViewLayer = new HorizontalLayerElement({ style: { flexGrow: 1 } });\n\n    // 垂直滚动条\n    this.scrollBarYLayer = new HorizontalLayerElement({ style: { overflow: 'inherit' } });\n\n    // 水平滚动条\n    this.scrollBarXLayer = new VerticalCenterElement();\n    this.scrollBarXVerticalCenter = new VerticalCenter();\n    this.scrollBarXHorizontalLayer = new HorizontalLayerElement({ style: { flexGrow: 2 } });\n    this.scrollBarXVerticalCenter.children(this.scrollBarXLayer);\n    this.scrollBarXHorizontalLayer.children(this.scrollBarXVerticalCenter);\n\n    // 选修卡\n    this.sheetSwitchTabLayer = new HorizontalLayerElement({ style: { flexGrow: 3 } });\n\n    // 水平布局\n    this.horizontalLayer1 = new HorizontalLayer();\n    this.horizontalLayer2 = new HorizontalLayer();\n    this.horizontalLayer1.children(this.sheetViewLayer);\n    this.horizontalLayer1.children(this.scrollBarYLayer);\n    this.horizontalLayer2.children(this.sheetSwitchTabLayer);\n    this.horizontalLayer2.children(this.scrollBarXHorizontalLayer);\n\n    // 根布局\n    // eslint-disable-next-line max-len\n    this.horizontalLayer1Layer = new VerticalLayerElement({ style: { flexGrow: 1 } });\n    this.horizontalLayer2Layer = new VerticalLayerElement();\n    this.layerVerticalLayer = new VerticalLayer();\n    this.horizontalLayer1Layer.children(this.horizontalLayer1);\n    this.horizontalLayer2Layer.children(this.horizontalLayer2);\n    this.layerVerticalLayer.children(this.horizontalLayer1Layer);\n    this.layerVerticalLayer.children(this.horizontalLayer2Layer);\n    this.children(this.layerVerticalLayer);\n\n    // 组件\n    this.sheetView = new SheetView();\n    this.scrollBarY = new ScrollBarY({\n      scroll: (move) => {\n        const sheet = this.sheetView.getActiveSheet();\n        sheet.table.scrollY(move);\n      },\n    });\n    this.tabView = new TabView({\n      onAdd: () => {\n        const sheet = new Sheet();\n        const tab = new Tab();\n        this.addTabSheet({ tab, sheet });\n      },\n      onSwitch: (tab) => {\n        this.setActiveTab(tab);\n      },\n    });\n    this.scrollBarX = new ScrollBarX({\n      scroll: (move) => {\n        const sheet = this.sheetView.getActiveSheet();\n        sheet.table.scrollX(move);\n      },\n    });\n  }\n\n  updateScroll() {\n    const sheet = this.sheetView.getActiveSheet();\n    if (Utils.isUnDef(sheet)) return;\n    const { scrollBarXHorizontalLayer } = this;\n    const { table } = sheet;\n    const { content } = table;\n    const { contentOffset, scroll } = table;\n    scrollBarXHorizontalLayer.display(contentOffset.getFixedWidth() < content.getContentWidth());\n    this.scrollBarY.setSize(contentOffset.getFixedHeight(), content.getContentHeight());\n    this.scrollBarX.setSize(contentOffset.getFixedWidth(), content.getContentWidth());\n    this.scrollBarY.scrollMove(scroll.y);\n    this.scrollBarX.scrollMove(scroll.x);\n  }\n\n  createSheet() {\n    // eslint-disable-next-line no-restricted-syntax\n    for (const item of this.sheets) {\n      // eslint-disable-next-line no-restricted-syntax\n      const { name } = item;\n      const sheet = new Sheet(item);\n      const tab = new Tab(name);\n      this.addTabSheet({ tab, sheet });\n    }\n    if (this.tabSheet.length) {\n      this.setActiveIndex(0);\n    }\n  }\n\n  bind() {\n    this.on(Constant.SYSTEM_EVENT_TYPE.MOUSE_WHEEL, (evt) => {\n      const sheet = this.sheetView.getActiveSheet();\n      if (Utils.isUnDef(sheet)) return;\n      const { table } = sheet;\n      const { rows, scroll } = table;\n      const { scrollTo } = this.scrollBarY;\n      let { deltaY } = evt;\n      if (evt.detail) deltaY = evt.detail * 40;\n      if (deltaY > 0) {\n        // down\n        this.scrollBarY.scrollMove(scrollTo + rows.getHeight(scroll.ri));\n      } else {\n        // up\n        this.scrollBarY.scrollMove(scrollTo - rows.getHeight(scroll.ri - 1));\n      }\n      if (scroll.blockTop < scroll.maxBlockTop && scroll.blockTop > 0) {\n        evt.preventDefault();\n        evt.stopPropagation();\n      }\n    });\n    EventBind.bind(window, Constant.SYSTEM_EVENT_TYPE.RESIZE, () => {\n      const { sheetView } = this;\n      const sheet = sheetView.getActiveSheet();\n      const { table } = sheet;\n      table.resize();\n      this.updateScroll();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.CHANGE_HEIGHT, () => {\n      this.updateScroll();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.CHANGE_WIDTH, () => {\n      this.updateScroll();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.DATA_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.DATA_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.SELECT_CHANGE, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_CHANGE);\n      e.stopPropagation();\n    });\n    EventBind.bind(this.sheetView, Constant.TABLE_EVENT_TYPE.SELECT_DOWN, (e) => {\n      this.trigger(Constant.TABLE_EVENT_TYPE.SELECT_DOWN, this);\n      e.stopPropagation();\n    });\n  }\n\n  onAttach() {\n    const {\n      sheetViewLayer, scrollBarYLayer, sheetSwitchTabLayer, scrollBarXLayer,\n    } = this;\n    sheetViewLayer.attach(this.sheetView);\n    scrollBarYLayer.attach(this.scrollBarY);\n    sheetSwitchTabLayer.attach(this.tabView);\n    scrollBarXLayer.attach(this.scrollBarX);\n    this.bind();\n    this.createSheet();\n    this.updateScroll();\n  }\n\n  addTabSheet({ tab, sheet }) {\n    const {\n      tabSheet, sheetView, tabView,\n    } = this;\n    sheetView.attach(sheet);\n    tabView.attach(tab);\n    tabSheet.push({\n      tab, sheet,\n    });\n  }\n\n  setActiveIndex(index) {\n    const { sheetView, tabView } = this;\n    const sheet = sheetView.setActiveSheet(index);\n    const tab = tabView.setActiveTab(index);\n    if (sheet && tab) {\n      const { table } = sheet;\n      this.updateScroll();\n      table.resize();\n      this.trigger(Constant.WORK_BODY_EVENT_TYPE.CHANGE_ACTIVE);\n    }\n  }\n\n  setActiveTab(tab) {\n    this.tabSheet.forEach((item, index) => {\n      if (item.tab === tab) {\n        this.setActiveIndex(index);\n      }\n    });\n  }\n}\n\nexport { WorkBody };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../constant/Constant';\nimport { h } from '../../lib/Element';\n\nclass BottomMenu extends Widget {\n  constructor() {\n    super(`${cssPrefix}-bottom-menu`);\n    this.sum = h('div', `${cssPrefix}-bottom-sum`);\n    this.avg = h('div', `${cssPrefix}-bottom-avg`);\n    this.number = h('div', `${cssPrefix}-bottom-number`);\n    this.children(this.sum);\n    this.children(this.avg);\n    this.children(this.number);\n  }\n\n  setSum(val) {\n    this.sum.text(`求和: ${val}`);\n  }\n\n  setAvg(val) {\n    this.avg.text(`平均数: ${val}`);\n  }\n\n  setNumber(val) {\n    this.number.text(`数量: ${val}`);\n  }\n}\n\nexport { BottomMenu };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../constant/Constant';\nimport { BottomMenu } from './BottomMenu';\n\nclass WorkBottom extends Widget {\n\n  constructor(work) {\n    super(`${cssPrefix}-work-bottom`);\n    this.work = work;\n  }\n\n  onAttach() {\n    this.bottomMenu = new BottomMenu();\n    this.attach(this.bottomMenu);\n  }\n}\n\nexport { WorkBottom };\n","import { Widget } from '../../lib/Widget';\nimport { cssPrefix } from '../../constant/Constant';\nimport { VerticalLayer } from '../../lib/layer/VerticalLayer';\nimport { VerticalLayerElement } from '../../lib/layer/VerticalLayerElement';\nimport { WorkTop } from './WorkTop';\nimport { WorkBody } from './WorkBody';\nimport { WorkBottom } from './WorkBottom';\n\nclass Work extends Widget {\n\n  constructor(options = {\n    body: {},\n  }) {\n    super(`${cssPrefix}-work`);\n    this.options = options.workConfig;\n\n    // 布局\n    this.topLayer = new VerticalLayerElement();\n    this.bodyLayer = new VerticalLayerElement({ style: { flexGrow: 1 } });\n    this.bottomLayer = new VerticalLayerElement();\n    this.verticalLayer = new VerticalLayer();\n    this.verticalLayer.children(this.topLayer);\n    this.verticalLayer.children(this.bodyLayer);\n    this.verticalLayer.children(this.bottomLayer);\n    this.children(this.verticalLayer);\n\n    // 组件\n    this.top = new WorkTop(this);\n    this.body = new WorkBody(this, this.options.body);\n    this.bottom = new WorkBottom(this);\n  }\n\n  onAttach() {\n    const {\n      bodyLayer, topLayer, bottomLayer,\n    } = this;\n    topLayer.attach(this.top);\n    bottomLayer.attach(this.bottom);\n    bodyLayer.attach(this.body);\n    this.bottom.bottomMenu.setSum(0);\n    this.bottom.bottomMenu.setAvg(0);\n    this.bottom.bottomMenu.setNumber(0);\n  }\n}\n\nexport { Work };\n","/* global window, document */\n\nimport { cssPrefix } from './constant/Constant';\nimport { h } from './lib/Element';\nimport { Work } from './core/work/Work';\nimport { Widget } from './lib/Widget';\nimport './less/base.less';\nimport './less/index.less';\n\nclass XSheet extends Widget {\n\n  constructor(selectors, options = {\n    workConfig: {\n      body: {\n        sheets: [{\n          tableConfig: {},\n        }],\n      },\n    },\n  }) {\n    super(`${cssPrefix}`);\n    let root = selectors;\n    if (typeof selectors === 'string') {\n      root = document.querySelector(selectors);\n    }\n    root = h(root);\n    root.children(this);\n    this.work = new Work(options);\n    this.attach(this.work);\n  }\n}\n\nXSheet.version = '1.0.1-alpha';\n\nif (window) {\n  window.XSheet = XSheet;\n}\n\nexport { XSheet };\n"],"sourceRoot":""}