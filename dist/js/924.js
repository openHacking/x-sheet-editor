"use strict";(self.webpackChunkx_sheet=self.webpackChunkx_sheet||[]).push([[924],{4582:(t,e,s)=>{s.d(e,{sr:()=>r,gC:()=>i});const i="x-sheet",r={WORK_BODY_EVENT_TYPE:{CHANGE_ACTIVE:"changeactive",REMOVE_SHEET:"removesheet"},SYSTEM_EVENT_TYPE:{MOUSE_MOVE:"mousemove",MOUSE_DOWN:"mousedown",CONTEXT_MENU:"contextmenu",SCROLL:"scroll",RESIZE:"resize",MOUSE_UP:"mouseup",INPUT:"input",KEY_DOWN:"keydown",KEY_UP:"keyup",MOUSE_OVER:"mouseover",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",MOUSE_ENTER:"mouseenter",CLICK:"click",FOCUS:"focus",BLUR:"blur",DRAG_START:"dragstart",CHANGE:"change",VISIBILITY_CHANGE:"visibilitychange"},TABLE_EVENT_TYPE:{RENDER:"render",SNAPSHOT_CHANGE:"snapshotchange",CHANGE_ROW_HEIGHT:"changerowheight",CHANGE_COL_WIDTH:"changecolwidth",SCALE_CHANGE:"scalechange",EDIT_START:"editstart",EDIT_INPUT:"editinput",EDIT_FINISH:"editfinish",REMOVE_ROW:"removerow",REMOVE_COL:"removecol",ADD_NEW_ROW:"addnewrow",ADD_NEW_COL:"addnewcol",FIXED_CHANGE:"fixedchange",FIXED_COL_CHANGE:"fixedcolchange",FIXED_ROW_CHANGE:"fixedrowchange",SELECT_OVER:"selectover",SELECT_DOWN:"selectdown",SELECT_CHANGE:"selectchange",DATA_CHANGE:"datachange",RESIZE_CHANGE:"resizechange"},FORM_EVENT_TYPE:{SEARCH_INPUT_CHANGE:"searchinputchange",PLAIN_INPUT_CHANGE:"plaininputchange",FORM_SELECT_CHANGE:"formselectchange"}}},6167:(t,e,s)=>{s.d(e,{Z:()=>o});var i=s(8134),r=s(4981);const n=new class{default(t){return this.text(t)}text(t){return t?`${t}`:""}number(t){return this.text(t)}fraction(t){if(i.F.isFraction(t)){const e=t.split("/")[0],s=t.split("/")[1];return this.text(i.F.parseInt(e)/i.F.parseInt(s))}return this.text(t)}eNotation(t){if(i.F.isNumber(t)){return i.F.parseFloat(t).toExponential(2)}return this.text(t)}decimal(t){if(i.F.isNumber(t)){const e=t.toString().indexOf(".");return-1!==e?t.toString().substring(0,e+3):`${t}.00`}return this.text(t)}percentage(t){return i.F.isNumber(t)?`${t}%`:this.text(t)}rmb(t){return i.F.isNumber(t)?`￥${t}`:this.text(t)}hk(t){return i.F.isNumber(t)?`HK${t}`:this.text(t)}dollar(t){return i.F.isNumber(t)?`$${t}`:this.text(t)}time(t){const e=r.E.parse(t);return e?r.E.dateFormat("hh:mm:ss",e):this.text(t)}date1(t){const e=r.E.parse(t);return e?r.E.dateFormat("yyyy/MM/dd",e):this.text(t)}date2(t){const e=r.E.parse(t);return e?r.E.dateFormat("MM月dd日",e):this.text(t)}date3(t){const e=r.E.parse(t);return e?r.E.dateFormat("yyyy年MM月",e):this.text(t)}date4(t){const e=r.E.parse(t);return e?r.E.dateFormat("yyyy年MM月dd日",e):this.text(t)}date5(t){const e=r.E.parse(t);return e?r.E.dateFormat("yyyy/MM/dd hh:mm:ss",e):this.text(t)}},o=(t,e)=>n[t](e)},6553:(t,e,s)=>{s.d(e,{O:()=>h});var i=s(2552),r=s(8134),n=s(7623);let o=0;class h{static getZIndex(){return o+=1,o}constructor({widthType:t=n.d.LINE_WIDTH_TYPE.low,type:e=i.H3.SOLID_LINE,width:s=-1,color:r="rgb(0,0,0)",zIndex:h=0,display:c=!1}={}){this.zIndex=h,this.display=c,this.color=r,this.type=e,this.widthType=1===s?n.d.LINE_WIDTH_TYPE.low:2===s?n.d.LINE_WIDTH_TYPE.medium:3===s?n.d.LINE_WIDTH_TYPE.high:t,h>o&&(o=h)}priority(t){if(r.F.isUnDef(t))return-2;const e=this.zIndex,s=t.zIndex;return e>s?1:s>e?-1:0}setColor(t){this.zIndex=h.getZIndex(),this.color=t}setDisplay(t){this.zIndex=h.getZIndex(),this.display=t}setType(t){this.zIndex=h.getZIndex(),this.type=t}setZIndex(t){this.zIndex=t}setWidthType(t){this.zIndex=h.getZIndex(),this.widthType=t}clone(){return new h({widthType:this.widthType,color:this.color,zIndex:this.zIndex,type:this.type,display:this.display})}equal(t){const e=this.widthType===t.widthType,s=this.color===t.color,i=this.type===t.type;return s&&e&&i}}},4924:(t,e,s)=>{s.d(e,{b:()=>d});var i=s(8134),r=s(3227),n=s(8468),o=s(9),h=s(6167),c=s(4128),l=s(6881),a=s(4981),u=s(5523);class d{constructor({borderAttr:t=i.F.Undef,fontAttr:e=i.F.Undef,richText:s=i.F.Undef,formula:h=i.F.Undef,background:a=i.F.Undef,text:u=i.F.EMPTY,custom:p={},icons:g=[],ruler:f=i.F.Undef,contentWidth:y=0,contentHeight:b=0,format:T="default",contentType:x=d.TYPE.STRING}={}){this.background=a,this.icons=o.b.getInstance(g),this.custom=p,this.ruler=f,this.format=T,this.formula=l.S.getInstance(h),this.text=u,this.richText=c.U.getInstance(s),this.formatText=i.F.EMPTY,this.contentWidth=y,this.contentHeight=b,this.fontAttr=r.z.getInstance(e),this.borderAttr=n._.getInstance(t),this.setContentType(x)}setIcons(t){return this.icons=t,this}setText(t){return this.formatText=null,this.text=t,this.formula.setExpr(null),this.richText.setRich([]),this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setRichText(t){return this.formatText=null,this.text=null,this.formula.setExpr(null),this.richText.setRich(t),this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setExpr(t){return this.formatText=null,this.text=null,this.formula.setExpr(t),this.richText.setRich([]),this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}getExpr(){return this.formula.getExpr()}setFormat(t="default"){return this.format=t,this.formatText=null,this.setContentWidth(0),this}setRuler(t){return this.ruler=t,this}setContentType(t=d.TYPE.STRING){const{text:e}=this;switch(t){case d.TYPE.STRING:this.contentType=d.TYPE.STRING;break;case d.TYPE.NUMBER:this.contentType=t,i.F.isNumber(e)?(this.contentType=d.TYPE.NUMBER,this.text=i.F.parseFloat(e)):(this.contentType=d.TYPE.STRING,this.text=`${e}`);break;case d.TYPE.DATE_TIME:{const t=a.E.parse(e);i.F.isDate(t)?(this.contentType=d.TYPE.DATE_TIME,this.text=e):(this.contentType=d.TYPE.STRING,this.text=`${e}`);break}case d.TYPE.RICH_TEXT:this.contentType=d.TYPE.RICH_TEXT}return this}isEmpty(){return i.F.isBlank(this.getComputeText())}hasFormula(){return this.formula.hasExpr()}getFormatText(){let{text:t,formula:e,format:s}=this,{formatText:r}=this,{contentType:n}=this;if(e.hasExpr()){let t=e.getValue();return t&&i.F.isBlank(r)&&(r=(0,h.Z)(s,t)),this.formatText=r,r}switch(n){case d.TYPE.STRING:case d.TYPE.NUMBER:case d.TYPE.DATE_TIME:return s&&i.F.isBlank(r)?(this.formatText=(0,h.Z)(s,t),this.formatText):r}return i.F.EMPTY}getComputeText(){let{text:t,formula:e}=this,{richText:s}=this,{contentType:r}=this;if(e.hasExpr())return e.getValue();switch(r){case d.TYPE.STRING:case d.TYPE.NUMBER:case d.TYPE.DATE_TIME:return t;case d.TYPE.RICH_TEXT:return s}return i.F.EMPTY}setFontAttr(t){return this.fontAttr=t,this}setBorderAttr(t){return this.borderAttr=t,this}clone(){return new d(this)}cloneStyle(){return new d({borderAttr:this.borderAttr,fontAttr:this.fontAttr,background:this.background})}toJSON(){const{background:t,text:e,format:s,custom:i}=this,{icons:r,contentType:n,formula:o}=this,{richText:h,fontAttr:c,borderAttr:l}=this;return{custom:i,richText:h,formula:o,contentType:n,text:e,icons:r,background:t,format:s,fontAttr:c,borderAttr:l}}toString(){return this.getFormatText()}setContentWidth(t){return this.contentWidth=t,this}setContentHeight(t){return this.contentHeight=t,this}setTextWrap(t){return this.fontAttr.textWrap=t,this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setFontColor(t){return this.fontAttr.color=t,this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setRichFontColor(t){return this.richText.each((e=>{e.color=t})),this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setFontSize(t){return this.fontAttr.size=t,this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setRichFontSize(t){return this.richText.each((e=>{e.size=t})),this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setFontBold(t){return this.fontAttr.bold=t,this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setRichFontBold(t){return this.richText.each((e=>{e.bold=t})),this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setFontItalic(t){return this.fontAttr.italic=t,this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setRichFontItalic(t){return this.richText.each((e=>{e.italic=t})),this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setFontName(t){return this.fontAttr.name=t,this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setRichFontName(t){return this.richText.each((e=>{e.name=t})),this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setUnderLine(t){return this.fontAttr.underline=t,this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setRichUnderLine(t){return this.richText.each((e=>{e.underline=t})),this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setStrikeLine(t){return this.fontAttr.strikethrough=t,this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setRichStrikeLine(t){return this.richText.each((e=>{e.strikethrough=t})),this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setFontAngle(t){return 0===t?(this.fontAttr.angle=t,this.fontAttr.direction=u.W.TEXT_DIRECTION.HORIZONTAL):(this.borderAttr.updateMaxIndex(),this.fontAttr.angle=t,this.fontAttr.direction=u.W.TEXT_DIRECTION.ANGLE),this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setFontDirection(t){return this.fontAttr.angle=0,this.fontAttr.direction=t,this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setBackground(t){return this.background=t,this}setFontAlign(t){return this.fontAttr.align=t,this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}setFontVerticalAlign(t){return this.fontAttr.verticalAlign=t,this.setRuler(null),this.setContentWidth(0),this.setContentHeight(0),this}}d.TYPE={NUMBER:0,STRING:1,RICH_TEXT:2,DATE_TIME:3}},8468:(t,e,s)=>{s.d(e,{_:()=>n});var i=s(6553),r=s(2552);class n{constructor({left:t={},bottom:e={},top:s={},right:r={}}={}){this.left=new i.O(t),this.bottom=new i.O(e),this.top=new i.O(s),this.right=new i.O(r)}hasDouble(){const{top:t,left:e,right:s,bottom:i}=this;return t.type===r.H3.DOUBLE_LINE||(e.type===r.H3.DOUBLE_LINE||(s.type===r.H3.DOUBLE_LINE||i.type===r.H3.DOUBLE_LINE))}isDisplay(){return this.left.display||this.top.display||this.bottom.display||this.right.display}setAllDisplay(t){this.setBDisplay(t),this.setLDisplay(t),this.setTDisplay(t),this.setRDisplay(t)}setLDisplay(t){this.left.setDisplay(t)}setTDisplay(t){this.top.setDisplay(t)}setRDisplay(t){this.right.setDisplay(t)}setBDisplay(t){this.bottom.setDisplay(t)}setAllColor(t){this.setBColor(t),this.setLColor(t),this.setTColor(t),this.setRColor(t)}setLColor(t){this.left.setColor(t)}setTColor(t){this.top.setColor(t)}setRColor(t){this.right.setColor(t)}setBColor(t){this.bottom.setColor(t)}setAllWidthType(t){this.setBWidthType(t),this.setLWidthType(t),this.setTWidthType(t),this.setRWidthType(t)}setLWidthType(t){this.left.setWidthType(t)}setTWidthType(t){this.top.setWidthType(t)}setRWidthType(t){this.right.setWidthType(t)}setBWidthType(t){this.bottom.setWidthType(t)}setAllType(t){this.setBType(t),this.setLType(t),this.setTType(t),this.setRType(t)}setLType(t){this.left.setType(t)}setTType(t){this.top.setType(t)}setRType(t){this.right.setType(t)}setBType(t){this.bottom.setType(t)}updateMaxIndex(){const t=i.O.getZIndex();this.left.setZIndex(t),this.bottom.setZIndex(t),this.top.setZIndex(t),this.right.setZIndex(t)}clone(){const{left:t,top:e,right:s,bottom:i}=this;return new n({left:t.clone(),top:e.clone(),right:s.clone(),bottom:i.clone()})}}n.EMPTY=new n,n.getInstance=t=>t?new n(t):n.EMPTY},3227:(t,e,s)=>{s.d(e,{z:()=>o});var i=s(5523),r=s(8014),n=s(8134);class o{constructor({align:t=i.W.ALIGN.left,verticalAlign:e=i.W.VERTICAL_ALIGN.center,textWrap:s=i.W.TEXT_WRAP.TRUNCATE,strikethrough:n=!1,underline:o=!1,color:h=r.B.BLACK,name:c="Arial",size:l=14,bold:a=!1,italic:u=!1,angle:d=0,direction:p=i.W.TEXT_DIRECTION.HORIZONTAL,padding:g=5}={}){this.align=t,this.verticalAlign=e,this.textWrap=s,this.strikethrough=n,this.underline=o,this.color=h,this.name=c,this.size=l,this.bold=a,this.italic=u,this.direction=p,this.angle=d,this.padding=g}like(t){let e=Object.keys(this),s=Object.keys(t);for(let t of s)if(!e.includes(t))return!1;for(let e of s){let s=this[e],i=t[e];if("color"===e)s=n.F.clearBlank(s),i=n.F.clearBlank(i);if(s!==i)return!1}return!0}clone(){const{align:t,verticalAlign:e,textWrap:s,strikethrough:i,underline:r,color:n,name:h,size:c,bold:l,italic:a,angle:u,direction:d,padding:p}=this;return new o({align:t,verticalAlign:e,textWrap:s,strikethrough:i,underline:r,color:n,name:h,size:c,bold:l,italic:a,angle:u,direction:d,padding:p})}reset(){this.align=i.W.ALIGN.left,this.verticalAlign=i.W.VERTICAL_ALIGN.center,this.textWrap=i.W.TEXT_WRAP.TRUNCATE,this.strikethrough=!1,this.underline=!1,this.color=r.B.BLACK,this.name="Arial",this.size=14,this.bold=!1,this.italic=!1,this.angle=0,this.direction=i.W.TEXT_DIRECTION.HORIZONTAL,this.padding=5}equals(t){let e=Object.keys(this),s=Object.keys(t);for(let t of e)if(!s.includes(t))return!1;for(let s of e){let e=this[s],i=t[s];if("color"===s)e=n.F.clearBlank(e),i=n.F.clearBlank(i);if(e!==i)return!1}return!0}}o.EMPTY=new o,o.getInstance=t=>t?new o(t):o.EMPTY},3861:(t,e,s)=>{s.d(e,{R:()=>n});var i=s(8134),r=s(8014);class n{constructor({text:t="",color:e=r.B.BLACK,name:s="Arial",size:i=14,bold:n=!1,italic:o=!1,strikethrough:h=!1,underline:c=!1,scaleAdapter:l}={}){this.color=e,this.text=`${t}`,this.name=s,this.size=i,this.italic=o,this.bold=n,this.strikethrough=h,this.underline=c,this.scaleAdapter=l}clone(){const{text:t,color:e,name:s,size:i}=this,{italic:r,bold:o,underline:h}=this,{strikethrough:c,scaleAdapter:l}=this;return new n({text:t,color:e,name:s,size:i,italic:r,bold:o,underline:h,strikethrough:c,scaleAdapter:l})}reset(){this.color=r.B.BLACK,this.name="Arial",this.size=14,this.bold=!1,this.italic=!1,this.strikethrough=!1,this.underline=!1}plain(t=(t=>t)){return t(this.clone())}like(t){let e=["scaleAdapter"],s=Object.keys(this),r=Object.keys(t);for(let t of r)if(!e.includes(t)&&!s.includes(t))return!1;for(let s of r){if(e.includes(s))continue;let r=this[s],n=t[s];if("color"===s)r=i.F.clearBlank(r),n=i.F.clearBlank(n);if(r!==n)return!1}return!0}equals(t){let e=["scaleAdapter"],s=Object.keys(this),r=Object.keys(t);for(let t of s)if(!e.includes(t)&&!r.includes(t))return!1;for(let r of s){if(e.includes(r))continue;let s=this[r],n=t[r];if("color"===r)s=i.F.clearBlank(s),n=i.F.clearBlank(n);if(s!==n)return!1}return!0}}},4128:(t,e,s)=>{s.d(e,{U:()=>n});var i=s(3861),r=s(8134);class n{constructor({rich:t=[]}={}){this.rich=t.map((t=>new i.R(t)))}setRich(t=[]){this.rich=t}each(t=(()=>{})){this.rich.forEach((e=>{t(e)}))}reset(){this.each((t=>{t.reset()}))}getRich(){return this.rich}clone(){const t=[];return this.rich.forEach((e=>{t.push(e.clone())})),new n({rich:t})}hasLength(){return this.rich.length>0}plain(t){const e=[];return this.rich.forEach((s=>{e.push(s.plain(t))})),e}like(t){if(r.F.isUnDef(t))return!1;if(t.rich.length!==this.rich.length)return!1;for(let e=0;e<this.rich.length;e++){let s=this.rich[e],i=t.rich[e];if(!s.like(i))return!1}return!0}toString(){let t=[];return this.each((e=>t.push(e.text))),t.join("")}equals(t){if(r.F.isUnDef(t))return!1;if(t.rich.length!==this.rich.length)return!1;for(let e=0;e<this.rich.length;e++){let s=this.rich[e],i=t.rich[e];if(!s.equals(i))return!1}return!0}}n.EMPTY=new n,n.getInstance=t=>t?new n(t):n.EMPTY},9:(t,e,s)=>{s.d(e,{b:()=>c});var i=s(8134),r=s(7623),n=s(7288),o=s(9728),h=s(6589);class c{static newInstances(t=[]){const e=[];for(let s=0;s<t.length;s+=1){const i=t[s];e.push(new c(i))}return e}constructor({vertical:t=c.ICON_VERTICAL.CENTER,horizontal:e=c.ICON_HORIZONTAL.RIGHT,type:s=c.ICON_TYPE.image,image:r=i.F.Nul,iconFocus:n=null,height:h=16,width:l=16,color:a="rgb(255,255,255)",offset:u={x:0,y:0},onDraw:d=(()=>{}),onLeave:p=(()=>{}),onMove:g=(()=>{}),onDown:f=(()=>{}),onEnter:y=(()=>{})}){this.vertical=t,this.horizontal=e,this.width=l,this.height=h,this.type=s,this.image=r,this.color=a,this.iconFocus=n,this.offset=new o.R(u),this.onLeave=p,this.onMove=g,this.onDraw=d,this.onDown=f,this.onEnter=y,this.rect=null}position(t){const e=this.horizontal,s=this.vertical,i=r.d.stylePx(this.offset.x),o=r.d.stylePx(this.offset.y),h=r.d.stylePx(this.width),l=r.d.stylePx(this.height),a=t.x,u=t.y,d=t.width,p=t.height;let g=0,f=0;switch(e){case c.ICON_HORIZONTAL.CENTER:g=a+d/2-h/2;break;case c.ICON_HORIZONTAL.LEFT:g=a;break;case c.ICON_HORIZONTAL.RIGHT:g=a+d-h}switch(s){case c.ICON_VERTICAL.CENTER:f=u+p/2-l/2;break;case c.ICON_VERTICAL.TOP:f=u;break;case c.ICON_VERTICAL.BOTTOM:f=u+p-l}return g+=i,f+=o,new n.U({x:g,y:f,width:h,height:l})}loadImage({load:t,sync:e}){const{image:s,type:i}=this;switch(i){case c.ICON_TYPE.image:if(s instanceof Image)e(s);else{const i=new Image;i.src=s,i.complete?(this.image=i,e(this.image)):(i.onload=()=>{this.image=i,t(i)},i.onerror=()=>{console.error(`图片加载失败${s}`)})}break;case c.ICON_TYPE.draw:e()}}drawIcon({rect:t,draw:e}){const{type:s}=this;switch(this.rect=t,s){case c.ICON_TYPE.image:this.drawImage({rect:t,draw:e});break;case c.ICON_TYPE.draw:this.drawCustom({rect:t,draw:e})}}drawCustom({rect:t,draw:e}){this.onDraw({rect:t,draw:e})}drawImage({rect:t,draw:e}){const s=this.image,i=this.color,r=this.position(t),{x:n,y:o,width:c,height:l}=r,a=t.includeRect(r),u=new h.o({rect:t,draw:e});!1===a&&u.open(),i&&(e.attr({fillStyle:i}),e.fillRect(n,o,c,l)),e.drawImage(s,0,0,s.width,s.height,n,o,c,l),!1===a&&u.close()}eventHandle({type:t,x:e,y:s,native:i}){const{rect:r,iconFocus:n}=this;if(r){const o=this.position(r),h=o.inRectPosition(r),{activate:l}=n;switch(t){case c.ICON_EVENT_TYPE.MOUSE_DOWN:h.includePoint(e,s)&&(n.setActivate(this),this.onDown({native:i,position:o}));break;case c.ICON_EVENT_TYPE.MOUSE_MOVE:h.includePoint(e,s)?(l!==this&&this.onEnter({native:i,position:o}),n.setActivate(this),this.onMove({native:i,position:o})):l&&(n.setActivate(null),this.onLeave({native:i,position:o}))}}}setOnDraw(t){this.onDraw=t}setOnDown(t){this.onDown=t}setOnMove(t){this.onMove=t}setOnEnter(t){this.onEnter=t}setOnLeave(t){this.onLeave=t}setFocus(t){this.iconFocus=t}}c.ICON_HORIZONTAL={LEFT:0,RIGHT:1,CENTER:2},c.ICON_VERTICAL={TOP:3,BOTTOM:4,CENTER:5},c.ICON_TYPE={image:1,custom:2},c.ICON_EVENT_TYPE={MOUSE_DOWN:1,MOUSE_MOVE:2},c.EMPTY=[],c.getInstance=t=>t?c.newInstances(t):c.EMPTY},9728:(t,e,s)=>{s.d(e,{R:()=>i});class i{constructor({x:t=0,y:e=0}={}){this.x=t,this.y=e}}},6092:(t,e,s)=>{s.d(e,{J:()=>o});var i=s(8338),r=s(4582),n=s(1392);class o extends i.${constructor(t=""){super(`${r.gC}-icon`),this.iconNameEl=(0,n.h)("div",`${r.gC}-icon-img ${t}`),this.childrenNodes(this.iconNameEl)}setWidth(t){this.iconNameEl.css("width",`${t}px`)}setHeight(t){this.iconNameEl.css("height",`${t}px`)}}},6589:(t,e,s)=>{s.d(e,{o:()=>i});class i{constructor({rect:t,draw:e,offset:s=0}){this.rect=t,this.draw=e,this.offset=s}open(){const{rect:t,draw:e,offset:s}=this,{x:i,y:r,width:n,height:o}=t;return e.save().rect(i,r,n+s,o+s).clip().beginPath(),this}close(){const{draw:t}=this;return t.restore(),this}}},2552:(t,e,s)=>{s.d(e,{H3:()=>n});var i=s(8134),r=s(7623);const n={SOLID_LINE:0,DOTTED_LINE:1,POINT_LINE:2,DOUBLE_LINE:3};class o{constructor(t,e){this.draw=t,i.F.copy(this,{color:"rgb(0,0,0)",widthType:r.d.LINE_WIDTH_TYPE.low,padding:1,spacing:o.spacing,leftShow:()=>!1,topShow:()=>!1,rightShow:()=>!1,bottomShow:()=>!1,iFMerge:()=>!1,iFMergeFirstRow:()=>!1,iFMergeLastRow:()=>!1,iFMergeFirstCol:()=>!1,iFMergeLastCol:()=>!1},e)}setWidthType(t){this.widthType=t}setColor(t){this.color=t}handleExternal(t,e,s,i,r,n,o){const h={},{leftShow:c,topShow:l,rightShow:a,bottomShow:u}=this,{iFMerge:d,iFMergeFirstRow:p,iFMergeLastRow:g,iFMergeFirstCol:f,iFMergeLastCol:y}=this,{spacing:b}=this;let T=null,x=null,m=null,E=null,w=null;switch(o){case"left":T=d(r,n-1),T&&(x=p(r,n-1),m=g(r,n-1),E=f(r,n-1),w=y(r,n-1));break;case"top":T=d(r-1,n),T&&(x=p(r-1,n),m=g(r-1,n),E=f(r-1,n),w=y(r-1,n));break;case"right":T=d(r,n+1),T&&(x=p(r,n+1),m=g(r,n+1),E=f(r,n+1),w=y(r,n+1));break;case"bottom":T=d(r+1,n),T&&(x=p(r+1,n),m=g(r+1,n),E=f(r+1,n),w=y(r+1,n))}if(T){switch(o){case"left":{h.sx=t-b,h.ex=s-b;const o=u(r-1,n-1)||l(r,n-1),c=l(r,n),a=u(r-1,n);h.sy=e,(c||a)&&(h.sy=e-b),o&&x&&(h.sy=e+b);const d=l(r+1,n-1)||u(r,n-1),p=u(r,n),g=l(r+1,n);h.ey=i,(p||g)&&(h.ey=i+b),d&&m&&(h.ey=i-b);break}case"top":{h.sy=e-b,h.ey=i-b;const o=a(r-1,n-1)||c(r-1,n),l=c(r,n),u=a(r,n-1);h.sx=t,(l||u)&&(h.sx=t-b),o&&E&&(h.sx=t+b);const d=c(r-1,n+1)||a(r-1,n),p=a(r,n),g=c(r,n+1);h.ex=s,(p||g)&&(h.ex=s+b),d&&w&&(h.ex=s-b);break}case"right":{h.sx=t+b,h.ex=s+b;const o=u(r-1,n+1)||l(r,n+1),c=l(r,n),a=u(r-1,n);h.sy=e,(c||a)&&(h.sy=e-b),o&&x&&(h.sy=e+b);const d=l(r+1,n+1)||u(r,n+1),p=u(r,n),g=l(r+1,n);h.ey=i,(p||g)&&(h.ey=i+b),d&&m&&(h.ey=i-b);break}case"bottom":{h.sy=e+b,h.ey=i+b;const o=a(r+1,n-1)||c(r+1,n),l=c(r,n),u=a(r,n-1);h.sx=t,(l||u)&&(h.sx=t-b),o&&E&&(h.sx=t+b);const d=c(r+1,n+1)||a(r+1,n),p=a(r,n),g=c(r,n+1);h.ex=s,(p||g)&&(h.ex=s+b),d&&w&&(h.ex=s-b);break}}return h}switch(o){case"left":{h.sx=t-b,h.ex=s-b;const o=u(r-1,n-1)||l(r,n-1),c=l(r,n),a=u(r-1,n);h.sy=e,(c||a)&&(h.sy=e-b),o&&(h.sy=e+b);const d=l(r+1,n-1)||u(r,n-1),p=u(r,n),g=l(r+1,n);h.ey=i,(p||g)&&(h.ey=i+b),d&&(h.ey=i-b);break}case"top":{h.sy=e-b,h.ey=i-b;const o=a(r-1,n-1)||c(r-1,n),l=c(r,n),u=a(r,n-1);h.sx=t,(l||u)&&(h.sx=t-b),o&&(h.sx=t+b);const d=c(r-1,n+1)||a(r-1,n),p=a(r,n),g=c(r,n+1);h.ex=s,(p||g)&&(h.ex=s+b),d&&(h.ex=s-b);break}case"right":{h.sx=t+b,h.ex=s+b;const o=u(r-1,n+1)||l(r,n+1),c=l(r,n),a=u(r-1,n);h.sy=e,(c||a)&&(h.sy=e-b),o&&(h.sy=e+b);const d=l(r+1,n+1)||u(r,n+1),p=u(r,n),g=l(r+1,n);h.ey=i,(p||g)&&(h.ey=i+b),d&&(h.ey=i-b);break}case"bottom":{h.sy=e+b,h.ey=i+b;const o=a(r+1,n-1)||c(r+1,n),l=c(r,n),u=a(r,n-1);h.sx=t,(l||u)&&(h.sx=t-b),o&&(h.sx=t+b);const d=c(r+1,n+1)||a(r+1,n),p=a(r,n),g=c(r,n+1);h.ex=s,(p||g)&&(h.ex=s+b),d&&(h.ex=s-b);break}}return h}handleInternal(t,e,s,i,r,n,o){const h={},{leftShow:c,topShow:l,rightShow:a,bottomShow:u}=this,{iFMerge:d,iFMergeFirstRow:p,iFMergeLastRow:g,iFMergeFirstCol:f,iFMergeLastCol:y}=this,{spacing:b}=this;if(d(r,n)){const d=p(r,n),T=g(r,n),x=f(r,n),m=y(r,n);switch(o){case"left":{h.sx=t+b,h.ex=s+b;const o=u(r-1,n-1)||l(r,n-1),c=l(r,n),a=u(r-1,n);h.sy=e,o&&(h.sy=e-b),(c||a)&&d&&(h.sy=e+b);const p=l(r+1,n-1)||u(r,n-1),g=u(r,n),f=l(r+1,n);h.ey=i,p&&(h.ey=i+b),(g||f)&&T&&(h.ey=i-b);break}case"top":{h.sy=e+b,h.ey=i+b;const o=a(r-1,n-1)||c(r-1,n),l=c(r,n),u=a(r,n-1);h.sx=t,o&&(h.sx=t-b),(l||u)&&x&&(h.sx=t+b);const d=c(r-1,n+1)||a(r-1,n),p=a(r,n),g=c(r,n+1);h.ex=s,d&&(h.ex=s+b),(p||g)&&m&&(h.ex=s-b);break}case"right":{h.sx=t-b,h.ex=s-b;const o=u(r-1,n+1)||l(r,n+1),c=l(r,n),a=u(r-1,n);h.sy=e,o&&(h.sy=e-b),(c||a)&&d&&(h.sy=e+b);const p=l(r+1,n+1)||u(r,n+1),g=u(r,n),f=l(r+1,n);h.ey=i,p&&(h.ey=i+b),(g||f)&&T&&(h.ey=i-b);break}case"bottom":{h.sy=e-b,h.ey=i-b;const o=a(r+1,n-1)||c(r+1,n),l=c(r,n),u=a(r,n-1);h.sx=t,o&&(h.sx=t-b),(l||u)&&x&&(h.sx=t+b);const d=c(r+1,n+1)||a(r+1,n),p=a(r,n),g=c(r,n+1);h.ex=s,d&&(h.ex=s+b),(p||g)&&m&&(h.ex=s-b);break}}return h}switch(o){case"left":{h.sx=t+b,h.ex=s+b;const o=u(r-1,n-1)||l(r,n-1),c=l(r,n),a=u(r-1,n);h.sy=e,o&&(h.sy=e-b),(c||a)&&(h.sy=e+b);const d=l(r+1,n-1)||u(r,n-1),p=u(r,n),g=l(r+1,n);h.ey=i,d&&(h.ey=i+b),(p||g)&&(h.ey=i-b);break}case"top":{h.sy=e+b,h.ey=i+b;const o=a(r-1,n-1)||c(r-1,n),l=c(r,n),u=a(r,n-1);h.sx=t,o&&(h.sx=t-b),(l||u)&&(h.sx=t+b);const d=c(r-1,n+1)||a(r-1,n),p=a(r,n),g=c(r,n+1);h.ex=s,d&&(h.ex=s+b),(p||g)&&(h.ex=s-b);break}case"right":{h.sx=t-b,h.ex=s-b;const o=u(r-1,n+1)||l(r,n+1),c=l(r,n),a=u(r-1,n);h.sy=e,o&&(h.sy=e-b),(c||a)&&(h.sy=e+b);const d=l(r+1,n+1)||u(r,n+1),p=u(r,n),g=l(r+1,n);h.ey=i,d&&(h.ey=i+b),(p||g)&&(h.ey=i-b);break}case"bottom":{h.sy=e-b,h.ey=i-b;const o=a(r+1,n-1)||c(r+1,n),l=c(r,n),u=a(r,n-1);h.sx=t,o&&(h.sx=t-b),(l||u)&&(h.sx=t+b);const d=c(r+1,n+1)||a(r+1,n),p=a(r,n),g=c(r,n+1);h.ex=s,d&&(h.ex=s+b),(p||g)&&(h.ex=s-b);break}}return h}horizonLine(t,e,s,r,n,o,h){const{draw:c}=this,{widthType:l,color:a}=this;c.setLineColor(a),c.setLineWidthType(l),c.setLineDash([]);const u=this.handleExternal(t,e,s,r,n,o,h),d=this.handleInternal(t,e,s,r,n,o,h);i.F.isEmptyObject(d)||c.horizonLine([d.sx,d.sy],[d.ex,d.ey]),i.F.isEmptyObject(u)||c.horizonLine([u.sx,u.sy],[u.ex,u.ey])}verticalLine(t,e,s,r,n,o,h){const{draw:c}=this,{widthType:l,color:a}=this;c.setLineColor(a),c.setLineWidthType(l),c.setLineDash([]);const u=this.handleExternal(t,e,s,r,n,o,h),d=this.handleInternal(t,e,s,r,n,o,h);i.F.isEmptyObject(d)||c.verticalLine([d.sx,d.sy],[d.ex,d.ey]),i.F.isEmptyObject(u)||c.verticalLine([u.sx,u.sy],[u.ex,u.ey])}tiltingLine(t,e,s,i,r,n,o){}}o.spacing=r.d.dpr()>=2?3:2},7288:(t,e,s)=>{s.d(e,{U:()=>i});class i{constructor({x:t,y:e,width:s,height:i}){this.x=t,this.y=e,this.width=s,this.height=i}disjoint(t){return this.x>t.x+t.width||this.y>this.y+t.height||t.x>this.x+this.width||t.y>this.y+this.height}expandSize(t){return this.width+=t,this.height+=t,this}includePoint(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}includeRect(t){const{x:e,y:s,width:i,height:r}=t;return this.x<=e&&this.x+this.width>=e+i&&this.y<=s&&this.y+this.height>=s+r}inRectPosition(t){return new i({x:this.x-t.x,y:this.y-t.y,width:this.width,height:this.height})}clone(){const{x:t,y:e,width:s,height:r}=this;return new i({x:t,y:e,width:s,height:r})}}},7623:(t,e,s)=>{s.d(e,{d:()=>f});var i=s(8134);let r=i.F.inWorker()?1:devicePixelRatio,n=Math.round(r),o=n+2,h=o+2,c=n/2;class l{static srcPx(t){return t/this.dpr()}static cssPx(t){return this.srcPx(this.stylePx(t))}static stylePx(t){return this.round(t*this.dpr())}static round(t){return Math.round(t)}static ceil(t){return Math.ceil(t)}static trunc(t){return Math.trunc(t)}static radian(t){return-t*(Math.PI/180)}static dpr(){return r}static refresh(t=1){r=i.F.inWorker()?t:devicePixelRatio,n=Math.round(r),o=n+2,h=o+2,c=n/2}constructor(t){this.canvas=t,this.ctx=t.getContext("2d")}attr(t){for(const e in t)if(t.hasOwnProperty(e)){let s=t[e];("string"==typeof s||s instanceof String)&&(s=s.trim()),this.ctx[e]!==s&&(this.ctx[e]=s)}return this}resize(t,e){const{canvas:s}=this;return s.width=l.stylePx(t),s.height=l.stylePx(e),s.style.width=s.width/l.dpr()+"px",s.style.height=s.height/l.dpr()+"px",this}}class a extends l{constructor(t){super(t),this.dash=[]}beginPath(){const{ctx:t}=this;return t.beginPath(),this}measureText(t){const{ctx:e}=this;return e.measureText(t)}save(){const{ctx:t}=this;return t.save(),this}restore(){const{ctx:t}=this;return t.restore(),this}fill(){const{ctx:t}=this;return t.fill(),this}clip(){const{ctx:t}=this;return t.clip(),this}setLineDash(t=[]){const{ctx:e}=this;return this.dash=t,e.setLineDash(t),this}scale(t,e){const{ctx:s}=this;return s.scale(t,e),this}translate(t,e){const{ctx:s}=this;return s.translate(t,e),this}rotate(t){const{ctx:e}=this;return e.rotate(t),this}}class u extends a{polyStroke(t=(t=>t),...e){const{ctx:s}=this;if(e.length>1){this.beginPath();const[i,r]=t(e[0]);s.moveTo(i,r);for(let i=1,r=e.length;i<r;i+=1){const[r,n]=t(e[i]);s.lineTo(r,n)}s.stroke()}}polyInFill(t=(t=>t),...e){const{ctx:s}=this;if(e.length>1){this.beginPath();const[i,r]=t(e[0]);s.moveTo(i,r);for(let i=1,r=e.length;i<r;i+=1){const[r,n]=t(e[i]);s.lineTo(r,n)}s.fill()}}fullRect(){const{canvas:t}=this,{width:e,height:s}=t;return this.ctx.fillRect(0,0,e,s),this}rotate(t){return super.rotate(l.radian(t)),this}}class d extends u{constructor(t){super(t),this.offsetX=0,this.offsetY=0}offset(t,e){this.offsetX=t,this.offsetY=e}getOffsetX(){return this.offsetX}getOffsetY(){return this.offsetY}fillText(){throw TypeError("child impl")}fillRect(){throw TypeError("child impl")}rect(){throw TypeError("child impl")}drawImage(){throw TypeError("child impl")}}class p extends d{line(...t){return this.polyStroke((t=>{const[e,s]=t;return[this.linePx(l.round(e+this.getOffsetX())),this.linePx(l.round(s+this.getOffsetY()))]}),...t),this}linePx(t){const{ctx:e}=this,{lineWidth:s}=e;return s%2==0?t:t-.5}}class g extends p{static offsetToLineInside(t){return n>1?t-c:t-n}static getLineWidthTypePx(t){switch(t){case g.LINE_WIDTH_TYPE.medium:return o;case g.LINE_WIDTH_TYPE.low:return n;case g.LINE_WIDTH_TYPE.high:return h}return 0}constructor(t){super(t),this.lineWidthType=g.LINE_WIDTH_TYPE.low,this.lineColor="rgb(0,0,0)"}corsLine([t,e],[s,i]){const{lineWidthType:r,lineColor:a}=this;let u=n;switch(r){case g.LINE_WIDTH_TYPE.medium:u=o;break;case g.LINE_WIDTH_TYPE.low:u=n;break;case g.LINE_WIDTH_TYPE.high:u=h}this.attr({strokeStyle:a,lineWidth:u}),this.polyStroke((t=>{const[e,s]=t;return[l.round(e+this.getOffsetX())-c,l.round(s+this.getOffsetY())-c]}),[t,e],[s,i])}setLineColor(t){this.lineColor=t}setLineWidthType(t){this.lineWidthType=t}horizonLine([t,e],[s,i]){if(e!==i)throw new TypeError("Error Horizon Line");this.corsLine([t,e],[s,i])}verticalLine([t,e],[s,i]){if(t!==s)throw new TypeError("Error Vertical Line");this.corsLine([t,e],[s,i])}}g.LINE_WIDTH_TYPE={low:"low",medium:"medium",high:"high"};class f extends g{fillText(t,e,s){return e+=this.getOffsetX(),s+=this.getOffsetY(),this.ctx.fillText(t,f.round(e),f.round(s)),this}fillPath(t){return this.polyInFill((t=>{const{x:e,y:s}=t;return[l.round(e+this.getOffsetX()),l.round(s+this.getOffsetY())]}),...t.points),this}fillRect(t,e,s,i){return t+=this.getOffsetX(),e+=this.getOffsetY(),this.ctx.fillRect(f.round(t),f.round(e),f.round(s),f.round(i)),this}rect(t,e,s,i){return t+=this.getOffsetX(),e+=this.getOffsetY(),this.ctx.rect(f.round(t),f.round(e),f.round(s),f.round(i)),this}copyImage(t,e,s,i,r,n,o,h){const{ctx:c}=this;return r+=this.getOffsetX(),t+=this.getOffsetX(),n+=this.getOffsetY(),e+=this.getOffsetY(),c.drawImage(this.canvas,f.round(t),f.round(e),f.round(s),f.round(i),f.round(r),f.round(n),f.round(o),f.round(h)),this}drawImage(t,e,s,i,r,n,o,h,c){const{ctx:l}=this;return n+=this.getOffsetX(),o+=this.getOffsetY(),l.drawImage(t,f.round(e),f.round(s),f.round(i),f.round(r),f.round(n),f.round(o),f.round(h),f.round(c)),this}}},5523:(t,e,s)=>{s.d(e,{W:()=>i});class i{constructor({draw:t,ruler:e,attr:s}){this.draw=t,this.attr=s,this.ruler=e}setRuler(t){this.ruler=t}getAlignPadding(){return this.attr.align===i.ALIGN.center?0:this.attr.padding}getVerticalAlignPadding(){return this.attr.verticalAlign===i.VERTICAL_ALIGN.center?0:this.attr.padding}}i.VERTICAL_ALIGN={top:"top",center:"middle",bottom:"bottom"},i.ALIGN={left:"left",center:"center",right:"right"},i.TEXT_WRAP={OVER_FLOW:1,WORD_WRAP:2,TRUNCATE:3},i.TEXT_DIRECTION={HORIZONTAL:"horizontal",VERTICAL:"vertical",ANGLE:"angle",ANGLE_BAR:"bar"},i.DEFAULT_FONT_ATTR={name:"Arial",size:14,color:"rgb(0,0,0)",bold:!1,italic:!1,strikethrough:!1,underline:!1,angle:0,padding:8,align:i.ALIGN.left,textWrap:i.TEXT_WRAP.TRUNCATE,verticalAlign:i.VERTICAL_ALIGN.center,direction:i.TEXT_DIRECTION.HORIZONTAL},i.DEFAULT_RICH_ATTR={angle:0,padding:8,align:i.ALIGN.left,textWrap:i.TEXT_WRAP.TRUNCATE,verticalAlign:i.VERTICAL_ALIGN.center,direction:i.TEXT_DIRECTION.HORIZONTAL},i.DEFAULT_RICH_ITEM_ATTR={name:"Arial",size:14,color:"rgb(0,0,0)",bold:!1,italic:!1,strikethrough:!1,underline:!1}},1505:(t,e,s)=>{s.d(e,{qL:()=>c,lw:()=>l});const i=new class{constructor(){this.functions={}}remove(t){delete this.functions[t]}getFunction(t){return this.functions[t.toLocaleString()]}register(t,e){this.functions[t.toLocaleString()]=e}};class r{constructor(){this.assembly=""}getInstruct(){let{assembly:t}=this;for(;t.endsWith("\r\n");){let{length:e}=t;t=t.substring(0,e-"\r\n".length)}return t}writeOperand(t){this.assembly+=`OPush ${t}\r\n`}writeOperator(t){this.assembly+=`${t}\r\n`}writeString(t){this.assembly+=`SPush ${t}\r\n`}writeNumber(t){this.assembly+=`NPush ${t}\r\n`}}class n{constructor({syntaxCheck:t=!0}={}){this.syntaxCheck=t}lexical(t){let e=/^(\+|-|\*|\/|%|>|<|,|\^|=|&|!|:|>=|<=|<>)$/,s=/[0-9.]/,i=/\s/,r=/[a-z0-9_$]/i,{length:n}=t,o=[],h=0,c=[];for(;h<n;){let l=t[h];if(i.test(l)){const e=t[h+1];if(i.test(e)){h++;continue}}if(i.test(l)){const e=t[h-1],s=t[h+1];r.test(e)&&r.test(s)&&c.push({type:"operator",value:l}),h++}else if("("!==l)if(")"!==l)if("{"!==l)if("}"!==l)if('"'!==l)if("'"!==l)if(e.test(l)){let s=`${l}${t[h+1]}`;e.test(s)?(c.push({type:"operator",value:s}),h++):c.push({type:"operator",value:l}),h++}else if(s.test(l)){let e="";for(;s.test(l)&&h<n;)e+=l,h++,l=t[h];c.push({type:"number",value:e})}else{if(!r.test(l))throw new TypeError(`无法识别的token ${l} `);{let e="";for(;r.test(l)&&h<n;)e+=l,h++,l=t[h];"("===l?(c.push({type:"function",value:e}),c.push({type:"function",value:"("}),o.push({type:"function",value:"("}),h++):c.push({type:"operand",value:e})}}else{let e="";for(h++,l=t[h];"'"!==l&&h<n;)e+=l,h++,l=t[h];h++,l=t[h],c.push({type:"string",value:e})}else{let e="";for(h++,l=t[h];'"'!==l&&h<n;)e+=l,h++,l=t[h];h++,l=t[h],c.push({type:"string",value:e})}else c.push({type:"array",value:"}"}),h++;else c.push({type:"array",value:"array"}),c.push({type:"array",value:"{"}),h++;else{const t=o.pop();t&&"function"===t.type?c.push({type:"function",value:")"}):c.push({type:"brackets",value:")"}),h++}else c.push({type:"brackets",value:"("}),o.push({type:"brackets",value:"("}),h++}return this.syntaxCheck?this.syntax(c):c}syntax(t){let e=[],s=[],i=[],r=[],n=[],o=0,{length:h}=t,c=t=>"array"===t.type&&"array"===t.value,l=t=>"function"===t.type&&("("!==t.value&&")"!==t.value),a=(e,s)=>{if("last"===e)for(;s>=0;){let e=t[s];if(l(e))s--;else{if(!c(e))return e;s--}}if("next"===e)for(;s<h;){let e=t[s];if(l(e))s++;else{if(!c(e))return e;s++}}return null},u=(e,s)=>{let i=t[o],r="last"===e?"前面":"后面";if("{"===i.value){if("last"===e)switch(s.type){case"array":if("{"===s.value)return;break;case"function":case"brackets":if("("===s.value)return;break;case"operator":return void s.value}if("next"===e)switch(s.type){case"string":case"array":case"number":case"operand":return;case"function":case"brackets":if("("===s.value)return}}if("}"===i.value){if("last"===e)switch(s.type){case"number":case"string":case"array":case"operand":return;case"function":case"brackets":if(")"===s.value)return}if("next"===e)switch(s.type){case"array":if("}"===s.value)return;break;case"function":case"brackets":if(")"===s.value)return;break;case"operator":return void s.value}}throw TypeError(`错误表达式 ${i.value} ${r} ${s.value}`)},d=(e,s)=>{let i=t[o],r="last"===e?"前面":"后面";switch(s.type){case"array":if("last"===e&&"{"===s.value)return;if("next"===e&&"}"===s.value)return;break;case"brackets":case"function":if("last"===e&&"("===s.value)return;if("next"===e&&")"===s.value)return;break;case"operator":return}throw TypeError(`错误表达式 ${i.value} ${r} ${s.value}`)},p=(e,s)=>{let i=t[o],r="last"===e?"前面":"后面";switch(s.type){case"brackets":case"function":case"string":case"number":case"operand":return;case"array":if(","===i.value)return}throw TypeError(`错误表达式 ${i.value} ${r} ${s.value}`)},g=(e,s)=>{let i=t[o],r="last"===e?"前面":"后面";if("("===i.value){if("last"===e)switch(s.type){case"array":if("{"===s.value)return;break;case"function":case"brackets":if("("===s.value)return;break;case"operator":return}if("next"===e)switch(s.type){case"function":case"string":case"number":case"operand":return;case"array":if("{"===s.value)return;break;case"brackets":if("("===s.value)return}}if(")"===i.value){if("last"===e)switch(s.type){case"function":case"number":case"string":case"operand":return;case"array":if("}"===s.value)return;break;case"brackets":if(")"===s.value)return}if("next"===e)switch(s.type){case"array":if("}"===s.value)return;break;case"function":case"brackets":if(")"===s.value)return;break;case"operator":return void s.value}}throw TypeError(`错误表达式 ${i.value} ${r} ${s.value}`)};for(;o<h;){let h=t[o];if(c(h)){o++;continue}if(l(h)){o++;continue}let{type:f,value:y}=h;if("'"===f&&(e.length?e.pop():s.length||e.push("'")),'"'===f&&(s.length?s.pop():e.length||s.push('"')),"string"===f){let t=a("last",o-1),e=a("next",o+1);t&&d("last",t),e&&d("next",e)}if("number"===f){let t=a("last",o-1),e=a("next",o+1);t&&d("last",t),e&&d("next",e)}if("array"===f){if("{"===y&&r.push(h),"}"===y){if(0===r.length)throw new TypeError("数组缺少闭合标签");r.pop()}let t=a("last",o-1),e=a("next",o+1);t&&u("last",t),e&&u("next",e)}if("function"===f){"("===y&&i.push(h),")"===y&&i.pop();let t=a("last",o-1),e=a("next",o+1);t&&g("last",t),e&&g("next",e)}if("operator"===f){let t=a("last",o-1),e=a("next",o+1);if(!t)throw TypeError(`错误表达式: ${h.value} 错误`);if(p("last",t),!e)throw TypeError(`错误表达式: ${h.value} 错误`);p("next",e)}if("brackets"===f&&("("===y&&n.push(h),")"===y)){if(0===n.length)throw new TypeError("括号缺少闭合标签");n.pop()}o++}if(r.length)throw new TypeError("数组缺少闭合标签");if(i.length)throw new TypeError("函数缺少闭合标签");if(e.length)throw new TypeError("单引号缺少闭合标签");if(s.length)throw new TypeError("双引号缺少闭合标签");if(n.length)throw new TypeError("括号缺少闭合标签");return t}}class o{constructor({tokens:t,writer:e}={}){this.writer=e,this.tokens=t,this.groupStack=[],this.index=-1,this.ignore=[","],this.opIf={">":"ifge","<":"ifgt","=":"ifeq",">=":"if_icmpge","<=":"if_icmpgt","<>":"ifne"},this.opAdd={"+":"add","-":"sub","&":"link"},this.opMul={"*":"mul","/":"div","%":"mod","^":"power"},this.opCommon={" ":"common"},this.opRel={"!":"rel",":":"uni"},this.opNew={array:"newarray"},this.opCell={function:"invoke"}}eofToken(){const{index:t,tokens:e}=this,{length:s}=e;return t>=s-1}nextToken(){return this.index++,this.token=this.tokens[this.index],this.token}backToken(){return this.index--,this.token=this.tokens[this.index],this.token}reduceGroup(){const{groupStack:t}=this,{length:e}=t;if(e>0){const s=t[e-1],i=s.number;s.number=i-1}}increaseGroup(){const{groupStack:t}=this,{length:e}=t;if(e>0){const s=t[e-1],i=s.number;s.number=i+1}}popGroup(){return this.groupStack.pop()}addGroup(t){return t.number=0,this.groupStack.push(t),t}isSkipNextToken(){if(!this.eofToken()){const{ignore:t}=this;this.nextToken();const{token:e}=this;this.backToken();const{value:s}=e;return t.includes(s)}return!1}compile(){const{writer:t}=this;for(this.compileIfge();this.isSkipNextToken();)this.nextToken(),this.compileIfge();return t.getInstruct()}compileIfge(){for(this.compileAdd();!this.eofToken();){const t=this.nextToken(),{type:e,value:s}=t;if("operator"!==e){this.backToken();break}if(!this.opIf[s]){this.backToken();break}let i=this.opIf[s];this.compileAdd(),this.reduceGroup(),this.writer.writeOperator(i)}}compileAdd(){for(this.compileMul();!this.eofToken();){const t=this.nextToken(),{type:e,value:s}=t;if("operator"!==e){this.backToken();break}if(!this.opAdd[s]){this.backToken();break}let i=this.opAdd[s];this.compileMul(),this.reduceGroup(),this.writer.writeOperator(i)}}compileMul(){for(this.compileCommon();!this.eofToken();){const t=this.nextToken(),{type:e,value:s}=t;if("operator"!==e){this.backToken();break}if(!this.opMul[s]){this.backToken();break}let i=this.opMul[s];this.compileCommon(),this.reduceGroup(),this.writer.writeOperator(i)}}compileCommon(){for(this.compileRel();!this.eofToken();){const t=this.nextToken(),{type:e,value:s}=t;if("operator"!==e){this.backToken();break}if(!this.opCommon[s]){this.backToken();break}let i=this.opCommon[s];this.compileRel(),this.reduceGroup(),this.writer.writeOperator(i)}}compileRel(){for(this.compileArray();!this.eofToken();){const t=this.nextToken(),{type:e,value:s}=t;if("operator"!==e){this.backToken();break}if(!this.opRel[s]){this.backToken();break}let i=this.opRel[s];this.compileArray(),this.reduceGroup(),this.writer.writeOperator(i)}}compileArray(){for(this.compileFunction();!this.eofToken();){const t=this.nextToken(),{type:e,value:s}=t;if("array"!==e){this.backToken();break}if("}"===s){this.backToken();break}for(this.addGroup(t),this.nextToken(),this.compileIfge();this.isSkipNextToken();)this.nextToken(),this.compileIfge();this.popGroup();const{number:i}=t,r=this.opNew[e];this.writer.writeOperator(`${r} ${i}`),this.nextToken()}}compileFunction(){for(this.compilePushValue();!this.eofToken();){const t=this.nextToken(),{type:e,value:s}=t;if("function"!==e){this.backToken();break}if(")"===s){this.backToken();break}for(this.addGroup(t),this.nextToken(),this.compileIfge();this.isSkipNextToken();)this.nextToken(),this.compileIfge();this.popGroup();const{number:i}=t,r=this.opCell[e];this.writer.writeOperator(`${r} ${s} ${i}`),this.nextToken()}}compilePushValue(){if(!this.eofToken()){const t=this.nextToken(),{writer:e}=this,{type:s,value:i}=t;switch(s){case"string":return this.increaseGroup(),void e.writeString(`${i}`);case"number":return this.increaseGroup(),void e.writeNumber(`${i}`);case"operand":return this.increaseGroup(),void e.writeOperand(i)}if("brackets"===s){if("("===i){for(this.compileIfge();this.isSkipNextToken();)this.nextToken(),this.compileIfge();this.nextToken()}return}switch(s){case"array":return"}"!==i&&this.increaseGroup(),void this.backToken();case"function":return")"!==i&&this.increaseGroup(),void this.backToken()}if("operator"===s)return void this.backToken();throw new TypeError(`无法识别的token ${s} ${i} `)}}}class h{constructor(t){this.instruct=t.split("\r\n"),this.memory=[]}eval(){const t=/^newarray/,e=/^invoke/,s=/^SPush/,i=/^NPush/,r=/^OPush/,{instruct:n}=this;return n.forEach((n=>{switch(n){case"if_icmpge":this.ificmpge();break;case"if_icmpgt":this.ificmpgt();break;case"ifge":this.ifge();break;case"ifgt":this.ifgt();break;case"ifeq":this.ifeq();break;case"ifne":this.ifne();break;case"add":this.add();break;case"sub":this.sub();break;case"mul":this.mul();break;case"div":this.div();break;case"mod":this.mod();break;case"power":this.power();break;case"rel":this.rel();break;case"link":this.link();break;case"uni":this.uni();break;case"common":this.common();break;default:if(t.test(n)){const t=n.split(" ")[1];this.array(t);break}if(e.test(n)){const t=n.split(" "),e=t[1],s=t[2];this.invoke(e,s);break}if(s.test(n)){const t=n.split(" ")[1];this.pushS(t);break}if(i.test(n)){const t=n.split(" ")[1];this.pushN(t);break}if(r.test(n)){const t=n.split(" ")[1];this.pushO(t);break}}})),this.memory.pop()}pushS(t){this.memory.push(t)}pushN(t){t=parseFloat(t),this.memory.push(t)}pushO(t){this.memory.push(t)}ifge(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(e>t)}ifgt(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(e<t)}ifeq(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(e===t)}ifne(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(e!==t)}ificmpge(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(e>=t)}ificmpgt(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(e<=t)}add(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(e+t)}sub(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(e-t)}mul(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(e*t)}div(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(e/t)}mod(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(e%t)}common(){}rel(){}uni(){}link(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(`${e}${t}`)}power(){const t=this.memory.pop(),e=this.memory.pop();this.memory.push(e**t)}array(t){const e=[];for(let s=1;s<=t;s++){const t=this.memory.pop();e.push(t)}e.reverse(),this.memory.push(e)}invoke(t,e){const s=[];for(let t=1;t<=e;t++){const t=this.memory.pop();s.push(t)}s.reverse();const r=i.getFunction(t).apply(this,s);this.memory.push(r)}}const c=t=>{t.startsWith("=")&&(t=t.substring(1));const e=new n,s=new r,i=e.lexical(t);return new o({writer:s,tokens:i}).compile()},l=t=>new h(t).eval()},6881:(t,e,s)=>{s.d(e,{S:()=>n});var i=s(1505),r=s(8134);class n{constructor({expr:t=r.F.EMPTY}={}){this.expr=t,this.content=r.F.Nul,this.instruct=r.F.Nul}getValue(){let{expr:t}=this,{content:e}=this,{instruct:s}=this;return e||(s||(s=(0,i.qL)(t)),e=(0,i.lw)(s)),this.content=e,this.instruct=s,e}hasExpr(){let{expr:t}=this;return!r.F.isBlank(t)}getExpr(){return this.expr}setExpr(t){this.expr=t,this.content=r.F.Nul,this.instruct=r.F.Nul}clone(){return new n({expr:this.expr})}}n.EMPTY=new n,n.getInstance=t=>t?new n(t):n.EMPTY},1392:(t,e,s)=>{s.d(e,{W:()=>r,h:()=>n});var i=s(8134);class r{static wrapElement(t){if([i.F.isArray(t),t instanceof HTMLCollection,t instanceof NodeList].includes(!0)){let e=[];for(let s=0;s<t.length;s++){const i=t[s];i instanceof r?e.push(i):e.push(new r(i))}return e}return new r(t)}static createText(t){return new r(document.createTextNode(t))}static hyphenateRE(t){return t?t.replace(/([A-Z])/g,"-$1").toLowerCase():null}constructor(t,e=""){"string"==typeof t?(this.el=document.createElement(t),e&&(this.el.className=e)):this.el=t,this.map={}}data(t,e){return void 0!==e?(this.map[t]=e,this):this.map[t]}children(...t){return 0===arguments.length?r.wrapElement(this.el.children):(t.forEach((t=>this.append(t))),this)}childrenNodes(...t){return 0===arguments.length?r.wrapElement(this.el.childNodes):(t.forEach((t=>this.append(t))),this)}childrenNodesAppend(t){return this.isTextNode()||t.childrenNodes().forEach((t=>this.append(t))),this}childrenNodesPrepend(t){return this.isTextNode()||t.childrenNodes().forEach((t=>this.prepend(t))),this}append(t){return this.isTextNode()||t&&t.el&&this.el.append(t.el),this}prepend(t){return this.isTextNode()||t&&t.el&&this.el.prepend(t.el),this}offset(t){if(void 0!==t)return Object.keys(t).forEach((e=>{this.css(e,`${t[e]}px`)})),this;const{offsetTop:e,offsetLeft:s}=this.el,{offsetHeight:i,offsetWidth:r}=this.el;return{top:e,left:s,height:i,width:r}}parent(){return this.el.parentNode?new r(this.el.parentNode):null}addClass(t){return this.isTextNode()||this.el.classList.add(t),this}hasClass(t){return!this.isTextNode()&&this.el.classList.contains(t)}hasChildElement(){return this.children().length>0}hasChild(){return this.childrenNodes().length>0}removeClass(t){return this.isTextNode()||this.el.classList.remove(t),this}box(){return this.isTextNode()?null:this.el.getBoundingClientRect()}first(){return this.isTextNode()?null:r.wrapElement(this.el.firstChild)}last(){return this.isTextNode()?null:r.wrapElement(this.el.lastChild)}firstTextNode(){if(this.isTextNode())return this;let t=null,e=s=>{s.hasChild()&&s.childrenNodes().forEach((s=>{null===t&&e(s)})),null===t&&s.isTextNode()&&(t=s)};return e(this),t}lastTextNode(){if(this.isTextNode())return this;let t=null,e=s=>{s.hasChild()&&s.childrenNodes().reverse().forEach((s=>{null===t&&e(s)})),null===t&&s.isTextNode()&&(t=s)};return e(this),t}remove(t=null){if(t)this.isTextNode()||this.el.removeChild(t.el||t);else{this.parent()&&this.parent().remove(this)}return this}contains(t){return!this.isTextNode()&&this.el.contains(t.el)}prev(){return this.el.previousSibling?r.wrapElement(this.el.previousSibling):null}next(){return this.el.nextSibling?r.wrapElement(this.el.nextSibling):null}active(t=!0,e="active"){return this.isTextNode()||(t?this.addClass(e):this.removeClass(e)),this}text(t){return this.isTextNode()?this.nodeValue():void 0!==t?(this.el.innerText=t,this):this.el.innerText}html(t){return this.isTextNode()?this.nodeValue():void 0!==t?(this.el.innerHTML=t,this):this.el.innerHTML}focus(){return this.isTextNode()||this.el.focus(),this}blur(){return this.isTextNode()||this.el.blur(),this}removeAttr(t){return this.isTextNode()||this.el.removeAttribute(t),this}style(t){return this.isTextNode()||this.attr("style",t),this}attr(t,e){if(!this.isTextNode())if(void 0!==e)this.el.setAttribute&&this.el.setAttribute(t,e);else{if("string"==typeof t)return this.el.setAttribute?this.el.getAttribute(t):null;this.el.setAttribute&&Object.keys(t).forEach((e=>{this.el.setAttribute(e,t[e])}))}return this}val(t){return this.isTextNode()?void 0===t?this.nodeValue():this:void 0!==t?(this.el.value=t,this):this.el.value}get(){return this.el}cssRemoveKeys(...t){return this.isTextNode()||this.el.style&&t.forEach((t=>{this.el.style&&this.el.style.removeProperty(r.hyphenateRE(t))})),this}cssRemoveVal(t,e){if(!this.isTextNode()&&this.el.style){const s=r.hyphenateRE(t),i=this.el.style.getPropertyValue(s).replace(e,"");this.css(t,i)}return this}css(t,e){if(!this.isTextNode()&&this.el.style){if(void 0===e&&"string"!=typeof t)return Object.keys(t).forEach((e=>{const s=r.hyphenateRE(e);this.el.style.setProperty(s,t[e])})),this;if(void 0!==e){const s=r.hyphenateRE(t);return this.el.style.setProperty(s,e),this}const s=r.hyphenateRE(t);return this.el.style.getPropertyValue(s)}return null}computedStyle(){return this.isTextNode()?null:window.getComputedStyle(this.el,null)}show(){if(!this.isTextNode()){const t=this.computedStyle();t&&"block"!==t.display&&this.css("display","block")}return this}hide(){if(!this.isTextNode()){const t=this.computedStyle();t&&"none"!==t.display&&this.css("display","none")}return this}trigger(t,e){if(!this.isTextNode())switch(t){case"click":{const s=new MouseEvent(t,{detail:e,bubbles:!0,cancelable:!1});s.initEvent("click",!0,!0),this.el.dispatchEvent(s);break}default:{const s=new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!1});this.el.dispatchEvent(s);break}}}find(t){if(!this.isTextNode()){const e=this.el.querySelectorAll(t);if(e&&1===e.length)return new r(e[0]);const s=[];if(e)for(const t of e)s.push(new r(t));return s}return[]}finds(t){if(!this.isTextNode()){const e=this.el.querySelectorAll(t),s=[];if(e)for(const t of e)s.push(new r(t));return s}return[]}sibling(){let t=this.el;const e=[];for(;null!==(t=t.previousElementSibling);)e.push(new r(t));for(t=this.el;null!==(t=t.nextElementSibling);)e.push(new r(t));return e}tagName(){return this.el.nodeName.toLocaleLowerCase()}nodeValue(){return this.el.nodeValue}nodeType(){return this.el.nodeType}after(t){return this.el&&t&&t.el&&this.el.after(t.el),this}before(t){return this.el&&t&&t.el&&this.el.before(t.el),this}clone(){return new r(this.el.cloneNode(!0))}empty(){return this.isTextNode()||this.html(""),this}equals(t){return this.el===t.el}index(){let t=this.parent(),e=-1;return t.childrenNodes().forEach(((t,s)=>{t.equals(this)&&(e=s)})),e}is(t){return this.el===t.el}isTextNode(){return"#text"===this.tagName()}isBreakNode(){return"br"===this.tagName()}isDocumentFragment(){return this.el instanceof DocumentFragment}}const n=(t,e="")=>new r(t,e)},8338:(t,e,s)=>{s.d(e,{$:()=>h});var i=s(1392),r=s(4582),n=s(571);class o extends i.W{onAttach(){}}class h extends o{constructor(t="",e="div",s=!1){"string"==typeof t?super(e,`${r.gC}-widget ${t}`):super(t),this.$$rootFlag=s}childrenNodes(...t){return t.forEach((t=>{t.parentWidget&&t.parentWidget(this)})),super.childrenNodes(...t)}attach(t){this.childrenNodes(t),t.parentWidget(this),t.onAttach(this)}before(t){return t.parentWidget(this),super.before(t)}after(t){return t.parentWidget(this),super.after(t)}unbind(){n.t.unbind(this)}bind(){}eventXy(t,e=this){const{top:s,left:i}=e.box();return{y:t.clientY-s,x:t.clientX-i}}destroy(){this.unbind(),this.remove()}closestClass(t){let e=this;for(;!(0,i.h)(document.body).is(e);){if(e.hasClass(t))return e;e=e.parent()}return null}getRootBox(){return this.getRootWidget().box()}relativeBox(){const t=this.getRootWidget(),e=this.box(),s=t.box();return{right:s.right-e.right,bottom:s.bottom-e.bottom,top:e.top-s.top,left:e.left-s.left,width:e.width,height:e.height}}getRootWidget(){let t=this.data("parent");for(;t&&!t.$$rootFlag;)t=t.data("parent");return t}parentWidget(t){return t?(this.data("parent",t),this):this.data("parent")}}},571:(t,e,s)=>{s.d(e,{t:()=>o});var i=s(4582),r=s(1392);const n=new class{constructor(){this.pool=[]}unbind(t,e,s,i){t instanceof r.W&&(t=t.el);const n=this.remove(t,e,s,i);n.length?n.forEach((e=>{t.removeEventListener(e.type,e.callback,e.option)})):t.removeEventListener(e,s,i)}bind(t,e,s,i){t instanceof r.W&&(t=t.el),this.pool.push({ele:t,type:e,callback:s,option:i}),t.addEventListener(e,s,i)}remove(t,e="*",s=null,i=null){const r=[],n=[];return this.pool.forEach((o=>{const h=t===o.ele,c=null===i||i===o.option,l="*"===e||e===o.type,a=null===s||s===o.callback;h&&l&&a&&c?n.push(o):r.push(o)})),this.pool=r,n}multipleUnbind(t,e,s,i){t.forEach((t=>{this.unbind(t,e,s,i)}))}multipleBind(t,e,s,i){t.forEach((t=>{this.bind(t,e,s,i)}))}};class o{static unbind(t,e,s,i=!1){return Array.isArray(t)?n.multipleUnbind(t,e,s,i):n.unbind(t,e,s,i),t}static bind(t,e,s,i=!1){return Array.isArray(t)?n.multipleBind(t,e,s,i):n.bind(t,e,s,i),t}static mouseHold(t,e=(()=>{}),s=(()=>{}),r=150){let n=setInterval((()=>{e()}),r),h=e=>{clearInterval(n),o.unbind(t,i.sr.SYSTEM_EVENT_TYPE.MOUSE_UP,h,!0),s(e)};e(),o.bind(t,i.sr.SYSTEM_EVENT_TYPE.MOUSE_UP,h,!0)}static mouseMoveUp(t,e=(()=>{}),s=(()=>{})){const r=t=>{e(t),t.stopPropagation(),t.preventDefault()},n=e=>{o.unbind(t,i.sr.SYSTEM_EVENT_TYPE.MOUSE_MOVE,r,!0),o.unbind(t,i.sr.SYSTEM_EVENT_TYPE.MOUSE_UP,n,!0),s(e),e.preventDefault()};return o.bind(t,i.sr.SYSTEM_EVENT_TYPE.MOUSE_MOVE,r,!0),o.bind(t,i.sr.SYSTEM_EVENT_TYPE.MOUSE_UP,n,!0),t}}o.WrapFuncion={doubleClick:t=>{let e=0,s=0,i=0;return r=>{if(2===r.button)return e=0,i=0,void(s=0);const{pageX:n,pageY:o}=r,h=Date.now();h-i<=300&&n===e&&o===s?(t(r),i=0,e=0,s=0):(e=n,s=o,i=h)}},mouseClick:t=>e=>{t(e)}}},138:(t,e,s)=>{s.d(e,{z:()=>l});var i=s(1392),r=s(4582),n=s(8338),o=s(5028),h=s(571),c=s(8134);class l extends n.${constructor(t){super(`${r.gC}-color-picker`),this.options=c.F.copy({selectCb:()=>{}},t),this.dragPanel=(new o.U).parentWidget(this),this.color=[360,0,100],this.preViewColorPoint=(0,i.h)("div",`${r.gC}-color-picker-pre-view-color-point`),this.colorValueTips=(0,i.h)("div",`${r.gC}-color-picker-color-value-tips`),this.colorValueTips.text("十六进制颜色值"),this.colorInput=(0,i.h)("input",`${r.gC}-color-picker-color-input`),this.top=(0,i.h)("div",`${r.gC}-color-picker-top`),this.top.childrenNodes(this.preViewColorPoint),this.top.childrenNodes(this.colorValueTips),this.top.childrenNodes(this.colorInput),this.selectColorPoint=(0,i.h)("div",`${r.gC}-color-picker-select-color-point`),this.selectColorArea1=(0,i.h)("div",`${r.gC}-color-picker-select-color-area area1`),this.selectColorArea2=(0,i.h)("div",`${r.gC}-color-picker-select-color-area area2`),this.selectColorArea3=(0,i.h)("div",`${r.gC}-color-picker-select-color-area area3`),this.center=(0,i.h)("div",`${r.gC}-color-picker-center`),this.center.childrenNodes(this.selectColorArea1),this.center.childrenNodes(this.selectColorArea2),this.center.childrenNodes(this.selectColorArea3),this.center.childrenNodes(this.selectColorPoint),this.colorHuxTips=(0,i.h)("div",`${r.gC}-color-picker-color-hux-tips`),this.colorBar=(0,i.h)("div",`${r.gC}-color-picker-color-bar`),this.colorBarPoint=(0,i.h)("div",`${r.gC}-color-picker-bar-point`),this.bottom=(0,i.h)("div",`${r.gC}-color-picker-bottom`),this.colorHuxTips.text("HUE"),this.colorBar.childrenNodes(this.colorBarPoint),this.bottom.childrenNodes(this.colorHuxTips),this.bottom.childrenNodes(this.colorBar),this.cancelButton=(0,i.h)("div",`${r.gC}-color-picker-button cancel`),this.selectButton=(0,i.h)("div",`${r.gC}-color-picker-button select`),this.buttons=(0,i.h)("div",`${r.gC}-color-picker-buttons`),this.cancelButton.text("取消"),this.selectButton.text("确定"),this.buttons.childrenNodes(this.selectButton),this.buttons.childrenNodes(this.cancelButton),this.childrenNodes(this.top),this.childrenNodes(this.center),this.childrenNodes(this.bottom),this.childrenNodes(this.buttons),this.dragPanel.childrenNodes(this),this.dragPanel.css("background","#ffffff"),this.bind()}unbind(){const{selectColorPoint:t}=this,{colorBarPoint:e}=this,{colorInput:s,cancelButton:i,selectButton:r}=this;h.t.unbind(s),h.t.unbind(s),h.t.unbind(e),h.t.unbind(t),h.t.unbind(i),h.t.unbind(r)}bind(){const{selectColorPoint:t,center:e}=this,{colorBarPoint:s,colorBar:n}=this,{colorInput:o,cancelButton:c,selectButton:a}=this;h.t.bind(o,r.sr.SYSTEM_EVENT_TYPE.MOUSE_DOWN,(t=>{t.stopPropagation()})),h.t.bind(o,r.sr.SYSTEM_EVENT_TYPE.CHANGE,(()=>{const t=o.val();t&&this.hexColor(t)})),h.t.bind(s,r.sr.SYSTEM_EVENT_TYPE.MOUSE_DOWN,(t=>{const e=this.eventXy(t,n),s=n.box();e.x<0&&(e.x=0),e.x>s.width&&(e.x=s.width),this.downHue(e.x,s.width),h.t.mouseMoveUp((0,i.h)(document),(t=>{const e=this.eventXy(t,n),s=n.box();e.x<0&&(e.x=0),e.x>s.width&&(e.x=s.width),this.moveHue(e.x,s.width)})),t.stopPropagation()})),h.t.bind(t,r.sr.SYSTEM_EVENT_TYPE.MOUSE_DOWN,(t=>{const s=this.eventXy(t,e),r=e.box();s.x<0&&(s.x=0),s.x>r.width&&(s.x=r.width),s.y<0&&(s.y=0),s.y>r.height&&(s.y=r.height),this.downSelect(s.x,s.y,r.width,r.height),h.t.mouseMoveUp((0,i.h)(document),(t=>{const s=this.eventXy(t,e);s.x<0&&(s.x=0),s.x>r.width&&(s.x=r.width),s.y<0&&(s.y=0),s.y>r.height&&(s.y=r.height),this.moveSelect(s.x,s.y,r.width,r.height)})),t.stopPropagation()})),h.t.bind(c,r.sr.SYSTEM_EVENT_TYPE.CLICK,(()=>{this.close()})),h.t.bind(a,r.sr.SYSTEM_EVENT_TYPE.CLICK,(()=>{const{color:t}=this,e=l.fixHsx({h:parseInt(t[0],10),s:parseInt(t[1],10),x:parseInt(t[2],10)}),s=l.hsbToRgb(e);this.options.selectCb(`rgb(${s.r},${s.g},${s.b})`),this.close()}))}open(t){const{dragPanel:e}=this;if(e.open(),t){if(l.isRgb(t)){const e=l.parseRgb(t);t=l.rgbToHex(e)}this.hexColor(t)}else this.change();return this}close(){const{dragPanel:t}=this;return t.close(),this}sliderPosition(t){const{colorBar:e,colorBarPoint:s}=this,i=s.box(),r=e.box();let n=parseInt(r.width-r.width*t.h/360,10);n-=i.width/2,s.offset({left:n});const{center:o,selectColorPoint:h}=this,c=h.box(),l=o.box();let a=parseInt(l.width*t.s/100,10),u=parseInt(l.height*(100-t.x)/100,10);a-=c.width/2,u-=c.height/2,h.offset({left:a,top:u})}hueChange(){const{color:t}=this,e=l.fixHsx({h:parseInt(t[0],10),s:parseInt(t[1],10),x:parseInt(t[2],10)}),{colorBarPoint:s,selectColorPoint:i,preViewColorPoint:r,selectColorArea1:n,colorInput:o}=this,h=l.hsbToHex(e),c=l.hsbToHex({h:e.h,s:100,x:100});i.css("backgroundColor",`#${h}`),r.css("backgroundColor",`#${h}`),s.css("backgroundColor",`#${c}`),n.css("backgroundColor",`#${c}`),o.val(`#${h}`),this.sliderPosition(e)}selectChange(){const{color:t}=this,e=l.fixHsx({h:parseInt(t[0],10),s:parseInt(t[1],10),x:parseInt(t[2],10)}),{preViewColorPoint:s,selectColorPoint:i,colorInput:r}=this,n=l.hsbToHex(e);i.css("backgroundColor",`#${n}`),s.css("backgroundColor",`#${n}`),r.val(`#${n}`),this.sliderPosition(e)}change(){this.hueChange(),this.selectChange()}downSelect(t,e,s,i){const{color:r}=this;r[1]=parseInt(100*t/s,10),r[2]=parseInt(100*(i-e)/i,10),this.selectChange()}moveSelect(t,e,s,i){const{color:r}=this;r[1]=parseInt(100*Math.max(0,Math.min(s,t))/s,10),r[2]=parseInt(100*(i-Math.max(0,Math.min(i,e)))/i,10),this.selectChange()}downHue(t,e){const{color:s}=this;s[0]=parseInt(360*(e-t)/e,10),this.hueChange()}moveHue(t,e){const{color:s}=this;s[0]=parseInt(360*(e-Math.max(0,Math.min(e,t)))/e,10),this.hueChange()}hexColor(t){const{color:e}=this,s=l.hexToHsb(l.fixHex(t));e[0]=s.h,e[1]=s.s,e[2]=s.x,this.change()}destroy(){super.destroy(),this.unbind(),this.dragPanel.destroy()}static fixHex(t){const e=6-t.length;if(e>0){const s=[];for(let t=0;t<e;t+=1)s.push("0");s.push(t),t=s.join("")}return t}static fixHsx(t){return{h:Math.min(360,Math.max(0,t.h)),s:Math.min(100,Math.max(0,t.s)),x:Math.min(100,Math.max(0,t.x))}}static isRgb(t){return t.startsWith("rgb")}static isHex(t){return t.startsWith("#")}static isDark(t){if(c.F.isString(t)){if(this.isHex(t)){const e=l.hexToRgb(t);t=`rgb(${e.r}, ${e.g}, ${e.b})`}const e=l.parseRgb(t),{r:s,g:i,b:r}=e;return.299*s+.578*i+.114*r>=192}return!1}static hexToRgb(t){return{r:(t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}}static hexToHsb(t){return this.rgbToHsb(this.hexToRgb(t))}static rgbToHsb(t){const e={h:0,s:0,x:0},s=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),r=i-s;return e.x=i,e.s=0!==i?255*r/i:0,0!==e.s?t.r===i?e.h=(t.g-t.b)/r:t.g===i?e.h=2+(t.b-t.r)/r:e.h=4+(t.r-t.g)/r:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.x*=100/255,e}static hsbToRgb(t){const e={};let{h:s}=t;const i=255*t.s/100,r=255*t.x/100;if(0===i)e.r=r,e.g=r,e.b=r;else{const t=r,n=(255-i)*r/255,o=s%60*(t-n)/60;360===s&&(s=0),s<60?(e.r=t,e.b=n,e.g=n+o):s<120?(e.g=t,e.b=n,e.r=t-o):s<180?(e.g=t,e.r=n,e.b=n+o):s<240?(e.b=t,e.r=n,e.g=t-o):s<300?(e.b=t,e.g=n,e.r=n+o):s<360?(e.r=t,e.g=n,e.b=t-o):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}static rgbToHex(t){const e=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.forEach(((t,s)=>{1===t.length&&(e[s]=`0${t}`)})),e.join("")}static hsbToHex(t){return this.rgbToHex(this.hsbToRgb(t))}static parseRgb(t){const e=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}}static parseRgbToHex(t,e=null){if(t){if(this.isHex(t))return t.substring(1);const e=this.parseRgb(t);return this.rgbToHex(e)}return e}static parseHexToRgb(t,e=null){if(t){const e=l.hexToRgb(t);return`rgb(${e.r},${e.g},${e.b})`}return e}}},8014:(t,e,s)=>{s.d(e,{B:()=>c});var i=s(8338),r=s(4582),n=s(2193),o=s(8134),h=s(571);class c extends i.${constructor(t){super(`${r.gC}-color-array`),this.options=o.F.copy({colors:[new n.c({color:"rgb(0, 0, 0)"}),new n.c({color:"rgb(67, 67, 67)"}),new n.c({color:"rgb(102, 102, 102)"}),new n.c({color:"rgb(153, 153, 153)"}),new n.c({color:"rgb(183, 183, 183)"}),new n.c({color:"rgb(204, 204, 204)"}),new n.c({color:"rgb(217, 217, 217)"}),new n.c({color:"rgb(239, 239, 239)"}),new n.c({color:"rgb(255, 255, 255)"}),new n.c({color:"rgb(152, 0, 0)"}),new n.c({color:"rgb(255, 0, 0)"}),new n.c({color:"rgb(255, 153, 0)"}),new n.c({color:"rgb(255, 255, 0)"}),new n.c({color:"rgb(0, 255, 0)"}),new n.c({color:"rgb(0, 255, 255)"}),new n.c({color:"rgb(74, 134, 232)"}),new n.c({color:"rgb(0, 0, 255)"}),new n.c({color:"rgb(153, 0, 255)"}),new n.c({color:"rgb(255, 0, 255)"}),new n.c({color:"rgb(230, 184, 175)"}),new n.c({color:"rgb(244, 204, 204)"}),new n.c({color:"rgb(252, 229, 205)"}),new n.c({color:"rgb(255, 242, 204)"}),new n.c({color:"rgb(217, 234, 211)"}),new n.c({color:"rgb(208, 224, 227)"}),new n.c({color:"rgb(201, 218, 248)"}),new n.c({color:"rgb(207, 226, 243)"}),new n.c({color:"rgb(217, 210, 233)"}),new n.c({color:"rgb(234, 209, 220)"}),new n.c({color:"rgb(221, 126, 107)"}),new n.c({color:"rgb(234, 153, 153)"}),new n.c({color:"rgb(249, 203, 156)"}),new n.c({color:"rgb(255, 229, 153)"}),new n.c({color:"rgb(182, 215, 168)"}),new n.c({color:"rgb(162, 196, 201)"}),new n.c({color:"rgb(164, 194, 244)"}),new n.c({color:"rgb(159, 197, 232)"}),new n.c({color:"rgb(180, 167, 214)"}),new n.c({color:"rgb(213, 166, 189)"}),new n.c({color:"rgb(204, 65, 37)"}),new n.c({color:"rgb(224, 102, 102)"}),new n.c({color:"rgb(246, 178, 107)"}),new n.c({color:"rgb(255, 217, 102)"}),new n.c({color:"rgb(147, 196, 125)"}),new n.c({color:"rgb(118, 165, 175)"}),new n.c({color:"rgb(109, 158, 235)"}),new n.c({color:"rgb(111, 168, 220)"}),new n.c({color:"rgb(142, 124, 195)"}),new n.c({color:"rgb(194, 123, 160)"}),new n.c({color:"rgb(166, 28, 0)"}),new n.c({color:"rgb(204, 0, 0)"}),new n.c({color:"rgb(230, 145, 56)"}),new n.c({color:"rgb(241, 194, 50)"}),new n.c({color:"rgb(106, 168, 79)"}),new n.c({color:"rgb(69, 129, 142)"}),new n.c({color:"rgb(60, 120, 216)"}),new n.c({color:"rgb(61, 133, 198)"}),new n.c({color:"rgb(103, 78, 167)"}),new n.c({color:"rgb(166, 77, 121)"}),new n.c({color:"rgb(133, 32, 12)"}),new n.c({color:"rgb(153, 0, 0)"}),new n.c({color:"rgb(180, 95, 6)"}),new n.c({color:"rgb(191, 144, 0)"}),new n.c({color:"rgb(56, 118, 29)"}),new n.c({color:"rgb(19, 79, 92)"}),new n.c({color:"rgb(17, 85, 204)"}),new n.c({color:"rgb(11, 83, 148)"}),new n.c({color:"rgb(53, 28, 117)"}),new n.c({color:"rgb(116, 27, 71)"}),new n.c({color:"rgb(91, 15, 0)"}),new n.c({color:"rgb(102, 0, 0)"}),new n.c({color:"rgb(120, 63, 4)"}),new n.c({color:"rgb(127, 96, 0)"}),new n.c({color:"rgb(39, 78, 19)"}),new n.c({color:"rgb(12, 52, 61)"}),new n.c({color:"rgb(28, 69, 135)"}),new n.c({color:"rgb(7, 55, 99)"}),new n.c({color:"rgb(32, 18, 77)"}),new n.c({color:"rgb(76, 17, 48)"})],selectCb:()=>{}},t),this.colors=[],this.activeColor=null,this.options.colors.forEach((t=>{this.add(t)})),this.colors.length>0&&this.setActiveByColor(this.colors[0].options.color)}add(t){if(-1===this.colors.findIndex((e=>e.color===t.color))){const{colors:e}=this;e.push(t),this.childrenNodes(t),this.bind(t)}}unbind(){this.colors.forEach((t=>{h.t.unbind(t)}))}bind(t){h.t.bind(t,r.sr.SYSTEM_EVENT_TYPE.MOUSE_DOWN,(()=>{this.options.selectCb(t),t.options.color&&this.setActiveByColor(t.options.color)}))}findItemByColor(t){return t=o.F.blankClear(t),this.colors.find((e=>e.color===t))}setActiveByColor(t){t=o.F.blankClear(t),this.colors.forEach((e=>{e.color===t?(e.setActive(!0),this.activeColor=e.color):e.setActive(!1)}))}clear(){this.unbind(),this.colors=[],this.empty()}destroy(){super.destroy(),this.unbind()}}c.BLACK="rgb(0, 0, 0)",c.NULL=null,c.WHITE="rgb(255, 255, 255)"},2193:(t,e,s)=>{s.d(e,{c:()=>c});var i=s(8338),r=s(4582),n=s(8134),o=s(6092),h=s(138);class c extends i.${constructor(t){super(`${r.gC}-color-array-item`),this.options=n.F.copy({color:null,icon:null},t),this.icon=this.options.icon,this.color=n.F.blankClear(this.options.color),this.icon&&this.childrenNodes(this.options.icon),this.color&&(this.css("backgroundColor",this.color),h.z.isDark(this.options.color)?(this.checkedIcon=new o.J("checked-dark"),this.childrenNodes(this.checkedIcon)):(this.checkedIcon=new o.J("checked-light"),this.childrenNodes(this.checkedIcon)),this.checkedIcon.hide())}setActive(t){this.checkedIcon&&(t?this.checkedIcon.show():this.checkedIcon.hide())}}},5028:(t,e,s)=>{s.d(e,{U:()=>l});var i=s(8338),r=s(4582),n=s(571),o=s(1392),h=s(8134);let c=[];class l extends i.${constructor(t){super(`${r.gC}-drag-panel`),c.push(this),this.options=h.F.copy({position:l.DRAG_PANEL_POSITION.CENTER},t),this.status=!1,this.mask=(0,o.h)("div",`${r.gC}-drag-panel-mask`),this.content=(0,o.h)("div",`${r.gC}-drag-panel-content`),super.childrenNodes(this.content),this.bind()}open(){const t=this.getRootWidget(),{mask:e}=this;return!1===this.status&&t&&(this.status=!0,t.childrenNodes(e),t.childrenNodes(this),this.dragPanelLocation()),this}close(){const t=this.getRootWidget();if(!0===this.status&&t){const{mask:e}=this;this.status=!1,t.remove(this),t.remove(e)}return this}unbind(){const{mask:t}=this;n.t.unbind(t)}bind(){const{mask:t}=this;n.t.bind(t,r.sr.SYSTEM_EVENT_TYPE.MOUSE_DOWN,(t=>{this.close(),t.stopPropagation()})),n.t.bind(this,r.sr.SYSTEM_EVENT_TYPE.MOUSE_DOWN,(t=>{if(0!==t.button)return;const e=this.getRootWidget().box(),s=this.eventXy(t);n.t.mouseMoveUp((0,o.h)(document),(t=>{const i=t.pageY-e.top-s.y,r=t.pageX-e.left-s.x;this.offset({top:i,left:r}),t.stopPropagation()})),t.stopPropagation()}))}dragPanelLocation(){const t=this.getRootWidget(),{options:e}=this,{position:s}=e,i=t.box(),r=this.box();switch(s){case l.DRAG_PANEL_POSITION.LEFT:case l.DRAG_PANEL_POSITION.RIGHT:case l.DRAG_PANEL_POSITION.TOP:break;case l.DRAG_PANEL_POSITION.CENTER:this.offset({left:i.width/2-r.width/2,top:i.height/2-r.height/2})}return this}childrenNodes(...t){return this.content.childrenNodes(...t),this}destroy(){super.destroy(),this.unbind(),l.removeInstance(this)}static removeInstance(t){const e=[];c.forEach((s=>{s!==t&&e.push(s)})),c=e}static closeAll(t=[]){c.forEach((e=>{-1===t.indexOf(e)&&e.close()}))}}l.DRAG_PANEL_POSITION={LEFT:1,TOP:2,RIGHT:3,CENTER:4}},4981:(t,e,s)=>{s.d(e,{E:()=>i});class i{static dateFormat(t,e){if(!(e instanceof Date))return e;const s={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},i=/(y+)/.exec(t);if(i){const s=i[0],r=e.getFullYear().toString().substr(4-s.length);t=t.replace(s,r)}for(const e in s){const i=new RegExp(`(${e})`).exec(t);if(i){const r=s[e].toString(),n=i[0],o=1===n.length?r:`00${r}`.substr(r.length);t=t.replace(n,o)}}return t}static parse(t){let e=t;return e instanceof Date?e:(e=i.parserToDate(t,"yyyy/MM/dd"),e||(e=i.parserToDate(t,"MM/dd"),e||(e=i.parserToDate(t,"yyyy/MM/dd hh:mm:ss"),e||(e=i.parserToDate(t,"yyyy-MM-dd"),e||(e=i.parserToDate(t,"MM-dd"),e||(e=i.parserToDate(t,"yyyy-MM-dd hh:mm:ss"),e||(e=i.parserToDate(t,"hh:mm:ss"),e||(e=i.parserToDate(t,"yyyy年MM月"),e||(e=i.parserToDate(t,"MM月dd日"),e||(e=i.parserToDate(t,"yyyy年MM月dd日 hh:mm:ss"),e||t))))))))))}static parserToDate(t,e){if(!t)return null;const s=new Date("1970/01/01 00:00:00"),i=[{reg:"y+"},{reg:"M+"},{reg:"d+"},{reg:"h+"},{reg:"m+"},{reg:"s+"},{reg:"S"}];let r=s.getFullYear(),n=s.getMonth()+1,o=s.getDate(),h=s.getHours(),c=s.getMinutes(),l=s.getSeconds(),a=s.getMilliseconds(),u=1;for(let t=0;t<e.length;t+=1){const s=e[t];for(let t=0;t<i.length;t+=1){const e=i[t];if(e.reg[0]===s){e.index||(e.index=u,u+=1);break}}}for(let t=0;t<i.length;t+=1){const s=i[t].reg,r=new RegExp(`(${s})`).exec(e);if(r){const t=r[0],s=`([0-9]{1,${t.length}})`;e=e.replace(t,s)}}const d={},p=new RegExp(e).exec(t);if(!p)return null;for(let t=1;t<p.length;t+=1)d[t]=p[t];if(i[0].index){const{index:t}=i[0];r=d[t]}if(i[1].index){const{index:t}=i[1];n=d[t]}if(i[2].index){const{index:t}=i[2];o=d[t]}if(i[3].index){const{index:t}=i[3];h=d[t]}if(i[4].index){const{index:t}=i[4];c=d[t]}if(i[5].index){const{index:t}=i[5];l=d[t]}if(i[6].index){const{index:t}=i[6];a=d[t]}return new Date(r,n-1,o,h,c,l,a)}}},8134:(t,e,s)=>{function i(){return(65536*(1+Math.random())|0).toString(16).substring(1)}s.d(e,{F:()=>o});const r=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n={String:1,Boolean:2,Number:3,Object:4,Array:5,Function:6,Null:7,Undefined:8,Promise:9,GeneratorFunction:10,AsyncFunction:11,BigInt:12,Symbol:13,DedicatedWorkerGlobalScope:14,Date:15,RegExp:16,Un:0};class o{static isWindows(){return/windows|win32/i.test(navigator.userAgent)}static isMac(){return/macintosh|mac os x/i.test(navigator.userAgent)}static isNotEmptyObject(t){return!o.isEmptyObject(t)}static isEmptyObject(t){for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}static isUnDef(t){return null==t}static isDef(t){return!this.isUnDef(t)}static isNumber(t){return/^(-?\d+.\d+)$|^(-?\d+)$/.test(t)}static isFraction(t){return/^\d+\/\d+$/.test(t)}static isDate(t){return o.type(t)===n.Date}static isFunction(t){return o.type(t)===n.Function}static isArray(t){return o.type(t)===n.Array}static isObject(t){return o.type(t)===n.Object}static isRegExp(t){return o.type(t)===n.EX}static isLikeArray(t){return!o.isUnDef(t)&&"number"==typeof t.length}static isBlank(t){return!!o.isUnDef(t)||""===t.toString().trim()}static isPlainObject(t){return!o.isUnDef(t)&&Object.getPrototypeOf(t)===Object.getPrototypeOf({})}static isString(t){return o.type(t)===n.String}static isChildType(t,e){return t instanceof e}static toLowCase(t){return t.toLowerCase()}static type(t){switch(Object.prototype.toString.call(t)){case"[object Null]":return n.Null;case"[object Object]":return n.Object;case"[object Undefined]":return n.Undefined;case"[object String]":return n.String;case"[object Boolean]":return n.Boolean;case"[object Number]":return n.Number;case"[object Function]":return n.Function;case"[object Array]":return n.Array;case"[object Promise]":return n.Promise;case"[object GeneratorFunction]":return n.GeneratorFunction;case"[object AsyncFunction]":return n.AsyncFunction;case"[object BigInt]":return n.BigInt;case"[object Symbol]":return n.Symbol;case"[object Date]":return n.Date;case"[object DedicatedWorkerGlobalScope]":return n.DedicatedWorkerGlobalScope;default:return n.Un}}static copy(t={},...e){return o.isUnDef(t)?{}:(o.isUnDef(e)||0===e.length||e.forEach((e=>{o.isUnDef(e)||Object.keys(e).forEach((s=>{const i=e[s];"string"==typeof i||"number"==typeof i||"boolean"==typeof i?t[s]=i:"function"!=typeof i&&!Array.isArray(i)&&o.isPlainObject(i)?(t[s]=t[s]||{},o.copy(t[s],i)):i&&(t[s]=i)}))})),t)}static cloneDeep(t){const e=JSON.stringify(t);return JSON.parse(e)}static extends(t,...e){for(let s=0,i=e.length;s<i;s++){const i=e[s];for(let e in i)if(i.hasOwnProperty(e)){const s=i[e];o.isDef(s)&&(t[e]=s)}}return t}static sum(t,e=(t=>t)){let s=0,i=0;return Object.keys(t).forEach((r=>{s+=e(t[r],r),i+=1})),[s,i]}static parseFloat(t){return o.isNumber(t)?parseFloat(t):0}static parseInt(t){return o.isNumber(t)?parseInt(t,10):0}static stringAt(t){let e="",s=t;for(;s>=r.length;)s/=r.length,s-=1,e+=r[parseInt(s,10)%r.length];return e+=r[t%r.length],e}static indexAt(t){let e=0;for(let s=0;s<t.length-1;s+=1){const i=t.charCodeAt(s)-65,n=t.length-1-s;e+=r.length**n+r.length*i}return e+=t.charCodeAt(t.length-1)-65,e}static expr2xy(t){let e="",s="";for(let i=0;i<t.length;i+=1)t.charAt(i)>="0"&&t.charAt(i)<="9"?s+=t.charAt(i):e+=t.charAt(i);return[o.indexAt(e),parseInt(s,10)-1]}static xy2expr(t,e){return`${o.stringAt(t)}${e+1}`}static expr2expr(t,e,s){const[i,r]=o.expr2xy(t);return o.xy2expr(i+e,r+s)}static minIf(t,e){return t<e?e:t}static keepLastIndex(t){const e=window.getSelection();e.selectAllChildren(t),e.collapseToEnd()}static trim(t){return this.isBlank(t)?"":t.trim()}static now(){return Date.now().toString()}static viewPort(){return{width:window.innerWidth,height:window.innerHeight}}static exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}static fullScreen(t){t.el&&(t=t.el),t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}static isFull(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}static uuid(){return`${i()+i()}${i()}${i()}${i()}${i()}${i()}${i()}`}static equals(t,e){function s(t,e){return o.type(t)===o.type(e)&&(o.isArray(t)?function(t,e){if(t.length!==e.length)return!1;for(let i=0,r=t.length;i<r;i++){if(!s(t[i],e[i]))return!1}return!0}(t,e):o.isObject(t)?function(t,e){const i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(const n of i){if(!r.includes(n))return!1;if(!s(t[n],e[n]))return!1}return!0}(t,e):o.isDate(t)?t.getTime()===e.getTime():o.isRegExp(t)?t.toString()===e.toString():t===e)}return s(t,e)}static toFixed(t,e){return t.toString().indexOf(".")>-1?t.toFixed(e):t}static getExplorerInfo(){const t=window.navigator.userAgent.toLowerCase();if(t.indexOf("firefox")>=0){return{type:"Firefox",version:t.match(/firefox\/([\d.]+)/)[1]}}if(t.indexOf("chrome")>=0){return{type:"Chrome",version:t.match(/chrome\/([\d.]+)/)[1]}}if(t.indexOf("opera")>=0){return{type:"Opera",version:t.match(/opera.([\d.]+)/)[1]}}if(t.indexOf("safari")>=0){return{type:"Safari",version:t.match(/version\/([\d.]+)/)[1]}}if(t.indexOf("msie")>=0){return{type:"IE",version:t.match(/msie ([\d.]+)/)[1]}}}static arrayLast(t){return t[t.length-1]}static arrayHead(t){return t[0]}static blankClear(t){return o.isString(t)?t.replace(/\s*/g,o.EMPTY):t}static newArray(t){return t?[].concat(t):[]}static safeValue(t,e=""){return o.isUnDef(t)?e:t}static inWorker(){return o.type(self)===n.DedicatedWorkerGlobalScope}static if(t,e,s){return t?e():s()}static slice(t){return Array.prototype.slice.call(t)}static clearBlank(t){return t?t.replace(/\s/g,""):t}static clearHideCode(t){let e="";for(let s=0;s<t.length;s++){let i=t.charAt(s);"%EF%BB%BF"!==encodeURI(i)&&(e+=i)}return e}}o.EMPTY="",o.Nul=null,o.Undef=void 0,o.noop=()=>{},o.DATA_TYPE=n}}]);
//# sourceMappingURL=924.js.map